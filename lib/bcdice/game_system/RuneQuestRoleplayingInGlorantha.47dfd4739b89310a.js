(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[2023],{997:(W,X,v)=>{v(9993),Opal.queue(function(n){var l,L,J,_,S,u,Q,Y,U,N=n.module,C=n.klass,g=n.const_set,y=n.eqeqeq,b=n.def,$=n.truthy,m=n.eqeq,D=n.thrower,I=n.rb_lt,a=n.rb_plus,T=n.rb_times,z=n.rb_ge,h=n.rb_le,A=n.rb_divide,w=n.rb_minus,M=[],r=n.nil,E=n.$$$;return l=M,L=U=[N(M[0],"BCDice")].concat(l),Q=[N(U[0],"GameSystem")].concat(L),Y=n.$r(Q),J=Q,S=[_=C(Q[0],Y("Base"),"RuneQuestRoleplayingInGlorantha")].concat(J),u=n.$r(S),_.$$prototype.randomizer=r,g(S[0],"ID","RuneQuestRoleplayingInGlorantha"),g(S[0],"NAME","RuneQuest\uff1aRoleplaying in Glorantha"),g(S[0],"SORT_KEY","\u308b\u3046\u3093\u304f\u3048\u3059\u30684"),g(S[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u542b\u3081\u305f\u5224\u5b9a\u3092\u884c\u3046\u3002\nRQG<=\u6210\u529f\u7387\n\n\u4f8b1\uff1aRQG<=80 \uff08\u6280\u80fd\u502480\u3067\u5224\u5b9a\uff09\n\u4f8b2\uff1aRQG<=80+20 \uff08\u6280\u80fd\u5024100\u3067\u5224\u5b9a\uff09\n\n\u30fb\u62b5\u6297\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\uff08\u80fd\u52d5-\u53d7\u52d5\uff09 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u542b\u3081\u305f\u5224\u5b9a\u3092\u884c\u3046\u3002\nRES(\u80fd\u52d5\u80fd\u529b-\u53d7\u52d5\u80fd\u529b)m\u5897\u5f37\u5024\n\u5897\u5f37\u5024\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u4f8b1\uff1aRES(9-11)    (\u80fd\u52d5\u80fd\u529b9 vs \u53d7\u52d5\u80fd\u529b11\u3067\u5224\u5b9a)\n\u4f8b2\uff1aRES(9-11)m20 (\u80fd\u52d5\u80fd\u529b9 vs \u53d7\u52d5\u80fd\u529b11\u3001+20%\u306e\u5897\u5f37\u304c\u80fd\u52d5\u5074\u306b\u5165\u308b\u5224\u5b9a)\n\u4f8b3\uff1aRES(9)m50    (\u80fd\u52d5\u80fd\u529b\u3068\u53d7\u52d5\u80fd\u529b\u306e\u5dee\u304c9\u3067\u3001+50%\u306e\u5897\u5f37\u304c\u80fd\u52d5\u5074\u306b\u5165\u308b\u5224\u5b9a)\n\n\u30fb\u62b5\u6297\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(\u80fd\u52d5\u5074\u306e\u307f) \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306f\u542b\u3081\u305a\u5224\u5b9a\u3092\u884c\u3046\u3002\nRSA(\u80fd\u52d5\u80fd\u529b)m\u5897\u5f37\u5024\n\u5897\u5f37\u5024\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u4f8b1\uff1aRSA(9)       (\u80fd\u52d5\u80fd\u529b9\u3067\u5224\u5b9a)\n\u4f8b2\uff1aRSA(9)m20    (\u80fd\u52d5\u80fd\u529b9\u3067\u5224\u5b9a\u3001+20%\u306e\u5897\u5f37\u304c\u80fd\u52d5\u5074\u306b\u5165\u308b\u5224\u5b9a)\n\n"),_.$register_prefix("RQG","RES","RSA"),b(_,"$eval_game_system_specific_command",function(c){var t,f=this;return y(/RQG/i,t=c)?f.$do_ability_roll(c):y(/RES/i,t)?f.$do_resistance_roll(c):y(/RSA/i,t)?f.$do_resistance_active_characteristic_roll(c):r}),_.$private(),b(_,"$do_ability_roll",function(c){try{D("eval_return");var e=r,o=r,i=r,s=r;return e=/^(RQG)(<=([+-\/*\d]+))?$/.$match(c),$(e)?(o=this.randomizer.$roll_once(100),$(e["$[]"](3))?(s="(1D100<="+(i=u("Arithmetic").$eval(e["$[]"](3),E(u("RoundType"),"ROUND")))+") \uff1e",m(i,0)?u("Result").$failure(s+" \u5931\u6557"):this.$get_roll_result(s+" "+o+" \uff1e",i,o)):"(1D100) \uff1e "+o):r}catch(R){if(R===n.t_eval_return)return R.$v;throw R}}),b(_,"$do_resistance_roll",function(c){try{D("eval_return");var e=r,o=r,i=r,s=r;return e=/^(RES)([+-\/*\d]+)(M([+-\/*\d]+))?$/.$match(c),$(e)&&$(e["$[]"](2))?(o=u("Arithmetic").$eval(e["$[]"](2),E(u("RoundType"),"ROUND")),$(I(o,-10))&&(o=-10),i=a(50,T(o,5)),$(e["$[]"](4))&&(i=a(i,u("Arithmetic").$eval(e["$[]"](4),E(u("RoundType"),"ROUND")))),s=this.randomizer.$roll_once(100),this.$get_roll_result("(1D100<="+i+") \uff1e "+s+" \uff1e",i,s)):r}catch(R){if(R===n.t_eval_return)return R.$v;throw R}}),b(_,"$do_resistance_active_characteristic_roll",function(c){try{D("eval_return");var e=r,o=r,i=r,s=r,R=r,G=r;return e=/^(RSA)(\d+)(M([+-\/*\d]+))?$/.$match(c),$(e)&&$(e["$[]"](2))?(o=e["$[]"](2).$to_i(),m(o,0)?"0\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002":(i=$(e["$[]"](4))?u("Arithmetic").$eval(e["$[]"](4),E(u("RoundType"),"ROUND")):0,s=this.randomizer.$roll_once(100),R="(1D100<="+a(T(o,5),i)+") \uff1e "+s+" \uff1e",G="\u30af\u30ea\u30c6\u30a3\u30ab\u30eb/\u30b9\u30da\u30b7\u30e3\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306f\u672a\u51e6\u7406\u3002\u5fc5\u8981\u306a\u3089\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3002",$(z(s,96))?u("Result").$failure(R+" \u5931\u6557\n"+G):$(h(s,5))||$(h(s,i))?u("Result").$success(R+" \u6210\u529f\n"+G):R+" \u76f8\u624b\u5074\u80fd\u529b\u5024"+a(o,A(w(a(50,i),s),5).$floor())+"\u307e\u3067\u6210\u529f\n"+G)):r}catch(k){if(k===n.t_eval_return)return k.$v;throw k}}),b(_,"$get_roll_result",function(c,f,t){var e,o,i;return e=A(f.$to_f(),20).$round(),o=A(f.$to_f(),5).$round(),i=A(w(100,f.$to_f()),20).$round(),m(t,1)||$(h(t,e))?u("Result").$critical(c+" \u30af\u30ea\u30c6\u30a3\u30ab\u30eb/\u30b9\u30da\u30b7\u30e3\u30eb"):m(t,100)||$(z(t,a(w(100,i),1)))?u("Result").$fumble(c+" \u30d5\u30a1\u30f3\u30d6\u30eb"):$(h(t,o))?u("Result").$success(c+" \u30b9\u30da\u30b7\u30e3\u30eb"):$(h(t,95))&&($(h(t,5))||$(h(t,f)))?u("Result").$success(c+" \u6210\u529f"):u("Result").$failure(c+" \u5931\u6557")})})}}]);