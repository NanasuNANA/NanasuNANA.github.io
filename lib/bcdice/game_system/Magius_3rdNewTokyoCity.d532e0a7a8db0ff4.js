(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4980],{5911:(F,J,Y)=>{Y(5151),Opal.modules["bcdice/game_system/Magius"]=function(t){var T,H,L,i,u,l,U,x,v,R,A=t.module,D=t.klass,a=t.const_set,S=t.send2,G=t.find_super,_=t.def,$=t.truthy,I=t.eqeq,z=t.rb_gt,N=t.rb_ge,w=t.rb_plus,C=t.thrower,j=[],e=t.nil;return T=j,H=R=[A(j[0],"BCDice")].concat(T),x=[A(R[0],"GameSystem")].concat(H),v=t.$r(x),L=x,u=[i=D(x[0],v("Base"),"Magius")].concat(L),l=t.$r(u),(U=i.$$prototype).round_type=U.randomizer=e,a(u[0],"ID","Magius"),a(u[0],"NAME","MAGIUS"),a(u[0],"SORT_KEY","\u307e\u304d\u3046\u3059"),a(u[0],"HELP_MESSAGE","\u25a0\u80fd\u529b\u5024\u5224\u5b9a\u3000MA+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MA>=7: \u30c0\u30a4\u30b9\u30922\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\n\n\u25a0\u6280\u80fd\u5024\u5224\u5b9a\u3000MS+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MS>=7: \u30c0\u30a4\u30b9\u30923\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u3046\u3061\u4e0a\u4f4d2\u3064\u3092\u63a1\u7528\u3057\u3001\u7d50\u679c\u3092\u8868\u793a\n\n"),i.$register_prefix("M[AS]"),_(i,"$initialize",function c(n){var r=this;return c.$$p=null,S(r,G(r,"initialize",c,!1,!0),"initialize",[n],null),r.sort_barabara_dice=!0}),_(i,"$eval_game_system_specific_command",function(n){var r;return $(r=this.$resolute_ability_action(n))?r:this.$resolute_skill_action(n)}),i.$private(),_(i,"$with_symbol",function(n){return I(n,0)?"":$(z(n,0))?"+"+n:n.$to_s()}),_(i,"$get_result_of_ability_action",function(n,y,r){return $(N(n,r))?l("Result").$success("\u6210\u529f"):l("Result").$failure("\u5931\u6557")}),_(i,"$resolute_ability_action",function(n){try{C("eval_return");var r=this,s=e,h=e,d=e,g=e,E=e,M=e,k=e,f=e,q=e;return s=/MA([+-]\d+)*>=(\d+)/.$match(n),$(s)?(h=$(s["$[]"](1))?l("Arithmetic").$eval(s["$[]"](1),r.round_type):0,d=s["$[]"](2).$to_i(),E=(g=r.randomizer.$roll_barabara(2,6).$sort()).$join(","),M=g.$sum(),k=w(M,h),f=r.$get_result_of_ability_action(k,M,d),q=["("+n+")","["+E+"]"+r.$with_symbol(h),k,f.$text()].$compact(),f["$text="](q.$join(" \uff1e ")),f):e}catch(m){if(m===t.t_eval_return)return m.$v;throw m}}),_(i,"$get_result_of_skill_action",function(n,y,r){return $(N(n,r))?l("Result").$success("\u6210\u529f"):l("Result").$failure("\u5931\u6557")}),_(i,"$resolute_skill_action",function(n){try{C("eval_return");var r=this,s=e,h=e,d=e,g=e,E=e,M=e,k=e,f=e,q=e;return s=/MS([+-]\d+)*>=(\d+)/.$match(n),$(s)?(h=$(s["$[]"](1))?l("Arithmetic").$eval(s["$[]"](1),r.round_type):0,d=s["$[]"](2).$to_i(),E=(g=r.randomizer.$roll_barabara(3,6).$sort()).$join(","),M=w(g["$[]"](1).$to_i(),g["$[]"](2).$to_i()),k=w(M,h),f=r.$get_result_of_skill_action(k,M,d),q=["("+n+")","["+E+"]"+r.$with_symbol(h),k,f.$text()].$compact(),f["$text="](q.$join(" \uff1e ")),f):e}catch(m){if(m===t.t_eval_return)return m.$v;throw m}})},Opal.queue(function(t){var C,T,x,v,b,o,R,B,e,A=t.module,D=t.klass,a=t.const_set,S=t.eqeq,G=t.truthy,_=t.rb_ge,$=t.def,z=[];return t.top.$require("bcdice/game_system/Magius"),C=z,T=e=[A(z[0],"BCDice")].concat(C),R=[A(e[0],"GameSystem")].concat(T),B=t.$r(R),x=R,b=[v=D(R[0],B("Magius"),"Magius_3rdNewTokyoCity")].concat(x),o=t.$r(b),a(b[0],"ID","Magius_3rdNewTokyoCity"),a(b[0],"NAME","MAGIUS:\u65b0\u4e16\u7d00\u30a8\u30f4\u30a1\u30f3\u30b2\u30ea\u30aa\u30f3RPG \u6c7a\u6226\uff01\u7b2c3\u65b0\u6771\u4eac\u5e02"),a(b[0],"SORT_KEY","\u307e\u304d\u3046\u3059\u3057\u3093\u305b\u3044\u304d\u3048\u3046\u3042\u3093\u3051\u308a\u304a\u3093RPG\u3051\u3064\u305b\u3093\u305f\u30443\u3057\u3093\u3068\u3046\u304d\u3088\u3046\u3057"),a(b[0],"HELP_MESSAGE","\u25a0\u80fd\u529b\u5024\u5224\u5b9a\u3000MA+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MA>=7: \u30c0\u30a4\u30b9\u30922\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f,\u5931\u6557,\u7d76\u5bfe\u6210\u529f,\u7d76\u5bfe\u5931\u6557)\u3092\u8868\u793a\n\n\u25a0\u6280\u80fd\u5024\u5224\u5b9a\u3000MS+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MS>=7: \u30c0\u30a4\u30b9\u30923\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u3046\u3061\u4e0a\u4f4d2\u3064\u3092\u63a1\u7528\u3057\u3001\u7d50\u679c(\u6210\u529f,\u5931\u6557,\u7d76\u5bfe\u6210\u529f,\u7d76\u5bfe\u5931\u6557)\u3092\u8868\u793a\n\n"),v.$register_prefix("M[AS]"),v.$private(),$(v,"$get_result_of_ability_action",function(i,u,l){return S(u,12)?o("Result").$critical("\u7d76\u5bfe\u6210\u529f"):S(u,2)?o("Result").$fumble("\u7d76\u5bfe\u5931\u6557"):G(_(i,l))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")}),$(v,"$get_result_of_skill_action",function(i,u,l){return S(u,12)?o("Result").$critical("\u7d76\u5bfe\u6210\u529f"):S(u,2)?o("Result").$fumble("\u7d76\u5bfe\u5931\u6557"):G(_(i,l))?o("Result").$success("\u6210\u529f"):o("Result").$failure("\u5931\u6557")})})}}]);