(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7115],{6409:(x,O,U)=>{U(9993),Opal.queue(function(i){var Y,z,Q,d,a,u,M,j,S,N=[],e=i.nil,V=i.module,X=i.klass,o=i.const_set,c=i.truthy,H=i.to_ary,R=i.send,D=i.rb_plus,C=i.def,E=i.rb_gt,I=i.rb_ge,B=i.rb_lt,L=i.eqeq,p=i.rb_times,w=i.rb_divide;return Y=N,z=S=[V(N[0],"BCDice")].concat(Y),M=[V(S[0],"GameSystem")].concat(z),j=i.$r(M),Q=M,a=[d=X(M[0],j("Base"),"VampireTheMasquerade5th")].concat(Q),u=i.$r(a),d.$$prototype.randomizer=e,o(a[0],"ID","VampireTheMasquerade5th"),o(a[0],"NAME","Vampire: The Masquerade 5th Edition"),o(a[0],"SORT_KEY","\u3046\u3042\u3093\u306f\u3044\u3042\u3055\u307e\u3059\u304b\u308c\u3048\u30685"),o(a[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nVMFx+x)\n  \u6ce8\u610f\uff1a\u96e3\u6613\u5ea6\u306f\u5fc5\u8981\u6210\u529f\u6570\u3092\u8868\u3059\n\n  \u96e3\u6613\u5ea6\u6307\u5b9a\uff1a\u5224\u5b9a\u6210\u529f\u3068\u5931\u6557\u3001Critical\u5224\u5b9a\u3001\n             \uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Messy Critical\u3068Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n  \u4f8b) (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea6\u7701\u7565\uff1a\u5224\u5b9a\u5931\u6557\u3001Critical\u3001\uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n              \u5224\u5b9a\u6210\u529f\u3001Messy Critical\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea60\u6307\u5b9a\uff1a\u5168\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) 0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n"),o(a[0],"DIFFICULTY_INDEX",1),o(a[0],"DICE_POOL_INDEX",3),o(a[0],"HUNGER_DICE_INDEX",5),o(a[0],"NOT_CHECK_SUCCESS",-1),d.$register_prefix("\\d*VMF"),C(d,"$eval_game_system_specific_command",function(n){var t,r,f,s=this,_=e,$=e,b=e,l=e,g=e,m=e,h=e,y=e,T=e,F=e,k=e,q=e;return _=/^(\d+)?(VMF)(\d+)(\+(\d+))?/.$match(n),c(_)?($=_["$[]"](u("DICE_POOL_INDEX")).$to_i(),r=s.$make_dice_roll($),b=null==(t=H(r))[0]?e:t[0],l=null==t[1]?e:t[1],g=null==t[2]?e:t[2],m="("+$+"D10",h=(t=_["$[]"](u("HUNGER_DICE_INDEX")))===e||null==t?e:R(t,"to_i",[]),c(h)?(f=s.$make_dice_roll(h),y=null==(r=H(f))[0]?e:r[0],T=null==r[1]?e:r[1],k=null==r[3]?e:r[3],g=D(g,F=null==r[2]?e:r[2]),l=D(l,T),m=m+"+"+h+"D10) \uff1e ["+b+"]+["+y+"] "):(F=0,k=0,m=m+") \uff1e ["+b+"] "),l=D(l,s.$get_critical_success(g)),q=c(_["$[]"](u("DIFFICULTY_INDEX")))?_["$[]"](u("DIFFICULTY_INDEX")).$to_i():u("NOT_CHECK_SUCCESS"),s.$get_roll_result(m,l,g,F,k,q)):""},1),d.$private(),C(d,"$get_roll_result",function(n,t,r,f,s,_){var $=e;return n=n+" \u6210\u529f\u6570="+t,c(E(_,0))?(n=n+" \u96e3\u6613\u5ea6="+_,c(I(t,_))?($=I(r,2),c(E(f,0))&&c($)?u("Result").$critical(n+"\uff1a\u5224\u5b9a\u6210\u529f! [Messy Critical]"):c($)?u("Result").$critical(n+"\uff1a\u5224\u5b9a\u6210\u529f! [Critical Win]"):u("Result").$success(n+"\uff1a\u5224\u5b9a\u6210\u529f!")):c(E(s,0))?u("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):u("Result").$failure(n+"\uff1a\u5224\u5b9a\u5931\u6557!")):c(B(_,0))&&L(t,0)?c(E(s,0))?u("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):u("Result").$failure(n+"\uff1a\u5224\u5b9a\u5931\u6557!"):n.$to_s()},6),C(d,"$get_critical_success",function(n){return p(w(n,2).$to_i(),2)},1),C(d,"$make_dice_roll",function(n){var r=e;return[(r=this.randomizer.$roll_barabara(n,10)).$join(","),R(r,"count",[],function(l){return null==l&&(l=e),I(l,6)},1),r.$count(10),r.$count(1)]},1)})}}]);