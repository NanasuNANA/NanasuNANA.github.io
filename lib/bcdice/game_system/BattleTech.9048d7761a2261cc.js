(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6344],{1978:(pe,be,ge)=>{ge(3986),Opal.modules["bcdice/format"]=function(r){var P,A,z,te,ie,ee,ce=r.module,M=r.eqeqeq,_=r.def,E=r.truthy,O=r.eqeq,ae=r.rb_gt,W=[],Q=r.nil;return P=W,A=ee=[ce(W[0],"BCDice")].concat(P),te=[z=ce(ee[0],"Format")].concat(A),ie=r.$r(te),z.$module_function(),_(z,"$comparison_operator",function(u){var d;return M("==",d=u)?"=":M("!=",d)?"<>":M(ie("Symbol"),d)?u.$to_s():Q}),_(z,"$modifier",function(u){return E(u["$nil?"]())?Q:O(u,0)?"":E(ae(u,0))?"+"+u:u.$to_s()})},Opal.modules["racc/parser"]=function(r){var ue,q,v,ce=r.module,M=r.klass,_=r.truthy,E=r.const_set,O=r.defs,ae=r.gvars,W=r.rb_lt,Q=r.def,b=r.to_ary,P=r.send,k=r.neqeq,ee=r.rb_plus,$e=r.eqeq,A=r.rb_ge,z=r.rb_gt,te=r.rb_minus,ie=r.rb_le,R=r.rb_times,u=r.assign_ivar_val,i=[],L=r.$r(i),e=r.nil,$=r.$$$;return ue=i,q=[ce(i[0],"Racc")].concat(ue),v=r.$r(q),M(q[0],v("StandardError"),"ParseError"),_($("::","ParseError","skip_raise")?"constant":e)||E(i[0],"ParseError",$(L("Racc"),"ParseError")),function(y,ue){var D,g,f,j,se,v=[ce(y,"Racc")].concat(ue),B=r.$r(v);return _(B("Racc_No_Extensions","skip_raise")?"constant":e)||E(v[0],"Racc_No_Extensions",!1),D=v,f=[g=M(v[0],null,"Parser")].concat(D),j=r.$r(f),(se=g.$$prototype).yydebug=se.racc_debug_out=se.racc_error_status=se.racc_t=se.racc_vstack=se.racc_val=se.racc_state=se.racc_tstack=e,E(f[0],"Racc_Runtime_Version","1.4.6"),E(f[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),E(f[0],"Racc_Runtime_Core_Version_R","1.4.6"),E(f[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),E(f[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),E(f[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),E(f[0],"Racc_Runtime_Core_Version",j("Racc_Runtime_Core_Version_R")),E(f[0],"Racc_Runtime_Core_Revision",j("Racc_Runtime_Core_Revision_R")),E(f[0],"Racc_Runtime_Type","ruby"),O(j("Parser"),"$racc_runtime_type",function(){return j("Racc_Runtime_Type")}),Q(g,"$_racc_setup",function(){var a,m,s=this,x=e,n=e;return null==ae.stderr&&(ae.stderr=e),_($(s.$class(),"Racc_debug_parser"))||(s.yydebug=!1),_(null!=(a=s.yydebug)&&a!==e?"instance-variable":e)||(s.yydebug=!1),_(s.yydebug)&&(_(null!=(m=s.racc_debug_out)&&m!==e?"instance-variable":e)||(s.racc_debug_out=ae.stderr),s.racc_debug_out=_(x=s.racc_debug_out)?x:ae.stderr),n=$(s.$class(),"Racc_arg"),_(W(n.$size(),14))&&n["$[]="](13,!0),n}),Q(g,"$_racc_init_sysvars",function(){var a=this;return a.racc_state=[0],a.racc_tstack=[],a.racc_vstack=[],a.racc_t=e,a.racc_val=e,a.racc_read_next=!0,a.racc_user_yyerror=!1,a.racc_error_status=0}),Q(g,"$do_parse",function(){return this.$__send__(j("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),Q(g,"$next_token",function(){return this.$raise(j("NotImplementedError"),this.$class()+"#next_token is not defined")}),Q(g,"$_racc_do_parse_rb",function(a,m){var s,n=this,p=e,o=e,T=e,l=e,V=e,N=e,X=e,Z=e;return s=b(a),p=null==s[0]?e:s[0],o=null==s[1]?e:s[1],T=null==s[2]?e:s[2],l=null==s[3]?e:s[3],V=null==s[10]?e:s[10],n.$_racc_init_sysvars(),N=X=Z=e,P(n,"catch",["racc_end_parse"],function Y(){var J,h,t=null==Y.$$s?this:Y.$$s,S=e;for(null==t.racc_state&&(t.racc_state=e),null==t.racc_read_next&&(t.racc_read_next=e),null==t.racc_t&&(t.racc_t=e),null==t.yydebug&&(t.yydebug=e),null==t.racc_val&&(t.racc_val=e);_(!0);)for(_(Z=l["$[]"](t.racc_state["$[]"](-1)))?(_(t.racc_read_next)&&k(t.racc_t,0)&&(h=t.$next_token(),J=b(h),N=null==J[0]?e:J[0],t.racc_val=null==J[1]?e:J[1],t.racc_t=_(N)?_(S=V["$[]"](N))?S:1:0,_(t.yydebug)&&t.$racc_read_token(t.racc_t,N,t.racc_val),t.racc_read_next=!1),Z=ee(Z,t.racc_t),_(A(Z,0))&&_(X=p["$[]"](Z))&&$e(o["$[]"](Z),t.racc_state["$[]"](-1))||(X=T["$[]"](t.racc_state["$[]"](-1)))):X=T["$[]"](t.racc_state["$[]"](-1));_(X=t.$_racc_evalact(X,a)););},{$$s:n})}),Q(g,"$yyparse",function(a,m){return this.$__send__(j("Racc_YY_Parse_Method"),a,m,this.$_racc_setup(),!0)}),Q(g,"$_racc_yyparse_rb",function(a,m,s,x){var n,o=this,T=e,l=e,U=e,V=e,X=e,Z=e,Y=e;return n=b(s),T=null==n[0]?e:n[0],l=null==n[1]?e:n[1],U=null==n[2]?e:n[2],V=null==n[3]?e:n[3],X=null==n[10]?e:n[10],o.$_racc_init_sysvars(),Z=e,Y=e,P(o,"catch",["racc_end_parse"],function J(){var h=null==J.$$s?this:J.$$s;for(null==h.racc_state&&(h.racc_state=e);!_(Y=V["$[]"](h.racc_state["$[]"](-1)));)for(;_(Z=h.$_racc_evalact(U["$[]"](h.racc_state["$[]"](-1)),s)););return P(a,"__send__",[m],function t(S,C){var c=null==t.$$s?this:t.$$s,K=e,ne=e;for(null==c.racc_t&&(c.racc_t=e),null==c.racc_state&&(c.racc_state=e),null==c.racc_read_next&&(c.racc_read_next=e),null==S&&(S=e),null==C&&(C=e),c.racc_t=_(S)?_(K=X["$[]"](S))?K:1:0,c.racc_val=C,c.racc_read_next=!1,Y=ee(Y,c.racc_t),_(A(Y,0))&&_(Z=T["$[]"](Y))&&$e(l["$[]"](Y),c.racc_state["$[]"](-1))||(Z=U["$[]"](c.racc_state["$[]"](-1)));_(Z=c.$_racc_evalact(Z,s)););for(;_(_(K=_(ne=(Y=V["$[]"](c.racc_state["$[]"](-1)))["$!"]())?ne:c.racc_read_next["$!"]())?K:c.racc_t["$=="](0));)for(_(Y)&&_(Y=ee(Y,c.racc_t))&&_(A(Y,0))&&_(Z=T["$[]"](Y))&&$e(l["$[]"](Y),c.racc_state["$[]"](-1))||(Z=U["$[]"](c.racc_state["$[]"](-1)));_(Z=c.$_racc_evalact(Z,s)););},{$$s:h})},{$$s:o})}),Q(g,"$_racc_evalact",function(a,m){var s,U,n=this,p=e,o=e,l=e,V=e,N=e,X=e;if(p=null==(s=b(m))[0]?e:s[0],o=null==s[1]?e:s[1],l=null==s[3]?e:s[3],U=null==s[11]?e:s[11],V=null==s[12]?e:s[12],_(z(a,0))&&_(W(a,U)))_(z(n.racc_error_status,0))&&($e(n.racc_t,1)||(n.racc_error_status=te(n.racc_error_status,1))),n.racc_vstack.$push(n.racc_val),n.racc_state.$push(a),n.racc_read_next=!0,_(n.yydebug)&&(n.racc_tstack.$push(n.racc_t),n.$racc_shift(n.racc_t,n.racc_tstack,n.racc_vstack));else if(_(W(a,0))&&_(z(a,V["$-@"]()))){if(N=P(n,"catch",["racc_jump"],function Z(){var Y=null==Z.$$s?this:Z.$$s;return null==Y.racc_state&&(Y.racc_state=e),Y.racc_state.$push(Y.$_racc_do_reduce(m,a)),!1},{$$s:n}),_(N))switch(N.valueOf()){case 1:return n.racc_user_yyerror=!0,V["$-@"]();case 2:return U;default:n.$raise("[Racc Bug] unknown jump code")}}else if($e(a,U))_(n.yydebug)&&n.$racc_accept(),n.$throw("racc_end_parse",n.racc_vstack["$[]"](0));else{if($e(a,V["$-@"]())){switch(n.racc_error_status.valueOf()){case 0:_(m["$[]"](21))||n.$on_error(n.racc_t,n.racc_val,n.racc_vstack);break;case 3:$e(n.racc_t,0)&&n.$throw("racc_end_parse",e),n.racc_read_next=!0}for(n.racc_user_yyerror=!1,n.racc_error_status=3;_(!0)&&!(_(X=l["$[]"](n.racc_state["$[]"](-1)))&&(X=ee(X,1),_(A(X,0))&&_(a=p["$[]"](X))&&$e(o["$[]"](X),n.racc_state["$[]"](-1))));)_(ie(n.racc_state.$size(),1))&&n.$throw("racc_end_parse",e),n.racc_state.$pop(),n.racc_vstack.$pop(),_(n.yydebug)&&(n.racc_tstack.$pop(),n.$racc_e_pop(n.racc_state,n.racc_tstack,n.racc_vstack));return a}n.$raise("[Racc Bug] unknown action "+a.$inspect())}return _(n.yydebug)&&n.$racc_next_state(n.racc_state["$[]"](-1),n.racc_state),e}),Q(g,"$_racc_do_reduce",function(a,m){var s,V,X,S,C,c,F,n=this,o=e,T=e,l=e,U=e,N=e,Z=e,Y=e,J=e,h=e,t=e,K=e,ne=e,I=e;return o=null==(s=b(a))[4]?e:s[4],T=null==s[5]?e:s[5],l=null==s[6]?e:s[6],U=null==s[7]?e:s[7],V=null==s[8]?e:s[8],N=null==s[9]?e:s[9],X=null==s[13]?e:s[13],Z=n.racc_state,Y=n.racc_vstack,J=n.racc_tstack,h=R(m,-3),t=N["$[]"](h),S=N["$[]"](ee(h,1)),C=N["$[]"](ee(h,2)),c=[],_(n.yydebug)&&(K=J["$[]"](t["$-@"](),t)),ne=Y["$[]"](t["$-@"](),t),_(n.yydebug)&&J["$[]="](t["$-@"](),t,c),Y["$[]="](t["$-@"](),t,c),Z["$[]="](t["$-@"](),t,c),_(X)?Y.$push(n.$__send__(C,ne,Y,ne["$[]"](0))):Y.$push(n.$__send__(C,ne,Y)),J.$push(S),_(n.yydebug)&&n.$racc_reduce(K,S,J,Y),F=te(S,V),_(h=U["$[]"](F))&&(h=ee(h,Z["$[]"](-1)),_(A(h,0))&&_(I=o["$[]"](h))&&$e(T["$[]"](h),F))?I:l["$[]"](F)}),Q(g,"$on_error",function(a,m,s){var n,x=this;return x.$raise(j("ParseError"),x.$sprintf("\nparse error on value %s (%s)",m.$inspect(),_(n=x.$token_to_str(a))?n:"?"))}),Q(g,"$yyerror",function(){return this.$throw("racc_jump",1)}),Q(g,"$yyaccept",function(){return this.$throw("racc_jump",2)}),Q(g,"$yyerrok",u("racc_error_status",0)),Q(g,"$racc_read_token",function(a,m,s){var x=this;return x.racc_debug_out.$print("read    "),x.racc_debug_out.$print(m.$inspect(),"(",x.$racc_token2str(a),") "),x.racc_debug_out.$puts(s.$inspect()),x.racc_debug_out.$puts()}),Q(g,"$racc_shift",function(a,m,s){var x=this;return x.racc_debug_out.$puts("shift   "+x.$racc_token2str(a)),x.$racc_print_stacks(m,s),x.racc_debug_out.$puts()}),Q(g,"$racc_reduce",function(a,m,s,x){var n=this,p=e;return(p=n.racc_debug_out).$print("reduce "),_(a["$empty?"]())?p.$print(" <none>"):P(a,"each",[],function o(T){return null==T&&(T=e),p.$print(" ",(null==o.$$s?this:o.$$s).$racc_token2str(T))},{$$s:n}),p.$puts(" --\x3e "+n.$racc_token2str(m)),n.$racc_print_stacks(s,x),n.racc_debug_out.$puts()}),Q(g,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),Q(g,"$racc_e_pop",function(a,m,s){var x=this;return x.racc_debug_out.$puts("error recovering mode: pop token"),x.$racc_print_states(a),x.$racc_print_stacks(m,s),x.racc_debug_out.$puts()}),Q(g,"$racc_next_state",function(a,m){var s=this;return s.racc_debug_out.$puts("goto    "+a),s.$racc_print_states(m),s.racc_debug_out.$puts()}),Q(g,"$racc_print_stacks",function(a,m){var x=e;return(x=this.racc_debug_out).$print("        ["),P(a,"each_index",[],function n(p){return null==p&&(p=e),x.$print(" (",(null==n.$$s?this:n.$$s).$racc_token2str(a["$[]"](p))," ",m["$[]"](p).$inspect(),")")},{$$s:this}),x.$puts(" ]")}),Q(g,"$racc_print_states",function(a){var s=e;return(s=this.racc_debug_out).$print("        ["),P(a,"each",[],function(n){return null==n&&(n=e),s.$print(" ",n)}),s.$puts(" ]")}),Q(g,"$racc_token2str",function(a){var s;return _(s=$(this.$class(),"Racc_token_to_s_table")["$[]"](a))?s:this.$raise("[Racc Bug] can't convert token "+a+" to string")}),Q(g,"$token_to_str",function(a){return $(this.$class(),"Racc_token_to_s_table")["$[]"](a)})}(i[0],i)},Opal.modules["bcdice/arithmetic/node"]=function(r){var u,e,re,D,g,v,B,y,i,ce=r.module,M=r.klass,_=r.def,E=r.thrower,O=r.return_ivar,ae=r.send2,W=r.find_super,Q=r.eqeq,b=r.const_set,P=r.eqeqeq,k=r.rb_divide,ee=r.truthy,$e=r.assign_ivar,A=r.alias,z=[],te=r.nil,ie=r.$$$;return u=z,e=i=[ce(z[0],"BCDice")].concat(u),re=y=[ce(i[0],"Arithmetic")].concat(e),v=[ce(y[0],"Node")].concat(re),B=r.$r(v),(g=(D=M(v[0],null,"BinaryOp")).$$prototype).lhs=g.rhs=g.op=te,_(D,"$initialize",function(j,se,w){var a=this;return a.lhs=j,a.op=se,a.rhs=w}),_(D,"$eval",function(j){try{E("eval_return");var m,w=this,a=te;return a=w.lhs.$eval(j),m=w.rhs.$eval(j),a.$send(w.op,m)}catch(s){if(s===r.t_eval_return)return s.$v;throw s}}),_(D,"$output",function(){var j=this;return""+j.lhs.$output()+j.op+j.rhs.$output()}),_(D,"$s_exp",function(){var j=this;return"("+j.$op_for_s_exp()+" "+j.lhs.$s_exp()+" "+j.rhs.$s_exp()+")"}),_(D,"$op_for_s_exp",O("op")),function(H,G,D){var g=M(H,G,"DivideBase"),f=[g].concat(D),j=r.$r(f),se=g.$$prototype;se.lhs=se.rhs=se.op=te,_(g,"$initialize",function w(a,m){return w.$$p=null,ae(this,W(this,"initialize",w,!1,!0),"initialize",[a,"/",m],null)}),_(g,"$eval",function(a){try{E("eval_return");var x,n,s=this;return x=s.lhs.$eval(a),n=s.rhs.$eval(a),Q(n,0)&&s.$raise(j("ZeroDivisionError")),s.$divide_and_round(x,n,a)}catch(p){if(p===r.t_eval_return)return p.$v;throw p}}),_(g,"$output",function w(){var a=w.$$p||te,m=this;return w.$$p=null,""+ae(m,W(m,"output",w,!1,!0),"output",[],a)+m.$rounding_method()}),g.$private(),_(g,"$rounding_method",function(){return ie(this.$class(),"ROUNDING_METHOD")}),_(g,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),_(g,"$divide_and_round",function(a,m,s){return this.$raise(j("NotImplementedError"))})}(v[0],B("BinaryOp"),v),function(H,G,D){var g=M(H,G,"DivideWithGameSystemDefault"),f=[g].concat(D),j=r.$r(f);b(f[0],"ROUNDING_METHOD",""),g.$private(),_(g,"$divide_and_round",function(w,a,m){var s,x=te;return P(ie(j("RoundType"),"CEIL"),s=m)?k(w.$to_f(),a).$ceil():P(ie(j("RoundType"),"ROUND"),s)?(x=k(w.$to_f(),a),ee(x["$negative?"]())?x.$abs().$round()["$-@"]():x.$round()):k(w,a).$floor()})}(v[0],B("DivideBase"),v),function(H,G,D){var g=M(H,G,"DivideWithCeil"),f=[g].concat(D);b(f[0],"ROUNDING_METHOD","C"),g.$private(),_(g,"$divide_and_round",function(se,w,a){return k(se.$to_f(),w).$ceil()})}(v[0],B("DivideBase"),v),function(H,G,D){var g=M(H,G,"DivideWithRound"),f=[g].concat(D);b(f[0],"ROUNDING_METHOD","R"),g.$private(),_(g,"$divide_and_round",function(se,w,a){var m=te;return m=k(se.$to_f(),w),ee(m["$negative?"]())?m.$abs().$round()["$-@"]():m.$round()})}(v[0],B("DivideBase"),v),function(H,G,D){var g=M(H,G,"DivideWithFloor"),f=[g].concat(D);b(f[0],"ROUNDING_METHOD","F"),g.$private(),_(g,"$divide_and_round",function(se,w,a){return k(se,w).$floor()})}(v[0],B("DivideBase"),v),function(H,G){var D=M(H,null,"Negative");D.$$prototype.body=te,_(D,"$initialize",$e("body")),_(D,"$eval",function(j){try{return E("eval_return"),this.body.$eval(j)["$-@"]()}catch(a){if(a===r.t_eval_return)return a.$v;throw a}}),_(D,"$output",function(){return"-"+this.body.$output()}),_(D,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(v[0]),function(H,G){var D=M(H,null,"Parenthesis");D.$$prototype.expr=te,_(D,"$initialize",$e("expr")),_(D,"$eval",function(j){try{return E("eval_return"),this.expr.$eval(j)}catch(a){if(a===r.t_eval_return)return a.$v;throw a}}),_(D,"$output",function(){return"("+this.expr.$output()+")"}),_(D,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(v[0]),function(H,G){var D=M(H,null,"Number");return D.$$prototype.value=te,_(D,"$initialize",$e("value")),_(D,"$eval",O("value")),_(D,"$output",function(){return this.value.$to_s()}),A(D,"s_exp","output")}(v[0])},Opal.modules.strscan=function(r){var $e,A,z,te,ie,M=r.def,_=r.truthy,E=r.eqeqeq,O=r.Opal,ae=r.return_ivar,W=r.send,Q=r.alias,b=[],P=r.nil;return $e=b,z=[A=(0,r.klass)(b[0],null,"StringScanner")].concat($e),te=r.$r(z),(ie=A.$$prototype).pos=ie.string=ie.working=ie.matched=ie.prev_pos=ie.match=P,A.$attr_reader("pos","matched"),M(A,"$initialize",function(u){var d=this;return d.string=u,d.pos=0,d.matched=P,d.working=u,d.match=[]}),A.$attr_reader("string"),M(A,"$beginning_of_line?",function(){var u=this;return 0===u.pos||"\n"===u.string.charAt(u.pos-1)}),M(A,"$scan",function(u){var d=this,i=(u=d.$anchor(u)).exec(d.working);return null==i?d.matched=P:(d.prev_pos=d.pos,d.pos+=i[0].length,d.working=d.working.substring(i[0].length),d.matched=i[0],d.match=i,i[0])}),M(A,"$scan_until",function(u){var d=this;u=d.$anchor(u);for(var i=d.working,L=0;i.length!=L;++L){var e=u.exec(i.substr(L));if(null!==e){var $=L+e[0].length,y=i.substr(0,$);return d.matched=e[0],d.match=e,d.prev_pos=d.pos+L,d.pos+=$,d.working=i.substr($),y}}return d.matched=P}),M(A,"$[]",function(u){var i;if(_(this.match["$empty?"]()))return P;E(te("Symbol"),i=u)?u=u.$to_s():E(te("String"),i)||(u=O["$coerce_to!"](u,te("Integer"),"to_int"));var L=this.match;return u<0&&(u+=L.length),u<0||u>=L.length||null==L[u]?P:L[u]}),M(A,"$check",function(u){var d=this,i=(u=d.$anchor(u)).exec(d.working);return d.matched=null==i?P:i[0]}),M(A,"$check_until",function(u){var d=this,i=d.prev_pos,L=d.pos,e=d.working,$=d.$scan_until(u);return d.prev_pos=i,d.pos=L,d.working=e,$}),M(A,"$peek",function(u){return this.working.substring(0,u)}),M(A,"$eos?",function(){return 0===this.working.length}),M(A,"$exist?",function(u){var i=u.exec(this.working);return null==i?P:0==i.index?0:i.index+1}),M(A,"$skip",function(u){var d=this,i=(u=d.$anchor(u)).exec(d.working);if(null==i)return d.match=[],d.matched=P;var L=i[0],e=L.length;return d.matched=L,d.match=i,d.prev_pos=d.pos,d.pos+=e,d.working=d.working.substring(e),e}),M(A,"$skip_until",function(u){var i=this.$scan_until(u);return i===P?P:(this.matched=i.substr(-1),i.length)}),M(A,"$get_byte",function(){var u=this,d=P;return u.pos<u.string.length?(u.prev_pos=u.pos,u.pos+=1,d=u.matched=u.working.substring(0,1),u.working=u.working.substring(1)):u.matched=P,d}),M(A,"$match?",function(u){var d=this,i=(u=d.$anchor(u)).exec(d.working);return null==i?P:(d.prev_pos=d.pos,i[0].length)}),M(A,"$pos=",function(u){var d=this;return u<0&&(u+=d.string.$length()),d.pos=u,d.working=d.string.slice(u)}),M(A,"$matched_size",function(){return this.matched===P?P:this.matched.length}),M(A,"$post_match",function(){var u=this;return u.matched===P?P:u.string.substr(u.pos)}),M(A,"$pre_match",function(){var u=this;return u.matched===P?P:u.string.substr(0,u.prev_pos)}),M(A,"$reset",function(){var u=this;return u.working=u.string,u.matched=P,u.pos=0}),M(A,"$rest",ae("working")),M(A,"$rest?",function(){return 0!==this.working.length}),M(A,"$rest_size",function(){return this.$rest().$size()}),M(A,"$terminate",function(){var u,d=this;return d.match=P,u=[d.string.$length()],W(d,"pos=",u),u[u.length-1]}),M(A,"$unscan",function(){var u=this;return u.pos=u.prev_pos,u.prev_pos=P,u.match=P,u}),Q(A,"bol?","beginning_of_line?"),Q(A,"getch","get_byte"),A.$private(),M(A,"$anchor",function(u){var d=u.toString().match(/\/([^\/]+)$/);return d=d?d[1]:void 0,new RegExp("^(?:"+u.source+")",d)})},Opal.modules["bcdice/normalize"]=function(r){var Q,ee,P,ce=r.module,M=r.eqeqeq,_=r.def,E=r.eqeq,O=[],ae=r.nil;return Q=O,P=[ce(O[0],"BCDice")].concat(Q),(ee=ce(P[0],"Normalize")).$module_function(),_(ee,"$comparison_operator",function(A){var z;return M(/<=|=</,z=A)?"<=":M(/>=|=>/,z)?">=":M(/<>|!=|=!/,z)?"!=":M(/</,z)?"<":M(/>/,z)?">":M(/=/,z)?"==":ae}),_(ee,"$target_number",function(A){return E(A,"?")?A:A.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(r){var $e,ie,L,e,$,y,ue,u,z,ce=r.module,M=r.klass,_=r.const_set,E=r.hash2,O=r.truthy,ae=r.send,W=r.def,Q=r.thrower,b=r.top,P=[],k=r.nil;return b.$require("strscan"),b.$require("bcdice/normalize"),$e=P,ie=z=[ce(P[0],"BCDice")].concat($e),L=u=[ce(z[0],"Command")].concat(ie),$=[e=M(u[0],null,"Lexer")].concat(L),y=r.$r($),(ue=e.$$prototype).scanner=ue.notations=k,_($[0],"SYMBOLS",E(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),W(e,"$initialize",function(q,v){var B,H,D;return q=O(D=(B=(H=q)===k||null==H?k:H.$split(" ",2))===k||null==B?k:B.$first())?D:"",this.scanner=y("StringScanner").$new(q),this.notations=ae(v,"map",[],function(f){return null==f&&(f=k),O(f["$is_a?"](y("String")))?y("Regexp").$new(f):f})}),W(e,"$next_token",function(){try{var q=Q("return"),v=this,B=k,H=k,D=k,g=k;return O(v.scanner["$eos?"]())?[!1,"$"]:(ae(v.notations,"each",[],function f(j){var w,se=null==f.$$s?this:f.$$s;if(null==se.scanner&&(se.scanner=k),null==j&&(j=k),w=se.scanner.$scan(j),!O(w))return k;q.$throw(["NOTATION",w])},{$$s:v,$$ret:q}),O(B=v.scanner.$scan(/\d+/))?["NUMBER",B.$to_i()]:O(H=v.scanner.$scan(/[<>!=]+/))?(H=y("Normalize").$comparison_operator(H),[O(H)?"CMP_OP":"ILLEGAL",H]):(D=v.scanner.$getch().$upcase(),[O(g=y("SYMBOLS")["$[]"](D))?g:D.$to_sym(),D]))}catch(f){if(f===q)return f.$v;throw f}}),W(e,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(r){var b,$e,R,u,d,i,L,z,k,ce=r.module,M=r.klass,_=r.def,E=r.return_ivar,O=r.truthy,ae=[],W=r.nil;return b=ae,$e=k=[ce(ae[0],"BCDice")].concat(b),R=z=[ce(k[0],"Command")].concat($e),d=[u=M(z[0],null,"Parsed")].concat(R),i=r.$r(d),(L=u.$$prototype).critical=L.fumble=L.dollar=L.modify_number=L.question_target=L.target_number=L.prefix_number=L.command=L.suffix_number=L.cmp_op=W,u.$attr_accessor("command"),u.$attr_accessor("prefix_number"),u.$attr_accessor("suffix_number"),u.$attr_accessor("critical"),u.$attr_accessor("fumble"),u.$attr_accessor("dollar"),u.$attr_accessor("modify_number"),u.$attr_accessor("cmp_op"),u.$attr_accessor("target_number"),u.$attr_writer("question_target"),_(u,"$initialize",function(){var $=this;return $.prefix_number=W,$.suffix_number=W,$.critical=W,$.fumble=W,$.dollar=W,$.cmp_op=W,$.target_number=W,$.question_target=!1}),_(u,"$question_target?",E("question_target")),_(u,"$to_s",function($){var y=this,ue=W,re=W,q=W,v=W,B=W;switch(null==$&&($="after_command"),ue=O(y.critical)?"@"+y.critical:W,re=O(y.fumble)?"#"+y.fumble:W,q=O(y.dollar)?"$"+y.dollar:W,v=i("Format").$modifier(y.modify_number),B=O(y.question_target)?"?":y.target_number,$.valueOf()){case"after_command":return[y.prefix_number,y.command,y.suffix_number,ue,re,q,v,y.cmp_op,B].$join();case"after_modify_number":return[y.prefix_number,y.command,y.suffix_number,v,ue,re,q,y.cmp_op,B].$join();case"after_target_number":return[y.prefix_number,y.command,y.suffix_number,v,y.cmp_op,B,ue,re,q].$join();default:return W}},-1)},Opal.modules["bcdice/command/parser"]=function(r){var $,q,g,m,s,x,n,p,o,T,l,U,X,f,w,a,J,B,H,ue,ce=r.klass,M=r.module,_=r.slice,E=r.extract_kwargs,O=r.ensure_kwargs,ae=r.get_kwarg,W=r.send2,Q=r.find_super,b=r.def,P=r.send,k=r.eqeq,ee=r.thrower,$e=r.hash,A=r.const_set,z=r.truthy,te=r.to_ary,ie=r.hash2,R=r.top,u=[],d=r.$r(u),i=r.nil,L=r.$$$;return R.$require("racc/parser.rb"),R.$require("bcdice/arithmetic/node"),R.$require("bcdice/command/lexer"),R.$require("bcdice/command/parsed"),ce(L(d("BCDice"),"Command"),L(d("Racc"),"Parser"),"Parser"),$=u,q=ue=[M(u[0],"BCDice")].concat($),B=[M(ue[0],"Command")].concat(q),H=r.$r(B),g=B,w=[f=ce(B[0],L(H("Racc"),"Parser"),"Parser")].concat(g),a=r.$r(w),(J=f.$$prototype).notations=J.lexer=J.modifier=J.suffix_number=J.prefix_number=J.need_suffix_number=J.need_prefix_number=J.critical=J.fumble=J.dollar=J.allowed_cmp_op=J.question_target=i,b(f,"$initialize",function h(t,S){var C,c,K,ne,I=this;return h.$$p=null,C=_(arguments),c=E(C),c=O(c),K=C,ne=ae(c,"round_type"),W(I,Q(I,"initialize",h,!1,!0),"initialize",[],null),I.notations=K,I.round_type=ne,I.prefix_number=!1,I.suffix_number=!1,I.need_prefix_number=!1,I.need_suffix_number=!1,I.modifier=!0,I.critical=!1,I.fumble=!1,I.dollar=!1,I.allowed_cmp_op=[i,">=",">","<=","<","==","!="],I.question_target=!1},-2),b(f,"$disable_modifier",function(){return this.modifier=!1,this}),b(f,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),b(f,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),b(f,"$has_prefix_number",function(){var t=this;return t.prefix_number=!0,t.need_prefix_number=!0,t}),b(f,"$has_suffix_number",function(){var t=this;return t.suffix_number=!0,t.need_suffix_number=!0,t}),b(f,"$enable_critical",function(){return this.critical=!0,this}),b(f,"$enable_fumble",function(){return this.fumble=!0,this}),b(f,"$enable_dollar",function(){return this.dollar=!0,this}),b(f,"$restrict_cmp_op_to",function(t){var S;return S=_(arguments),this.allowed_cmp_op=S,this},-1),b(f,"$enable_question_target",function(){return this.question_target=!0,this}),b(f,"$parse",function(t){var S=this;try{return S.lexer=a("Lexer").$new(t,S.notations),S.$do_parse()}catch(C){if(!r.rescue(C,[a("ParseError"),a("ZeroDivisionError")]))throw C;try{return i}finally{r.pop_exception()}}}),f.$private(),b(f,"$parsed",function(t,S,C,c){try{return ee("eval_return"),P(a("Parsed").$new(),"tap",[],function F(I){var _e,le,oe,me,ve,de,he,fe=null==F.$$s?this:F.$$s;return null==fe.round_type&&(fe.round_type=i),null==I&&(I=i),I["$command="](t["$[]"]("command")),I["$prefix_number="]((_e=t["$[]"]("prefix"))===i||null==_e?i:_e.$eval(fe.round_type)),I["$suffix_number="]((le=t["$[]"]("suffix"))===i||null==le?i:le.$eval(fe.round_type)),I["$critical="]((oe=S["$[]"]("critical"))===i||null==oe?i:oe.$eval(fe.round_type)),I["$fumble="]((me=S["$[]"]("fumble"))===i||null==me?i:me.$eval(fe.round_type)),I["$dollar="]((ve=S["$[]"]("dollar"))===i||null==ve?i:ve.$eval(fe.round_type)),I["$modify_number="](C.$eval(fe.round_type)),I["$cmp_op="](c["$[]"]("cmp_op")),k(c["$[]"]("target"),"?")?(I["$question_target="](!0),P(I,"target_number=",de=[0]),de[de.length-1]):(I["$question_target="](!1),de=[(he=c["$[]"]("target"),he===i||null==he?i:he.$eval(fe.round_type))],P(I,"target_number=",de),de[de.length-1])},{$$s:this})}catch(F){if(F===r.t_eval_return)return F.$v;throw F}}),b(f,"$next_token",function(){return this.lexer.$next_token()}),m=r.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),s=r.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),x=r.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),n=r.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),p=r.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),o=r.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),T=[i,6,13,3,9,-1,27,-15,-10,-1,-38],l=[i,i,i,i,i,i,19,16,15,i,i],U=r.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),X=$e(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),A(w[0],"Racc_arg",[m,s,n,x,p,o,l,T,19,U,X,58,35,!0]),z(a("Ractor","skip_raise")?"constant":i)&&a("Ractor").$make_shareable(a("Racc_arg")),A(w[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),z(a("Ractor","skip_raise")?"constant":i)&&a("Ractor").$make_shareable(a("Racc_token_to_s_table")),A(w[0],"Racc_debug_parser",!1),b(f,"$_reduce_1",function(t,S,C){var c;return z(this.modifier)||this.$raise(a("ParseError")),c=te(t),this.$parsed(null==c[0]?i:c[0],null==c[1]?i:c[1],null==c[2]?i:c[2],null==c[3]?i:c[3])}),b(f,"$_reduce_2",function(t,S,C){var c;return z(this.modifier)||this.$raise(a("ParseError")),c=te(t),this.$parsed(null==c[0]?i:c[0],null==c[2]?i:c[2],null==c[1]?i:c[1],null==c[3]?i:c[3])}),b(f,"$_reduce_3",function(t,S,C){var c,_e;return _e=null==(c=te(t))[2]?i:c[2],this.$parsed(null==c[0]?i:c[0],null==c[1]?i:c[1],L(L(a("Arithmetic"),"Node"),"Number").$new(0),_e)}),b(f,"$_reduce_4",function(t,S,C){var c=this;return z(c.prefix_number)&&z(c.suffix_number)||c.$raise(a("ParseError")),ie(["command","prefix","suffix"],{command:t["$[]"](1),prefix:t["$[]"](0),suffix:t["$[]"](2)})}),b(f,"$_reduce_5",function(t,S,C){var c=this;return z(c.prefix_number)||c.$raise(a("ParseError")),z(c.need_suffix_number)&&c.$raise(a("ParseError")),ie(["command","prefix"],{command:t["$[]"](1),prefix:t["$[]"](0)})}),b(f,"$_reduce_6",function(t,S,C){var c=this;return z(c.suffix_number)||c.$raise(a("ParseError")),z(c.need_prefix_number)&&c.$raise(a("ParseError")),ie(["command","suffix"],{command:t["$[]"](0),suffix:t["$[]"](1)})}),b(f,"$_reduce_7",function(t,S,C){var c=this;return(z(c.need_prefix_number)||z(c.need_suffix_number))&&c.$raise(a("ParseError")),ie(["command"],{command:t["$[]"](0)})}),b(f,"$_reduce_8",function(t,S,C){return ie([],{})}),b(f,"$_reduce_9",function(t,S,C){var c,_e,F=i;return F=null==(c=te(t))[0]?i:c[0],_e=null==c[2]?i:c[2],z(this.critical)&&z(F["$[]"]("critical")["$nil?"]())||this.$raise(a("ParseError")),F["$[]="]("critical",_e),F}),b(f,"$_reduce_10",function(t,S,C){var c,_e,F=i;return F=null==(c=te(t))[0]?i:c[0],_e=null==c[2]?i:c[2],z(this.fumble)&&z(F["$[]"]("fumble")["$nil?"]())||this.$raise(a("ParseError")),F["$[]="]("fumble",_e),F}),b(f,"$_reduce_11",function(t,S,C){var c,_e,F=i;return F=null==(c=te(t))[0]?i:c[0],_e=null==c[2]?i:c[2],z(this.dollar)&&z(F["$[]"]("dollar")["$nil?"]())||this.$raise(a("ParseError")),F["$[]="]("dollar",_e),F}),b(f,"$_reduce_12",function(t,S,C){return t["$[]"](1)}),b(f,"$_reduce_13",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))}),b(f,"$_reduce_14",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))}),b(f,"$_reduce_15",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))}),b(f,"$_reduce_16",function(t,S,C){return z(this.allowed_cmp_op["$include?"](i))||this.$raise(a("ParseError")),ie([],{})}),b(f,"$_reduce_17",function(t,S,C){var c,F,I;return I=null==(c=te(t))[1]?i:c[1],z(this.allowed_cmp_op["$include?"](F=null==c[0]?i:c[0]))||this.$raise(a("ParseError")),ie(["cmp_op","target"],{cmp_op:F,target:I})}),b(f,"$_reduce_18",function(t,S,C){var K,c=this;return K=t["$[]"](0),z(c.question_target)||c.$raise(a("ParseError")),z(c.allowed_cmp_op["$include?"](K))||c.$raise(a("ParseError")),ie(["cmp_op","target"],{cmp_op:K,target:"?"})}),b(f,"$_reduce_19",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))}),b(f,"$_reduce_20",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))}),b(f,"$_reduce_22",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))}),b(f,"$_reduce_23",function(t,S,C){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))}),b(f,"$_reduce_25",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),b(f,"$_reduce_26",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"DivideWithCeil")}),b(f,"$_reduce_27",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"DivideWithCeil")}),b(f,"$_reduce_28",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"DivideWithRound")}),b(f,"$_reduce_29",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"DivideWithFloor")}),b(f,"$_reduce_30",function(t,S,C){return t["$[]"](1)}),b(f,"$_reduce_31",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))}),b(f,"$_reduce_33",function(t,S,C){return t["$[]"](1)}),b(f,"$_reduce_34",function(t,S,C){return L(L(a("Arithmetic"),"Node"),"Number").$new(t["$[]"](0))}),b(f,"$_reduce_none",function(t,S,C){return t["$[]"](0)})},Opal.modules["bcdice/dice_table/table"]=function(r){var k,z,d,i,L,e,$,ie,$e,ce=r.module,M=r.klass,_=r.hash2,E=r.defs,O=r.truthy,ae=r.def,W=r.rb_minus,Q=[],b=r.nil;return k=Q,z=$e=[ce(Q[0],"BCDice")].concat(k),d=ie=[ce($e[0],"DiceTable")].concat(z),L=[i=M(ie[0],null,"Table")].concat(d),e=r.$r(L),($=i.$$prototype).times=$.sides=$.name=$.items=b,E(i,"$from_i18n",function(ue,re){var v=b;return v=e("I18n").$t(ue,_(["locale"],{locale:re})),this.$new(v["$[]"]("name"),v["$[]"]("type"),v["$[]"]("items"))}),ae(i,"$initialize",function(ue,re,q){var v=this,B=b;return v.name=ue,v.items=q.$freeze(),B=/(\d+)D(\d+)/i.$match(re),O(B)||v.$raise(e("ArgumentError"),"Unexpected table type: "+re),v.times=B["$[]"](1).$to_i(),v.sides=B["$[]"](2).$to_i()}),ae(i,"$roll",function(ue){var q;return q=ue.$roll_sum(this.times,this.sides),this.$choice(q)}),ae(i,"$choice",function(ue){var q;return q=W(ue,this.times),e("RollResult").$new(this.name,ue,this.items["$[]"](q))})},Opal.modules["bcdice/dice_table/range_table"]=function(r){var $e,ie,L,e,$,y,ue,u,z,ce=r.module,M=r.klass,_=r.const_set,E=r.send,O=r.truthy,ae=r.def,W=r.eqeqeq,Q=r.rb_times,b=r.rb_plus,P=[],k=r.nil;return $e=P,ie=z=[ce(P[0],"BCDice")].concat($e),L=u=[ce(z[0],"DiceTable")].concat(ie),$=[e=M(u[0],null,"RangeTable")].concat(L),y=r.$r($),(ue=e.$$prototype).name=ue.items=ue.num_of_dice=ue.num_of_sides=ue.formatter=k,_($[0],"RollResult",E(y("Struct"),"new",["sum","values","content","formatted"],function re(){return(null==re.$$s?this:re.$$s).$alias_method("to_s","formatted")},{$$s:e})),_($[0],"Item",y("Struct").$new("range","content")),_($[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),_($[0],"DEFAULT_FORMATTER",E(e,"lambda",[],function(q,v){return null==q&&(q=k),null==v&&(v=k),q.$name()+"("+v.$sum()+") \uff1e "+v.$content()})),e.$attr_reader("name"),e.$attr_reader("num_of_dice"),e.$attr_reader("num_of_sides"),ae(e,"$initialize",function re(q,v,B){var D,H=re.$$p||k,G=this,g=k;return re.$$p=null,G.name=q.$freeze(),G.formatter=O(D=H)?D:y("DEFAULT_FORMATTER"),g=y("DICE_ROLL_METHOD_RE").$match(v),O(g)||G.$raise(y("ArgumentError"),G.name+": invalid dice roll method: "+v),G.num_of_dice=g["$[]"](1).$to_i(),G.num_of_sides=g["$[]"](2).$to_i(),G.$store(B)}),ae(e,"$fetch",function(q){var B,v=this;return B=E(v.items,"find",[],function(G){return null==G&&(G=k),G.$range()["$include?"](q)}),O(B)||v.$raise(y("RangeError"),v.name+": value is out of range: "+q),B}),ae(e,"$roll",function(q){var H,v=this,B=k,G=k;return H=(B=q.$roll_barabara(v.num_of_dice,v.num_of_sides)).$sum(),(G=y("RollResult").$new(H,B,v.$fetch(H).$content()))["$formatted="](v.formatter["$[]"](v,G)),G}),e.$private(),ae(e,"$store",function(q){var B,H,v=this;return B=E(q,"map",[],function G(D,g){return null==D&&(D=k),null==g&&(g=k),[(null==G.$$s?this:G.$$s).$coerce_to_int_range(D),g]},{$$s:v}),H=E(B,"sort_by",[],function(D,g){return null==D&&(D=k),null==g&&(g=k),D.$min()}),v.$assert_min_sum_is_covered(H),v.$assert_max_sum_is_covered(H),v.$assert_no_gap_or_overlap_in_ranges(H),v.items=E(H,"map",[],function(D,g){return null==D&&(D=k),null==g&&(g=k),y("Item").$new(D,g.$freeze()).$freeze()}).$freeze(),v}),ae(e,"$coerce_to_int_range",function(q){var B;return W(y("Integer"),B=q)?y("Range").$new(q,q):W(y("Range"),B)&&O(q.$begin()["$is_a?"](y("Integer")))&&O(q.$end()["$is_a?"](y("Integer")))?q:this.$raise(y("TypeError"),this.name+": "+q+" ("+q.$class()+") must be an Integer or a Range with Integers ")}),ae(e,"$assert_min_sum_is_covered",function(q){var B,v=this,H=k;return B=v.num_of_dice,H=q.$first()["$[]"](0),O(H["$include?"](B))||v.$raise(y("RangeError"),v.name+": min value ("+B+") is not covered: "+H),v}),ae(e,"$assert_max_sum_is_covered",function(q){var B,v=this,H=k;return B=Q(v.num_of_dice,v.num_of_sides),H=q.$last()["$[]"](0),O(H["$include?"](B))||v.$raise(y("RangeError"),v.name+": max value ("+B+") is not covered: "+H),v}),ae(e,"$assert_no_gap_or_overlap_in_ranges",function(q){return E(q,"each_cons",[2],function B(H,G){var j,se,D=null==B.$$s?this:B.$$s,g=k,f=k;return null==D.name&&(D.name=k),null==H&&(H=k),null==G&&(G=k),g=H["$[]"](0),f=G["$[]"](0),j=g.$max(),se=b(j,1),O(f["$include?"](j))&&D.$raise(y("RangeError"),D.name+": Range overlap: "+g+" and "+f),O(f["$include?"](se))?k:D.$raise(y("RangeError"),D.name+": Range gap: "+g+" and "+f)},{$$s:this}),this})},Opal.queue(function(r){var re,H,se,p,o,T,l,w,a,m,D,g,v,ce=r.module,M=r.klass,_=r.const_set,E=r.truthy,O=r.hash2,ae=r.defs,W=r.def,Q=r.eqeqeq,b=r.send,P=r.rb_times,k=r.to_ary,ee=r.rb_plus,$e=r.rb_gt,A=r.thrower,z=r.rb_ge,te=r.rb_divide,ie=r.rb_minus,R=r.range,u=r.eqeq,d=r.hash,i=r.return_val,L=r.top,e=[],$=r.nil,y=r.$$$;return L.$require("bcdice/format"),L.$require("bcdice/command/parser"),L.$require("bcdice/dice_table/table"),L.$require("bcdice/dice_table/range_table"),re=e,H=v=[ce(e[0],"BCDice")].concat(re),D=[ce(v[0],"GameSystem")].concat(H),g=r.$r(D),se=D,a=[w=M(D[0],g("Base"),"BattleTech")].concat(se),m=r.$r(a),w.$$prototype.randomizer=$,_(a[0],"ID","BattleTech"),_(a[0],"NAME","\u30d0\u30c8\u30eb\u30c6\u30c3\u30af"),_(a[0],"SORT_KEY","\u306f\u3068\u308b\u3066\u3064\u304f"),_(a[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u65b9\u6cd5\n\u3000(\u56de\u6570)BT(\u30c0\u30e1\u30fc\u30b8)(\u90e8\u4f4d)+(\u57fa\u672c\u5024)>=(\u76ee\u6a19\u5024)\n\u3000\u56de\u6570\u306f\u7701\u7565\u6642 1\u56fa\u5b9a\u3002\n\u3000\u90e8\u4f4d\u306fC\uff08\u6b63\u9762\uff09R\uff08\u53f3\uff09\u3001L\uff08\u5de6\uff09\u3002\u7701\u7565\u6642\u306fC\uff08\u6b63\u9762\uff09\u56fa\u5b9a\n\u3000U\uff08\u4e0a\u534a\u8eab\uff09\u3001L\uff08\u4e0b\u534a\u8eab\uff09\u3092\u7d44\u307f\u5408\u308f\u305b CU/RU/LU/CL/RL/LL\u3082\u6307\u5b9a\u53ef\u80fd\n\u3000\u4f8b\uff09BT3+2>=4\n\u3000\u3000\u6b63\u9762\u304b\u3089\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b92\u76ee\u6a19\u50244\u30671\u56de\u5224\u5b9a\n\u3000\u4f8b\uff092BT3RL+5>=8\n\u3000\u3000\u53f3\u4e0b\u534a\u8eab\u306b\u30c0\u30e1\u30fc\u30b83\u306e\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30672\u56de\u5224\u5b9a\n\u3000\u30df\u30b5\u30a4\u30eb\u306b\u3088\u308b\u30c0\u30e1\u30fc\u30b8\u306f BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b SRM2/4/6, LRM5/10/15/20 \u3092\u6307\u5b9a\n\u3000\u4f8b\uff093SRM6LU+5>=8\n\u3000\u3000\u5de6\u4e0a\u534a\u8eab\u306bSRM6\u9023\u3092\u6280\u80fd\u30d9\u30fc\u30b95\u76ee\u6a19\u50248\u30673\u56de\u5224\u5b9a\n  BT(\u30c0\u30e1\u30fc\u30b8) \u306e\u4ee3\u308f\u308a\u306b PPC \u3092\u6307\u5b9a\u3059\u308b\u3068\u30c0\u30e1\u30fc\u30b810\u3067\u5224\u5b9a\n  \u4f8b\uff092PPCR+3>=10\n  \u3000\u53f3\u5074\u304b\u3089PPC\uff08\u30c0\u30e1\u30fc\u30b810\uff09\u306b\u3088\u308b\u653b\u6483\u3092\u6280\u80fd\u30d9\u30fc\u30b93\u76ee\u6a19\u502410\u30672\u56de\u5224\u5b9a\n\u30fbCT\uff1a\u81f4\u547d\u7684\u547d\u4e2d\u8868\n\u30fbDW\uff1a\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868\n\u30fbCDx\uff1a\u30e1\u30c3\u30af\u6226\u58eb\u610f\u8b58\u7dad\u6301\u30ed\u30fc\u30eb\u3002\u30c0\u30e1\u30fc\u30b8\u5024x\uff081\u301c6\uff09\u3067\u5224\u5b9a\u3000\u4f8b\uff09CD3\n"),w.$register_prefix("\\d*SRM","\\d*LRM","\\d*BT","\\d*PPC","CT","DW","CD"),_(a[0],"NO_CRITICAL_HIT_LIMIT",7),ae(w,"$ppc_parser",function(){var n,p=this;return null==p.ppc_parser&&(p.ppc_parser=$),E(null!=(n=p.ppc_parser)&&n!==$?"instance-variable":$)&&E(p.ppc_parser)||(p.ppc_parser=y(m("Command"),"Parser").$new(/PPC(?:[LCR][LU]?)?/,O(["round_type"],{round_type:y(m("RoundType"),"FLOOR")})),p.ppc_parser.$enable_prefix_number(),p.ppc_parser.$restrict_cmp_op_to(">=")),p.ppc_parser}),W(w,"$ppc_parser",function(){return this.$class().$ppc_parser()}),W(w,"$eval_game_system_specific_command",function(n){var p=this,o=$,T=$,l=$,U=$,V=$,N=$,X=$,Z=$,Y=$;try{return o=p.$roll_tables(n,m("TABLES")),E(o)?o:E(T=p.$ppc_parser().$parse(n))?p.$execute_ppc(T):(l=1,E(n["$=~"](/^(\d+)(.+)/))&&(l=m("Regexp").$last_match(1).$to_i(),n=m("Regexp").$last_match(2)),p.$debug("executeCommandCatched count",l),p.$debug("executeCommandCatched command",n),Q(/^CD([1-6])$/,U=n)?(V=m("Regexp").$last_match(1).$to_i(),p.$consciousness_roll(V)):Q(/^((S|L)RM\d+)(.+)/,U)?(N=m("Regexp").$last_match(3),X=m("Regexp").$last_match(1),Z=b(p,"lambda",[],function J(){return(null==J.$$s?this:J.$$s).$getXrmDamage(X)},{$$s:p}),p.$getHitResult(l,Z,N)):Q(/^BT(\d+)(.+)/,U)?(p.$debug("BT pattern"),N=m("Regexp").$last_match(2),Y=m("Regexp").$last_match(1).$to_i(),Z=b(p,"lambda",[],function(){return Y}),p.$getHitResult(l,Z,N)):$)}catch(J){if(!r.rescue(J,[m("UnknownXRMError")]))throw J;try{return $}finally{r.pop_exception()}}}),M(a[0],m("StandardError"),"UnknownXRMError"),W(w,"$getXrmDamage",function(n){var l,U,T=$;return E(m("XRM_DAMAGE_TABLES")["$key?"](n))||this.$raise(m("UnknownXRMError"),"unknown XRM: "+n),T=m("XRM_DAMAGE_TABLES")["$[]"](n).$roll(this.randomizer),l=n["$start_with?"]("L"),U=T.$content(),[E(l)?U:P(2,U),T.$sum(),l]}),_(a[0],"LRM_LIMIT",5),W(w,"$getHitResult",function(n,p,o){var T=this,l=$,U=$,V=$,N=$,X=$,Z=$,Y=$,J=$,h=$,t=$,S=$,C=$,c=$,K=$;return l=/^([LCR][LU]?)?(\+\d+)?>=(\d+)/.$match(o),E(l)?(U=E(V=l["$[]"](1))?V:"C",N=l["$[]"](2),X=l["$[]"](3).$to_i(),Z=T.$getBaseValue(N),T.$debug("side, base, target",U,Z,X),Y=y(m("HitPart"),"TABLES")["$[]"](U),J=[],h=O([],{}),t=0,b(n,"times",[],function ne(){var F,I,_e=null==ne.$$s?this:ne.$$s,oe=$;return I=_e.$getHitText(Z,X),oe=null==(F=k(I))[1]?$:F[1],E(null==F[0]?$:F[0])&&(t=ee(t,1),I=_e.$getDamages(p,Y,h),F=k(I),h=null==F[0]?$:F[0],oe=ee(oe,null==F[1]?$:F[1])),J["$<<"](oe)},{$$s:T}),S=$e(t,0),C=" \uff1e "+t+"\u56de\u547d\u4e2d",c=E(S)?C+" \u547d\u4e2d\u7b87\u6240\uff1a"+T.$getTotalDamage(h):C,J.$push(c),K=J.$join("\n"),E(S)?m("Result").$success(K):m("Result").$failure(K)):$}),W(w,"$getBaseValue",function(n){try{A("eval_return");var o=$;return o=0,E(n["$nil?"]())||(o=m("ArithmeticEvaluator").$eval(n)),o}catch(T){if(T===r.t_eval_return)return T.$v;throw T}}),W(w,"$getHitText",function(n,p){var T,l,U,V,X=$;return T=this.randomizer.$roll_once(6),l=this.randomizer.$roll_once(6),U=ee(ee(T,l),n),V=z(U,p),X=U+"["+T+","+l+(E($e(n,0))?"+"+n:"")+"]>="+p+" \uff1e ",[V,X=E(V)?ee(X,"\u547d\u4e2d \uff1e "):ee(X,"\u5916\u308c")]}),W(w,"$getDamages",function(n,p,o){var T,l,N,X,Z,V=$,Y=$;return V="",l=n.$call(),T=k(l),N=null==T[0]?$:T[0],X=null==T[1]?$:T[1],Y=1,E(Z=null==T[2]?$:T[2])&&(Y=te(P(1,N),m("LRM_LIMIT")).$ceil(),V=ee(V,"["+X+"] "+N+"\u70b9")),b(Y,"times",[],function J(h){var t,S,c,ne,F,C=null==J.$$s?this:J.$$s,I=$;return null==h&&(h=$),S=C.$getDamageInfo(X,N,Z,h),c=null==(t=k(S))[0]?$:t[0],S=C.$getHitResultOne(null==t[1]?$:t[1],p),ne=null==(t=k(S))[0]?$:t[0],F=null==t[1]?$:t[1],I=null==t[2]?$:t[2],E(Z)&&(V=ee(V," ")),V=ee(V,ne),E(o["$[]"](F)["$nil?"]())&&o["$[]="](F,O(["partDamages","criticals"],{partDamages:[],criticals:[]})),o["$[]"](F)["$[]"]("partDamages")["$<<"](c),E(I["$empty?"]())?$:o["$[]"](F)["$[]"]("criticals")["$<<"](I)},{$$s:this}),[o,V]}),W(w,"$getDamageInfo",function(n,p,o,T){var l=$;return E(n["$nil?"]())?[p,p.$to_s()]:E(o)?(l=ie(p,P(m("LRM_LIMIT"),T)),E($e(l,m("LRM_LIMIT")))&&(l=m("LRM_LIMIT")),[l,l.$to_s()]):[p,"["+n+"] "+p]}),W(w,"$getTotalDamage",function(n){var T=$,l=$,U=$;return T=0,l=[],b(["\u982d","\u80f4\u4e2d\u592e","\u53f3\u80f4","\u5de6\u80f4","\u53f3\u811a","\u5de6\u811a","\u53f3\u8155","\u5de6\u8155"],"each",[],function(N){var X=$,Z=$,Y=$,J=$,h=$;return null==N&&(N=$),X=n.$delete(N),E(X["$nil?"]())?$:(Z=b(X["$[]"]("partDamages"),"inject",[0],function(S,C){return null==S&&(S=$),null==C&&(C=$),ee(S,C)}),T=ee(T,Z),Y=X["$[]"]("partDamages").$size(),J=X["$[]"]("criticals"),h=ee(h="",N+"("+Y+"\u56de) "+Z+"\u70b9"),E(J["$empty?"]())||(h=ee(h," "+J.$join(" "))),l["$<<"](h))}),E(n["$empty?"]())||this.$raise("damages rest!! "+n.$inspect()),U=l.$join(" \uff0f "),ee(U," \uff1e \u5408\u8a08\u30c0\u30e1\u30fc\u30b8 "+T+"\u70b9")}),W(w,"$getHitResultOne",function(n,p){var U,T=$,l=$,V=$,N=$,X=$;return l=(T=p.$roll(this.randomizer)).$content(),U=E(l.$critical_hit_may_occur())?"\uff08\u81f4\u547d\u7684\u547d\u4e2d\uff09":"",V=[["["+T.$sum()+"]",""+l.$name()+U,n+"\u70b9"].$join(" ")],N="",E(l.$critical_hit_may_occur())&&(X=m("TABLES")["$[]"]("CT").$roll(this.randomizer),E($e(X.$sum(),m("NO_CRITICAL_HIT_LIMIT")))&&(N=X.$content()),V.$push("["+X.$sum()+"] "+X.$content())),[V.$join(" \uff1e "),l.$name(),N]}),W(w,"$consciousness_roll",function(n){var o=$,l=$,U=$,V=$,N=$,Z=$,Y=$,t=$;return E(R(1,6,!1)["$include?"](n))?(o="CD"+n,u(n,6)?m("Result").$fumble(o+" \uff1e \u6b7b\u4ea1"):(U="(2D6>="+(l=d(1,3,2,5,3,7,4,10,5,11)["$[]"](n))+")",Z=(N=(V=this.randomizer.$roll_barabara(2,6)).$sum())+"["+V.$join(",")+"]",Y=z(N,l),t=[o,U,Z,N,E(Y)?"\u6210\u529f":"\u5931\u6557"].$join(" \uff1e "),E(Y)?m("Result").$success(t):m("Result").$failure(t))):$}),W(w,"$execute_ppc",function(n){var o,T,N;return o=E(T=n.$prefix_number())?T:1,N=""+n.$command()["$[]"](R(3,-1,!1))+m("Format").$modifier(n.$modify_number())+">="+n.$target_number(),this.$getHitResult(o,b(this,"lambda",[],i(10)),N)}),_(a[0],"TABLES",O(["CT","DW"],{CT:y(m("DiceTable"),"RangeTable").$new("\u81f4\u547d\u7684\u547d\u4e2d\u8868","2D6",[[r.Range.$new(2,m("NO_CRITICAL_HIT_LIMIT"),!1),"\u81f4\u547d\u7684\u547d\u4e2d\u306f\u306a\u304b\u3063\u305f"],[R(8,9,!1),"1\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[R(10,11,!1),"2\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d"],[12,"\u305d\u306e\u90e8\u4f4d\u304c\u5439\u304d\u98db\u3076\uff08\u8155\u3001\u811a\u3001\u982d\uff09\u307e\u305f\u306f3\u7b87\u6240\u306e\u81f4\u547d\u7684\u547d\u4e2d\uff08\u80f4\uff09"]]),DW:y(m("DiceTable"),"Table").$new("\u8ee2\u5012\u5f8c\u306e\u5411\u304d\u8868","1D6",["\u540c\u3058\uff08\u524d\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u53f3\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u53f3\u5074\u9762","180\u5ea6\u9006\uff08\u80cc\u9762\u304b\u3089\u8ee2\u5012\uff09 \u6b63\u9762\uff0f\u80cc\u9762","2\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762","1\u30d8\u30af\u30b9\u30b5\u30a4\u30c9\u5de6\uff08\u5074\u9762\u304b\u3089\u8ee2\u5012\uff09 \u5de6\u5074\u9762"])}).$freeze()),_(a[0],"HitPart",m("Struct").$new("name","critical_hit_may_occur")),p=a,T=[o=M(a[0],null,"HitPart")].concat(p),l=r.$r(T),_(T[0],"LEFT_TORSO","\u5de6\u80f4"),_(T[0],"CENTER_TORSO","\u80f4\u4e2d\u592e"),_(T[0],"RIGHT_TORSO","\u53f3\u80f4"),_(T[0],"LEFT_ARM","\u5de6\u8155"),_(T[0],"RIGHT_ARM","\u53f3\u8155"),_(T[0],"LEFT_LEG","\u5de6\u811a"),_(T[0],"RIGHT_LEG","\u53f3\u811a"),_(T[0],"HEAD","\u982d"),_(T[0],"TABLES",O(["L","C","R","LU","CU","RU","LL","CL","RL"],{L:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\uff09","2D6",[[2,o.$new(l("LEFT_TORSO"),!0)],[3,o.$new(l("LEFT_LEG"),!1)],[R(4,5,!1),o.$new(l("LEFT_ARM"),!1)],[6,o.$new(l("LEFT_LEG"),!1)],[7,o.$new(l("LEFT_TORSO"),!1)],[8,o.$new(l("CENTER_TORSO"),!1)],[9,o.$new(l("RIGHT_TORSO"),!1)],[10,o.$new(l("RIGHT_ARM"),!1)],[11,o.$new(l("RIGHT_LEG"),!1)],[12,o.$new(l("HEAD"),!1)]]),C:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\uff09","2D6",[[2,o.$new(l("CENTER_TORSO"),!0)],[R(3,4,!1),o.$new(l("RIGHT_ARM"),!1)],[5,o.$new(l("RIGHT_LEG"),!1)],[6,o.$new(l("RIGHT_TORSO"),!1)],[7,o.$new(l("CENTER_TORSO"),!1)],[8,o.$new(l("LEFT_TORSO"),!1)],[9,o.$new(l("LEFT_LEG"),!1)],[R(10,11,!1),o.$new(l("LEFT_ARM"),!1)],[12,o.$new(l("HEAD"),!1)]]),R:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\uff09","2D6",[[2,o.$new(l("RIGHT_TORSO"),!0)],[3,o.$new(l("RIGHT_LEG"),!1)],[R(4,5,!1),o.$new(l("RIGHT_ARM"),!1)],[6,o.$new(l("RIGHT_LEG"),!1)],[7,o.$new(l("RIGHT_TORSO"),!1)],[8,o.$new(l("CENTER_TORSO"),!1)],[9,o.$new(l("LEFT_TORSO"),!1)],[10,o.$new(l("LEFT_ARM"),!1)],[11,o.$new(l("LEFT_LEG"),!1)],[12,o.$new(l("HEAD"),!1)]]),LU:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0a\u534a\u8eab\uff09","1D6",[[R(1,2,!1),o.$new(l("LEFT_TORSO"),!1)],[3,o.$new(l("CENTER_TORSO"),!1)],[R(4,5,!1),o.$new(l("LEFT_ARM"),!1)],[6,o.$new(l("HEAD"),!1)]]),CU:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u6b63\u9762\u4e0a\u534a\u8eab\uff09","1D6",[[1,o.$new(l("LEFT_ARM"),!1)],[2,o.$new(l("LEFT_TORSO"),!1)],[3,o.$new(l("CENTER_TORSO"),!1)],[4,o.$new(l("RIGHT_TORSO"),!1)],[5,o.$new(l("RIGHT_ARM"),!1)],[6,o.$new(l("HEAD"),!1)]]),RU:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0a\u534a\u8eab\uff09","1D6",[[R(1,2,!1),o.$new(l("RIGHT_TORSO"),!1)],[3,o.$new(l("CENTER_TORSO"),!1)],[R(4,5,!1),o.$new(l("RIGHT_ARM"),!1)],[6,o.$new(l("HEAD"),!1)]]),LL:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u5de6\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,6,!1),o.$new(l("LEFT_LEG"),!1)]]),CL:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,3,!1),o.$new(l("RIGHT_LEG"),!1)],[R(4,6,!1),o.$new(l("LEFT_LEG"),!1)]]),RL:y(l("DiceTable"),"RangeTable").$new("\u547d\u4e2d\u90e8\u4f4d\u8868\uff08\u53f3\u4e0b\u534a\u8eab\uff09","1D6",[[R(1,6,!1),o.$new(l("RIGHT_LEG"),!1)]])}).$freeze()),_(a[0],"XRM_DAMAGE_TABLES",O(["SRM2","SRM4","SRM6","LRM5","LRM10","LRM15","LRM20"],{SRM2:y(m("DiceTable"),"RangeTable").$new("SRM2\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,7,!1),1],[R(8,12,!1),2]]),SRM4:y(m("DiceTable"),"RangeTable").$new("SRM4\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[R(3,6,!1),2],[R(7,10,!1),3],[R(11,12,!1),4]]),SRM6:y(m("DiceTable"),"RangeTable").$new("SRM6\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),2],[R(4,5,!1),3],[R(6,8,!1),4],[R(9,10,!1),5],[R(11,12,!1),6]]),LRM5:y(m("DiceTable"),"RangeTable").$new("LRM5\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[2,1],[R(3,4,!1),2],[R(5,8,!1),3],[R(9,10,!1),4],[R(11,12,!1),5]]),LRM10:y(m("DiceTable"),"RangeTable").$new("LRM10\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),3],[4,4],[R(5,8,!1),6],[R(9,10,!1),8],[R(11,12,!1),10]]),LRM15:y(m("DiceTable"),"RangeTable").$new("LRM15\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),5],[4,6],[R(5,8,!1),9],[R(9,10,!1),12],[R(11,12,!1),15]]),LRM20:y(m("DiceTable"),"RangeTable").$new("LRM20\u30c0\u30e1\u30fc\u30b8\u8868","2D6",[[R(2,3,!1),6],[4,9],[R(5,8,!1),12],[R(9,10,!1),16],[R(11,12,!1),20]])}).$freeze())})}}]);