(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1125],{9781:(V,W,S)=>{S(9993),Opal.queue(function(r){var H,L,J,b,D,w,k,P,j,q=r.module,C=r.klass,v=r.const_set,B=r.send2,G=r.find_super,y=r.def,i=r.truthy,R=r.eqeq,p=r.rb_gt,m=r.rb_plus,x=r.neqeq,z=r.rb_ge,T=r.send,E=[],e=r.nil;return H=E,L=j=[q(E[0],"BCDice")].concat(H),k=[q(j[0],"GameSystem")].concat(L),P=r.$r(k),J=k,D=[b=C(k[0],P("Base"),"DungeonsAndDragons5")].concat(J),w=r.$r(D),b.$$prototype.randomizer=e,v(D[0],"ID","DungeonsAndDragons5"),v(D[0],"NAME","\u30c0\u30f3\u30b8\u30e7\u30f3\u30ba\uff06\u30c9\u30e9\u30b4\u30f3\u30ba\u7b2c5\u7248"),v(D[0],"SORT_KEY","\u305f\u3093\u3057\u3088\u3093\u3059\u3042\u3093\u3068\u3068\u3089\u3053\u3093\u30595"),v(D[0],"HELP_MESSAGE","\u30fb\u653b\u6483\u30ed\u30fc\u30eb\u3000AT[x][>=t][y]\n\u3000x\uff1a+-\u4fee\u6b63\u3002\u7701\u7565\u53ef\u3002\n\u3000y:\u6709\u5229(A), \u4e0d\u5229(D)\u3002\u7701\u7565\u53ef\u3002\n\u3000t:\u6575\u306e\u30a2\u30fc\u30de\u30fc\u30af\u30e9\u30b9\u3002>=\u3092\u542b\u3081\u3066\u7701\u7565\u53ef\u3002\n\u3000\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u5931\u6557\uff0f\u6210\u529f\uff0f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb \u3092\u81ea\u52d5\u5224\u5b9a\u3002\n\u3000\u4f8b\uff09AT AT>=10 AT+5>=18 AT-3>=16 ATA AT>=10A AT+3>=18A AT-3>=16 ATD AT>=10D AT+5>=18D AT-5>=16D\n\n\u30fb\u80fd\u529b\u5024\u5224\u5b9a\u3000AR[x][>=t][y]\n\u3000\u653b\u6483\u30ed\u30fc\u30eb\u3068\u540c\u69d8\u3002\u5931\u6557\uff0f\u6210\u529f\u3092\u81ea\u52d5\u5224\u5b9a\u3002\n\u3000\u4f8b\uff09AR AR>=10 AR+5>=18 AR-3>=16 ARA AR>=10A AR+3>=18A AR-3>=16 ARD AR>=10D AR+5>=18D AR-5>=16D\n\n"),b.$register_prefix("AT([+-]\\d+)?(>=\\d+)?[AD]?","AR([+-]\\d+)?(>=\\d+)?[AD]?"),y(b,"$initialize",function g(u){var $=this;return g.$$p=null,B($,G($,"initialize",g,!1,!0),"initialize",[u],null),$.sort_barabara_dice=!1}),y(b,"$eval_game_system_specific_command",function(u){var $;return i($=this.$attack_roll(u))?$:this.$ability_roll(u)}),y(b,"$number_with_sign_from_int",function(u){return R(u,0)?"":i(p(u,0))?"+"+u:u.$to_s()}),y(b,"$attack_roll",function(u){var l=this,$=e,o=e,_=e,f=e,t=e,d=e,a=e,n=e,A=e,s=e;return $=/^AT([-+]\d+)?(>=(\d+))?([AD]?)/.$match(u),i($)?(o=$["$[]"](1).$to_i(),_=$["$[]"](3).$to_i(),f=$["$[]"](4),t=0,d="",a="AT"+l.$number_with_sign_from_int(o),i(p(_,0))&&(a=m(a,">="+_)),i(f["$empty?"]())||(a=m(a,f.$to_s())),n=["("+a+")"],i(f["$empty?"]())?d=t=l.randomizer.$roll_once(20):(A=l.randomizer.$roll_barabara(2,20),d=m(m("[",A.$join(",")),"]"),t=R(f,"A")?A.$max():A.$min()),x(o,0)?(n.$push(""+d+l.$number_with_sign_from_int(o)),n.$push(m(t,o).$to_s())):(i(f["$empty?"]())||n.$push(d),n.$push(t.$to_s())),s=w("Result").$new(),R(t,20)?(s["$critical="](!0),s["$success="](!0),n.$push("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")):R(t,1)?(s["$fumble="](!0),n.$push("\u30d5\u30a1\u30f3\u30d6\u30eb")):i(p(_,0))&&(i(z(m(t,o),_))?(s["$success="](!0),n.$push("\u6210\u529f")):n.$push("\u5931\u6557")),T(w("Result").$new(),"tap",[],function(c){var h;return null==c&&(c=e),c["$text="](n.$join(" \uff1e ")),i(s)?((i(p(_,0))||i(s["$critical?"]())||i(s["$fumble?"]()))&&c["$condition="](s["$success?"]()),c["$critical="](s["$critical?"]()),h=[s["$fumble?"]()],T(c,"fumble=",h),h[h.length-1]):e})):e}),y(b,"$ability_roll",function(u){var l=this,$=e,o=e,_=e,f=e,t=e,d=e,a=e,n=e,A=e,s=e;return $=/^AR([-+]\d+)?(>=(\d+))?([AD]?)/.$match(u),i($)?(o=$["$[]"](1).$to_i(),_=$["$[]"](3).$to_i(),f=$["$[]"](4),t=0,d="",a="AR"+l.$number_with_sign_from_int(o),i(p(_,0))&&(a=m(a,">="+_)),i(f["$empty?"]())||(a=m(a,f.$to_s())),n=["("+a+")"],i(f["$empty?"]())?d=t=l.randomizer.$roll_once(20):(A=l.randomizer.$roll_barabara(2,20),d=m(m("[",A.$join(",")),"]"),t=R(f,"A")?A.$max():A.$min()),x(o,0)?(n.$push(""+d+l.$number_with_sign_from_int(o)),n.$push(m(t,o).$to_s())):(i(f["$empty?"]())||n.$push(d),n.$push(t.$to_s())),s=w("Result").$new(),i(p(_,0))&&(i(z(m(t,o),_))?(s["$success="](!0),n.$push("\u6210\u529f")):n.$push("\u5931\u6557")),T(w("Result").$new(),"tap",[],function(c){var h;return null==c&&(c=e),c["$text="](n.$join(" \uff1e ")),i(s)?(i(p(_,0))&&c["$condition="](s["$success?"]()),c["$critical="](s["$critical?"]()),h=[s["$fumble?"]()],T(c,"fumble=",h),h[h.length-1]):e})):e})})}}]);