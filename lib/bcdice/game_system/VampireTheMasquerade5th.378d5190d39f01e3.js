(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7115],{6409:(Z,x,S)=>{S(9993),Opal.queue(function(_){var w,Y,J,D,a,s,U,z,X,F=_.module,p=_.klass,o=_.const_set,u=_.truthy,H=_.to_ary,h=_.rb_lt,m=_.rb_plus,d=_.def,L=_.eqeq,R=_.rb_minus,V=_.rb_ge,I=_.rb_gt,T=_.rb_times,q=_.rb_divide,B=_.send,v=[],e=_.nil;return w=v,Y=X=[F(v[0],"BCDice")].concat(w),U=[F(X[0],"GameSystem")].concat(Y),z=_.$r(U),J=U,a=[D=p(U[0],z("Base"),"VampireTheMasquerade5th")].concat(J),s=_.$r(a),D.$$prototype.randomizer=e,o(a[0],"ID","VampireTheMasquerade5th"),o(a[0],"NAME","Vampire: The Masquerade 5th Edition"),o(a[0],"SORT_KEY","\u3046\u3042\u3093\u306f\u3044\u3042\u3055\u307e\u3059\u304b\u308c\u3048\u30685"),o(a[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nVMFx+x \u307e\u305f\u306f nVMIxHx)\n  VMF\u30b3\u30de\u30f3\u30c9\u306fHunger\u30c0\u30a4\u30b9\u3068\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3092\u500b\u5225\u306b\u6307\u5b9a\u3059\u308b\u3002\n  VMI\u30b3\u30de\u30f3\u30c9\u306fHunger\u30c0\u30a4\u30b9\u3092\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u306e\u5185\u6570\u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u3002\n\n    \u4f8b\uff1a\u96e3\u6613\u5ea62\u30019\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3067Hunger\u30c0\u30a4\u30b93\u500b\u306e\u5834\u5408\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3068\u306a\u308b\u3002\n    2VMF6+3\n    2VMI9H3\n\n  \u96e3\u6613\u5ea6\u6307\u5b9a\uff1a\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3001\u5224\u5b9a\u6210\u529f\u3068\u5931\u6557\u3001Critical\u51e6\u7406\u3001Critical Win\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n             \uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Messy Critical\u3068Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n  \u4f8b) (\u96e3\u6613\u5ea6)VMF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Hunger\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMI(\u901a\u5e38\u30c0\u30a4\u30b9)H(Hunger\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n  \u96e3\u6613\u5ea6\u7701\u7565\uff1a\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3001\u5224\u5b9a\u5931\u6557\u3001Critical\u51e6\u7406\u3001\uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n              \u5224\u5b9a\u6210\u529f\u3001Messy Critical\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n              Critical Win\u3001\uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Bestial Failure\u3001Messy Critical\u306e\u30d2\u30f3\u30c8\u3092\u51fa\u529b\n  \u4f8b) VMF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Hunger\u30c0\u30a4\u30b9)\n      VMF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      VMI(\u901a\u5e38\u30c0\u30a4\u30b9)H(Hunger\u30c0\u30a4\u30b9)\n      VMI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n  \u96e3\u6613\u5ea60\u6307\u5b9a\uff1aCritical\u51e6\u7406\u3068\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u884c\u3044\u3001\u5168\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) 0VMF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Hunger\u30c0\u30a4\u30b9)\n      0VMF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      0VMI(\u901a\u5e38\u30c0\u30a4\u30b9)+(Hunger\u30c0\u30a4\u30b9)\n      0VMI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n"),o(a[0],"DIFFICULTY_INDEX",1),o(a[0],"DICE_POOL_HUNGER_DICE_NO_INCLUDED_INDEX",5),o(a[0],"HUNGER_DICE_NO_INCLUDED_INDEX",7),o(a[0],"COMMAND_HUNGER_DICE_INCLUDED_INDEX",9),o(a[0],"DICE_POOL_HUNGER_DICE_INCLUDED_INDEX",10),o(a[0],"HUNGER_DICE_INCLUDED_INDEX",12),o(a[0],"NOT_CHECK_SUCCESS",-1),D.$register_prefix("\\d*(VMF|(VMI\\d*(H\\d?)?))"),d(D,"$eval_game_system_specific_command",function(n){var i,r,t=this,$=e,c=e,l=e,M=e,E=e,N=e,C=e,k=e,G=e,f=e,b=e,y=e;return $=/^(\d+)?(((VMF)(\d)(\+(\d+))?)|((VMI)(\d)(H(\d+))?))$/.$match(n),u($)?(r=t.$get_dice_pools($),l=null==(i=H(r))[1]?e:i[1],u(h(c=null==i[0]?e:i[0],0))?"\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3088\u308a\u591a\u3044Hunger\u30c0\u30a4\u30b9\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002":(r=t.$make_dice_roll(c),M=null==(i=H(r))[0]?e:i[0],E=null==i[1]?e:i[1],N=null==i[2]?e:i[2],C="("+c+"D10",u(l)?(r=t.$make_dice_roll(l),k=null==(i=H(r))[0]?e:i[0],G=null==i[1]?e:i[1],b=null==i[3]?e:i[3],N=m(N,f=null==i[2]?e:i[2]),E=m(E,G),C=C+"+"+l+"D10) \uff1e ["+M+"]+["+k+"] "):(f=0,b=0,C=C+") \uff1e ["+M+"] "),E=m(E,t.$get_critical_success(N)),y=u($["$[]"](s("DIFFICULTY_INDEX")))?$["$[]"](s("DIFFICULTY_INDEX")).$to_i():s("NOT_CHECK_SUCCESS"),t.$get_roll_result(C,E,N,f,b,y))):""}),D.$private(),d(D,"$get_dice_pools",function(n){var i,r,t,$=e,c=e,l=e;return t=n["$[]"](s("COMMAND_HUNGER_DICE_INCLUDED_INDEX")),u(t)&&L(t,"VMI")?($=(i=n["$[]"](s("HUNGER_DICE_INCLUDED_INDEX")))===e||null==i?e:i.$to_i(),c=R(n["$[]"](s("DICE_POOL_HUNGER_DICE_INCLUDED_INDEX")).$to_i(),u(l=$)?l:0)):($=(r=n["$[]"](s("HUNGER_DICE_NO_INCLUDED_INDEX")))===e||null==r?e:r.$to_i(),c=n["$[]"](s("DICE_POOL_HUNGER_DICE_NO_INCLUDED_INDEX")).$to_i()),[c,$]}),d(D,"$get_roll_result",function(n,i,r,t,$,c){var l;return n=n+" \u6210\u529f\u6570="+i,l=V(r,2),u(I(c,0))?(n=n+" \u96e3\u6613\u5ea6="+c,u(V(i,c))?(n=n+" \u5dee\u5206="+R(i,c),u(I(t,0))&&u(l)?s("Result").$critical(n+"\uff1a\u5224\u5b9a\u6210\u529f! [Messy Critical]"):u(l)?s("Result").$critical(n+"\uff1a\u5224\u5b9a\u6210\u529f! [Critical Win]"):s("Result").$success(n+"\uff1a\u5224\u5b9a\u6210\u529f!")):u(I($,0))?s("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):s("Result").$failure(n+"\uff1a\u5224\u5b9a\u5931\u6557!")):u(h(c,0))?L(i,0)?u(I($,0))?s("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Bestial Failure]"):s("Result").$failure(n+"\uff1a\u5224\u5b9a\u5931\u6557!"):(u(I($,0))&&(n+="\n\u3000\u5224\u5b9a\u5931\u6557\u306a\u3089 [Bestial Failure]"),u(I(t,0))&&u(l)?n+="\n\u3000\u5224\u5b9a\u6210\u529f\u306a\u3089 [Messy Critical]":u(l)&&(n+="\n\u3000\u5224\u5b9a\u6210\u529f\u306a\u3089 [Critical Win]"),n.$to_s()):n.$to_s()}),d(D,"$get_critical_success",function(n){return T(q(n,2).$to_i(),2)}),d(D,"$make_dice_roll",function(n){var r=e;return[(r=this.randomizer.$roll_barabara(n,10)).$join(","),B(r,"count",[],function(E){return null==E&&(E=e),V(E,6)}),r.$count(10),r.$count(1)]})})}}]);