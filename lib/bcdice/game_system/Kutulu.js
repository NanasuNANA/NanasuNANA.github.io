(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[8790],{76:(Y,F,w)=>{w(9993),Opal.queue(function(t){var B,M,P,i,d,g,p,I,U,k=[],e=t.nil,y=t.module,S=t.klass,b=t.const_set,C=t.send2,j=t.find_super,K=t.def,l=t.truthy,z=t.send,q=t.rb_ge,x=t.rb_gt,h=t.rb_plus,E=t.eqeq;return B=k,M=U=[y(k[0],"BCDice")].concat(B),p=[y(U[0],"GameSystem")].concat(M),I=t.$r(p),P=p,d=[i=S(p[0],I("Base"),"Kutulu")].concat(P),g=t.$r(d),i.$$prototype.randomizer=e,b(d[0],"ID","Kutulu"),b(d[0],"NAME","Kutulu"),b(d[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3046"),b(d[0],"HELP_MESSAGE","\u25a0\u5224\u5b9a\u3000nKU        n: \u30c0\u30a4\u30b9\u6570\n\n\u4f8b)3KU: \u30c0\u30a4\u30b9\u30923\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a(\u30ae\u30ea\u30ae\u30ea\u3067\u306e\u6210\u529f\u3082\u8868\u793a)\n\n\u25a0\u5bfe\u6297\u5224\u5b9a\u3000nKR        n: \u30c0\u30a4\u30b9\u6570\n\n\u4f8b)2KR: \u30c0\u30a4\u30b9\u30922\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\u3002\u5bfe\u6297\u5224\u5b9a\u7528\u306e3\u6841\u306e\u6570\u5b57\u3082\u51fa\u529b\u3002(\u5927\u304d\u3044\u65b9\u304c\u52dd\u5229)\n"),i.$register_prefix("\\dK[UR]"),K(i,"$initialize",function a(s){var n=this;return delete a.$$p,C(n,j(n,"initialize",a,!1,!0),"initialize",[s],null),n.sort_barabara_dice=!0},1),K(i,"$eval_game_system_specific_command",function(s){var n;return l(n=this.$resolute_action(s))?n:this.$resolute_competition(s)},1),i.$private(),K(i,"$resolute_action",function(s){var n=e,o=e,r=e,u=e,c=e,f=e;return n=/(\d)KU/.$match(s),l(n)?(u="("+(o=n["$[]"](1).$to_i())+"KU) \uff1e "+(r=this.randomizer.$roll_barabara(o,6).$sort()).$join(","),c=z(r,"count",[],function(_){return null==_&&(_=e),q(_,4)},1),f=r.$count(4),l(x(c,0))?(u=h(u," \uff1e \u6210\u529f\u6570"+c),E(c,1)&&E(f,1)&&(u=h(u," \uff1e *\u30ae\u30ea\u30ae\u30ea\u3067\u306e\u6210\u529f")),g("Result").$success(u)):(u=h(u," \uff1e \u5931\u6557"),g("Result").$failure(u))):e},1),K(i,"$resolute_competition",function(s){var n=e,o=e,r=e,m=e,u=e,c=e,f=e,_=e;return n=/(\d)KR/.$match(s),l(n)?(o=n["$[]"](1).$to_i(),m=(r=this.randomizer.$roll_barabara(o,6).$sort()).$join(","),u=r.$count(6),c=r.$count(5),f=z(r,"count",[],function(R){return null==R&&(R=e),q(R,4)},1),_="("+o+"KR) \uff1e "+m+" \uff1e "+this.$format("(%d%d%d)",f,u,c),l(x(f,0))?g("Result").$success(_):g("Result").$failure(_)):e},1)})}}]);