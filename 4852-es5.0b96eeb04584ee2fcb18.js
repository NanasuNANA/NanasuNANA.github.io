(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4852],{44852:function(e,r,t){t(93683),Opal.modules["bcdice/dice_table/table"]=function(e){var r,t,n,i,a,c,$,o,u,s,_,d=[],l=e.nil,f=e.$$,p=e.module,y=e.klass,h=e.hash2,m=e.truthy;return r=d,t=_=[p(d[0],"BCDice")].concat(r),n=s=[p(_[0],"DiceTable")].concat(t),o=y(s[0],null,"Table"),u=[o].concat(n),o.$$prototype.times=o.$$prototype.sides=o.$$prototype.name=o.$$prototype.items=l,e.defs(o,"$from_i18n",i=function(e,r){var t=l;return t=f(u,"I18n").$t(e,h(["locale"],{locale:r})),this.$new(t["$[]"]("name"),t["$[]"]("type"),t["$[]"]("items"))},i.$$arity=2),e.def(o,"$initialize",a=function(e,r,t){var n=this,i=l;return n.name=e,n.items=t.$freeze(),i=/(\d+)D(\d+)/i.$match(r),m(i)||n.$raise(f(u,"ArgumentError"),"Unexpected table type: "+r),n.times=i["$[]"](1).$to_i(),n.sides=i["$[]"](2).$to_i()},a.$$arity=3),e.def(o,"$roll",c=function(e){var r,t=this;return r=e.$roll_sum(t.times,t.sides),t.$choice(r)},c.$$arity=1),void e.def(o,"$choice",$=function(e){var r,t=this;return r=function(e,r){return"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)}(e,t.times),f(u,"RollResult").$new(t.name,e,t.items["$[]"](r))},$.$$arity=1)},Opal.modules["bcdice/dice_table/d66_table"]=function(e){var r,t,n,i,a,c,$,o,u,s,_,d=[],l=e.nil,f=e.$$$,p=e.$$,y=e.module,h=e.klass,m=e.hash2,b=e.truthy;return r=d,t=_=[y(d[0],"BCDice")].concat(r),n=s=[y(_[0],"DiceTable")].concat(t),o=h(s[0],null,"D66Table"),u=[o].concat(n),o.$$prototype.sort_type=o.$$prototype.items=o.$$prototype.name=l,e.defs(o,"$from_i18n",i=function(e,r){var t,n=l;return n=p(u,"I18n").$t(e,m(["locale"],{locale:r})),t=p(u,"D66SortType").$const_get(n["$[]"]("d66_sort_type")),this.$new(n["$[]"]("name"),t,n["$[]"]("items"))},i.$$arity=2),e.def(o,"$initialize",a=function(e,r,t){var n=this;return n.name=e,n.sort_type=r,n.items=t.$freeze()},a.$$arity=3),e.def(o,"$roll",c=function(e){var r,t,n,i=this,a=l,c=l,$=l;return a=e.$roll_barabara(2,6),r=i.sort_type,f(p(u,"D66SortType"),"ASC")["$==="](r)?a["$sort!"]():f(p(u,"D66SortType"),"DESC")["$==="](r)&&a["$sort!"]()["$reverse!"](),c=function(e,r){return"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r)}("number"==typeof(n=a["$[]"](0))?10*n:n["$*"](10),a["$[]"](1)),$=b(t=i.items["$[]"](c))?t:i.items["$[]"](c.$to_s()),b($["$respond_to?"]("roll"))&&($=$.$roll(e)),p(u,"RollResult").$new(i.name,c,$)},c.$$arity=1),void e.def(o,"$choice",$=function(e){return p(u,"RollResult").$new(this.name,e,this.items["$[]"](e))},$.$$arity=1)},Opal.modules["bcdice/arithmetic/node"]=function(e){function r(e,r){return"number"==typeof e&&"number"==typeof r?e/r:e["$/"](r)}var t,n,i,a,c,$,o,u,s,_,d,l,f,p,y,h,m,b=[],v=e.nil,g=e.$$$,R=e.$$,x=e.module,k=e.klass,N=e.send2;return t=b,n=m=[x(b[0],"BCDice")].concat(t),i=h=[x(m[0],"Arithmetic")].concat(n),function(r,t,n){var i,a,c,$,o,u=k(r,null,"BinaryOp");[u].concat(n),u.$$prototype.lhs=u.$$prototype.rhs=u.$$prototype.op=v,e.def(u,"$initialize",i=function(e,r,t){var n=this;return n.lhs=e,n.op=r,n.rhs=t},i.$$arity=3),e.def(u,"$eval",a=function(e){var r,t=this,n=v;return n=t.lhs.$eval(e),r=t.rhs.$eval(e),n.$send(t.op,r)},a.$$arity=1),e.def(u,"$output",c=function(){var e=this;return""+e.lhs.$output()+e.op+e.rhs.$output()},c.$$arity=0),e.def(u,"$s_exp",$=function(){var e=this;return"("+e.$op_for_s_exp()+" "+e.lhs.$s_exp()+" "+e.rhs.$s_exp()+")"},$.$$arity=0),e.def(u,"$op_for_s_exp",o=function(){return this.op},o.$$arity=0)}((y=[x(h[0],"Node")].concat(i))[0],0,y),a=y[0],c=R(y,"BinaryOp"),$=y,f=k(a,c,"DivideBase"),p=[f].concat($),f.$$prototype.lhs=f.$$prototype.rhs=f.$$prototype.op=v,e.def(f,"$initialize",o=function(r,t){return o.$$p&&(o.$$p=null),N(this,e.find_super_dispatcher(this,"initialize",o,!1,!0),"initialize",[r,"/",t],null)},o.$$arity=2),e.def(f,"$eval",u=function(e){var r,t=this,n=v;return r=t.lhs.$eval(e),(n=t.rhs.$eval(e))["$=="](0)&&t.$raise(R(p,"ZeroDivisionError")),t.$divide_and_round(r,n,e)},u.$$arity=1),e.def(f,"$output",s=function(){var r=s.$$p,t=this,n=v,i=v,a=v;for(r&&(s.$$p=null),i=0,a=arguments.length,n=new Array(a);i<a;i++)n[i]=arguments[i];return""+N(t,e.find_super_dispatcher(t,"output",s,!1,!0),"output",n,r)+t.$rounding_method()},s.$$arity=0),f.$private(),e.def(f,"$rounding_method",_=function(){return g(this.$class(),"ROUNDING_METHOD")},_.$$arity=0),e.def(f,"$op_for_s_exp",d=function(){return""+this.op+this.$rounding_method()},d.$$arity=0),e.def(f,"$divide_and_round",l=function(e,r,t){return this.$raise(R(p,"NotImplementedError"))},l.$$arity=3),function(t,n,i){var a,c=k(t,n,"DivideWithGameSystemDefault"),$=[c].concat(i);e.const_set($[0],"ROUNDING_METHOD",""),c.$private(),e.def(c,"$divide_and_round",a=function(e,t,n){var i;return i=n,g(R($,"RoundType"),"CEIL")["$==="](i)?r(e.$to_f(),t).$ceil():g(R($,"RoundType"),"ROUND")["$==="](i)?r(e.$to_f(),t).$round():r(e,t).$to_i()},a.$$arity=3)}(y[0],R(y,"DivideBase"),y),function(t,n,i){var a,c=k(t,n,"DivideWithCeil"),$=[c].concat(i);e.const_set($[0],"ROUNDING_METHOD","C"),c.$private(),e.def(c,"$divide_and_round",a=function(e,t,n){return r(e.$to_f(),t).$ceil()},a.$$arity=3)}(y[0],R(y,"DivideBase"),y),function(t,n,i){var a,c=k(t,n,"DivideWithRound"),$=[c].concat(i);e.const_set($[0],"ROUNDING_METHOD","R"),c.$private(),e.def(c,"$divide_and_round",a=function(e,t,n){return r(e.$to_f(),t).$round()},a.$$arity=3)}(y[0],R(y,"DivideBase"),y),function(t,n,i){var a,c=k(t,n,"DivideWithFloor"),$=[c].concat(i);e.const_set($[0],"ROUNDING_METHOD","F"),c.$private(),e.def(c,"$divide_and_round",a=function(e,t,n){return r(e,t).$to_i()},a.$$arity=3)}(y[0],R(y,"DivideBase"),y),function(r,t,n){var i,a,c,$,o=k(r,null,"Negative");[o].concat(n),o.$$prototype.body=v,e.def(o,"$initialize",i=function(e){return this.body=e},i.$$arity=1),e.def(o,"$eval",a=function(e){return this.body.$eval(e)["$-@"]()},a.$$arity=1),e.def(o,"$output",c=function(){return"-"+this.body.$output()},c.$$arity=0),e.def(o,"$s_exp",$=function(){return"(- "+this.body.$s_exp()+")"},$.$$arity=0)}(y[0],0,y),function(r,t,n){var i,a,c,$,o=k(r,null,"Parenthesis");[o].concat(n),o.$$prototype.expr=v,e.def(o,"$initialize",i=function(e){return this.expr=e},i.$$arity=1),e.def(o,"$eval",a=function(e){return this.expr.$eval(e)},a.$$arity=1),e.def(o,"$output",c=function(){return"("+this.expr.$output()+")"},c.$$arity=0),e.def(o,"$s_exp",$=function(){return"(Parenthesis "+this.expr.$s_exp()+")"},$.$$arity=0)}(y[0],0,y),void function(r,t,n){var i,a,c,$=k(r,null,"Number");[$].concat(n),$.$$prototype.value=v,e.def($,"$initialize",i=function(e){return this.value=e},i.$$arity=1),e.def($,"$eval",a=function(e){return this.value},a.$$arity=1),e.def($,"$output",c=function(){return this.value.$to_s()},c.$$arity=0),e.alias($,"s_exp","output")}(y[0],0,y)},Opal.modules["racc/parser"]=function(e){function r(e,r){return"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)}function t(e,r){return"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)}function n(e,r){return"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r)}function i(e,r){return"number"==typeof e&&"number"==typeof r?e>=r:e["$>="](r)}function a(e,r){return"number"==typeof e&&"number"==typeof r?e>r:e["$>"](r)}function c(e,r){return"number"==typeof e&&"number"==typeof r?e<=r:e["$<="](r)}var $,o,u,s,_,d=[],l=e.nil,f=e.$$$,p=e.$$,y=e.module,h=e.klass,m=e.truthy,b=e.gvars,v=e.send;return s=d,$=(_=[y(d[0],"Racc")].concat(s))[0],o=p(_,"StandardError"),u=_,[h($,o,"ParseError")].concat(u),m(f("::","ParseError","skip_raise")?"constant":l)||e.const_set(d[0],"ParseError",f(p(d,"Racc"),"ParseError")),function($,o){var u,s,_,d,g,R,x,k,N,w,S,P,A,T,D,E,C,B,O,L,z,U,I,M,q,K,H,W=[y($,"Racc")].concat(o);m(p(W,"Racc_No_Extensions","skip_raise")?"constant":l)||e.const_set(W[0],"Racc_No_Extensions",!1),u=W,K=h(W[0],null,"Parser"),H=[K].concat(u),K.$$prototype.yydebug=K.$$prototype.racc_debug_out=K.$$prototype.racc_error_status=K.$$prototype.racc_t=K.$$prototype.racc_vstack=K.$$prototype.racc_val=K.$$prototype.racc_state=K.$$prototype.racc_tstack=l,e.const_set(H[0],"Racc_Runtime_Version","1.4.6"),e.const_set(H[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),e.const_set(H[0],"Racc_Runtime_Core_Version_R","1.4.6"),e.const_set(H[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),e.const_set(H[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),e.const_set(H[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),e.const_set(H[0],"Racc_Runtime_Core_Version",p(H,"Racc_Runtime_Core_Version_R")),e.const_set(H[0],"Racc_Runtime_Core_Revision",p(H,"Racc_Runtime_Core_Revision_R")),e.const_set(H[0],"Racc_Runtime_Type","ruby"),e.defs(p(H,"Parser"),"$racc_runtime_type",s=function(){return p(H,"Racc_Runtime_Type")},s.$$arity=0),e.def(K,"$_racc_setup",_=function(){var n,i,a=this,c=l,$=l,o=l;return null==b.stderr&&(b.stderr=l),m(f(a.$class(),"Racc_debug_parser"))||(a.yydebug=!1),m(null!=(n=a.yydebug)&&n!==l?"instance-variable":l)||(a.yydebug=!1),m(a.yydebug)&&(m(null!=(i=a.racc_debug_out)&&i!==l?"instance-variable":l)||(a.racc_debug_out=b.stderr),a.racc_debug_out=m(c=a.racc_debug_out)?c:b.stderr),$=f(a.$class(),"Racc_arg"),m(r($.$size(),14))&&(v($,"[]=",e.to_a(o=[13,!0])),t(o.length,1)),$},_.$$arity=0),e.def(K,"$_racc_init_sysvars",d=function(){var e=this;return e.racc_state=[0],e.racc_tstack=[],e.racc_vstack=[],e.racc_t=l,e.racc_val=l,e.racc_read_next=!0,e.racc_user_yyerror=!1,e.racc_error_status=0},d.$$arity=0),e.def(K,"$do_parse",g=function(){return this.$__send__(p(H,"Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},g.$$arity=0),e.def(K,"$next_token",R=function(){return this.$raise(p(H,"NotImplementedError"),this.$class()+"#next_token is not defined")},R.$$arity=0),e.def(K,"$_racc_do_parse_rb",x=function(r,t){var a,c,$=this,o=l,u=l,s=l,_=l,d=l,f=l,p=l,y=l;return a=e.to_ary(r),o=null==a[0]?l:a[0],u=null==a[1]?l:a[1],s=null==a[2]?l:a[2],_=null==a[3]?l:a[3],d=null==a[10]?l:a[10],$.$_racc_init_sysvars(),f=p=y=l,v($,"catch",["racc_end_parse"],((c=function(){var t,a,$=null==c.$$s?this:c.$$s,h=l,b=l,v=l;for(null==$.racc_state&&($.racc_state=l),null==$.racc_read_next&&($.racc_read_next=l),null==$.racc_t&&($.racc_t=l),null==$.yydebug&&($.yydebug=l),null==$.racc_val&&($.racc_val=l);m(!0);)for(m(y=_["$[]"]($.racc_state["$[]"](-1)))?(m($.racc_read_next)&&m($.racc_t["$!="](0))&&(a=$.$next_token(),t=e.to_ary(a),f=null==t[0]?l:t[0],$.racc_val=null==t[1]?l:t[1],$.racc_t=m(f)?m(h=d["$[]"](f))?h:1:0,m($.yydebug)&&$.$racc_read_token($.racc_t,f,$.racc_val),$.racc_read_next=!1),y=n(y,$.racc_t),m(m(b=m(v=i(y,0))?p=o["$[]"](y):v)?u["$[]"](y)["$=="]($.racc_state["$[]"](-1)):b)||(p=s["$[]"]($.racc_state["$[]"](-1)))):p=s["$[]"]($.racc_state["$[]"](-1));m(p=$.$_racc_evalact(p,r)););}).$$s=$,c.$$arity=0,c))},x.$$arity=2),e.def(K,"$yyparse",k=function(e,r){return this.$__send__(p(H,"Racc_YY_Parse_Method"),e,r,this.$_racc_setup(),!0)},k.$$arity=2),e.def(K,"$_racc_yyparse_rb",N=function(r,t,a,c){var $,o,u=l,s=l,_=l,d=l,f=l,p=l,y=l;return $=e.to_ary(a),u=null==$[0]?l:$[0],s=null==$[1]?l:$[1],_=null==$[2]?l:$[2],d=null==$[3]?l:$[3],f=null==$[10]?l:$[10],this.$_racc_init_sysvars(),p=l,y=l,v(this,"catch",["racc_end_parse"],((o=function(){var e,c=null==o.$$s?this:o.$$s;for(null==c.racc_state&&(c.racc_state=l);!m(y=d["$[]"](c.racc_state["$[]"](-1)));)for(;m(p=c.$_racc_evalact(_["$[]"](c.racc_state["$[]"](-1)),a)););return v(r,"__send__",[t],((e=function(r,t){var c,$,o=null==e.$$s?this:e.$$s,h=l,b=l,v=l,g=l,R=l,x=l,k=l;for(null==o.racc_t&&(o.racc_t=l),null==o.racc_state&&(o.racc_state=l),null==o.racc_read_next&&(o.racc_read_next=l),null==r&&(r=l),null==t&&(t=l),o.racc_t=m(r)?m(h=f["$[]"](r))?h:1:0,o.racc_val=t,o.racc_read_next=!1,y=n(y,o.racc_t),m(m(c=m($=i(y,0))?p=u["$[]"](y):$)?s["$[]"](y)["$=="](o.racc_state["$[]"](-1)):c)||(p=_["$[]"](o.racc_state["$[]"](-1)));m(p=o.$_racc_evalact(p,a)););for(;m(m(b=m(v=(y=d["$[]"](o.racc_state["$[]"](-1)))["$!"]())?v:o.racc_read_next["$!"]())?b:o.racc_t["$=="](0));)for(m(m(g=m(R=m(x=m(k=y)?y=n(y,o.racc_t):k)?i(y,0):x)?p=u["$[]"](y):R)?s["$[]"](y)["$=="](o.racc_state["$[]"](-1)):g)||(p=_["$[]"](o.racc_state["$[]"](-1)));m(p=o.$_racc_evalact(p,a)););}).$$s=c,e.$$arity=2,e))}).$$s=this,o.$$arity=0,o))},N.$$arity=4),e.def(K,"$_racc_evalact",w=function($,o){var u,s,_,d,f=this,p=l,y=l,h=l,b=l,g=l,R=l,x=l,k=l,N=l,w=l;if(p=null==(u=e.to_ary(o))[0]?l:u[0],y=null==u[1]?l:u[1],h=null==u[3]?l:u[3],_=null==u[11]?l:u[11],b=null==u[12]?l:u[12],m(m(d=a($,0))?r($,_):d))m(a(f.racc_error_status,0))&&(f.racc_t["$=="](1)||(f.racc_error_status=t(f.racc_error_status,1))),f.racc_vstack.$push(f.racc_val),f.racc_state.$push($),f.racc_read_next=!0,m(f.yydebug)&&(f.racc_tstack.$push(f.racc_t),f.$racc_shift(f.racc_t,f.racc_tstack,f.racc_vstack));else if(m(m(g=r($,0))?a($,b["$-@"]()):g)){if(R=v(f,"catch",["racc_jump"],((s=function(){var e=null==s.$$s?this:s.$$s;return null==e.racc_state&&(e.racc_state=l),e.racc_state.$push(e.$_racc_do_reduce(o,$)),!1}).$$s=f,s.$$arity=0,s)),m(R)){if(1["$==="](x=R))return f.racc_user_yyerror=!0,b["$-@"]();if(2["$==="](x))return _;f.$raise("[Racc Bug] unknown jump code")}}else if($["$=="](_))m(f.yydebug)&&f.$racc_accept(),f.$throw("racc_end_parse",f.racc_vstack["$[]"](0));else{if($["$=="](b["$-@"]())){for((0)["$==="](x=f.racc_error_status)?m(o["$[]"](21))||f.$on_error(f.racc_t,f.racc_val,f.racc_vstack):3["$==="](x)&&(f.racc_t["$=="](0)&&f.$throw("racc_end_parse",l),f.racc_read_next=!0),f.racc_user_yyerror=!1,f.racc_error_status=3;m(!0)&&(!m(k=h["$[]"](f.racc_state["$[]"](-1)))||(k=n(k,1),!m(m(N=m(w=i(k,0))?$=p["$[]"](k):w)?y["$[]"](k)["$=="](f.racc_state["$[]"](-1)):N)));)m(c(f.racc_state.$size(),1))&&f.$throw("racc_end_parse",l),f.racc_state.$pop(),f.racc_vstack.$pop(),m(f.yydebug)&&(f.racc_tstack.$pop(),f.$racc_e_pop(f.racc_state,f.racc_tstack,f.racc_vstack));return $}f.$raise("[Racc Bug] unknown action "+$.$inspect())}return m(f.yydebug)&&f.$racc_next_state(f.racc_state["$[]"](-1),f.racc_state),l},w.$$arity=2),e.def(K,"$_racc_do_reduce",S=function(r,a){var c,$,o,u,s,_,d,f=this,p=l,y=l,h=l,b=l,g=l,R=l,x=l,k=l,N=l,w=l,S=l,P=l,A=l,T=l,D=l,E=l;return p=null==(c=e.to_ary(r))[4]?l:c[4],y=null==c[5]?l:c[5],h=null==c[6]?l:c[6],b=null==c[7]?l:c[7],$=null==c[8]?l:c[8],g=null==c[9]?l:c[9],o=null==c[13]?l:c[13],R=f.racc_state,x=f.racc_vstack,k=f.racc_tstack,N=function(e,r){return"number"==typeof e?-3*e:e["$*"](-3)}(a),w=g["$[]"](N),u=g["$[]"](n(N,1)),s=g["$[]"](n(N,2)),_=[],m(f.yydebug)&&(S=k["$[]"](w["$-@"](),w)),P=x["$[]"](w["$-@"](),w),m(f.yydebug)&&(A=[w["$-@"](),w,_],v(k,"[]=",e.to_a(A)),t(A.length,1)),A=[w["$-@"](),w,_],v(x,"[]=",e.to_a(A)),t(A.length,1),A=[w["$-@"](),w,_],v(R,"[]=",e.to_a(A)),t(A.length,1),m(o)?x.$push(f.$__send__(s,P,x,P["$[]"](0))):x.$push(f.$__send__(s,P,x)),k.$push(u),m(f.yydebug)&&f.$racc_reduce(S,u,k,x),d=t(u,$),m(N=b["$[]"](d))&&(N=n(N,R["$[]"](-1)),m(m(T=m(D=i(N,0))?E=p["$[]"](N):D)?y["$[]"](N)["$=="](d):T))?E:h["$[]"](d)},S.$$arity=2),e.def(K,"$on_error",P=function(e,r,t){var n,i=this;return i.$raise(p(H,"ParseError"),i.$sprintf("\nparse error on value %s (%s)",r.$inspect(),m(n=i.$token_to_str(e))?n:"?"))},P.$$arity=3),e.def(K,"$yyerror",A=function(){return this.$throw("racc_jump",1)},A.$$arity=0),e.def(K,"$yyaccept",T=function(){return this.$throw("racc_jump",2)},T.$$arity=0),e.def(K,"$yyerrok",D=function(){return this.racc_error_status=0},D.$$arity=0),e.def(K,"$racc_read_token",E=function(e,r,t){var n=this;return n.racc_debug_out.$print("read    "),n.racc_debug_out.$print(r.$inspect(),"(",n.$racc_token2str(e),") "),n.racc_debug_out.$puts(t.$inspect()),n.racc_debug_out.$puts()},E.$$arity=3),e.def(K,"$racc_shift",C=function(e,r,t){var n=this;return n.racc_debug_out.$puts("shift   "+n.$racc_token2str(e)),n.$racc_print_stacks(r,t),n.racc_debug_out.$puts()},C.$$arity=3),e.def(K,"$racc_reduce",B=function(e,r,t,n){var i,a=this,c=l;return(c=a.racc_debug_out).$print("reduce "),m(e["$empty?"]())?c.$print(" <none>"):v(e,"each",[],((i=function(e){return null==e&&(e=l),c.$print(" ",(null==i.$$s?this:i.$$s).$racc_token2str(e))}).$$s=a,i.$$arity=1,i)),c.$puts(" --\x3e "+a.$racc_token2str(r)),a.$racc_print_stacks(t,n),a.racc_debug_out.$puts()},B.$$arity=4),e.def(K,"$racc_accept",O=function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},O.$$arity=0),e.def(K,"$racc_e_pop",L=function(e,r,t){var n=this;return n.racc_debug_out.$puts("error recovering mode: pop token"),n.$racc_print_states(e),n.$racc_print_stacks(r,t),n.racc_debug_out.$puts()},L.$$arity=3),e.def(K,"$racc_next_state",z=function(e,r){var t=this;return t.racc_debug_out.$puts("goto    "+e),t.$racc_print_states(r),t.racc_debug_out.$puts()},z.$$arity=2),e.def(K,"$racc_print_stacks",U=function(e,r){var t,n=l;return(n=this.racc_debug_out).$print("        ["),v(e,"each_index",[],((t=function(i){return null==i&&(i=l),n.$print(" (",(null==t.$$s?this:t.$$s).$racc_token2str(e["$[]"](i))," ",r["$[]"](i).$inspect(),")")}).$$s=this,t.$$arity=1,t)),n.$puts(" ]")},U.$$arity=2),e.def(K,"$racc_print_states",I=function(e){var r,t=l;return(t=this.racc_debug_out).$print("        ["),v(e,"each",[],((r=function(e){return null==e&&(e=l),t.$print(" ",e)}).$$s=this,r.$$arity=1,r)),t.$puts(" ]")},I.$$arity=1),e.def(K,"$racc_token2str",M=function(e){var r;return m(r=f(this.$class(),"Racc_token_to_s_table")["$[]"](e))?r:this.$raise("[Racc Bug] can't convert token "+e+" to string")},M.$$arity=1),e.def(K,"$token_to_str",q=function(e){return f(this.$class(),"Racc_token_to_s_table")["$[]"](e)},q.$$arity=1)}(d[0],d)},Opal.modules.strscan=function(e){var r,t,n,i,a,c,$,o,u,s,_,d,l,f,p,y,h,m,b,v,g,R,x,k,N,w,S,P,A=[],T=e.nil,D=e.$$,E=e.truthy,C=e.send;return r=A,S=(0,e.klass)(A[0],null,"StringScanner"),P=[S].concat(r),S.$$prototype.pos=S.$$prototype.string=S.$$prototype.working=S.$$prototype.matched=S.$$prototype.prev_pos=S.$$prototype.match=T,S.$attr_reader("pos"),S.$attr_reader("matched"),e.def(S,"$initialize",t=function(e){var r=this;return r.string=e,r.pos=0,r.matched=T,r.working=e,r.match=[]},t.$$arity=1),S.$attr_reader("string"),e.def(S,"$beginning_of_line?",n=function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)},n.$$arity=0),e.alias(S,"bol?","beginning_of_line?"),e.def(S,"$scan",i=function(e){var r=this,t=(e=r.$anchor(e)).exec(r.working);return null==t?r.matched=T:"object"==typeof t?(r.prev_pos=r.pos,r.pos+=t[0].length,r.working=r.working.substring(t[0].length),r.matched=t[0],r.match=t,t[0]):"string"==typeof t?(r.pos+=t.length,r.working=r.working.substring(t.length),t):T},i.$$arity=1),e.def(S,"$scan_until",a=function(e){var r=this;e=r.$anchor(e);for(var t,n=r.pos,i=r.working;;){if(t=e.exec(i),n+=1,i=i.substr(1),null!=t)return r.matched=r.string.substr(r.pos,n-r.pos-1+t[0].length),r.match=t,r.prev_pos=n-1,r.pos=n,r.working=i.substr(t[0].length),r.matched;if(0===i.length)return r.match=[],r.matched=T}},a.$$arity=1),e.def(S,"$[]",c=function(e){var r;if(E(this.match["$empty?"]()))return T;r=e,D(P,"Symbol")["$==="](r)?e=e.$to_s():D(P,"String")["$==="](r)||(e=D(P,"Opal")["$coerce_to!"](e,D(P,"Integer"),"to_int"));var t=this.match;return e<0&&(e+=t.length),e<0||e>=t.length||null==t[e]?T:t[e]},c.$$arity=1),e.def(S,"$check",$=function(e){var r=this,t=(e=r.$anchor(e)).exec(r.working);return r.matched=null==t?T:t[0]},$.$$arity=1),e.def(S,"$check_until",o=function(e){var r=this,t=r.prev_pos,n=r.pos,i=r.$scan_until(e);return i!==T&&(r.matched=i.substr(-1),r.working=r.string.substr(n)),r.prev_pos=t,r.pos=n,i},o.$$arity=1),e.def(S,"$peek",u=function(e){return this.working.substring(0,e)},u.$$arity=1),e.def(S,"$eos?",s=function(){return 0===this.working.length},s.$$arity=0),e.def(S,"$exist?",_=function(e){var r=e.exec(this.working);return null==r?T:0==r.index?0:r.index+1},_.$$arity=1),e.def(S,"$skip",d=function(e){var r=this,t=(e=r.$anchor(e)).exec(r.working);if(null==t)return r.match=[],r.matched=T;var n=t[0],i=n.length;return r.matched=n,r.match=t,r.prev_pos=r.pos,r.pos+=i,r.working=r.working.substring(i),i},d.$$arity=1),e.def(S,"$skip_until",l=function(e){var r=this.$scan_until(e);return r===T?T:(this.matched=r.substr(-1),r.length)},l.$$arity=1),e.def(S,"$get_byte",f=function(){var e=this,r=T;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,r=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=T,r},f.$$arity=0),e.alias(S,"getch","get_byte"),e.def(S,"$match?",p=function(e){var r=this,t=(e=r.$anchor(e)).exec(r.working);return null==t?T:(r.prev_pos=r.pos,t[0].length)},p.$$arity=1),e.def(S,"$pos=",y=function(e){var r=this;return e<0&&(e+=r.string.$length()),r.pos=e,r.working=r.string.slice(e)},y.$$arity=1),e.def(S,"$matched_size",h=function(){return this.matched===T?T:this.matched.length},h.$$arity=0),e.def(S,"$post_match",m=function(){var e=this;return e.matched===T?T:e.string.substr(e.pos)},m.$$arity=0),e.def(S,"$pre_match",b=function(){var e=this;return e.matched===T?T:e.string.substr(0,e.prev_pos)},b.$$arity=0),e.def(S,"$reset",v=function(){var e=this;return e.working=e.string,e.matched=T,e.pos=0},v.$$arity=0),e.def(S,"$rest",g=function(){return this.working},g.$$arity=0),e.def(S,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),e.def(S,"$rest_size",x=function(){return this.$rest().$size()},x.$$arity=0),e.def(S,"$terminate",k=function(){var r,t,n=this;return n.match=T,r=[n.string.$length()],C(n,"pos=",e.to_a(r)),r[(t=r.length,"number"==typeof t?t-1:t["$-"](1))]},k.$$arity=0),e.def(S,"$unscan",N=function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=T,e.match=T,e},N.$$arity=0),S.$private(),e.def(S,"$anchor",w=function(e){var r=e.toString().match(/\/([^\/]+)$/);return r=r?r[1]:void 0,new RegExp("^(?:"+e.source+")",r)},w.$$arity=1),T&&"anchor"},Opal.modules["bcdice/normalize"]=function(e){var r,t,n,i,a,c,$=[],o=e.nil,u=e.module;return a=$,r=c=[u($[0],"BCDice")].concat(a),[i=u(c[0],"Normalize")].concat(r),i.$module_function(),e.def(i,"$comparison_operator",t=function(e){var r;return/<=|=</["$==="](r=e)?"<=":/>=|=>/["$==="](r)?">=":/<>|!=|=!/["$==="](r)?"!=":/</["$==="](r)?"<":/>/["$==="](r)?">":/=/["$==="](r)?"==":o},t.$$arity=1),void e.def(i,"$target_number",n=function(e){return e["$=="]("?")?e:e.$to_i()},n.$$arity=1)},Opal.modules["bcdice/common_command/lexer"]=function(e){var r,t,n,i,a,c,$,o,u,s,_=e.top,d=[],l=e.nil,f=e.$$,p=e.module,y=e.klass,h=e.hash2,m=e.truthy;return _.$require("strscan"),_.$require("bcdice/normalize"),r=d,t=s=[p(d[0],"BCDice")].concat(r),n=u=[p(s[0],"CommonCommand")].concat(t),$=y(u[0],null,"Lexer"),o=[$].concat(n),$.$$prototype.scanner=l,e.const_set(o[0],"SYMBOLS",h(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),e.def($,"$initialize",i=function(e){var r;return e=m(r=e.$split(" ",2).$first())?r:"",this.scanner=f(o,"StringScanner").$new(e)},i.$$arity=1),e.def($,"$next_token",a=function(){var e=this,r=l,t=l,n=l,i=l;return m(e.scanner["$eos?"]())?[!1,"$"]:m(r=e.scanner.$scan(/\d+/))?["NUMBER",r.$to_i()]:m(t=e.scanner.$scan(/[<>!=]+/))?["CMP_OP",f(o,"Normalize").$comparison_operator(t)]:(n=e.scanner.$getch().$upcase(),[m(i=f(o,"SYMBOLS")["$[]"](n))?i:n.$to_sym(),n])},a.$$arity=0),void e.def($,"$source",c=function(){return this.scanner.$string()},c.$$arity=0)},Opal.modules["bcdice/arithmetic/parser"]=function(e){var r,t,n,i,a,c,$,o,u,s,_,d,l,f,p,y,h,m,b,v,g,R,x,k,N,w,S,P,A,T,D,E,C,B,O=e.top,L=[],z=e.nil,U=e.$$$,I=e.$$,M=e.module,q=e.klass,K=e.hash;return O.$require("racc/parser.rb"),O.$require("bcdice/common_command/lexer"),O.$require("bcdice/arithmetic/node"),r=L,t=B=[M(L[0],"BCDice")].concat(r),n=C=[M(B[0],"Arithmetic")].concat(t),D=q(C[0],U(I(C,"Racc"),"Parser"),"Parser"),E=[D].concat(n),D.$$prototype.lexer=z,e.defs(D,"$parse",i=function(e){return this.$new().$parse(e)},i.$$arity=1),e.def(D,"$parse",a=function(r){try{return this.lexer=U(U(I(E,"BCDice"),"CommonCommand"),"Lexer").$new(r),this.$do_parse()}catch(t){if(!e.rescue(t,[I(E,"ParseError")]))throw t;try{return z}finally{e.pop_exception()}}},a.$$arity=1),D.$private(),e.def(D,"$next_token",c=function(){return this.lexer.$next_token()},c.$$arity=0),g=[8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,z,z,4,5,4,5,7,9,7,z,z,10,11,z,10,11,22,26,24,25,27],R=[0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,z,z,12,12,13,13,12,1,13,z,z,16,16,z,1,1,16,21,21,21,21],x=[-2,40,-6,z,0,8,z,10,z,1,18,20,28,30,z,z,37,z,4,14,z,47,z,z,z,z,z,z],k=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],N=[14,15,23,1,18,19,z,z,20,21,16],w=[3,3,4,1,2,2,z,z,3,3,1],S=[z,3,-6,-4,-19,z],P=[z,z,2,3,z,6],A=[0,0,"racc_error",3,14,"_reduce_1",3,14,"_reduce_2",1,14,"_reduce_none",3,15,"_reduce_4",4,15,"_reduce_5",1,15,"_reduce_none",0,17,"_reduce_7",1,17,"_reduce_8",1,17,"_reduce_9",1,17,"_reduce_10",1,17,"_reduce_11",2,16,"_reduce_12",2,16,"_reduce_13",1,16,"_reduce_none",3,18,"_reduce_15",1,18,"_reduce_16"],T=K(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),e.const_set(E[0],"Racc_arg",[g,R,k,x,N,w,P,S,13,A,T,28,17,!0]),e.const_set(E[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),e.const_set(E[0],"Racc_debug_parser",!1),e.def(D,"$_reduce_1",$=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"+",e["$[]"](2))},$.$$arity=3),e.def(D,"$_reduce_2",o=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"-",e["$[]"](2))},o.$$arity=3),e.def(D,"$_reduce_4",u=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"*",e["$[]"](2))},u.$$arity=3),e.def(D,"$_reduce_5",s=function(e,r,t){return e["$[]"](3).$new(e["$[]"](0),e["$[]"](2))},s.$$arity=3),e.def(D,"$_reduce_7",_=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},_.$$arity=3),e.def(D,"$_reduce_8",d=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"DivideWithCeil")},d.$$arity=3),e.def(D,"$_reduce_9",l=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"DivideWithCeil")},l.$$arity=3),e.def(D,"$_reduce_10",f=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"DivideWithRound")},f.$$arity=3),e.def(D,"$_reduce_11",p=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"DivideWithFloor")},p.$$arity=3),e.def(D,"$_reduce_12",y=function(e,r,t){return e["$[]"](1)},y.$$arity=3),e.def(D,"$_reduce_13",h=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"Negative").$new(e["$[]"](1))},h.$$arity=3),e.def(D,"$_reduce_15",m=function(e,r,t){return e["$[]"](1)},m.$$arity=3),e.def(D,"$_reduce_16",b=function(e,r,t){return U(U(I(E,"Arithmetic"),"Node"),"Number").$new(e["$[]"](0))},b.$$arity=3),void e.def(D,"$_reduce_none",v=function(e,r,t){return e["$[]"](0)},v.$$arity=3)},Opal.modules["bcdice/arithmetic"]=function(e){var r,t,n,i,a,c,$,o,u=e.top,s=[],_=e.nil,d=e.$$,l=e.module,f=e.send;return u.$require("bcdice/arithmetic/node"),u.$require("bcdice/arithmetic/parser"),r=s,t=o=[l(s[0],"BCDice")].concat(r),$=[c=l(o[0],"Arithmetic")].concat(t),n=e.get_singleton_class(c),a=[n].concat($),void e.def(n,"$eval",i=function(r,t){var n;try{return(n=d(a,"Parser").$parse(r))===_||null==n?_:f(n,"eval",[t])}catch(i){if(!e.rescue(i,[d(a,"ZeroDivisionError")]))throw i;try{return _}finally{e.pop_exception()}}},i.$$arity=2)},Opal.modules["bcdice/command/lexer"]=function(e){var r,t,n,i,a,c,$,o,u,s,_=e.top,d=[],l=e.nil,f=e.$$,p=e.module,y=e.klass,h=e.hash2,m=e.truthy,b=e.send;return _.$require("strscan"),_.$require("bcdice/normalize"),r=d,t=s=[p(d[0],"BCDice")].concat(r),n=u=[p(s[0],"Command")].concat(t),$=y(u[0],null,"Lexer"),o=[$].concat(n),$.$$prototype.scanner=$.$$prototype.notations=l,e.const_set(o[0],"SYMBOLS",h(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),e.def($,"$initialize",i=function(e,r){var t,n,i,a,c=this;return e=m(a=(n=(t=e)===l||null==t?l:b(t,"split",[" ",2]))===l||null==n?l:b(n,"first",[]))?a:"",c.scanner=f(o,"StringScanner").$new(e),c.notations=b(r,"map",[],((i=function(e){return null==e&&(e=l),m(e["$is_a?"](f(o,"String")))?f(o,"Regexp").$new(e):e}).$$s=c,i.$$arity=1,i))},i.$$arity=2),e.def($,"$next_token",a=function(){try{var r,t=this,n=l,i=l,a=l,c=l;return m(t.scanner["$eos?"]())?[!1,"$"]:(b(t.notations,"each",[],((r=function(t){var n,i=null==r.$$s?this:r.$$s;if(null==i.scanner&&(i.scanner=l),null==t&&(t=l),n=i.scanner.$scan(t),!m(n))return l;e.ret(["NOTATION",n])}).$$s=t,r.$$arity=1,r)),m(n=t.scanner.$scan(/\d+/))?["NUMBER",n.$to_i()]:m(i=t.scanner.$scan(/[<>!=]+/))?(i=f(o,"Normalize").$comparison_operator(i),[m(i)?"CMP_OP":"ILLEGAL",i]):(a=t.scanner.$getch().$upcase(),[m(c=f(o,"SYMBOLS")["$[]"](a))?c:a.$to_sym(),a]))}catch($){if($===e.returner)return $.$v;throw $}},a.$$arity=0),void e.def($,"$source",c=function(){return this.scanner.$string()},c.$$arity=0)},Opal.modules["bcdice/command/parsed"]=function(e){var r,t,n,i,a,c,$,o,u,s,_=[],d=e.nil,l=e.$$,f=e.module,p=e.klass,y=e.truthy;return r=_,t=s=[f(_[0],"BCDice")].concat(r),n=u=[f(s[0],"Command")].concat(t),$=p(u[0],null,"Parsed"),o=[$].concat(n),$.$$prototype.question_target=$.$$prototype.critical=$.$$prototype.fumble=$.$$prototype.dollar=$.$$prototype.modify_number=$.$$prototype.target_number=$.$$prototype.prefix_number=$.$$prototype.command=$.$$prototype.suffix_number=$.$$prototype.cmp_op=d,$.$attr_accessor("command"),$.$attr_accessor("prefix_number"),$.$attr_accessor("suffix_number"),$.$attr_accessor("critical"),$.$attr_accessor("fumble"),$.$attr_accessor("dollar"),$.$attr_accessor("modify_number"),$.$attr_accessor("cmp_op"),$.$attr_accessor("target_number"),$.$attr_writer("question_target"),e.def($,"$initialize",i=function(){var e=this;return e.prefix_number=d,e.suffix_number=d,e.critical=d,e.fumble=d,e.dollar=d,e.cmp_op=d,e.target_number=d,e.question_target=!1},i.$$arity=0),e.def($,"$question_target?",a=function(){return this.question_target},a.$$arity=0),void e.def($,"$to_s",c=function(e){var r,t=this,n=d,i=d,a=d,c=d,$=d;return null==e&&(e="after_command"),n=y(t.critical)?"@"+t.critical:d,i=y(t.fumble)?"#"+t.fumble:d,a=y(t.dollar)?"$"+t.dollar:d,c=l(o,"Format").$modifier(t.modify_number),$=y(t.question_target)?"?":t.target_number,"after_command"["$==="](r=e)?[t.prefix_number,t.command,t.suffix_number,n,i,a,c,t.cmp_op,$].$join():"after_modify_number"["$==="](r)?[t.prefix_number,t.command,t.suffix_number,c,n,i,a,t.cmp_op,$].$join():"after_target_number"["$==="](r)?[t.prefix_number,t.command,t.suffix_number,c,t.cmp_op,$,n,i,a].$join():d},c.$$arity=-1)},Opal.modules["bcdice/command/parser"]=function(e){function r(e,r){return"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)}var t,n,i,a,c,$,o,u,s,_,d,l,f,p,y,h,m,b,v,g,R,x,k,N,w,S,P,A,T,D,E,C,B,O,L,z,U,I,M,q,K,H,W,F,G,j,Y,Q,V,Z,J,X,ee,re,te,ne,ie,ae,ce,$e,oe,ue,se,_e,de,le=e.top,fe=[],pe=e.nil,ye=e.$$$,he=e.$$,me=e.klass,be=e.module,ve=e.hash2,ge=e.send2,Re=e.send,xe=e.hash,ke=e.truthy;return le.$require("racc/parser.rb"),le.$require("bcdice/arithmetic/node"),le.$require("bcdice/command/lexer"),le.$require("bcdice/command/parsed"),function(e,r,t){[me(e,r,"Parser")].concat(t)}(ye(he(fe,"BCDice"),"Command"),ye(he(fe,"Racc"),"Parser"),fe),t=fe,n=de=[be(fe[0],"BCDice")].concat(t),i=(_e=[be(de[0],"Command")].concat(n))[0],a=ye(he(_e,"Racc"),"Parser"),c=_e,ue=me(i,a,"Parser"),se=[ue].concat(c),ue.$$prototype.notations=ue.$$prototype.lexer=ue.$$prototype.modifier=ue.$$prototype.prefix_number=ue.$$prototype.suffix_number=ue.$$prototype.need_suffix_number=ue.$$prototype.need_prefix_number=ue.$$prototype.critical=ue.$$prototype.fumble=ue.$$prototype.dollar=ue.$$prototype.allowed_cmp_op=ue.$$prototype.question_target=pe,e.def(ue,"$initialize",$=function(r,t){var n,i,a,c,o=$.$$p,u=this;if(o&&($.$$p=null),n=e.slice.call(arguments,0,arguments.length),null==(i=e.extract_kwargs(n)))i=ve([],{});else if(!i.$$is_hash)throw e.ArgumentError.$new("expected kwargs");if(a=n,!e.hasOwnProperty.call(i.$$smap,"round_type"))throw e.ArgumentError.$new("missing keyword: round_type");return c=i.$$smap.round_type,ge(u,e.find_super_dispatcher(u,"initialize",$,!1,!0),"initialize",[],null),u.notations=a,u.round_type=c,u.prefix_number=!1,u.suffix_number=!1,u.need_prefix_number=!1,u.need_suffix_number=!1,u.modifier=!0,u.critical=!1,u.fumble=!1,u.dollar=!1,u.allowed_cmp_op=[pe,">=",">","<=","<","==","!="],u.question_target=!1},$.$$arity=-2),e.def(ue,"$disable_modifier",o=function(){return this.modifier=!1,this},o.$$arity=0),e.def(ue,"$enable_prefix_number",u=function(){return this.prefix_number=!0,this},u.$$arity=0),e.def(ue,"$enable_suffix_number",s=function(){return this.suffix_number=!0,this},s.$$arity=0),e.def(ue,"$has_prefix_number",_=function(){var e=this;return e.prefix_number=!0,e.need_prefix_number=!0,e},_.$$arity=0),e.def(ue,"$has_suffix_number",d=function(){var e=this;return e.suffix_number=!0,e.need_suffix_number=!0,e},d.$$arity=0),e.def(ue,"$enable_critical",l=function(){return this.critical=!0,this},l.$$arity=0),e.def(ue,"$enable_fumble",f=function(){return this.fumble=!0,this},f.$$arity=0),e.def(ue,"$enable_dollar",p=function(){return this.dollar=!0,this},p.$$arity=0),e.def(ue,"$restrict_cmp_op_to",y=function(r){var t,n=this;return t=e.slice.call(arguments,0,arguments.length),n.allowed_cmp_op=t,n},y.$$arity=-1),e.def(ue,"$enable_question_target",h=function(){return this.question_target=!0,this},h.$$arity=0),e.def(ue,"$parse",m=function(r){var t=this;try{return t.lexer=he(se,"Lexer").$new(r,t.notations),t.$do_parse()}catch(n){if(!e.rescue(n,[he(se,"ParseError"),he(se,"ZeroDivisionError")]))throw n;try{return pe}finally{e.pop_exception()}}},m.$$arity=1),ue.$private(),e.def(ue,"$parsed",b=function(t,n,i,a){var c;return Re(he(se,"Parsed").$new(),"tap",[],((c=function($){var o,u,s,_,d,l,f=null==c.$$s?this:c.$$s,p=pe;return null==f.round_type&&(f.round_type=pe),null==$&&($=pe),p=[t["$[]"]("command")],Re($,"command=",e.to_a(p)),r(p.length,1),p=[(o=t["$[]"]("prefix"),o===pe||null==o?pe:Re(o,"eval",[f.round_type]))],Re($,"prefix_number=",e.to_a(p)),r(p.length,1),p=[(u=t["$[]"]("suffix"),u===pe||null==u?pe:Re(u,"eval",[f.round_type]))],Re($,"suffix_number=",e.to_a(p)),r(p.length,1),p=[(s=n["$[]"]("critical"),s===pe||null==s?pe:Re(s,"eval",[f.round_type]))],Re($,"critical=",e.to_a(p)),r(p.length,1),p=[(_=n["$[]"]("fumble"),_===pe||null==_?pe:Re(_,"eval",[f.round_type]))],Re($,"fumble=",e.to_a(p)),r(p.length,1),p=[(d=n["$[]"]("dollar"),d===pe||null==d?pe:Re(d,"eval",[f.round_type]))],Re($,"dollar=",e.to_a(p)),r(p.length,1),p=[i.$eval(f.round_type)],Re($,"modify_number=",e.to_a(p)),r(p.length,1),p=[a["$[]"]("cmp_op")],Re($,"cmp_op=",e.to_a(p)),r(p.length,1),a["$[]"]("target")["$=="]("?")?(Re($,"question_target=",e.to_a(p=[!0])),r(p.length,1),Re($,"target_number=",e.to_a(p=[0])),p[r(p.length,1)]):(Re($,"question_target=",e.to_a(p=[!1])),r(p.length,1),p=[(l=a["$[]"]("target"),l===pe||null==l?pe:Re(l,"eval",[f.round_type]))],Re($,"target_number=",e.to_a(p)),p[r(p.length,1)])}).$$s=this,c.$$arity=1,c))},b.$$arity=4),e.def(ue,"$next_token",v=function(){return this.lexer.$next_token()},v.$$arity=0),X=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,pe,5,36,37,17,18,6,pe,5,36,37,17,18,6,pe,5,36,37,17,18,6,pe,5,33,34,17,18,6,pe,5,36,37,17,18,6,pe,5,36,37,17,18,6,pe,5,36,37,17,18,6,pe,5,36,37,17,18,6,pe,5,pe,pe,17,18,6,pe,5,pe,pe,17,18,pe,pe,5,23,24,25,26,56,54,55,57],ee=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,pe,17,15,15,18,18,23,pe,18,30,30,23,23,24,pe,23,31,31,24,24,25,pe,24,44,44,25,25,28,pe,25,47,47,28,28,29,pe,28,48,48,29,29,33,pe,29,49,49,33,33,34,pe,33,50,50,34,34,36,pe,34,pe,pe,36,36,37,pe,36,pe,pe,37,37,pe,pe,37,27,27,27,27,52,52,52,52],re=[-2,4,16,-3,-1,11,pe,33,13,35,23,30,1,pe,28,40,pe,37,44,pe,pe,-2,pe,51,58,65,0,106,72,79,47,54,pe,86,93,pe,100,107,pe,pe,pe,pe,pe,pe,63,pe,pe,68,75,82,89,pe,120,pe,pe,pe,pe,pe],te=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],ne=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,pe,pe,21,47,48,40,51,52,49,50,44,46,3,pe,pe,pe,13,pe,pe,pe,pe,pe,pe,pe,32],ie=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,pe,pe,4,8,8,5,7,7,8,8,9,5,6,pe,pe,pe,6,pe,pe,pe,pe,pe,pe,pe,6],ae=[pe,6,13,3,9,-1,27,-15,-10,-1,-38],ce=[pe,pe,pe,pe,pe,pe,19,16,15,pe,pe],$e=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],oe=xe(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),e.const_set(se[0],"Racc_arg",[X,ee,te,re,ne,ie,ce,ae,19,$e,oe,58,35,!0]),e.const_set(se[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),e.const_set(se[0],"Racc_debug_parser",!1),e.def(ue,"$_reduce_1",g=function(r,t,n){var i;return ke(this.modifier)||this.$raise(he(se,"ParseError")),i=e.to_ary(r),this.$parsed(null==i[0]?pe:i[0],null==i[1]?pe:i[1],null==i[2]?pe:i[2],null==i[3]?pe:i[3])},g.$$arity=3),e.def(ue,"$_reduce_2",R=function(r,t,n){var i;return ke(this.modifier)||this.$raise(he(se,"ParseError")),i=e.to_ary(r),this.$parsed(null==i[0]?pe:i[0],null==i[2]?pe:i[2],null==i[1]?pe:i[1],null==i[3]?pe:i[3])},R.$$arity=3),e.def(ue,"$_reduce_3",x=function(r,t,n){var i,a;return a=null==(i=e.to_ary(r))[2]?pe:i[2],this.$parsed(null==i[0]?pe:i[0],null==i[1]?pe:i[1],ye(ye(he(se,"Arithmetic"),"Node"),"Number").$new(0),a)},x.$$arity=3),e.def(ue,"$_reduce_4",k=function(e,r,t){var n,i=this;return ke(ke(n=i.prefix_number)?i.suffix_number:n)||i.$raise(he(se,"ParseError")),ve(["command","prefix","suffix"],{command:e["$[]"](1),prefix:e["$[]"](0),suffix:e["$[]"](2)})},k.$$arity=3),e.def(ue,"$_reduce_5",N=function(e,r,t){var n=this;return ke(n.prefix_number)||n.$raise(he(se,"ParseError")),ke(n.need_suffix_number)&&n.$raise(he(se,"ParseError")),ve(["command","prefix"],{command:e["$[]"](1),prefix:e["$[]"](0)})},N.$$arity=3),e.def(ue,"$_reduce_6",w=function(e,r,t){var n=this;return ke(n.suffix_number)||n.$raise(he(se,"ParseError")),ke(n.need_prefix_number)&&n.$raise(he(se,"ParseError")),ve(["command","suffix"],{command:e["$[]"](0),suffix:e["$[]"](1)})},w.$$arity=3),e.def(ue,"$_reduce_7",S=function(e,r,t){var n,i=this;return ke(ke(n=i.need_prefix_number)?n:i.need_suffix_number)&&i.$raise(he(se,"ParseError")),ve(["command"],{command:e["$[]"](0)})},S.$$arity=3),e.def(ue,"$_reduce_8",P=function(e,r,t){return ve([],{})},P.$$arity=3),e.def(ue,"$_reduce_9",A=function(t,n,i){var a,c,$,o,u=pe;return u=null==(a=e.to_ary(t))[0]?pe:a[0],c=null==a[2]?pe:a[2],ke(ke(o=this.critical)?u["$[]"]("critical")["$nil?"]():o)||this.$raise(he(se,"ParseError")),Re(u,"[]=",e.to_a($=["critical",c])),r($.length,1),u},A.$$arity=3),e.def(ue,"$_reduce_10",T=function(t,n,i){var a,c,$,o,u=pe;return u=null==(a=e.to_ary(t))[0]?pe:a[0],c=null==a[2]?pe:a[2],ke(ke(o=this.fumble)?u["$[]"]("fumble")["$nil?"]():o)||this.$raise(he(se,"ParseError")),Re(u,"[]=",e.to_a($=["fumble",c])),r($.length,1),u},T.$$arity=3),e.def(ue,"$_reduce_11",D=function(t,n,i){var a,c,$,o,u=pe;return u=null==(a=e.to_ary(t))[0]?pe:a[0],c=null==a[2]?pe:a[2],ke(ke(o=this.dollar)?u["$[]"]("dollar")["$nil?"]():o)||this.$raise(he(se,"ParseError")),Re(u,"[]=",e.to_a($=["dollar",c])),r($.length,1),u},D.$$arity=3),e.def(ue,"$_reduce_12",E=function(e,r,t){return e["$[]"](1)},E.$$arity=3),e.def(ue,"$_reduce_13",C=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"Negative").$new(e["$[]"](1))},C.$$arity=3),e.def(ue,"$_reduce_14",B=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"+",e["$[]"](2))},B.$$arity=3),e.def(ue,"$_reduce_15",O=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"-",e["$[]"](2))},O.$$arity=3),e.def(ue,"$_reduce_16",L=function(e,r,t){return ke(this.allowed_cmp_op["$include?"](pe))||this.$raise(he(se,"ParseError")),ve([],{})},L.$$arity=3),e.def(ue,"$_reduce_17",z=function(r,t,n){var i,a,c;return c=null==(i=e.to_ary(r))[1]?pe:i[1],ke(this.allowed_cmp_op["$include?"](a=null==i[0]?pe:i[0]))||this.$raise(he(se,"ParseError")),ve(["cmp_op","target"],{cmp_op:a,target:c})},z.$$arity=3),e.def(ue,"$_reduce_18",U=function(e,r,t){var n,i=this;return n=e["$[]"](0),ke(i.question_target)||i.$raise(he(se,"ParseError")),ke(i.allowed_cmp_op["$include?"](n))||i.$raise(he(se,"ParseError")),ve(["cmp_op","target"],{cmp_op:n,target:"?"})},U.$$arity=3),e.def(ue,"$_reduce_19",I=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"+",e["$[]"](2))},I.$$arity=3),e.def(ue,"$_reduce_20",M=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"-",e["$[]"](2))},M.$$arity=3),e.def(ue,"$_reduce_22",q=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"BinaryOp").$new(e["$[]"](0),"*",e["$[]"](2))},q.$$arity=3),e.def(ue,"$_reduce_23",K=function(e,r,t){return e["$[]"](3).$new(e["$[]"](0),e["$[]"](2))},K.$$arity=3),e.def(ue,"$_reduce_25",H=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},H.$$arity=3),e.def(ue,"$_reduce_26",W=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"DivideWithCeil")},W.$$arity=3),e.def(ue,"$_reduce_27",F=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"DivideWithCeil")},F.$$arity=3),e.def(ue,"$_reduce_28",G=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"DivideWithRound")},G.$$arity=3),e.def(ue,"$_reduce_29",j=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"DivideWithFloor")},j.$$arity=3),e.def(ue,"$_reduce_30",Y=function(e,r,t){return e["$[]"](1)},Y.$$arity=3),e.def(ue,"$_reduce_31",Q=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"Negative").$new(e["$[]"](1))},Q.$$arity=3),e.def(ue,"$_reduce_33",V=function(e,r,t){return e["$[]"](1)},V.$$arity=3),e.def(ue,"$_reduce_34",Z=function(e,r,t){return ye(ye(he(se,"Arithmetic"),"Node"),"Number").$new(e["$[]"](0))},Z.$$arity=3),void e.def(ue,"$_reduce_none",J=function(e,r,t){return e["$[]"](0)},J.$$arity=3)},function(e){function r(e,r){return"number"==typeof e&&"number"==typeof r?e>=r:e["$>="](r)}function t(e,r){return"number"==typeof e&&"number"==typeof r?e-r:e["$-"](r)}var n,i,a,c,$,o,u,s,_,d,l=e.top,f=[],p=e.nil,y=e.$$$,h=e.$$,m=e.module,b=e.klass,v=e.send2,g=e.truthy,R=e.hash2,x=e.send,k=e.hash;l.$require("bcdice/dice_table/table"),l.$require("bcdice/dice_table/d66_table"),l.$require("bcdice/arithmetic"),l.$require("bcdice/command/parser"),n=f,i=d=[m(f[0],"BCDice")].concat(n),a=_=[m(d[0],"GameSystem")].concat(i),u=b(_[0],h(_,"Base"),"Bakenokawa"),s=[u].concat(a),u.$$prototype.randomizer=p,e.const_set(s[0],"ID","Bakenokawa"),e.const_set(s[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),e.const_set(s[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),e.const_set(s[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),e.def(u,"$initialize",c=function(r){var t=this;return c.$$p&&(c.$$p=null),v(t,e.find_super_dispatcher(t,"initialize",c,!1,!0),"initialize",[r],null),t.sort_barabara_dice=!0,t.d66_sort_type=y(h(s,"D66SortType"),"ASC")},c.$$arity=1),e.def(u,"$eval_game_system_specific_command",$=function(e){var r;return g(r=this.$check_action(e))?r:this.$roll_tables(e,h(s,"TABLES"))},$.$$arity=1),e.def(u,"$check_action",o=function(n){var i,a,c,$=this,o=p,u=p,_=p,d=p,l=p,f=p,m=p,b=p,v=p,k=p,N=p,w=p,S=p;return o=y(h(s,"Command"),"Parser").$new("BK",R(["round_type"],{round_type:y(h(s,"RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(n),g(o["$nil?"]())?p:(u=4,_=g(d=o.$prefix_number())?d:2,l=o.$suffix_number(),f=g(m=o.$critical())?m:12,$.$debug("dice_faces",l),$.$debug("dice_cnt",_),$.$debug("special_target",f),b=$.randomizer.$roll_barabara(_,l).$sort(),v=b.$join(","),k=b.$sum(),N=r(k,f),w="number"==typeof(c=k)?c<=2:c["$<="](2),S=r(x(b,"count",[],((i=function(e){return null==e&&(e=p),r(e,u)}).$$s=$,i.$$arity=1,i)),1),x(h(s,"Result").$new(),"tap",[],((a=function(r){var n=p;return null==r&&(r=p),n=["("+_+"B"+l+">="+u+") \uff1e ["+v+"] \uff1e "+k+" \uff1e "+(g(S)?"\u6210\u529f":"\u5931\u6557")+(g(N)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(g(w)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")],x(r,"text=",e.to_a(n)),t(n.length,1),x(r,"critical=",e.to_a(n=[N])),t(n.length,1),x(r,"fumble=",e.to_a(n=[w])),t(n.length,1),x(r,"success=",e.to_a(n=[S])),t(n.length,1),n=[r["$success?"]()["$!"]()],x(r,"failure=",e.to_a(n)),n[t(n.length,1)]}).$$s=$,a.$$arity=1,a)))},o.$$arity=1),e.const_set(s[0],"TABLES",R(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:y(h(s,"DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",y(h(s,"D66SortType"),"ASC"),k(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:y(h(s,"DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",y(h(s,"D66SortType"),"ASC"),k(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:y(h(s,"DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:y(h(s,"DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:y(h(s,"DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",y(h(s,"D66SortType"),"ASC"),k(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:y(h(s,"DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",y(h(s,"D66SortType"),"ASC"),k(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:y(h(s,"DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),u.$register_prefix("\\d*BK",h(s,"TABLES").$keys())}(Opal)}}]);