(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[1046],{31046:function(e,n,l){var i,t,a,o,r,$,s,c,b,m,u,_,d,T;l(93683),Opal.modules["bcdice/game_system/beginning_idol/chain_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m=[],u=e.nil,_=e.$$,d=e.module,T=e.klass,g=e.truthy,f=e.send;return n=m,l=b=[d(m[0],"BCDice")].concat(n),i=c=[d(b[0],"GameSystem")].concat(l),t=s=[T(c[0],_(c,"Base"),"BeginningIdol")].concat(i),r=T(s[0],null,"ChainTable"),$=[r].concat(t),r.$$prototype.times=r.$$prototype.sides=r.$$prototype.items=r.$$prototype.name=u,e.def(r,"$initialize",a=function(e,n,l){var i=this,t=u;return i.name=e,i.items=l.$freeze(),t=/^(\d+)D(\d+)$/i.$match(n),g(t)||i.$raise(_($,"ArgumentError"),"Unexpected table type: "+n),i.times=t["$[]"](1).$to_i(),i.sides=t["$[]"](2).$to_i()},a.$$arity=3),void e.def(r,"$roll",o=function(e){var n,l,i,t,a,o=this;return i=function(e,n){return"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n)}(l=e.$roll_sum(o.times,o.sides),o.times),t=o.items["$[]"](i),a=f(t,"map",[],(n=function(n){return null==n&&(n=u),g(n["$respond_to?"]("roll"))?n.$roll(e):n},n.$$s=o,n.$$arity=1,n)).$join("\n"),o.name+"("+l+") \uff1e "+a},o.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/chain_d66_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b=[],m=e.nil,u=e.$$,_=e.module,d=e.klass,T=e.send,g=e.truthy;return n=b,l=c=[_(b[0],"BCDice")].concat(n),r=s=[_(c[0],"GameSystem")].concat(l),i=$=[d(s[0],u(s,"Base"),"BeginningIdol")].concat(r),[o=d($[0],null,"ChainD66Table")].concat(i),o.$$prototype.items=o.$$prototype.name=m,e.def(o,"$initialize",t=function(e,n){return this.name=e,this.items=n.$freeze()},t.$$arity=2),void e.def(o,"$roll",a=function(e){var n,l,i,t=this,a=m,o=m;return o=function(e,n){return"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)}(function(e,n){return"number"==typeof e?10*e:e["$*"](10)}((a=e.$roll_barabara(2,6).$sort())["$[]"](0)),a["$[]"](1)),l=t.items["$[]"](o.$to_s()),i=T(l,"map",[],(n=function(n){return null==n&&(n=m),g(n["$respond_to?"]("roll"))?n.$roll(e):n},n.$$s=t,n.$$arity=1,n)).$join("\n"),t.name+"("+o+") \uff1e "+i},a.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/bad_status_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m,u=[],_=e.nil,d=e.$$,T=e.module,g=e.klass,f=e.truthy,B=e.send,y=e.hash2;return n=u,l=m=[T(u[0],"BCDice")].concat(n),i=b=[T(m[0],"GameSystem")].concat(l),t=c=[g(b[0],d(b,"Base"),"BeginningIdol")].concat(i),$=g(c[0],null,"BadStatusTable"),s=[$].concat(t),$.$$prototype.locale=_,e.def($,"$initialize",a=function(e){return this.locale=e},a.$$arity=1),e.def($,"$roll_command",o=function(e,n){var l,i=_,t=_,a=_;return i=/^BT(\d+)?$/.$match(n),f(i)?(t=f(a=(l=i["$[]"](1))===_||null==l?_:B(l,"to_i",[]))?a:1,this.$roll(e,t)):_},o.$$arity=2),void e.def($,"$roll",r=function(e,n){var l,i,t=this,a=_,o=_,r=_,$=_,c=_,b=_,m=_;return null==n&&(n=1),f("number"==typeof(i=n)?i<=0:i["$<="](0))?_:(a=d(s,"I18n").$t("BeginningIdol.BT.name",y(["locale"],{locale:t.locale})),o=d(s,"I18n").$t("BeginningIdol.BT.items",y(["locale"],{locale:t.locale})),r=d(s,"I18n").$t("BeginningIdol.BT.prefix_format",y(["locale"],{locale:t.locale})),c=($=e.$roll_barabara(n,6).$sort()).$uniq(),f(function(e,n){return"number"==typeof e?e>1:e["$>"](1)}(c.$size()))&&(b=function(e,n){return e["$+"]("\n")}(t.$format(r,y(["count_bad_status"],{count_bad_status:c.$size()})))),m=B(c,"map",[],(l=function(e){return null==e&&(e=_),o["$[]"](function(e,n){return"number"==typeof e?e-1:e["$-"](1)}(e))},l.$$s=t,l.$$arity=1,l)).$join("\n"),a+" \uff1e ["+$.$join(",")+"] \uff1e "+b+m)},r.$$arity=-2)},Opal.modules["bcdice/game_system/beginning_idol/random_event_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m=[],u=e.nil,_=e.$$$,d=e.$$,T=e.module,g=e.klass,f=e.truthy,B=e.hash2;return n=m,l=b=[T(m[0],"BCDice")].concat(n),i=c=[T(b[0],"GameSystem")].concat(l),t=s=[g(c[0],d(c,"Base"),"BeginningIdol")].concat(i),r=g(s[0],null,"RandomEventTable"),$=[r].concat(t),r.$$prototype.locale=u,e.def(r,"$initialize",a=function(e){return this.locale=e},a.$$arity=1),void e.def(r,"$roll",o=function(e){var n,l,i,t=this,a=u,o=u,r=u,s=u;return a=e.$roll_once(6),o=e.$roll_d66(_(d($,"D66SortType"),"NO_SORT")),n=f(a["$even?"]())?"BeginningIdol.RE.on_event":"BeginningIdol.RE.off_event",r=d($,"I18n").$t(n,B(["locale"],{locale:t.locale})),l=d($,"I18n").$t("BeginningIdol.RE.name",B(["locale"],{locale:t.locale})),i=d($,"I18n").$t("BeginningIdol.RE.format",B(["locale"],{locale:t.locale})),s=r["$[]"]("items")["$[]"](o.$to_s()),l+" \uff1e (1D6) \uff1e "+a+"\n"+r["$[]"]("name")+" \uff1e ["+o+"] \uff1e "+t.$format(i,B(["event","page"],{event:s["$[]"](0),page:s["$[]"](1)}))},o.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/my_skill_name_table"]=function(e){function n(e,n){return"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n)}var l,i,t,a,o,r,$,s,c,b,m,u=[],_=e.nil,d=e.$$$,T=e.$$,g=e.module,f=e.klass,B=e.send,y=e.hash2;return l=u,i=m=[g(u[0],"BCDice")].concat(l),t=b=[g(m[0],"GameSystem")].concat(i),a=c=[f(b[0],T(b,"Base"),"BeginningIdol")].concat(t),$=f(c[0],null,"MySkillNameTable"),s=[$].concat(a),$.$$prototype.chains=$.$$prototype.locale=_,e.def($,"$initialize",o=function(e){var n=_,l=_,i=_,t=_,a=_;return this.locale=e,n=d(T(s,"DiceTable"),"Table").$from_i18n("BeginningIdol.MS.subtables.article",e),l=d(T(s,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.describe",e),i=d(T(s,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.scene",e),t=d(T(s,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.material",e),a=d(T(s,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.MS.subtables.action",e),this.chains=[[l,i,t],[l,i,a],[l,t,a],[i,t,a],[l,i,n],[t,a,n]].$freeze()},o.$$arity=1),void e.def($,"$roll",r=function(l){var i,t,a,o,r,$,c=this,b=_,m=_;return a=l.$roll_once(6),o=B(c.chains["$[]"](n(a,1)),"map",[],((i=function(e){return null==e&&(e=_),e.$roll(l)}).$$s=c,i.$$arity=1,i)),b=B(o,"map",[],((t=function(e){return null==e&&(e=_),function(e,n){return"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)}(e.$table_name(),e.$value().$to_s())}).$$s=c,t.$$arity=1,t)),r=T(s,"I18n").$t("BeginningIdol.MS.name",y(["locale"],{locale:c.locale})),m=T(s,"I18n").$t("BeginningIdol.MS.formats",y(["locale"],{locale:c.locale}))["$[]"](n(a,1)),$=B(c,"format",[m].concat(e.to_a(B(o,"map",[],"body".$to_proc())))),r+" \uff1e ["+a+","+b.$join(",")+"] \uff1e "+$},r.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/d6_twice_table"]=function(e){function n(e,n){return"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n)}var l,i,t,a,o,r,$,s,c,b,m,u,_=[],d=e.nil,T=e.$$,g=e.module,f=e.klass,B=e.hash2;return l=_,i=u=[g(_[0],"BCDice")].concat(l),t=m=[g(u[0],"GameSystem")].concat(i),a=b=[f(m[0],T(m,"Base"),"BeginningIdol")].concat(t),s=f(b[0],null,"D6TwiceTable"),c=[s].concat(a),s.$$prototype.items1=s.$$prototype.items2=s.$$prototype.name=d,e.defs(s,"$from_i18n",o=function(e,n){var l=d;return l=T(c,"I18n").$t(e,B(["locale"],{locale:n})),this.$new(l["$[]"]("name"),l["$[]"]("items1"),l["$[]"]("items2"))},o.$$arity=2),e.def(s,"$initialize",r=function(e,n,l){var i=this;return i.name=e,i.items1=n,i.items2=l},r.$$arity=3),void e.def(s,"$roll",$=function(l){var i,t,a,o,r,$,s=this;return t=l.$roll_barabara(2,6),o=null==(i=e.to_ary(t))[1]?d:i[1],r=s.items1["$[]"](n(a=null==i[0]?d:i[0],1)),$=s.items2["$[]"](n(o,1)),s.name+"["+a+","+o+"] \uff1e "+r+$},$.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/item_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m,u=[],_=e.nil,d=e.$$,T=e.module,g=e.klass,f=e.truthy,B=e.send,y=e.hash2;return n=u,l=m=[T(u[0],"BCDice")].concat(n),i=b=[T(m[0],"GameSystem")].concat(l),t=c=[g(b[0],d(b,"Base"),"BeginningIdol")].concat(i),$=g(c[0],null,"ItemTable"),s=[$].concat(t),$.$$prototype.locale=_,e.def($,"$initialize",a=function(e){return this.locale=e},a.$$arity=1),e.def($,"$roll_command",o=function(e,n){var l,i=_,t=_,a=_;return i=/^IT(\d+)?$/.$match(n),f(i)?(t=f(a=(l=i["$[]"](1))===_||null==l?_:B(l,"to_i",[]))?a:1,this.$roll(e,t)):_},o.$$arity=2),void e.def($,"$roll",r=function(e,n){var l,i=_,t=_,a=_,o=_;return null==n&&(n=1),n["$=="](0)?_:(i=d(s,"I18n").$t("BeginningIdol.item_table",y(["locale"],{locale:this.locale})),t=e.$roll_barabara(n,6).$sort(),a=B(t,"group_by",[],"itself".$to_proc()),o=B(a,"map",[],((l=function(e,n){var o=null==l.$$s?this:l.$$s,r=_;return null==e&&(e=_),null==n&&(n=_),r=i["$[]"]("items")["$[]"](function(e,n){return"number"==typeof e?e-1:e["$-"](1)}(e)),f(a.$size()["$!="](1))&&(r=o.$format(i["$[]"]("emph"),y(["item"],{item:r}))),t.$size()["$=="](a.$size())?r:o.$format(i["$[]"]("counting"),y(["item","count"],{item:r,count:n.$size()}))}).$$s=this,l.$$arity=2,l)),i["$[]"]("name")+" \uff1e ["+t.$join(",")+"] \uff1e "+o.$join(i["$[]"]("sep")))},r.$$arity=-2)},Opal.modules["bcdice/game_system/beginning_idol/costume_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m,u,_=[],d=e.nil,T=e.$$$,g=e.$$,f=e.module,B=e.klass,y=e.hash2,I=e.send;return n=_,l=u=[f(_[0],"BCDice")].concat(n),i=m=[f(u[0],"GameSystem")].concat(l),t=b=[B(m[0],g(m,"Base"),"BeginningIdol")].concat(i),s=B(b[0],null,"CostumeTable"),c=[s].concat(t),s.$$prototype.name=s.$$prototype.items=d,e.defs(s,"$from_i18n",a=function(e,n){var l=d;return l=g(c,"I18n").$t(e,y(["locale"],{locale:n})),this.$new(l["$[]"]("name"),l["$[]"]("items"))},a.$$arity=2),e.def(s,"$initialize",o=function(e,n){return this.name=e,this.items=n},o.$$arity=2),e.def(s,"$roll",r=function(e){var n=d;return n=e.$roll_d66(T(g(c,"D66SortType"),"ASC")),this.name+"("+n+") \uff1e "+this.items["$[]"](n.$to_s())},r.$$arity=1),void e.def(s,"$brand_only",$=function(){var e,n=this;return T(g(c,"DiceTable"),"D66Table").$new(n.name,T(g(c,"D66SortType"),"ASC"),I(n.items,"transform_values",[],((e=function(e){return null==e&&(e=d),e.$split("\n").$first()}).$$s=n,e.$$arity=1,e)))},$.$$arity=0)},Opal.modules["bcdice/game_system/beginning_idol/accessories_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b=[],m=e.nil,u=e.$$$,_=e.$$,d=e.module,T=e.klass,g=e.hash2;return n=b,l=c=[d(b[0],"BCDice")].concat(n),i=s=[d(c[0],"GameSystem")].concat(l),$=[r=T(s[0],_(s,"Base"),"BeginningIdol")].concat(i),t=e.get_singleton_class(r),o=[t].concat($),t.$private(),void e.def(t,"$translate_accessories_table",a=function(e){var n,l=m;return l=_(o,"I18n").$t("BeginningIdol.ACT.items",g(["locale"],{locale:e})),n=[u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.head",e),u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.hat",e),u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.body",e),u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.arm",e),u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.foot",e),u(_(o,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.ACT.subtables.other",e)],_(o,"ChainTable").$new(_(o,"I18n").$t("BeginningIdol.ACT.name",g(["locale"],{locale:e})),"1D6",l.$zip(n))},a.$$arity=1)},Opal.modules["bcdice/game_system/beginning_idol/with_abnormality"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m,u,_=[],d=e.nil,T=e.$$$,g=e.$$,f=e.module,B=e.klass,y=e.hash2,I=e.truthy,p=e.send,D=e.send2;return n=_,l=u=[f(_[0],"BCDice")].concat(n),i=(m=[f(u[0],"GameSystem")].concat(l))[0],t=g(m,"Base"),a=m,o=b=[B(i,t,"BeginningIdol")].concat(a),s=f(b[0],"WithAbnormality"),c=[s].concat(o),e.def(s,"$replace_abnormality",r=function(e,n){var l=this,i=d,t=d,a=d,o=d,r=d;return null==l.locale&&(l.locale=d),null==l.bad_status_table&&(l.bad_status_table=d),t=(i=g(c,"Regexp").$new(g(c,"I18n").$t("BeginningIdol.abnormality.regexp",y(["locale"],{locale:l.locale})))).$match(e.$body()),I(t)&&(a=l.$kanji_to_i(t["$[]"](1)),I(a))?(o=l.bad_status_table.$roll(n,a),r=e.$body().$sub(i,o),T(g(c,"DiceTable"),"RollResult").$new(e.$table_name(),e.$value(),r)):e},r.$$arity=2),e.def(s,"$kanji_to_i",$=function(e){var n,l=this;return null==l.locale&&(l.locale=d),(n=g(c,"I18n").$t("BeginningIdol.abnormality.num_map",y(["locale"],{locale:l.locale})).$find_index(e))===d||null==n?d:p(n,"succ",[])},$.$$arity=1),function(n,l,i){var t,a,o,r=B(n,l,"D66WithAbnormality"),$=[r].concat(i);r.$include(g($,"WithAbnormality")),e.defs(r,"$from_i18n",t=function(e,n,l){var i,t=d;return t=g($,"I18n").$t(e,y(["locale"],{locale:l})),i=g($,"D66SortType").$const_get(t["$[]"]("d66_sort_type")),this.$new(t["$[]"]("name"),i,t["$[]"]("items"),n,l)},t.$$arity=3),e.def(r,"$initialize",a=function(n,l,i,t,o){var r=this;return a.$$p&&(a.$$p=null),D(r,e.find_super_dispatcher(r,"initialize",a,!1,!0),"initialize",[n,l,i],null),r.bad_status_table=t,r.locale=o},a.$$arity=5),e.def(r,"$roll",o=function(n){var l,i=this;return o.$$p&&(o.$$p=null),l=D(i,e.find_super_dispatcher(i,"roll",o,!1,!0),"roll",[n],null),i.$replace_abnormality(l,n)},o.$$arity=1)}(b[0],T(g(b,"DiceTable"),"D66Table"),b),void function(n,l,i){var t,a,o,r=B(n,l,"TableWithAbnormality"),$=[r].concat(i);r.$include(g($,"WithAbnormality")),e.defs(r,"$from_i18n",t=function(e,n,l){var i=d;return i=g($,"I18n").$t(e,y(["locale"],{locale:l})),this.$new(i["$[]"]("name"),i["$[]"]("type"),i["$[]"]("items"),n,l)},t.$$arity=3),e.def(r,"$initialize",a=function(n,l,i,t,o){var r=this;return a.$$p&&(a.$$p=null),D(r,e.find_super_dispatcher(r,"initialize",a,!1,!0),"initialize",[n,l,i],null),r.bad_status_table=t,r.locale=o},a.$$arity=5),e.def(r,"$roll",o=function(n){var l,i=this;return o.$$p&&(o.$$p=null),l=D(i,e.find_super_dispatcher(i,"roll",o,!1,!0),"roll",[n],null),i.$replace_abnormality(l,n)},o.$$arity=1)}(b[0],T(g(b,"DiceTable"),"Table"),b)},Opal.modules["bcdice/game_system/beginning_idol/work_table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m,u,_,d=[],T=e.nil,g=e.$$$,f=e.$$,B=e.module,y=e.klass,I=e.hash2,p=e.send2,D=e.truthy,h=e.send;return n=d,l=_=[B(d[0],"BCDice")].concat(n),i=u=[B(_[0],"GameSystem")].concat(l),t=m=[b=y(u[0],f(u,"Base"),"BeginningIdol")].concat(i),s=y(m[0],g(f(m,"DiceTable"),"D66Table"),"WorkWithChanceTable"),c=[s].concat(t),s.$$prototype.regexp=s.$$prototype.off=T,e.defs(s,"$from_i18n",a=function(e,n){var l,i=T;return i=f(c,"I18n").$t(e,I(["locale"],{locale:n})),l=f(c,"D66SortType").$const_get(i["$[]"]("d66_sort_type")),this.$new(i["$[]"]("name"),l,i["$[]"]("items"),n)},a.$$arity=2),e.def(s,"$initialize",o=function(n,l,i,t){var a=this;return o.$$p&&(o.$$p=null),p(a,e.find_super_dispatcher(a,"initialize",o,!1,!0),"initialize",[n,l,i],null),a.regexp=f(c,"Regexp").$new(f(c,"I18n").$t("BeginningIdol.with_chance.regexp",I(["locale"],{locale:t}))),a.off=f(c,"I18n").$t("BeginningIdol.with_chance.off_text",I(["locale"],{locale:t}))},o.$$arity=4),e.def(s,"$roll_command",r=function(e,n){var l,i=T;return i=/^LO([1-6]{1,2})?$/.$match(n),D(i)?this.$roll(e,(l=i["$[]"](1))===T||null==l?T:h(l,"to_i",[])):T},r.$$arity=2),e.def(s,"$roll",$=function(n,l){var i=this,t=T,a=T,o=T;return $.$$p&&($.$$p=null),null==l&&(l=T),t=p(i,e.find_super_dispatcher(i,"roll",$,!1,!0),"roll",[n],null),D(l)?(a=i.regexp.$match(t.$body()),D(D(o=a)?function(e,n){return"number"==typeof e&&"number"==typeof n?e>=n:e["$>="](n)}(a["$[]"](1).$to_i(),l):o)?g(f(c,"DiceTable"),"RollResult").$new(t.$table_name(),t.$value(),i.off):D(a)?g(f(c,"DiceTable"),"RollResult").$new(t.$table_name(),t.$value(),t.$body().$sub(i.regexp,"")):t):t},$.$$arity=-2),function(n,l){var i,t=[n].concat(l);n.$private(),e.def(n,"$translate_local_work_table",i=function(e){return f(t,"WorkWithChanceTable").$from_i18n("BeginningIdol.local_work",e)},i.$$arity=1)}(e.get_singleton_class(b),m),void b.$register_prefix("LO")},Opal.modules["bcdice/game_system/beginning_idol/skill_table"]=function(e){function n(e,n){return"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)}var l,i,t,a,o,r,$,s,c,b,m,u,_,d,T,g,f=[],B=e.nil,y=e.$$$,I=e.$$,p=e.module,D=e.klass,h=e.hash2,S=e.send2,C=e.truthy,A=e.send;return l=f,i=g=[p(f[0],"BCDice")].concat(l),t=(T=[p(g[0],"GameSystem")].concat(i))[0],a=I(T,"Base"),o=T,function(n,l,i){var t,a=D(n,l,"SkillTable");[a].concat(i),e.def(a,"$roll",t=function(e){return this.$roll_command(e,"RTT")},t.$$arity=1)}((d=[D(t,a,"BeginningIdol")].concat(o))[0],y(I(d,"DiceTable"),"SaiFicSkillTable"),d),r=d[0],$=y(I(d,"DiceTable"),"Table"),s=d,u=D(r,$,"SkillGetTable"),_=[u].concat(s),u.$$prototype.reroll_reg=B,e.defs(u,"$from_i18n",c=function(e,n,l){var i=B;return i=I(_,"I18n").$t(e,h(["locale"],{locale:l})),this.$new(i["$[]"]("name"),i["$[]"]("type"),i["$[]"]("items"),n,l)},c.$$arity=3),e.def(u,"$initialize",b=function(n,l,i,t,a){var o=this,r=B;return b.$$p&&(b.$$p=null),S(o,e.find_super_dispatcher(o,"initialize",b,!1,!0),"initialize",[n,l,i],null),o.skill_table=t,r=I(_,"I18n").$t("BeginningIdol.skill_get_table",h(["locale"],{locale:a})),o.reroll_reg=I(_,"Regexp").$new(r["$[]"]("reroll_reg")),o.reroll=r["$[]"]("reroll"),o.secondary_name=r["$[]"]("secondary_name")},b.$$arity=5),e.def(u,"$roll",m=function(l){var i,t=this,a=B,o=B,r=B,$=B;return m.$$p&&(m.$$p=null),a=S(t,e.find_super_dispatcher(t,"roll",m,!1,!0),"roll",[l],null),o=t.reroll_reg.$match(a.$body()),C(o)?(r=o.$captures(),$=n(a.$body(),"\n"),function(){var a=e.new_brk();try{A(t,"loop",[],((i=function(){var t=null==i.$$s?this:i.$$s,o=B;return null==t.skill_table&&(t.skill_table=B),null==t.secondary_name&&(t.secondary_name=B),null==t.reroll&&(t.reroll=B),o=t.skill_table.$roll_skill(l),$=n($,t.secondary_name+" \uff1e ["+o.$category_dice()+","+o.$row_dice()+"] \uff1e "+o),C(r["$include?"](o.$category_name()))||e.brk(B,a),$=n($," \uff1e "+t.reroll+"\n")}).$$s=t,i.$$brk=a,i.$$arity=0,i))}catch(o){if(o===a)return o.$v;throw o}}(),y(I(_,"DiceTable"),"RollResult").$new(a.$table_name(),a.$value(),$)):a},m.$$arity=1),void function(n,l,i){var t,a,o=D(n,null,"SkillHometown");[o].concat(i),o.$$prototype.skill_name=B,e.def(o,"$initialize",t=function(e){return this.skill_name=e},t.$$arity=1),e.def(o,"$roll",a=function(e){return this.skill_name.$roll_command(e,"AT6")},a.$$arity=1)}(d[0],0,d)},Opal.modules["bcdice/game_system/beginning_idol/table"]=function(e){var n,l,i,t,a,o,r,$,s,c,b,m=e.top,u=[],_=e.nil,d=e.$$$,T=e.$$,g=e.module,f=e.klass,B=e.hash2,y=e.send,I=e.truthy;return m.$require("bcdice/game_system/beginning_idol/chain_table"),m.$require("bcdice/game_system/beginning_idol/chain_d66_table"),m.$require("bcdice/game_system/beginning_idol/bad_status_table"),m.$require("bcdice/game_system/beginning_idol/random_event_table"),m.$require("bcdice/game_system/beginning_idol/my_skill_name_table"),m.$require("bcdice/game_system/beginning_idol/d6_twice_table"),m.$require("bcdice/game_system/beginning_idol/item_table"),m.$require("bcdice/game_system/beginning_idol/costume_table"),m.$require("bcdice/game_system/beginning_idol/accessories_table"),m.$require("bcdice/game_system/beginning_idol/with_abnormality"),m.$require("bcdice/game_system/beginning_idol/work_table"),m.$require("bcdice/game_system/beginning_idol/skill_table"),n=u,l=b=[g(u[0],"BCDice")].concat(n),i=c=[g(b[0],"GameSystem")].concat(l),s=[$=f(c[0],T(c,"Base"),"BeginningIdol")].concat(i),t=e.get_singleton_class($),r=[t].concat(s),t.$private(),e.def(t,"$translate_skill_table",a=function(e){return T(r,"SkillTable").$from_i18n("BeginningIdol.skill_table",e,B(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},a.$$arity=1),e.def(t,"$translate_tables",o=function(n){var l,i,t,a,o,$,s,c,b,m,u,g,f,p=this,D=_,h=_,S=_,C=_;return D=T(r,"CostumeTable").$from_i18n("BeginningIdol.tables.DT",n),h=T(r,"CostumeTable").$from_i18n("BeginningIdol.tables.RC",n),S=T(r,"CostumeTable").$from_i18n("BeginningIdol.tables.FC",n),a=T(r,"ChainTable").$new(T(r,"I18n").$t("BeginningIdol.ACB.name",B(["locale"],{locale:n})),"1D6",[[T(r,"I18n").$t("BeginningIdol.ACB.items.challenge_girls",B(["locale"],{locale:n})),D.$brand_only()],[T(r,"I18n").$t("BeginningIdol.ACB.items.challenge_girls",B(["locale"],{locale:n})),D.$brand_only()],[T(r,"I18n").$t("BeginningIdol.ACB.items.road_to_prince",B(["locale"],{locale:n})),h.$brand_only()],[T(r,"I18n").$t("BeginningIdol.ACB.items.road_to_prince",B(["locale"],{locale:n})),h.$brand_only()],[T(r,"I18n").$t("BeginningIdol.ACB.items.fortune_stars",B(["locale"],{locale:n})),S.$brand_only()],[T(r,"I18n").$t("BeginningIdol.ACB.items.fortune_stars",B(["locale"],{locale:n})),S.$brand_only()]]),o=T(r,"BadStatusTable").$new(n),$=p.$translate_skill_table(n),s=d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.rare_skill_table",n),c=T(r,"ItemTable").$new(n),b=T(r,"ChainTable").$new(T(r,"I18n").$t("BeginningIdol.TN.name",B(["locale"],{locale:n})),"1D6",y(T(r,"I18n").$t("BeginningIdol.TN.items",B(["locale"],{locale:n})).$dup(),"tap",[],((l=function(e){return null==e&&(e=_),e["$[]"](3).$push($)}).$$s=p,l.$$arity=1,l))),m=T(r,"ChainTable").$new(T(r,"I18n").$t("BeginningIdol.CG.name",B(["locale"],{locale:n})),"1D6",y(T(r,"I18n").$t("BeginningIdol.CG.items",B(["locale"],{locale:n})).$map(),"with_index",[],((i=function(e,n){return null==e&&(e=_),null==n&&(n=_),I([3,4]["$include?"](n))?[e,c]:[e]}).$$s=p,i.$$arity=2,i))),u=T(r,"ChainD66Table").$new(T(r,"I18n").$t("BeginningIdol.GG.name",B(["locale"],{locale:n})),y(T(r,"I18n").$t("BeginningIdol.GG.items",B(["locale"],{locale:n})),"to_h",[],((t=function(e,n){var l;return null==e&&(e=_),null==n&&(n=_),l=I(["23","24","25"]["$include?"](e))?[n,s]:e["$=="]("56")?[n,c]:[n],[e,l]}).$$s=p,t.$$arity=2,t))),g=["22",[(C=T(r,"I18n").$t("BeginningIdol.HA.items",B(["locale"],{locale:n})))["$[]"]("22"),T(r,"SkillHometown").$new($)].$flatten()],y(C,"[]=",e.to_a(g)),function(e,n){"number"==typeof e||e["$-"](1)}(g.length),f=T(r,"ChainD66Table").$new(T(r,"I18n").$t("BeginningIdol.HA.name",B(["locale"],{locale:n})),C),B(["DT","RC","FC","ACB","TN","CG","GG","HA","CBT","RCB","HBT","RHB","RU","SIP","BU","HW","FL","MSE","ST","FST","BWT","LWT","TWT","CWT","SU","WI","NA","GA","BA","WT","VA","MU","DR","VI","SP","CHR","PAR","SW","AN","MOV","FA","BVT","LVT","TVT","CVT","BST","LST","TST","CST","BPT","LPT","TPT","CPT","BIT","LIT","TIT","CIT","CHO","SCH","WCH","NCH","GCH","PCH","LUR","SUR","WUR","NUR","GUR","BUR","ACE","ACT","MS","RE","SH","MO","SEA","SPA","LN","SGT","RS"],{DT:D,RC:h,FC:S,ACB:a,TN:b,CG:m,GG:u,HA:f,CBT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CBT",n),RCB:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RCB",n),HBT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.HBT",n),RHB:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.RHB",n),RU:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.RU",n),SIP:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SIP",n),BU:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BU",n),HW:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.HW",n),FL:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FL",n),MSE:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.MSE",n),ST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.ST",n),FST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.FST",n),BWT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BWT",n),LWT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.LWT",n),TWT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.TWT",n),CWT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CWT",n),SU:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SU",n),WI:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WI",n),NA:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.NA",n),GA:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GA",n),BA:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.BA",n),WT:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.WT",n),VA:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VA",n),MU:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MU",n),DR:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.DR",n),VI:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.VI",n),SP:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SP",n),CHR:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHR",n),PAR:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PAR",n),SW:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.SW",n),AN:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.AN",n),MOV:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.MOV",n),FA:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.FA",n),BVT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BVT",n),LVT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LVT",n),TVT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TVT",n),CVT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CVT",n),BST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BST",n),LST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LST",n),TST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TST",n),CST:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CST",n),BPT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BPT",n),LPT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LPT",n),TPT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TPT",n),CPT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CPT",n),BIT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.BIT",n),LIT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.LIT",n),TIT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.TIT",n),CIT:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.CIT",n),CHO:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.CHO",n),SCH:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.SCH",n),WCH:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.WCH",n),NCH:d(T(r,"DiceTable"),"Table").$from_i18n("BeginningIdol.tables.NCH",n),GCH:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.GCH",n),PCH:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.PCH",n),LUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.LUR",n),SUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.SUR",n),WUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.WUR",n),NUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.NUR",n),GUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.GUR",n),BUR:T(r,"D6TwiceTable").$from_i18n("BeginningIdol.tables.BUR",n),ACE:d(T(r,"DiceTable"),"D66Table").$from_i18n("BeginningIdol.tables.ACE",n),ACT:p.$translate_accessories_table(n),MS:T(r,"MySkillNameTable").$new(n),RE:T(r,"RandomEventTable").$new(n),SH:T(r,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SH",o,n),MO:T(r,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.MO",o,n),SEA:T(r,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SEA",o,n),SPA:T(r,"D66WithAbnormality").$from_i18n("BeginningIdol.tables.SPA",o,n),LN:T(r,"TableWithAbnormality").$from_i18n("BeginningIdol.tables.LN",o,n),SGT:T(r,"SkillGetTable").$from_i18n("BeginningIdol.tables.SGT",$,n),RS:T(r,"SkillGetTable").$from_i18n("BeginningIdol.tables.RS",$,n)})},o.$$arity=1),e.const_set(s[0],"TABLES",$.$translate_tables("ja_jp")),e.const_set(s[0],"BAD_STATUS_TABLE",T(s,"BadStatusTable").$new("ja_jp")),e.const_set(s[0],"LOCAL_WORK_TABLE",$.$translate_local_work_table("ja_jp")),e.const_set(s[0],"ITEM_TABLE",T(s,"ItemTable").$new("ja_jp")),e.const_set(s[0],"SKILL_TABLE",$.$translate_skill_table("ja_jp")),void $.$register_prefix(T(s,"TABLES").$keys())},Opal.modules["bcdice/game_system/BeginningIdol"]=function(e){function n(e,n){return"number"==typeof e&&"number"==typeof n?e<=n:e["$<="](n)}function l(e,n){return"number"==typeof e&&"number"==typeof n?e>=n:e["$>="](n)}function i(e,n){return"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)}var t,a,o,r,$,s,c,b,m,u,_,d,T,g,f,B,y,I=[],p=e.nil,D=e.$$$,h=e.$$,S=e.module,C=e.klass,A=e.send2,v=e.truthy,R=e.send,k=e.hash2;return e.top.$require("bcdice/game_system/beginning_idol/table"),t=I,a=y=[S(I[0],"BCDice")].concat(t),o=B=[S(y[0],"GameSystem")].concat(a),g=C(B[0],h(B,"Base"),"BeginningIdol"),f=[g].concat(o),g.$$prototype.randomizer=p,e.const_set(f[0],"ID","BeginningIdol"),e.const_set(f[0],"NAME","\u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb"),e.const_set(f[0],"SORT_KEY","\u3072\u304d\u306b\u3093\u304f\u3042\u3044\u3068\u308b"),e.const_set(f[0],"HELP_MESSAGE","\u30fb\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u3000[r]PDn[+m/-m](r\uff1a\u5834\u306b\u6b8b\u3063\u305f\u51fa\u76ee\u3000n\uff1a\u632f\u308b\u6570\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u30ef\u30fc\u30eb\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0\u4ed5\u4e8b\u8868\u3000BWT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LWT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\n\u3000TWT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CWT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\u3000LO[n]\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb(n\uff1a\u30c1\u30e3\u30f3\u30b9)\n\u3000SU\uff1a\u60c5\u71b1\u306e\u590f\u3000WI\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NA\uff1a\u5927\u81ea\u7136\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u4ed5\u4e8b\u8868\u3000WT\u3000VA\uff1a\u30d0\u30e9\u30a8\u30c6\u30a3\u3000MU\uff1a\u97f3\u697d\u95a2\u4fc2\u3000DR\uff1a\u30c9\u30e9\u30de\u95a2\u4fc2\n\u3000VI\uff1a\u30d3\u30b8\u30e5\u30a2\u30eb\u95a2\u4fc2\u3000SP\uff1a\u30b9\u30dd\u30fc\u30c4\u3000CHR\uff1a\u30af\u30ea\u30b9\u30de\u30b9\u3000PAR\uff1a\u30d1\u30fc\u30c8\u30ca\u30fc\u95a2\u4fc2\n\u3000SW\uff1a\u304a\u83d3\u5b50\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30e9\u30f3\u30c0\u30e0\u30a4\u30d9\u30f3\u30c8\u3000RE\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\u30a2\u30a4\u30c9\u30eb\u30b9\u30ad\u30eb\u4fee\u5f97\u8868\u3000SGT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RS\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u5909\u8abf\u3000BT[n](n\uff1a\u767a\u751f\u6570)\n\u30fb\u30a2\u30a4\u30c6\u30e0\u3000IT[n](n\uff1a\u7372\u5f97\u6570)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\u8863\u88c5\u3000DT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RC\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\u7121\u8336\u3076\u308a\u8868\u3000LUR\uff1a\u5730\u65b9\u30a2\u30a4\u30c9\u30eb\u3000SUR\uff1a\u60c5\u71b1\u306e\u590f\u3000WUR\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\n\u3000NUR\uff1a\u5927\u81ea\u7136\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\u30bb\u30f3\u30bf\u30fc\u30eb\u30fc\u30eb\u3000HW\uff1a\u5411\u304b\u3044\u98a8\u30b7\u30fc\u30f3\u8868\u3000FL\uff1a\u99c6\u3051\u51fa\u3057\u30b7\u30fc\u30f3\u8868\u3000LN\uff1a\u5b64\u72ec\u8868\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\u5408\u5bbf\u30eb\u30fc\u30eb\u3000\u6563\u7b56\u8868\u3010SH\uff1a\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30e2\u30fc\u30eb\u3000MO\uff1a\u5c71\u3000SEA\uff1a\u6d77\u3000SPA\uff1a\u6e29\u6cc9\u8857\u3011\n\u3000TN\uff1a\u591c\u8a9e\u308a\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\u3000\u6210\u9577\u8868\u3010CG\uff1a\u30b3\u30e2\u30f3\u3000GG\uff1a\u30b4\u30fc\u30eb\u30c9\u3011\n\u30fb\u30b5\u30d3\u8868\u3000CHO\u3000SCH\uff1a\u60c5\u71b1\u306e\u590f\u3000WCH\uff1a\u306c\u304f\u3082\u308a\u306e\u51ac\u3000NCH\uff1a\u5927\u81ea\u7136\n\u3000GCH\uff1a\u5973\u6027\u5411\u3051\u3000PCH\uff1a\u529b\u5f37\u3044\n\u30fb\u30ad\u30e3\u30e9\u7a7a\u767d\u8868\u3000CBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RCB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u8da3\u5473\u7a7a\u767d\u8868\u3000HBT\uff1a\u30c1\u30e3\u30ec\u30f3\u30b8\u30ac\u30fc\u30eb\u30ba\u3000RHB\uff1a\u30ed\u30fc\u30c9\u30c8\u30a5\u30d7\u30ea\u30f3\u30b9\n\u30fb\u30de\u30b9\u30b3\u30c3\u30c8\u66b4\u8d70\u8868\u3000RU\n\u30fb\u30a2\u30a4\u30c9\u30eb\u71b1\u6e6f\u98a8\u5442\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\u6e29\u5ea6)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\u4f1a\u5834\u8868\n\u3000BVT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LVT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TVT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CVT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u5834\u6240\u8868\n\u3000BST\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LST\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TST\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CST\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\u7a2e\u5225\u6c7a\u5b9a\u8868\n\u3000BPT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LPT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TPT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CPT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n\u30fb\u9053\u5177\u8868\n\u3000BIT\uff1a\u5927\u624b\u82b8\u80fd\u30d7\u30ed\u3000LIT\uff1a\u5f31\u5c0f\u82b8\u80fd\u30d7\u30ed\u3000TIT\uff1a\u30e9\u30a4\u30d6\u30b7\u30a2\u30bf\u30fc\u3000CIT\uff1a\u30a2\u30a4\u30c9\u30eb\u90e8\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),g.$register_prefix(h(f,"SKILL_TABLE").$prefixes(),"IT","BT","\\d{2}C","\\d+S?A","[1-7]*PD"),e.def(g,"$initialize",r=function(n){var l=this;return r.$$p&&(r.$$p=null),A(l,e.find_super_dispatcher(l,"initialize",r,!1,!0),"initialize",[n],null),l.sort_add_dice=!0,l.d66_sort_type=D(h(f,"D66SortType"),"ASC")},r.$$arity=1),e.def(g,"$result_nd6",$=function(e,i,t,a,o){var r=this;return o["$=="]("?")||!a["$=="](">=")?p:v(n(i,2))?h(f,"Result").$fumble(r.$translate("BeginningIdol.fumble")):v(l(i,12))?h(f,"Result").$critical(r.$translate("BeginningIdol.special")):v(l(e,o))?h(f,"Result").$success(r.$translate("success")):h(f,"Result").$failure(r.$translate("failure"))},$.$$arity=5),e.alias(g,"check_2D6","check_nD6"),e.def(g,"$eval_game_system_specific_command",s=function(e){var n,l,i,t,a,o,r,$=this;return v(n=v(l=v(i=v(t=v(a=v(o=v(r=$.$roll_attack(e))?r:$.$roll_burst(e))?o:$.$roll_performance(e))?a:D($.$class(),"SKILL_TABLE").$roll_command($.randomizer,e))?t:D($.$class(),"ITEM_TABLE").$roll_command($.randomizer,e))?i:D($.$class(),"BAD_STATUS_TABLE").$roll_command($.randomizer,e))?l:D($.$class(),"LOCAL_WORK_TABLE").$roll_command($.randomizer,e))?n:$.$roll_tables(e,D($.$class(),"TABLES"))},s.$$arity=1),g.$private(),e.def(g,"$roll_burst",c=function(e){var t,a=this,o=p,r=p,$=p,s=p,c=p,b=p,m=p;return o=/^(\d{2})C$/.$match(e),!v(o)||(r=o["$[]"](1).$to_i(),v(v($="number"==typeof(t=r)?t<45:t["$<"](45))?$:function(e,n){return"number"==typeof e?e>55:e["$>"](55)}(r)))?p:(s=v(n(r,49))?3:v(n(r,52))?4:v(n(r,54))?5:6,b=i((c=a.randomizer.$roll_barabara(s,6).$sort()).$sum(),r),m=v(l(b,80))?a.$translate("BeginningIdol.burst.burst"):v(l(b,75))?a.$translate("BeginningIdol.burst.critical_success"):v(l(b,65))?a.$translate("BeginningIdol.burst.success"):a.$translate("failure"),a.$translate("BeginningIdol.burst.name")+" \uff1e "+r+"+["+c.$join(",")+"] \uff1e "+b+" \uff1e "+m)},c.$$arity=1),e.def(g,"$roll_attack",b=function(e){var l=this,t=p,a=p,o=p,r=p,$=p,s=p,c=p,b=p,m=p,u=p,_=p,d=p;return t=/^(\d+)(S?)A([1-6]*)([+\-]\d+)?$/.$match(e),!v(t)||(a=t["$[]"](1).$to_i(),v(n(a,0)))?p:(o=t["$[]"](2)["$empty?"]()["$!"](),r=R(t["$[]"](3).$each_char(),"map",[],"to_i".$to_proc()),$=t["$[]"](4).$to_i(),s=h(f,"Format").$modifier($),b=(c=l.randomizer.$roll_barabara(a,6).$sort()).$join(","),c=function(e,n){return"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n)}(c,r),m=l.$translate("BeginningIdol.attack.name")+" \uff1e ["+b+"]"+s+" \uff1e ",v(v(u=c.$count()["$=="](a))?u:c["$empty?"]())||(m=i(m,"["+c.$join(",")+"]"+s+" \uff1e ")),v(v(_=o)?_:c.$count()["$=="](c.$uniq().$count()))?(d=[i(c.$sum(),$.$to_i()),0].$max(),m=i(m,l.$format(l.$translate("BeginningIdol.attack.damage"),k(["total"],{total:d})))):m=i(m,l.$translate("failure")),m)},b.$$arity=1),e.def(g,"$roll_performance",m=function(e){var l=this,t=p,a=p,o=p,r=p,$=p,s=p,c=p,b=p,m=p;return t=/^([1-7]*)PD(\d+)([+\-]\d+)?$/.$match(e),!v(t)||(a=t["$[]"](2).$to_i(),v(n(a,0)))?p:(o=R(t["$[]"](1).$chars(),"map",[],"to_i".$to_proc()).$sort(),r=t["$[]"](3).$to_i(),s=i($=l.randomizer.$roll_barabara(a,6).$sort(),o).$sort(),c=l.$select_uniqs(s),b=v(o["$empty?"]())?l.$translate("BeginningIdol.PD.paformance"):l.$translate("BeginningIdol.PD.symphony"),m=v(o["$empty?"]())?l.$result_performance(c,r,s):l.$result_symphony(c,r),[b,l.$format_dice_list($,o,r),m].$join(" \uff1e "))},m.$$arity=1),e.def(g,"$select_uniqs",u=function(e){var n,l;return R(R(R(e,"group_by",[],"itself".$to_proc()).$to_a(),"select",[],(n=function(e,n){return null==e&&(e=p),null==n&&(n=p),n.$size()["$=="](1)},n.$$s=this,n.$$arity=2,n)),"map",[],(l=function(e,n){return null==e&&(e=p),null==n&&(n=p),e},l.$$s=this,l.$$arity=2,l)).$sort()},u.$$arity=1),e.def(g,"$format_dice_list",_=function(e,n,l){return v(n["$empty?"]())?"["+e.$join(",")+"]"+h(f,"Format").$modifier(l):"["+e.$join(",")+"],["+n.$join(",")+"]"+h(f,"Format").$modifier(l)},_.$$arity=3),e.def(g,"$result_performance",d=function(e,n,l){var t=this;return v(e["$empty?"]())?t.$format(t.$translate("BeginningIdol.PD.miracle"),k(["value"],{value:i(n,10)})):e["$=="]([1,2,3,4,5,6])?t.$format(t.$translate("BeginningIdol.PD.perfect_miracle"),k(["value"],{value:i(n,30)})):v(e.$size()["$!="](l.$size()))?"["+e.$join(",")+"]"+h(f,"Format").$modifier(n)+" \uff1e "+i(e.$sum(),n):i(e.$sum(),n).$to_s()},d.$$arity=3),void e.def(g,"$result_symphony",T=function(e,n){var l=this,t=p;return v(e["$empty?"]())?l.$format(l.$translate("BeginningIdol.PD.miracle_synchro"),k(["value"],{value:i(n,15)})):e["$=="]([1,2,3,4,5,6])?(t=l.$format(l.$translate("BeginningIdol.PD.perfect_miracle"),k(["value"],{value:i(n,30)})),"["+e.$join(",")+"]"+h(f,"Format").$modifier(n)+" \uff1e "+t):"["+e.$join(",")+"]"+h(f,"Format").$modifier(n)+" \uff1e "+i(e.$sum(),n)},T.$$arity=2)},m=[],u=(i=Opal).$$,_=i.module,d=i.klass,T=i.send2,i.top.$require("bcdice/game_system/BeginningIdol"),t=m,a=b=[_(m[0],"BCDice")].concat(t),o=c=[_(b[0],"GameSystem")].concat(a),s=[$=d(c[0],u(c,"BeginningIdol"),"BeginningIdol_Korean")].concat(o),i.const_set(s[0],"ID","BeginningIdol:Korean"),i.const_set(s[0],"NAME","\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),i.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ube44\uae30\ub2dd \uc544\uc774\ub3cc"),i.const_set(s[0],"HELP_MESSAGE","\u30fb\ud37c\ud3ec\uba3c\uc2a4\u3000[r]PDn[+m/-m](r\uff1a\ub0a8\uc740 \uc8fc\uc0ac\uc704 \ub208\u3000n\uff1a\uad74\ub9b4 \uac2f\uc218\u3000m\uff1a\uc218\uc815\uce58)\n\u30fb\uc6d4\ub4dc\uc138\ud305 \uc5c5\ubb34\ud45c\u3000BWT\uff1a\ub300\ud615 \uc5f0\uc608 \ud504\ub85c\ub355\uc158\u3000LWT\uff1a\uc57d\uc18c \uc5f0\uc608 \ud504\ub85c\ub355\uc158\n\u3000TWT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CWT\uff1a\uc544\uc774\ub3cc \ubd80\u3000LO[n]\uff1a\ub85c\uceec \uc544\uc774\ub3cc(n\uff1a\ucc2c\uc2a4)\n\u3000SU\uff1a\uc5f4\uc815\uc758 \uc5ec\ub984\u3000WI\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NA\uff1a\ub300\uc790\uc5f0\u3000GA\uff1a\u5973\u5b66\u5712\u3000BA\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc5c5\ubb34\ud45c\u3000WT\u3000VA\uff1a\ubc84\ub77c\uc774\uc5b4\ud2f0\u3000MU\uff1a\uc74c\uc545 \uad00\ub828\u3000DR\uff1a\ub4dc\ub77c\ub9c8 \uad00\ub828\n\u3000VI\uff1a\ube44\uc8fc\uc5bc \uad00\ub828\u3000SP\uff1a\uc2a4\ud3ec\uce20\u3000CHR\uff1a\ud06c\ub9ac\uc2a4\ub9c8\uc2a4\u3000PAR\uff1a\ud30c\ud2b8\ub108 \uad00\ub828\n\u30fb\ud2b9\uae30 \ub9ac\uc2a4\ud2b8\u3000AN\uff1a\u52d5\u7269\u3000MOV\uff1a\u6620\u753b\u3000FA\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\n\u30fb\u30cf\u30d7\u30cb\u30f3\u30b0\u8868\u3000HA\n\u30fb\u7279\u6280\u30ea\u30b9\u30c8\u3000AT[n](n\uff1a\u5206\u91ceNo.)\n\u30fb\uc544\uc774\ub3cc \uc2a4\ud0ac \uc2b5\ub4dd\ud45c\u3000SGT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RS\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ubcc0\uc870\u3000BT[n](n\uff1a\uc8fc\uc0ac\uc704\ub208)\n\u30fb\uc544\uc774\ud15c\u3000IT[n](n\uff1a\ubcf4\uc720 \uac2f\uc218)\n\u30fb\u30a2\u30af\u30bb\u30b5\u30ea\u30fc\u3000ACT\uff1a\u7a2e\u5225\u6c7a\u5b9a\u3000ACB\uff1a\u30d6\u30e9\u30f3\u30c9\u6c7a\u5b9a\u3000ACE\uff1a\u52b9\u679c\u8868\n\u30fb\uc758\uc0c1\u3000DT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RC\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\u3000FC:\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3\u30b9\u30bf\u30fc\u30ba\n\u30fb\uc5c9\ub9dd\uc9c4\ucc3d \ud45c\u3000LUR\uff1a\ub85c\uceec \uc544\uc774\ub3cc\u3000SUR\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WUR\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\n\u3000NUR\uff1a\ub300\uc790\uc5f0\u3000GUR\uff1a\u5973\u5b66\u5712\u3000BUR\uff1a\u30a2\u30ab\u30c7\u30df\u30fc\n\u30fb\uc13c\ud130 \ub8f0\u3000HW\uff1a\uc5ed\ud48d \uc52c\ud45c\u3000FL\uff1a\uc2e0\ucd9c\ub0b4\uae30 \uc52c\ud45c\u3000LN\uff1a\uace0\ub3c5\ud45c\n\u3000\u30de\u30a4\u30b9\u30ad\u30eb\u3010MS\uff1a\u540d\u524d\u6c7a\u5b9a\u3000MSE\uff1a\u52b9\u679c\u8868\u3011\u3000\u6f14\u51fa\u8868\u3010ST\u3000FST\uff1a\u30d5\u30a1\u30f3\u30bf\u30b8\u30fc\u3011\n\u30fb\ud569\uc219 \ub8f0\u3000\uc0b0\ucc45\ud45c \u3010SH\uff1a\uc1fc\ud551\ubab0\u3000MO\uff1a\uc0b0\u3000SEA\uff1a\ubc14\ub2e4\u3000SPA\uff1a\uc628\ucc9c\u3011\n\u3000TN\uff1a\uc57c\ubc24\uc758 \ub300\ud654 \uc2dc\uce04\uc5d0\uc774\uc158\u3000\uc131\uc7a5\ud45c \u3010CG\uff1a\ucee4\uba3c\u3000GG\uff1a\uace8\ub4dc\u3011\n\u30fb\uc791\uc0ac\ud45c\u3000CHO\u3000SCH\uff1a\uc815\uc5f4\uc758 \uc5ec\ub984\u3000WCH\uff1a\uc628\uae30\uc758 \uaca8\uc6b8\u3000NCH\uff1a\ub300\uc790\uc5f0\n\u30fb\uce90\ub9ad\ud130 \uacf5\ubc31\ud45c\u3000CBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RCB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ucde8\ubbf8 \uacf5\ubc31\ud45c\u3000HBT\uff1a\ucc4c\ub9b0\uc9c0 \uac78\uc988\u3000RHB\uff1a\ub85c\ub4dc \ud22c \ud504\ub9b0\uc2a4\n\u30fb\ub9c8\uc2a4\ucf54\ud2b8 \ud3ed\uc8fc\ud45c\u3000RU\n\u30fb\ubc84\uc2a4\ud2b8 \ud0c0\uc784\u3000nC\uff1a\u30d0\u30fc\u30b9\u30c8\u30bf\u30a4\u30e0(n\uff1a\uc628\ub3c4)\u3000BU\uff1a\u30d0\u30fc\u30b9\u30c8\u8868\n\u30fb\u653b\u6483\u3000n[S]A[r][+m/-m](n\uff1a\u632f\u308b\u6570\u3000S\uff1a\u5931\u6557\u3057\u306a\u3044\u3000r\uff1a\u53d6\u308a\u9664\u304f\u51fa\u76ee\u3000m\uff1a\u4fee\u6b63\u5024)\n\u30fb\u304b\u3093\u305f\u3093\u30d1\u30fc\u30bd\u30f3\u8868\u3000SIP\n\u30fb\ud68c\uc7a5\ud45c\n\u3000BVT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LVT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TVT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CVT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\uc7a5\uc18c\ud45c\n\u3000BST\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LST\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TST\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CST\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ud504\ub808\uc154 \uc885\ub958 \uacb0\uc815\ud45c\n\u3000BPT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LPT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TPT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CPT\uff1a\uc544\uc774\ub3cc \ubd80\n\u30fb\ub3c4\uad6c\ud45c\n\u3000BIT\uff1a\ub300\ud615 \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000LIT\uff1a\uc57d\uc18c \uc608\ub2a5 \ud504\ub85c\ub355\uc158\u3000TIT\uff1a\ub77c\uc774\ube0c \uc2dc\uc5b4\ud130\u3000CIT\uff1a\uc544\uc774\ub3cc \ubd80\n[]\u5185\u306f\u7701\u7565\u53ef\u3000D66 \ub2e4\uc774\uc2a4\uac00 \uc874\uc7ac\n"),$.$register_prefix_from_super_class(),i.def($,"$initialize",r=function(e){var n=this;return r.$$p&&(r.$$p=null),T(n,i.find_super_dispatcher(n,"initialize",r,!1,!0),"initialize",[e],null),n.locale="ko_kr"},r.$$arity=1),i.const_set(s[0],"TABLES",$.$translate_tables("ko_kr")),i.const_set(s[0],"BAD_STATUS_TABLE",u(s,"BadStatusTable").$new("ko_kr")),i.const_set(s[0],"LOCAL_WORK_TABLE",$.$translate_local_work_table("ko_kr")),i.const_set(s[0],"ITEM_TABLE",u(s,"ItemTable").$new("ko_kr")),i.const_set(s[0],"SKILL_TABLE",$.$translate_skill_table("ko_kr"))}}]);