(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3084],{8206:(O,ee,N)=>{N(9993),Opal.queue(function(n){var K,Y,W,l,m,h,y,J,B,z=[],e=n.nil,D=n.module,T=n.klass,v=n.const_set,j=n.send2,q=n.find_super,C=n.def,$=n.truthy,k=n.rb_gt,w=n.send,E=n.rb_le,r=n.rb_plus,S=n.rb_times;return K=z,Y=B=[D(z[0],"BCDice")].concat(K),y=[D(B[0],"GameSystem")].concat(Y),J=n.$r(y),W=y,m=[l=T(y[0],J("Base"),"Avandner")].concat(W),h=n.$r(m),l.$$prototype.randomizer=e,v(m[0],"ID","Avandner"),v(m[0],"NAME","\u9ed2\u7d62\u306e\u30a2\u30f4\u30a1\u30f3\u30c9\u30ca\u30fc"),v(m[0],"SORT_KEY","\u3053\u3064\u3051\u3093\u306e\u3042\u3046\u3042\u3093\u3068\u306a\u3042"),v(m[0],"HELP_MESSAGE","\u30fb\u8abf\u67fb\u5224\u5b9a\uff1anAVm[Cx]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAVm*p[+t][Cx]\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d2\u30c3\u30c8\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u30020\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u300cCx\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3001\u6700\u5927\u5024\u306f\u300c2\u300d\u3001\u300c0\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u300c+t\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc\u3092\u6307\u5b9a\u3002\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AV3 \u2192 5d10\u3067\u76ee\u6a19\u50243\u3002\n\u30fb6AV2C0 \u2192 6d10\u3067\u76ee\u6a19\u50242\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u30fb4AV3*5 \u2192 4d10\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AV2x10 \u2192 7d10\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8av4*7+10 \u2192 8d10\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b7\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),l.$register_prefix("\\d+AV"),C(l,"$initialize",function b(c){var i=this;return delete b.$$p,j(i,q(i,"initialize",b,!1,!0),"initialize",[c],null),i.sort_add_dice=!0},1),C(l,"$eval_game_system_specific_command",function(c){var i=e,f=e,x=e,o=e,g=e,s=e;return $(c["$=~"](/(\d+)AV(\d+)((x|\*)(\d+))?(\+(\d+))?(C(\d+))?$/i))?(i=h("Regexp").$last_match(1).$to_i(),f=h("Regexp").$last_match(2).$to_i(),x=($(o=h("Regexp").$last_match(5))?o:0).$to_i(),g=($(o=h("Regexp").$last_match(7))?o:0).$to_i(),s=($(o=h("Regexp").$last_match(9))?o:1).$to_i().$clamp(0,2),this.$checkRoll(i,f,x,g,s)):e},1),C(l,"$checkRoll",function(c,d,i,f,x){var H,s=e,a=e,u=e,p=e,A=e,G=e,R=e,V=e,t=e,M=e;for(s=0,a=0,u="",p=c;$(k(p,0));)G=(A=this.randomizer.$roll_barabara(p,10).$sort()).$join(","),R=w(A,"count",[],function(_){return null==_&&(_=e),E(_,d)},1),V=w(A,"count",[],function(_){return null==_&&(_=e),E(_,x)},1),s=r(s,R),a=r(a,V),$(u["$empty?"]())||(u=r(u,"+")),u=r(u,R+"["+G+"]"),p=V;return t="",H=i["$!="](0),$(H)?(M=r(S(s,i),S(a,f)),t=r(t,"("+c+"D10<="+d+") \uff1e "+u+" \uff1e Hits\uff1a"+s+"*"+i),$(k(f,0))&&(t=r(t," + Trigger\uff1a"+a+"*"+f)),t=r(t," \uff1e "+M+"\u30c0\u30e1\u30fc\u30b8")):t=r(t,"("+c+"D10<="+d+") \uff1e "+u+" \uff1e \u6210\u529f\u6570\uff1a"+s),$(k(a,0))&&(t=r(t," / "+a+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),t},5)})}}]);