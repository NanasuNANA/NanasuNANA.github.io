(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[3726],{3350:(ne,se,P)=>{P(9993),Opal.queue(function(n){var N,J,Z,w,S,O,g,U,C,x=[],e=n.nil,E=n.module,R=n.klass,q=n.const_set,b=n.eqeqeq,$=n.truthy,W=n.rb_lt,h=n.rb_gt,j=n.to_ary,c=n.rb_plus,H=n.rb_times,I=n.rb_minus,K=n.eqeq,p=n.def,z=n.send;return N=x,J=C=[E(x[0],"BCDice")].concat(N),g=[E(C[0],"GameSystem")].concat(J),U=n.$r(g),Z=g,S=[w=R(g[0],U("Base"),"WorldOfDarkness")].concat(Z),O=n.$r(S),q(S[0],"ID","WorldOfDarkness"),q(S[0],"NAME","\u30ef\u30fc\u30eb\u30c9\u30fb\u30aa\u30d6\u30fb\u30c0\u30fc\u30af\u30cd\u30b9"),q(S[0],"SORT_KEY","\u308f\u3042\u308b\u3068\u304a\u3075\u305f\u3042\u304f\u306d\u3059"),q(S[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(xSTn+y or xSTSn+y or xSTAn+y)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)ST(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STS(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u3067\u632f\u308a\u8db3\u3057\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STA(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u306f2\u6210\u529f [20th\u30eb\u30fc\u30eb]\n\n\u3000\u96e3\u6613\u5ea6=\u7701\u7565\u66426\n\u3000\u81ea\u52d5\u6210\u529f=\u7701\u7565\u66420\n"),w.$register_prefix("\\d+ST"),p(w,"$eval_game_system_specific_command",function(k){var i,u,_,A,B,G,r=e,l=e,m=e,o=e,t=e,f=e,s=e,y=e,D=e,a=e,v=e;if(r=6,l=0,m=!1,o=!1,A=(t=k.$match(/^(\d+)(ST[SA]?)(\d+)?([+-]\d+)?/))["$[]"](1).$to_i(),b("STS",B=t["$[]"](2))?m=!0:b("STA",B)&&(o=!0),$(t["$[]"](3))&&(r=t["$[]"](3).$to_i()),$(t["$[]"](4))&&(l=t["$[]"](4).$to_i()),$(W(r,2))&&(r=6),(f=[]).$push("DicePool="+A+", Difficulty="+r+", AutomaticSuccess="+l),$(h(r,10))&&(r=10),s=0,y=0,D=!1,u=this.$roll_wod(A,r),a=null==(i=j(u))[1]?e:i[1],v=null==i[2]?e:i[2],G=null==i[3]?e:i[3],f.$push((null==i[0]?e:i[0]).$join(",")),s=c(s,v),y=c(y,G),($(h(v,0))||$(h(a,0)))&&(D=!0),$(o))s=c(s,H(a,2));else if(s=c(s,a),$(m))for(;$(h(a,0));)_=this.$roll_wod(a,r),a=null==(u=j(_))[1]?e:u[1],v=null==u[2]?e:u[2],f.$push((null==u[0]?e:u[0]).$join(",")),s=c(s,c(v,a));return s=I(s,[s,y].$min()),s=c(s,l),$(h(s,0))?f.$push("\u6210\u529f\u6570"+s):$(h(y,0))&&K(D,!1)?f.$push("\u5927\u5931\u6557"):f.$push("\u5931\u6557"),f.$join(" \uff1e ")},1),p(w,"$roll_wod",function(k,i){var _=e,d=e,r=e,l=e;return(_=z(O("Array"),"new",[k],function m(){var o=null==m.$$s?this:m.$$s;return null==o.randomizer&&(o.randomizer=e),o.randomizer.$roll_once(10)},{$$arity:0,$$s:this}))["$sort!"](),d=0,r=0,l=0,z(_,"each",[],function(o){var t;return null==o&&(o=e),b(10,t=o)?l=c(l,1):b(n.Range.$new(i,10,!0),t)?d=c(d,1):b(1,t)?r=c(r,1):e},1),[_,l,d,r]},2)})}}]);