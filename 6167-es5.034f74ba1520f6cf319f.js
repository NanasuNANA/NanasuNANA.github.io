(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6167],{46167:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function u(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function l(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,o,a,s,c,f,_,g,d,m,h,y,b,p,R,C,x,B,v,T,F,H,A,k,L,D,z,S,E=[],P=t.nil,w=t.$$,I=t.module,K=t.klass,M=t.send2,O=t.range,N=t.truthy,j=t.send,G=t.hash2;r=E,o=S=[I(E[0],"BCDice")].concat(r),a=z=[I(S[0],"GameSystem")].concat(o),L=K(z[0],w(z,"Base"),"Cthulhu7th_Korean"),D=[L].concat(a),L.$$prototype.bonus_dice_range=L.$$prototype.randomizer=P,t.const_set(D[0],"ID","Cthulhu7th:Korean"),t.const_set(D[0],"NAME","\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),t.const_set(D[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8\uc758 \ubd80\ub984 7\ud310"),t.const_set(D[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000CC(x)<=\uff08\ubaa9\ud45c\uce58\uff09\n\u3000x\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uff1aBonus/Penalty Dice (2~-2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\ub300\uc2e4\ud328\uff1aFumble\uff0f\uc2e4\ud328\uff1aFailure\uff0f\ubcf4\ud1b5 \uc131\uacf5\uff1aRegular success\uff0f\n\u3000\uc5b4\ub824\uc6b4 \uc131\uacf5\uff1aHard success\uff0f\ub300\ub2e8\ud55c \uc131\uacf5\uff1aExtreme success\uff0f\n\u3000\ub300\uc131\uacf5\uff1aCritical success\u3000\uc744 \uc790\ub3d9\ud310\uc815.\n\uc608\uff09CC<=30\u3000CC(2)<=50\u3000CC(-1)<=75\n\n\u30fb\uc870\ud569 \ud310\uc815\u3000(CBR(x,y))\n\u3000\ubaa9\ud45c\uce58 x \uc640 y \ub85c \ub3d9\uc2dc\uc5d0 \uff05\ud310\uc815\uc744 \ud55c\ub2e4.\n\u3000\uc608\uff09CBR(50,20)\n\n\u30fb\uc5f0\uc0ac(Full Auto)\ud310\uc815\u3000FAR(w,x,y,z)\n\u3000w\uff1a\ud0c4\uc218(1~100), x\uff1a\uae30\ub2a5 \uc218\uce58(1~100), y\uff1a\uace0\uc7a5 \ub118\ubc84\n\u3000z\uff1a\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704(-2~2). \uc0dd\ub7b5 \uac00\ub2a5.\n\u3000\uba85\uc911\uc218\uc640 \uad00\ud1b5\uc218, \uc794\ud0c4\uc218\ub9cc\uc744 \uacc4\uc0b0. \ub370\ubbf8\uc9c0\ub294 \uacc4\uc0b0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc608\uff09FAR(25,70,98)\u3000FAR(50,80,98,-1)\n"),L.$register_prefix("CC","CBR","FAR"),t.def(L,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),M(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.bonus_dice_range=O(-2,2,!1)},s.$$arity=1),t.def(L,"$eval_game_system_specific_command",c=function(t){var e,n=this;return/CC/i["$==="](e=t)?n.$getCheckResult(t):/CBR/i["$==="](e)?n.$getCombineRoll(t):/FAR/i["$==="](e)?n.$getFullAutoResult(t):P},c.$$arity=1),t.def(L,"$getCheckResult",f=function(t){var $,u,l=this,i=P,r=P,o=P,a=P,s=P;return N(/^CC([-\d]+)?<=(\d+)/i["$=~"](t)),$=w(D,"Regexp").$last_match(1).$to_i(),u=w(D,"Regexp").$last_match(2).$to_i(),N(e(u,0))?"\uc5d0\ub7ec. \ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":N(l.bonus_dice_range["$include?"]($))?(i=n(i="","(1D100<="+u+")"),i=n(i," \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704["+$+"]"),r=l.$rollPercentD10(),o=l.$getTotalLists($,r),a=l.$getTotal(o,$),s=l.$getCheckResultText(a,u),i=n(i," \uff1e "+o.$join(", ")+" \uff1e "+a+" \uff1e "+s)):"\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+l.bonus_dice_range.$min()+"~"+l.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4."},f.$$arity=1),t.def(L,"$rollPercentD10",_=function(){var t=P;return(t=this.randomizer.$roll_once(10))["$=="](10)&&(t=0),t},_.$$arity=0),t.def(L,"$getTotalLists",g=function(t,e){var $,u,l=P;return l=[],u=n(1,t.$abs()),j(u,"times",[],(($=function(){var t,u=P;return(u=n((t=(null==$.$$s?this:$.$$s).$rollPercentD10(),"number"==typeof t?10*t:t["$*"](10)),e))["$=="](0)&&(u=100),l.$push(u)}).$$s=this,$.$$arity=0,$)),l},g.$$arity=2),t.def(L,"$getTotal",d=function(t,e){return N($(e,0))?t.$min():t.$max()},d.$$arity=2),t.def(L,"$getCheckResultText",m=function(t,n,i){var r;if(null==i&&(i=!1),N(e(t,n)))return t["$=="](1)?"\ub300\uc131\uacf5":N(e(t,u(n,5).$to_i()))?"\ub300\ub2e8\ud55c \uc131\uacf5":N(e(t,u(n,2).$to_i()))?"\uc5b4\ub824\uc6b4 \uc131\uacf5":"\ubcf4\ud1b5 \uc131\uacf5";if(r="\ub300\uc2e4\ud328",t["$=="](100))return r;if(N($(t,96))){if(N(l(n,50)))return r;if(N(i))return r}return"\uc2e4\ud328"},m.$$arity=-3),t.def(L,"$getCombineRoll",h=function(t){var e=this,u=P,l=P,i=P,r=P,o=P,a=P,s=P;return N(/CBR\((\d+),(\d+)\)/i["$=~"](t))?(u=w(D,"Regexp").$last_match(1).$to_i(),l=w(D,"Regexp").$last_match(2).$to_i(),i=e.randomizer.$roll_once(100),r=e.$getCheckResultText(i,u),o=e.$getCheckResultText(i,l),s=0,N((a=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5","\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5\uc131\uacf5"])["$include?"](r))&&(s=n(s,1)),N(a["$include?"](o))&&(s=n(s,1)),e.$debug("succesCount",s),"(1d100<="+u+","+l+") \uff1e "+i+"["+r+","+o+"] \uff1e "+(N($(s,2))?"\uc131\uacf5":s["$=="](1)?"\ubd80\ubd84\uc801 \uc131\uacf5":"\uc2e4\ud328")):P},h.$$arity=1),t.def(L,"$getFullAutoResult",y=function(t){var $=this,u=P,i=P,r=P,o=P,a=P,s=P,c=P;return N(/^FAR\((-?\d+)(,(-?\d+))(,(-?\d+))(,(-?\d+))?\)/i["$=~"](t))?(u=w(D,"Regexp").$last_match(1).$to_i(),i=w(D,"Regexp").$last_match(3).$to_i(),r=w(D,"Regexp").$last_match(5).$to_i(),o=(N(a=w(D,"Regexp").$last_match(7))?a:0).$to_i(),s="",N(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(u,c=100))&&(s=n(s,"\n\ud0c4\uc57d\uc774 \ub108\ubb34 \ub9ce\uc2b5\ub2c8\ub2e4. \uc7a5\uc804\ub41c \ud0c4\uc57d\uc744 "+c+"\uac1c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4.\n"),u=c),N(e(u,0))?"\ud0c4\uc57d\uc740 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":N(e(i,0))?"\ubaa9\ud45c\uce58\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4.":(N(l(r,0))&&(s=n(s,"\n\uace0\uc7a5 \ub118\ubc84\ub294 1 \uc774\uc0c1\uc785\ub2c8\ub2e4. \ub9c8\uc774\ub108\uc2a4 \uae30\ud638\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4.\n"),r=r.$abs()),N($.bonus_dice_range["$include?"](o))?(s=n(s,"\ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704 ["+o+"]"),s=n(s,$.$rollFullAuto(u,i,r,o))):"\n\uc5d0\ub7ec. \ubcf4\ub108\uc2a4, \ud328\ub110\ud2f0 \uc8fc\uc0ac\uc704\uc758 \uc218\uce58\ub294 "+$.bonus_dice_range.$min()+"~"+$.bonus_dice_range.$max()+"\uc785\ub2c8\ub2e4.")):P},y.$$arity=1),t.def(L,"$rollFullAuto",b=function(u,l,r,o){try{var a,s=P,c=P,f=P;return s="",c=0,f=G(["hit_bullet","impale_bullet","bullet"],{hit_bullet:0,impale_bullet:0,bullet:u}),j(O(0,3,!1),"each",[],((a=function(u){var _,g,d=null==a.$$s?this:a.$$s,m=P,h=P,y=P,b=P,p=P,R=P,C=P;for(null==d.bonus_dice_range&&(d.bonus_dice_range=P),null==u&&(u=P),s=n(s,d.$getNextDifficltyMessage(u));N($(o,d.bonus_dice_range.$min()));)c=n(c,1),g=d.$getHitResultInfos(o,l,u),m=null==(_=t.to_ary(g))[0]?P:_[0],h=null==_[1]?P:_[1],s=n(s,"\n"+c+"\ubc88\uc9f8: \uff1e "+(null==_[2]?P:_[2]).$join(", ")+" \uff1e "+m),N($(h,r))&&(s=n(s," \ucd1d\uc54c \uac78\ub9bc"),t.ret(d.$getHitResultText(s,f))),y=d.$getHitType(u,m),g=d.$getBulletResults(f["$[]"]("bullet"),y,l),b=null==(_=t.to_ary(g))[0]?P:_[0],p=null==_[1]?P:_[1],R=null==_[2]?P:_[2],C=["hit_bullet",n(f["$[]"]("hit_bullet"),b)],j(f,"[]=",t.to_a(C)),i(C.length,1),C=["impale_bullet",n(f["$[]"]("impale_bullet"),p)],j(f,"[]=",t.to_a(C)),i(C.length,1),C=["bullet",i(f["$[]"]("bullet"),R)],j(f,"[]=",t.to_a(C)),i(C.length,1),N(e(f["$[]"]("bullet"),0))&&t.ret(d.$getHitResultText(s,f)),o=i(o,1);return o=n(o,1)}).$$s=this,a.$$arity=1,a)),this.$getHitResultText(s,f)}catch(_){if(_===t.returner)return _.$v;throw _}},b.$$arity=4),t.def(L,"$getHitResultInfos",p=function(t,e,n){var $,u,l,i,r=this;return $=r.$rollPercentD10(),u=r.$getTotalLists(t,$),l=r.$getTotal(u,t),i=r.$getFumbleable(n),[r.$getCheckResultText(l,e,i),l,u]},p.$$arity=3),t.def(L,"$getHitResultText",R=function(t,e){return t+"\n\uff1e "+e["$[]"]("hit_bullet")+"\ubc1c\uc774 \uba85\uc911, "+e["$[]"]("impale_bullet")+"\ubc1c\uc774 \uad00\ud1b5, \uc794\ud0c4 "+e["$[]"]("bullet")+"\ubc1c"},R.$$arity=2),t.def(L,"$getHitType",C=function(e,n){var $,u,l=P;return u=this.$getSuccessListImpaleBulletList(e),l=null==($=t.to_ary(u))[1]?P:$[1],N((null==$[0]?P:$[0])["$include?"](n))?"hit":N(l["$include?"](n))?"impale":""},C.$$arity=2),t.def(L,"$getBulletResults",x=function(t,e,n){var $,l,i=this,r=P,o=P,a=P,s=P,c=P,f=P;return $=i.$getSetOfBullet(n),l=i.$getHitBulletCountBase(n,$),r=u($,2..$to_f()),o=0,a=0,s=0,N(i.$isLastBulletTurn(t,$)["$!"]())?("hit"["$==="](c=e)?a=l:"impale"["$==="](c)&&(a=r.$floor(),s=r.$ceil()),o=$):("hit"["$==="](c=e)?a=i.$getLastHitBulletCount(t):"impale"["$==="](c)&&(a=(f=u(t,2..$to_f())).$floor(),s=f.$ceil()),o=t),[a.$to_i(),s.$to_i(),o.$to_i()]},x.$$arity=3),t.def(L,"$getSuccessListImpaleBulletList",B=function(t){var e,n=P,$=P;return n=[],$=[],(0)["$==="](e=t)?(n=["\uc5b4\ub824\uc6b4 \uc131\uacf5","\ubcf4\ud1b5 \uc131\uacf5"],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):1["$==="](e)?(n=["\uc5b4\ub824\uc6b4 \uc131\uacf5"],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):2["$==="](e)?(n=[],$=["\ub300\uc131\uacf5","\ub300\ub2e8\ud55c \uc131\uacf5"]):3["$==="](e)&&(n=["\ub300\uc131\uacf5"],$=[]),[n,$]},B.$$arity=1),t.def(L,"$getNextDifficltyMessage",v=function(t){var e;return 1["$==="](e=t)?"\n    \ub09c\uc774\ub3c4\uac00 \uc5b4\ub824\uc6b4 \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":2["$==="](e)?"\n    \ub09c\uc774\ub3c4\uac00 \ub300\ub2e8\ud55c \uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":3["$==="](e)?"\n    \ub09c\uc774\ub3c4\uac00 \ub300\uc131\uacf5\uc73c\ub85c \ubcc0\uacbd":""},v.$$arity=1),t.def(L,"$getSetOfBullet",T=function(t){var e,n=P;return n=u(t,10).$to_i(),N(N(e=$(t,1))?l(t,10):e)&&(n=1),n},T.$$arity=1),t.def(L,"$getHitBulletCountBase",F=function(t,e){var n,i=P;return i=u(e,2).$to_i(),N(N(n=$(t,1))?l(t,10):n)&&(i=1),i},F.$$arity=2),t.def(L,"$isLastBulletTurn",H=function(t,e){return l(i(t,e),0)},H.$$arity=2),t.def(L,"$getLastHitBulletCount",A=function(t){return t["$=="](1)?1:u(t,2..$to_f()).$floor()},A.$$arity=1),t.def(L,"$getFumbleable",k=function(t){return $(t,1)},k.$$arity=1)}(Opal)}}]);