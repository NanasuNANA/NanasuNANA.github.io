(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{YZSu:function(t,e,r){r("pQ1d"),Opal.modules["i18n/backend/fallbacks"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=[],n=t.nil,i=t.$$$,a=t.$$,$=t.module,o=t.truthy,s=t.send,c=t.send2,u=t.hash2;return function(r,l){var _=$(r,"I18n"),d=[_].concat(l);t.class_variable_set(d[0],"@@fallbacks",n),function(r,$){var c,u,l=[r].concat($);t.def(r,"$fallbacks",c=function(){var e,r,$;return t.class_variable_set(l[1],"@@fallbacks",o($=null==(e=l[1].$$cvars["@@fallbacks"])?n:e)?$:i(i(a(l,"I18n"),"Locale"),"Fallbacks").$new()),o(r=a(l,"Thread").$current()["$[]"]("i18n_fallbacks"))?r:null==(e=l[1].$$cvars["@@fallbacks"])?n:e},c.$$arity=0),t.def(r,"$fallbacks=",u=function(r){var $,c;return t.class_variable_set(l[1],"@@fallbacks",o(r["$is_a?"](a(l,"Array")))?i(i(a(l,"I18n"),"Locale"),"Fallbacks").$new(r):r),c=["i18n_fallbacks",null==($=l[1].$$cvars["@@fallbacks"])?n:$],s(a(l,"Thread").$current(),"[]=",t.to_a(c)),c[e(c.length,1)]},u.$$arity=1)}(t.get_singleton_class(_),d),function(r,l){var _=[$(r,"Backend")].concat(l);!function(r,l){var _,d,f,h,p=$(r,"Fallbacks"),m=[p].concat(l);t.def(p,"$translate",_=function(e,r,$){try{var l,d=_.$$p,f=this,h=n,p=n,y=n,b=n,v=n,g=n;for(d&&(_.$$p=null),v=0,g=arguments.length,b=new Array(g);v<g;v++)b[v]=arguments[v];return null==$&&($=a(m,"EMPTY_HASH")),o($.$fetch("fallback",!0))?o($["$[]"]("fallback_in_progress"))?c(f,t.find_super_dispatcher(f,"translate",_,!1,!0),"translate",b,d):(o($["$[]"]("default"))&&(h=f["$extract_non_symbol_default!"]($)),p=$.$merge(u(["fallback_in_progress"],{fallback_in_progress:!0})),s(a(m,"I18n").$fallbacks()["$[]"](e),"each",[],((l=function(u){var d,f=null==l.$$s?this:l.$$s;null==u&&(u=n);try{return s(f,"catch",["exception"],((d=function(){var i=null==d.$$s?this:d.$$s,a=n;if(a=c(i,t.find_iter_super_dispatcher(i,"translate",d.$$def||l.$$def||_,!1,!1),"translate",[u,r,p],null),o(a["$nil?"]()))return n;o(e.$to_s()["$!="](u.$to_s()))&&i.$on_fallback(e,u,r,$),t.ret(a)}).$$s=f,d.$$arity=0,d))}catch(h){if(!t.rescue(h,[i(a(m,"I18n"),"InvalidLocale")]))throw h;try{return n}finally{t.pop_exception()}}}).$$s=f,l.$$arity=1,l)),o(o(y=$["$key?"]("default"))?$["$[]"]("default")["$nil?"]():y)?n:o(h)?c(f,t.find_super_dispatcher(f,"translate",_,!1,!0),"translate",[e,n,$.$merge(u(["default"],{default:h}))],null):f.$throw("exception",i(a(m,"I18n"),"MissingTranslation").$new(e,r,$))):c(f,t.find_super_dispatcher(f,"translate",_,!1,!0),"translate",b,d)}catch(x){if(x===t.returner)return x.$v;throw x}},_.$$arity=-3),t.def(p,"$extract_non_symbol_default!",d=function(r){var i,$,c=n,u=n;return c=[r["$[]"]("default")].$flatten(),$=s(c,"detect",[],((i=function(t){return null==t&&(t=n),t["$is_a?"](a(m,"Symbol"))["$!"]()}).$$s=this,i.$$arity=1,i)),o($)&&(u=["default",c["$[]"](0,c.$index($))],s(r,"[]=",t.to_a(u)),e(u.length,1)),$},d.$$arity=1),t.def(p,"$exists?",f=function(e,r,$){try{var u,l=f.$$p,_=this,d=n,h=n,p=n;for(l&&(f.$$p=null),h=0,p=arguments.length,d=new Array(p);h<p;h++)d[h]=arguments[h];return null==$&&($=a(m,"EMPTY_HASH")),o($.$fetch("fallback",!0))?(s(a(m,"I18n").$fallbacks()["$[]"](e),"each",[],((u=function(e){var $=null==u.$$s?this:u.$$s;null==e&&(e=n);try{if(!o(c($,t.find_iter_super_dispatcher($,"exists?",u.$$def||f,!1,!1),"exists?",[e,r],null)))return n;t.ret(!0)}catch(s){if(!t.rescue(s,[i(a(m,"I18n"),"InvalidLocale")]))throw s;try{return n}finally{t.pop_exception()}}}).$$s=_,u.$$arity=1,u)),!1):c(_,t.find_super_dispatcher(_,"exists?",f,!1,!0),"exists?",d,l)}catch(y){if(y===t.returner)return y.$v;throw y}},f.$$arity=-3),p.$private(),t.def(p,"$on_fallback",h=function(t,e,r,i){return n},h.$$arity=4)}(_[0],_)}(d[0],d)}(r[0],r)},Opal.modules["bcdice/randomizer"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var $=[],o=t.nil,s=t.$$$,c=t.$$,u=t.module,l=t.klass,_=t.truthy,d=t.send;return function($,f){var h=[u($,"BCDice")].concat(f);!function($,u,f){var h,p,m,y,b,v,g,x,R,T,D,k=l($,null,"Randomizer"),w=[k].concat(f);k.$$prototype.rand_results=k.$$prototype.detailed_rand_results=o,t.const_set(w[0],"UPPER_LIMIT_DICE_TIMES",200),t.const_set(w[0],"UPPER_LIMIT_DICE_SIDES",1e3),t.const_set(w[0],"UPPER_LIMIT_RANDS",1e4),t.def(k,"$initialize",h=function(){return this.rand_results=[],this.detailed_rand_results=[]},h.$$arity=0),k.$attr_reader("rand_results"),k.$attr_reader("detailed_rand_results"),t.const_set(w[0],"DetailedRandResult",c(w,"Struct").$new("kind","sides","value")),t.def(k,"$roll_barabara",p=function(t,i){var a,$;return _(e(r(this.rand_results.$size(),t),c(w,"UPPER_LIMIT_RANDS")))&&this.$raise(c(w,"TooManyRandsError")),_(_($=n(t,0))?$:e(t,c(w,"UPPER_LIMIT_DICE_TIMES")))?[]:d(c(w,"Array"),"new",[t],((a=function(){return(null==a.$$s?this:a.$$s).$roll_once(i)}).$$s=this,a.$$arity=0,a))},p.$$arity=2),t.def(k,"$roll_sum",m=function(t,e){return this.$roll_barabara(t,e).$sum()},m.$$arity=2),t.def(k,"$roll_once",y=function(t){var r,i;return _(_(i=n(t,0))?i:e(t,c(w,"UPPER_LIMIT_DICE_SIDES")))?0:(r=this.$rand_inner(t),this.$push_to_detail("normal",t,r),r)},y.$$arity=1),t.def(k,"$roll_index",b=function(t){return i(this.$roll_once(t),1)},b.$$arity=1),t.def(k,"$roll_tens_d10",v=function(){var t,e=o;return(e=this.$rand_inner(10))["$=="](10)&&(e=0),t=a(e,10),this.$push_to_detail("tens_d10",10,t),t},v.$$arity=0),t.def(k,"$roll_d9",g=function(){var t;return t=i(this.$rand_inner(10),1),this.$push_to_detail("d9",10,t),t},g.$$arity=0),t.def(k,"$roll_d66",x=function(t){var e,n,i=o;return i=d(c(w,"Array"),"new",[2],((e=function(){return(null==e.$$s?this:e.$$s).$roll_once(6)}).$$s=this,e.$$arity=0,e)),n=t,s(c(w,"D66SortType"),"ASC")["$==="](n)?i["$sort!"]():s(c(w,"D66SortType"),"DESC")["$==="](n)&&i["$sort!"]()["$reverse!"](),r(a(i["$[]"](0),10),i["$[]"](1))},x.$$arity=1),k.$private(),t.def(k,"$rand_inner",R=function(t){var e,r,n;return _((r=this.rand_results.$size(),n=c(w,"UPPER_LIMIT_RANDS"),"number"==typeof r&&"number"==typeof n?r>=n:r["$>="](n)))&&this.$raise(c(w,"TooManyRandsError")),e=this.$random(t),this.rand_results["$<<"]([e,t]),e},R.$$arity=1),t.def(k,"$random",T=function(t){return r(c(w,"Kernel").$rand(t),1)},T.$$arity=1),t.def(k,"$push_to_detail",D=function(t,e,r){var n;return n=c(w,"DetailedRandResult").$new(t,e,r),this.detailed_rand_results.$push(n)},D.$$arity=3)}(h[0],0,h),function(t,e,r){[l(t,e,"TooManyRandsError")].concat(r)}(h[0],c(h,"StandardError"),h)}($[0],$)},Opal.modules["bcdice/dice_table/roll_result"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.truthy;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u,l,_=a(e,null,"RollResult"),d=[_].concat(o);_.$$prototype.table_name=_.$$prototype.value=_.$$prototype.body=r,t.def(_,"$initialize",s=function(t,e,r){return this.table_name=t,this.value=e,this.body=r},s.$$arity=3),_.$attr_reader("table_name"),_.$attr_reader("value"),_.$attr_reader("body"),t.def(_,"$to_s",c=function(){return this.table_name+"("+this.value+") \uff1e "+this.body},c.$$arity=0),t.def(_,"$last_body",u=function(){return $(this.body["$is_a?"](n(d,"RollResult")))?this.body.$last_body():this.body},u.$$arity=0),t.def(_,"$empty?",l=function(){return!1},l.$$arity=0)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/chain_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.truthy;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u=a(e,null,"ChainTable"),l=[u].concat(o);u.$$prototype.times=u.$$prototype.sides=u.$$prototype.items=u.$$prototype.name=r,t.def(u,"$initialize",s=function(t,e,i){var a=r;return this.name=t,this.items=i.$freeze(),a=/(\d+)D(\d+)/i.$match(e),$(a)||this.$raise(n(l,"ArgumentError"),"Unexpected table type: "+e),this.times=a["$[]"](1).$to_i(),this.sides=a["$[]"](2).$to_i()},s.$$arity=3),t.def(u,"$roll",c=function(t){var e,i,a,o,s=r;return e=t.$roll_sum(this.times,this.sides),a=this.times,o="number"==typeof(i=e)&&"number"==typeof a?i-a:i["$-"](a),s=this.items["$[]"](o),$(s["$respond_to?"]("roll"))&&(s=s.$roll(t)),n(l,"RollResult").$new(this.name,e,s)},c.$$arity=1)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=[],n=t.nil,i=t.$$,a=t.module,$=t.klass,o=t.hash2;return function(r,s){var c=[a(r,"BCDice")].concat(s);!function(r,s){var c=[a(r,"DiceTable")].concat(s);!function(r,a,s){var c,u,l,_=$(r,null,"D66GridTable"),d=[_].concat(s);_.$$prototype.name=_.$$prototype.items=n,t.defs(_,"$from_i18n",c=function(t,e){var r=n;return r=i(d,"I18n").$t(t,o(["locale","raise"],{locale:e,raise:!0})),this.$new(r["$[]"]("name"),r["$[]"]("items"))},c.$$arity=2),t.def(_,"$initialize",u=function(t,e){return this.name=t,this.items=e.$freeze()},u.$$arity=2),t.def(_,"$roll",l=function(t){var r,n,a,$,o,s;return r=t.$roll_once(6),n=t.$roll_once(6),a=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}("number"==typeof(s=r)?10*s:s["$*"](10),n),$=e(r,1),o=e(n,1),i(d,"RollResult").$new(this.name,a,this.items["$[]"]($)["$[]"](o))},l.$$arity=1)}(c[0],0,c)}(c[0],c)}(r[0],r)},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.hash2;return t.top.$require("bcdice/dice_table/d66_grid_table"),function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u=a(e,i,"D66HalfGridTable"),l=[u].concat(o);t.defs(u,"$from_i18n",s=function(t,e){var i=r;return i=n(l,"I18n").$t(t,$(["locale","raise"],{locale:e,raise:!0})),this.$new(i["$[]"]("name"),i["$[]"]("items_1_2_3"),i["$[]"]("items_4_5_6"))},s.$$arity=2),t.def(u,"$initialize",c=function(t,e,r){return this.name=t,this.items=[e,e,e,r,r,r].$freeze()},c.$$arity=3)}(s[0],n(s,"D66GridTable"),s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.hash2;return t.top.$require("bcdice/dice_table/d66_grid_table"),function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u=a(e,i,"D66OneThirdTable"),l=[u].concat(o);t.defs(u,"$from_i18n",s=function(t,e){var i=r;return i=n(l,"I18n").$t(t,$(["locale","raise"],{locale:e,raise:!0})),this.$new(i["$[]"]("name"),i["$[]"]("items_1_2"),i["$[]"]("items_3_4"),i["$[]"]("items_5_6"))},s.$$arity=2),t.def(u,"$initialize",c=function(t,e,r,n){return this.name=t,this.items=[e,e,r,r,n,n].$freeze()},c.$$arity=4)}(s[0],n(s,"D66GridTable"),s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_table"]=function(t){var e=[],r=t.nil,n=t.$$$,i=t.$$,a=t.module,$=t.klass,o=t.hash2,s=t.truthy;return function(e,c){var u=[a(e,"BCDice")].concat(c);!function(e,c){var u=[a(e,"DiceTable")].concat(c);!function(e,a,c){var u,l,_,d,f=$(e,null,"D66Table"),h=[f].concat(c);f.$$prototype.sort_type=f.$$prototype.items=f.$$prototype.name=r,t.defs(f,"$from_i18n",u=function(t,e){var n,a=r;return a=i(h,"I18n").$t(t,o(["locale"],{locale:e})),n=i(h,"D66SortType").$const_get(a["$[]"]("d66_sort_type")),this.$new(a["$[]"]("name"),n,a["$[]"]("items"))},u.$$arity=2),t.def(f,"$initialize",l=function(t,e,r){return this.name=t,this.sort_type=e,this.items=r.$freeze()},l.$$arity=3),t.def(f,"$roll",_=function(t){var e,a,$,o=r,c=r,u=r;return o=t.$roll_barabara(2,6),e=this.sort_type,n(i(h,"D66SortType"),"ASC")["$==="](e)?o["$sort!"]():n(i(h,"D66SortType"),"DESC")["$==="](e)&&o["$sort!"]()["$reverse!"](),c=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}("number"==typeof(a=o["$[]"](0))?10*a:a["$*"](10),o["$[]"](1)),u=s($=this.items["$[]"](c))?$:this.items["$[]"](c.$to_s()),s(u["$respond_to?"]("roll"))&&(u=u.$roll(t)),i(h,"RollResult").$new(this.name,c,u)},_.$$arity=1),t.def(f,"$choice",d=function(t){return i(h,"RollResult").$new(this.name,t,this.items["$[]"](t))},d.$$arity=1)}(u[0],0,u)}(u[0],u)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r=[],n=t.nil,i=t.$$,a=t.module,$=t.klass,o=t.hash2,s=t.send,c=t.send2;return t.top.$require("bcdice/dice_table/d66_table"),function(r,u){var l=[a(r,"BCDice")].concat(u);!function(r,u){var l=[a(r,"DiceTable")].concat(u);!function(r,i,a){var u,l=$(r,i,"D66LeftRangeTable");[l].concat(a),t.def(l,"$initialize",u=function(r,i,a){var $,l;return u.$$p&&(u.$$p=null),l=o([],{}),s(a,"each",[],(($=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(r){var i,a,o,c=null==$.$$s?this:$.$$s;return null==r&&(r=n),i=t.to_ary(r),o=null==i[1]?n:i[1],s(null==i[0]?n:i[0],"each",[],((a=function(r){var i;return null==r&&(r=n),s(o,"each_with_index",[],((i=function(i,a){var $,o,c;return null==i&&(i=n),null==a&&(a=n),$=e("number"==typeof(c=r)?10*c:c["$*"](10),e(a,1)),s(l,"[]=",t.to_a(o=[$,i])),o[function(t,e){return"number"==typeof t?t-1:t["$-"](1)}(o.length)]}).$$s=null==a.$$s?this:a.$$s,i.$$arity=2,i))}).$$s=c,a.$$arity=1,a))})).$$s=this,$.$$arity=1,$)),c(this,t.find_super_dispatcher(this,"initialize",u,!1,!0),"initialize",[r,i,l],null)},u.$$arity=3)}(l[0],i(l,"D66Table"),l)}(l[0],l)}(r[0],r)},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.truthy;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u=a(e,null,"D66ParityTable"),l=[u].concat(o);u.$$prototype.odd=u.$$prototype.even=u.$$prototype.name=r,t.def(u,"$initialize",s=function(t,e,r){return this.name=t,this.odd=e.$freeze(),this.even=r.$freeze()},s.$$arity=3),t.def(u,"$roll",c=function(t){var e,i,a,o,s=r;return s=t.$roll_once(6),e=t.$roll_once(6),i=($(s["$odd?"]())?this.odd:this.even)["$[]"]("number"==typeof(o=e)?o-1:o["$-"](1)),a=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(function(t,e){return"number"==typeof t?10*t:t["$*"](10)}(s),e),n(l,"RollResult").$new(this.name,a,i)},c.$$arity=1)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_range_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.send;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"DiceTable")].concat(o);!function(e,i,o){var s,c,u=a(e,null,"D66RangeTable"),l=[u].concat(o);u.$$prototype.items=u.$$prototype.name=r,t.def(u,"$initialize",s=function(t,e){return this.name=t,this.items=e.$freeze()},s.$$arity=2),t.def(u,"$roll",c=function(t){var e,i,a,o,s,c=r;return i=t.$roll_once(6),a=t.$roll_once(6),o=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}("number"==typeof(s=i)?10*s:s["$*"](10),a),c=$(this.items,"find",[],((e=function(t){return null==t&&(t=r),t["$[]"](0)["$include?"](o)}).$$s=this,e.$$arity=1,e)),n(l,"RollResult").$new(this.name,o,c["$[]"](1))},c.$$arity=1)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/dice_table/range_table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.send,o=t.truthy;return function(e,s){var c=[i(e,"BCDice")].concat(s);!function(e,s){var c=[i(e,"DiceTable")].concat(s);!function(e,i,s){var c,u,l,_,d,f,h,p,m,y=a(e,null,"RangeTable"),b=[y].concat(s);y.$$prototype.name=y.$$prototype.items=y.$$prototype.num_of_dice=y.$$prototype.num_of_sides=y.$$prototype.formatter=r,t.const_set(b[0],"RollResult",$(n(b,"Struct"),"new",["sum","values","content","formatted"],((c=function(){return(null==c.$$s?this:c.$$s).$alias_method("to_s","formatted")}).$$s=y,c.$$arity=0,c))),t.const_set(b[0],"Item",n(b,"Struct").$new("range","content")),t.const_set(b[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),t.const_set(b[0],"DEFAULT_FORMATTER",$(y,"lambda",[],($$2=function(t){function e(e,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return null==$$2.$$s||$$2,null==t&&(t=r),null==e&&(e=r),t.$name()+"("+e.$sum()+") \uff1e "+e.$content()}),$$2.$$s=y,$$2.$$arity=2,$$2))),y.$attr_reader("name"),y.$attr_reader("num_of_dice"),y.$attr_reader("num_of_sides"),t.def(y,"$initialize",u=function(t,e,i){var a,$=u.$$p,s=$||r,c=r;return $&&(u.$$p=null),$&&(u.$$p=null),this.name=t.$freeze(),this.formatter=o(a=s)?a:n(b,"DEFAULT_FORMATTER"),c=n(b,"DICE_ROLL_METHOD_RE").$match(e),o(c)||this.$raise(n(b,"ArgumentError"),this.name+": invalid dice roll method: "+e),this.num_of_dice=c["$[]"](1).$to_i(),this.num_of_sides=c["$[]"](2).$to_i(),this.$store(i)},u.$$arity=3),t.def(y,"$fetch",l=function(t){var e,i;return i=$(this.items,"find",[],((e=function(e){return null==e&&(e=r),e.$range()["$include?"](t)}).$$s=this,e.$$arity=1,e)),o(i)||this.$raise(n(b,"RangeError"),this.name+": value is out of range: "+t),i},l.$$arity=1),t.def(y,"$roll",_=function(e){var i,a,o,s,c=r;return i=(c=e.$roll_barabara(this.num_of_dice,this.num_of_sides)).$sum(),a=n(b,"RollResult").$new(i,c,this.$fetch(i).$content()),o=[this.formatter["$[]"](this,a)],$(a,"formatted=",t.to_a(o)),"number"==typeof(s=o.length)||s["$-"](1),a},_.$$arity=1),y.$private(),t.def(y,"$store",d=function(t){var e,i,a,o,s;return o=$(t,"map",[],((e=function(t,n){return null==t&&(t=r),null==n&&(n=r),[(null==e.$$s?this:e.$$s).$coerce_to_int_range(t),n]}).$$s=this,e.$$arity=2,e)),s=$(o,"sort_by",[],((i=function(t,e){return null==t&&(t=r),null==e&&(e=r),t.$min()}).$$s=this,i.$$arity=2,i)),this.$assert_min_sum_is_covered(s),this.$assert_max_sum_is_covered(s),this.$assert_no_gap_or_overlap_in_ranges(s),this.items=$(s,"map",[],(a=function(t,e){return null==t&&(t=r),null==e&&(e=r),n(b,"Item").$new(t,e.$freeze()).$freeze()},a.$$s=this,a.$$arity=2,a)).$freeze(),this},d.$$arity=1),t.def(y,"$coerce_to_int_range",f=function(t){var e,i=r;return e=t,n(b,"Integer")["$==="](e)?n(b,"Range").$new(t,t):n(b,"Range")["$==="](e)&&o(o(i=t.$begin()["$is_a?"](n(b,"Integer")))?t.$end()["$is_a?"](n(b,"Integer")):i)?t:this.$raise(n(b,"TypeError"),this.name+": "+t+" ("+t.$class()+") must be an Integer or a Range with Integers ")},f.$$arity=1),t.def(y,"$assert_min_sum_is_covered",h=function(t){var e,i=r;return e=this.num_of_dice,i=t.$first()["$[]"](0),o(i["$include?"](e))||this.$raise(n(b,"RangeError"),this.name+": min value ("+e+") is not covered: "+i),this},h.$$arity=1),t.def(y,"$assert_max_sum_is_covered",p=function(t){var e,i,a,$=r;return i=this.num_of_sides,a="number"==typeof(e=this.num_of_dice)&&"number"==typeof i?e*i:e["$*"](i),$=t.$last()["$[]"](0),o($["$include?"](a))||this.$raise(n(b,"RangeError"),this.name+": max value ("+a+") is not covered: "+$),this},p.$$arity=1),t.def(y,"$assert_no_gap_or_overlap_in_ranges",m=function(t){var e;return $(t,"each_cons",[2],((e=function(t,i){var a,$,s,c=null==e.$$s?this:e.$$s,u=r,l=r;return null==c.name&&(c.name=r),null==t&&(t=r),null==i&&(i=r),u=t["$[]"](0),l=i["$[]"](0),s="number"==typeof($=a=u.$max())?$+1:$["$+"](1),o(l["$include?"](a))&&c.$raise(n(b,"RangeError"),c.name+": Range overlap: "+u+" and "+l),o(l["$include?"](s))?r:c.$raise(n(b,"RangeError"),c.name+": Range gap: "+u+" and "+l)}).$$s=this,e.$$arity=2,e)),this},m.$$arity=1)}(c[0],0,c)}(c[0],c)}(e[0],e)},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(t){var e=[],r=t.nil,n=t.$$$,i=t.$$,a=t.module,$=t.klass,o=t.send;return function(e,s){var c=[a(e,"BCDice")].concat(s);!function(e,s){var c=[a(e,"DiceTable")].concat(s);!function(e,a,s){var c=[$(e,null,"SaiFicSkillTable")].concat(s);!function(e,a,s){var c,u,l,_=$(e,null,"Category"),d=[_].concat(s);_.$$prototype.name=r,t.def(_,"$initialize",c=function(t,e,a,$){var s;return this.name=t,this.skills=o(e.$map(),"with_index",[2],((s=function(e,o){return null==e&&(e=r),null==o&&(o=r),n(i(d,"SaiFicSkillTable"),"Skill").$new(t,e,a,o,$)}).$$s=this,s.$$arity=2,s)),this.dice=a},c.$$arity=4),t.def(_,"$roll",u=function(t){var e;return this.$skills()["$[]"]("number"==typeof(e=t.$roll_sum(2,6))?e-2:e["$-"](2))},u.$$arity=1),t.def(_,"$to_s",l=function(){return this.name},l.$$arity=0),_.$attr_reader("name","dice","skills")}(c[0],0,c)}(c[0],0,c)}(c[0],c)}(e[0],e)},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(t){var e=[],r=t.nil,n=t.module,i=t.klass,a=t.hash2;return function(e,$){var o=[n(e,"BCDice")].concat($);!function(e,$){var o=[n(e,"DiceTable")].concat($);!function(e,n,$){var o=[i(e,null,"SaiFicSkillTable")].concat($);!function(e,n,$){var o,s,c=i(e,null,"Skill");[c].concat($),c.$$prototype.s_format=c.$$prototype.category_dice=c.$$prototype.row_dice=c.$$prototype.category_name=c.$$prototype.name=r,t.def(c,"$initialize",o=function(t,e,r,n,i){return this.category_name=t,this.name=e,this.category_dice=r,this.row_dice=n,this.s_format=i},o.$$arity=5),t.def(c,"$to_s",s=function(){return this.$format(this.s_format,a(["category_dice","row_dice","category_name","skill_name"],{category_dice:this.category_dice,row_dice:this.row_dice,category_name:this.category_name,skill_name:this.name}))},s.$$arity=0),c.$attr_reader("category_name","name","category_dice","row_dice")}(o[0],0,o)}(o[0],0,o)}(o[0],o)}(e[0],e)},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$$,a=t.$$,$=t.module,o=t.klass,s=t.hash2,c=t.send,u=t.truthy;return e.$require("bcdice/dice_table/sai_fic_skill_table/category"),e.$require("bcdice/dice_table/sai_fic_skill_table/skill"),function(e,r){var l=[$(e,"BCDice")].concat(r);!function(e,r){var l=[$(e,"DiceTable")].concat(r);!function(e,r,$){var l,_,d,f,h,p,m,y=o(e,null,"SaiFicSkillTable"),b=[y].concat($);y.$$prototype.rtt=y.$$prototype.rtt_format=y.$$prototype.rct=y.$$prototype.rct_format=y.$$prototype.rttn=y.$$prototype.rttn_format=y.$$prototype.categories=n,t.defs(y,"$from_i18n",l=function(e,r,i){var $,o,u,l,_,d=n;if(null==i)i=s([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==($=i.$$smap.rtt)&&($=n),null==(o=i.$$smap.rct)&&(o=n),null==(u=i.$$smap.rttn)&&(u=n),_=(d=a(b,"I18n").$t("RTT",s(["locale","raise","default"],{locale:r,raise:!1,default:s([],{})})).$merge(a(b,"I18n").$t(e,s(["locale","raise"],{locale:r,raise:!0}))))["$[]"]("items"),d=c(d,"select",[],((l=function(t,e){return null==t&&(t=n),null==e&&(e=n),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](t)}).$$s=this,l.$$arity=2,l)),this.$new(_,t.to_hash(d).$merge(s(["rtt","rct","rttn"],{rtt:$,rct:o,rttn:u})))},l.$$arity=-3),t.const_set(b[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),t.const_set(b[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),t.const_set(b[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),t.const_set(b[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),t.def(y,"$initialize",_=function(e,r){var $,o,u,l,_,d,f,h;if(null==r)r=s([],{});else if(!r.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==($=r.$$smap.rtt)&&($=n),null==(o=r.$$smap.rct)&&(o=n),null==(u=r.$$smap.rttn)&&(u=n),null==(l=r.$$smap.rtt_format)&&(l=a(b,"DEFAULT_RTT")),null==(_=r.$$smap.rct_format)&&(_=a(b,"DEFAULT_RCT")),null==(d=r.$$smap.rttn_format)&&(d=a(b,"DEFAULT_RTTN")),null==(f=r.$$smap.s_format)&&(f=a(b,"DEFAULT_S")),this.categories=c(e.$map(),"with_index",[1],((h=function(e,r){var $,o,s;return null==e&&(e=n),null==r&&(r=n),o=null==($=t.to_ary(e))[0]?n:$[0],s=null==$[1]?n:$[1],i(a(b,"SaiFicSkillTable"),"Category").$new(o,s,r,f)}).$$s=this,h.$$arity=2,h.$$has_top_level_mlhs_arg=!0,h)),this.rtt=$,this.rct=o,this.rttn=u.$to_a(),this.rtt_format=l,this.rct_format=_,this.rttn_format=d},_.$$arity=-2),t.const_set(b[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),y.$attr_reader("categories"),t.def(y,"$roll_command",d=function(t,e){var r,i=n,$=n,o=n;return u(["RTT",this.rtt]["$include?"](r=e))?this.$format_skill(this.rtt_format,this.$roll_skill(t)):u(["RCT",this.rct]["$include?"](r))?(i=this.$roll_category(t),this.$format(this.rct_format,s(["category_dice","category_name"],{category_dice:i.$dice(),category_name:i.$name()}))):u(u($=o=a(b,"RTTN").$index(r))?$:o=this.rttn.$index(r))?this.$format_skill(this.rttn_format,this.categories["$[]"](o).$roll(t)):n},d.$$arity=2),t.def(y,"$roll_category",f=function(t){var e;return this.categories["$[]"]("number"==typeof(e=t.$roll_once(6))?e-1:e["$-"](1))},f.$$arity=1),t.def(y,"$roll_skill",h=function(t){return this.$roll_category(t).$roll(t)},h.$$arity=1),t.def(y,"$prefixes",p=function(){var t,e;return(t=["RTT[1-6]?","RCT",this.rtt,this.rct],e=this.rttn,"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)).$compact()},p.$$arity=0),y.$private(),t.def(y,"$format_skill",m=function(t,e){return this.$format(t,s(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:e.$category_dice(),row_dice:e.$row_dice(),category_name:e.$category_name(),skill_name:e.$name(),text:e.$to_s()}))},m.$$arity=2)}(l[0],0,l)}(l[0],l)}(r[0],r)},Opal.modules["bcdice/dice_table/table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.hash2,o=t.truthy;return function(e,s){var c=[i(e,"BCDice")].concat(s);!function(e,s){var c=[i(e,"DiceTable")].concat(s);!function(e,i,s){var c,u,l,_,d=a(e,null,"Table"),f=[d].concat(s);d.$$prototype.times=d.$$prototype.sides=d.$$prototype.name=d.$$prototype.items=r,t.defs(d,"$from_i18n",c=function(t,e){var i=r;return i=n(f,"I18n").$t(t,$(["locale"],{locale:e})),this.$new(i["$[]"]("name"),i["$[]"]("type"),i["$[]"]("items"))},c.$$arity=2),t.def(d,"$initialize",u=function(t,e,i){var a=r;return this.name=t,this.items=i.$freeze(),a=/(\d+)D(\d+)/i.$match(e),o(a)||this.$raise(n(f,"ArgumentError"),"Unexpected table type: "+e),this.times=a["$[]"](1).$to_i(),this.sides=a["$[]"](2).$to_i()},u.$$arity=3),t.def(d,"$roll",l=function(t){var e;return e=t.$roll_sum(this.times,this.sides),this.$choice(e)},l.$$arity=1),t.def(d,"$choice",_=function(t){var e,r,i;return r=this.times,i="number"==typeof(e=t)&&"number"==typeof r?e-r:e["$-"](r),n(f,"RollResult").$new(this.name,t,this.items["$[]"](i))},_.$$arity=1)}(c[0],0,c)}(c[0],c)}(e[0],e)},Opal.modules["bcdice/dice_table"]=function(t){var e=t.top;return e.$require("bcdice/dice_table/roll_result"),e.$require("bcdice/dice_table/chain_table"),e.$require("bcdice/dice_table/d66_grid_table"),e.$require("bcdice/dice_table/d66_half_grid_table"),e.$require("bcdice/dice_table/d66_one_third_table"),e.$require("bcdice/dice_table/d66_left_range_table"),e.$require("bcdice/dice_table/d66_parity_table"),e.$require("bcdice/dice_table/d66_range_table"),e.$require("bcdice/dice_table/d66_table"),e.$require("bcdice/dice_table/range_table"),e.$require("bcdice/dice_table/sai_fic_skill_table"),e.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(t){var e=[],r=t.module;return function(e,n){var i=[r(e,"BCDice")].concat(n);!function(e,n){var i=[r(e,"D66SortType")].concat(n);t.const_set(i[0],"NO_SORT","no_sort"),t.const_set(i[0],"ASC","asc"),t.const_set(i[0],"DESC","desc")}(i[0],i),function(e,n){var i=[r(e,"RoundType")].concat(n);t.const_set(i[0],"CEIL","ceil"),t.const_set(i[0],"FLOOR","floor"),t.const_set(i[0],"ROUND","round")}(i[0],i)}(e[0],e)},Opal.modules["bcdice/translate"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.hash2;return function(e,$){var o=[i(e,"BCDice")].concat($);!function(e,$){var o,s=i(e,"Translate"),c=[s].concat($);t.def(s,"$translate",o=function(e,i){var $;if(null==this.locale&&(this.locale=r),null==i)i=a([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return $=t.kwrestargs(i,{}),n(c,"I18n").$translate(e,a(["locale","raise"],{locale:this.locale,raise:!0}).$merge(t.to_hash($)))},o.$$arity=-2)}(o[0],o)}(e[0],e)},Opal.modules["bcdice/result"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=[],n=t.nil,i=t.module,a=t.klass,$=t.send;return function(r,o){var s=[i(r,"BCDice")].concat(o);!function(r,i,o){var s,c,u,l,_,d,f,h=a(r,null,"Result"),p=[h].concat(o);h.$$prototype.secret=h.$$prototype.success=h.$$prototype.failure=h.$$prototype.critical=h.$$prototype.fumble=n,function(r,i){var a,o,s,c,u;[r].concat(i),t.def(r,"$success",a=function(r){var i;return $(this.$new(),"tap",[],((i=function(i){var a=n;return null==i&&(i=n),$(i,"text=",t.to_a(a=[r])),e(a.length,1),$(i,"success=",t.to_a(a=[!0])),a[e(a.length,1)]}).$$s=this,i.$$arity=1,i))},a.$$arity=1),t.def(r,"$failure",o=function(r){var i;return $(this.$new(),"tap",[],((i=function(i){var a=n;return null==i&&(i=n),$(i,"text=",t.to_a(a=[r])),e(a.length,1),$(i,"failure=",t.to_a(a=[!0])),a[e(a.length,1)]}).$$s=this,i.$$arity=1,i))},o.$$arity=1),t.def(r,"$critical",s=function(r){var i;return $(this.$new(),"tap",[],((i=function(i){var a=n;return null==i&&(i=n),$(i,"text=",t.to_a(a=[r])),e(a.length,1),$(i,"critical=",t.to_a(a=[!0])),e(a.length,1),$(i,"success=",t.to_a(a=[!0])),a[e(a.length,1)]}).$$s=this,i.$$arity=1,i))},s.$$arity=1),t.def(r,"$fumble",c=function(r){var i;return $(this.$new(),"tap",[],((i=function(i){var a=n;return null==i&&(i=n),$(i,"text=",t.to_a(a=[r])),e(a.length,1),$(i,"fumble=",t.to_a(a=[!0])),e(a.length,1),$(i,"failure=",t.to_a(a=[!0])),a[e(a.length,1)]}).$$s=this,i.$$arity=1,i))},c.$$arity=1),t.def(r,"$nothing",u=function(){return"nothing"},u.$$arity=0)}(t.get_singleton_class(h),p),t.def(h,"$initialize",s=function(t){return null==t&&(t=n),this.text=t,this.rands=n,this.detailed_rands=n,this.secret=!1,this.success=!1,this.failure=!1,this.critical=!1,this.fumble=!1},s.$$arity=-1),h.$attr_accessor("text","rands","detailed_rands"),h.$attr_writer("secret","success","failure","critical","fumble"),t.def(h,"$secret?",c=function(){return this.secret},c.$$arity=0),t.def(h,"$success?",u=function(){return this.success},u.$$arity=0),t.def(h,"$failure?",l=function(){return this.failure},l.$$arity=0),t.def(h,"$critical?",_=function(){return this.critical},_.$$arity=0),t.def(h,"$fumble?",d=function(){return this.fumble},d.$$arity=0),t.def(h,"$condition=",f=function(t){return this.success=t,this.failure=t["$!"]()},f.$$arity=1)}(s[0],0,s)}(r[0],r)},Opal.modules["racc/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var $=[],o=t.nil,s=t.$$$,c=t.$$,u=t.module,l=t.klass,_=t.truthy,d=t.gvars,f=t.send;return function(t,e){var r=[u(t,"Racc")].concat(e);!function(t,e,r){[l(t,e,"ParseError")].concat(r)}(r[0],c(r,"StandardError"),r)}($[0],$),_(s("::","ParseError","skip_raise")?"constant":o)||t.const_set($[0],"ParseError",s(c($,"Racc"),"ParseError")),function($,h){var p=[u($,"Racc")].concat(h);_(c(p,"Racc_No_Extensions","skip_raise")?"constant":o)||t.const_set(p[0],"Racc_No_Extensions",!1),function($,u,h){var p,m,y,b,v,g,x,R,T,D,k,w,E,S,A,O,z,P,C,I,N,L,B,q,M=l($,null,"Parser"),U=[M].concat(h);M.$$prototype.yydebug=M.$$prototype.racc_debug_out=M.$$prototype.racc_error_status=M.$$prototype.racc_t=M.$$prototype.racc_vstack=M.$$prototype.racc_val=M.$$prototype.racc_state=M.$$prototype.racc_tstack=o,t.const_set(U[0],"Racc_Runtime_Version","1.4.6"),t.const_set(U[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),t.const_set(U[0],"Racc_Runtime_Core_Version_R","1.4.6"),t.const_set(U[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),t.const_set(U[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),t.const_set(U[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),t.const_set(U[0],"Racc_Runtime_Core_Version",c(U,"Racc_Runtime_Core_Version_R")),t.const_set(U[0],"Racc_Runtime_Core_Revision",c(U,"Racc_Runtime_Core_Revision_R")),t.const_set(U[0],"Racc_Runtime_Type","ruby"),t.defs(c(U,"Parser"),"$racc_runtime_type",p=function(){return c(U,"Racc_Runtime_Type")},p.$$arity=0),t.def(M,"$_racc_setup",m=function(){var n,i,a=o,$=o,c=o;return null==d.stderr&&(d.stderr=o),_(s(this.$class(),"Racc_debug_parser"))||(this.yydebug=!1),_(null!=(n=this.yydebug)&&n!==o?"instance-variable":o)||(this.yydebug=!1),_(this.yydebug)&&(_(null!=(i=this.racc_debug_out)&&i!==o?"instance-variable":o)||(this.racc_debug_out=d.stderr),this.racc_debug_out=_(a=this.racc_debug_out)?a:d.stderr),$=s(this.$class(),"Racc_arg"),_(e($.$size(),14))&&(f($,"[]=",t.to_a(c=[13,!0])),r(c.length,1)),$},m.$$arity=0),t.def(M,"$_racc_init_sysvars",y=function(){return this.racc_state=[0],this.racc_tstack=[],this.racc_vstack=[],this.racc_t=o,this.racc_val=o,this.racc_read_next=!0,this.racc_user_yyerror=!1,this.racc_error_status=0},y.$$arity=0),t.def(M,"$do_parse",b=function(){return this.$__send__(c(U,"Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},b.$$arity=0),t.def(M,"$next_token",v=function(){return this.$raise(c(U,"NotImplementedError"),this.$class()+"#next_token is not defined")},v.$$arity=0),t.def(M,"$_racc_do_parse_rb",g=function(e,r){var a,$,s=o,c=o,u=o,l=o,d=o,h=o,p=o,m=o;return a=t.to_ary(e),s=null==a[0]?o:a[0],c=null==a[1]?o:a[1],u=null==a[2]?o:a[2],l=null==a[3]?o:a[3],d=null==a[10]?o:a[10],this.$_racc_init_sysvars(),h=p=m=o,f(this,"catch",["racc_end_parse"],(($=function(){var r,a,f=null==$.$$s?this:$.$$s,y=o,b=o,v=o;for(null==f.racc_state&&(f.racc_state=o),null==f.racc_read_next&&(f.racc_read_next=o),null==f.racc_t&&(f.racc_t=o),null==f.yydebug&&(f.yydebug=o),null==f.racc_val&&(f.racc_val=o);_(!0);)for(_(m=l["$[]"](f.racc_state["$[]"](-1)))?(_(f.racc_read_next)&&_(f.racc_t["$!="](0))&&(a=f.$next_token(),r=t.to_ary(a),h=null==r[0]?o:r[0],f.racc_val=null==r[1]?o:r[1],f.racc_t=_(h)?_(y=d["$[]"](h))?y:1:0,_(f.yydebug)&&f.$racc_read_token(f.racc_t,h,f.racc_val),f.racc_read_next=!1),m=n(m,f.racc_t),_(_(b=_(v=i(m,0))?p=s["$[]"](m):v)?c["$[]"](m)["$=="](f.racc_state["$[]"](-1)):b)||(p=u["$[]"](f.racc_state["$[]"](-1)))):p=u["$[]"](f.racc_state["$[]"](-1));_(p=f.$_racc_evalact(p,e)););}).$$s=this,$.$$arity=0,$))},g.$$arity=2),t.def(M,"$yyparse",x=function(t,e){return this.$__send__(c(U,"Racc_YY_Parse_Method"),t,e,this.$_racc_setup(),!0)},x.$$arity=2),t.def(M,"$_racc_yyparse_rb",R=function(e,r,a,$){var s,c,u=o,l=o,d=o,h=o,p=o,m=o,y=o;return s=t.to_ary(a),u=null==s[0]?o:s[0],l=null==s[1]?o:s[1],d=null==s[2]?o:s[2],h=null==s[3]?o:s[3],p=null==s[10]?o:s[10],this.$_racc_init_sysvars(),m=o,y=o,f(this,"catch",["racc_end_parse"],((c=function(){var t,$=null==c.$$s?this:c.$$s;for(null==$.racc_state&&($.racc_state=o);!_(y=h["$[]"]($.racc_state["$[]"](-1)));)for(;_(m=$.$_racc_evalact(d["$[]"]($.racc_state["$[]"](-1)),a)););return f(e,"__send__",[r],((t=function(e,r){var $,s,c=null==t.$$s?this:t.$$s,f=o,b=o,v=o,g=o,x=o,R=o,T=o;for(null==c.racc_t&&(c.racc_t=o),null==c.racc_state&&(c.racc_state=o),null==c.racc_read_next&&(c.racc_read_next=o),null==e&&(e=o),null==r&&(r=o),c.racc_t=_(e)?_(f=p["$[]"](e))?f:1:0,c.racc_val=r,c.racc_read_next=!1,y=n(y,c.racc_t),_(_($=_(s=i(y,0))?m=u["$[]"](y):s)?l["$[]"](y)["$=="](c.racc_state["$[]"](-1)):$)||(m=d["$[]"](c.racc_state["$[]"](-1)));_(m=c.$_racc_evalact(m,a)););for(;_(_(b=_(v=(y=h["$[]"](c.racc_state["$[]"](-1)))["$!"]())?v:c.racc_read_next["$!"]())?b:c.racc_t["$=="](0));)for(_(_(g=_(x=_(R=_(T=y)?y=n(y,c.racc_t):T)?i(y,0):R)?m=u["$[]"](y):x)?l["$[]"](y)["$=="](c.racc_state["$[]"](-1)):g)||(m=d["$[]"](c.racc_state["$[]"](-1)));_(m=c.$_racc_evalact(m,a)););}).$$s=$,t.$$arity=2,t))}).$$s=this,c.$$arity=0,c))},R.$$arity=4),t.def(M,"$_racc_evalact",T=function($,s){var c,u,l,d,h,p=o,m=o,y=o,b=o,v=o,g=o,x=o,R=o,T=o,D=o;if(p=null==(c=t.to_ary(s))[0]?o:c[0],m=null==c[1]?o:c[1],y=null==c[3]?o:c[3],l=null==c[11]?o:c[11],b=null==c[12]?o:c[12],_(_(h=a($,0))?e($,l):h))_(a(this.racc_error_status,0))&&(this.racc_t["$=="](1)||(this.racc_error_status=r(this.racc_error_status,1))),this.racc_vstack.$push(this.racc_val),this.racc_state.$push($),this.racc_read_next=!0,_(this.yydebug)&&(this.racc_tstack.$push(this.racc_t),this.$racc_shift(this.racc_t,this.racc_tstack,this.racc_vstack));else if(_(_(v=e($,0))?a($,b["$-@"]()):v)){if(g=f(this,"catch",["racc_jump"],((u=function(){var t=null==u.$$s?this:u.$$s;return null==t.racc_state&&(t.racc_state=o),t.racc_state.$push(t.$_racc_do_reduce(s,$)),!1}).$$s=this,u.$$arity=0,u)),_(g)){if(1["$==="](x=g))return this.racc_user_yyerror=!0,b["$-@"]();if(2["$==="](x))return l;this.$raise("[Racc Bug] unknown jump code")}}else if($["$=="](l))_(this.yydebug)&&this.$racc_accept(),this.$throw("racc_end_parse",this.racc_vstack["$[]"](0));else{if($["$=="](b["$-@"]())){for((0)["$==="](x=this.racc_error_status)?_(s["$[]"](21))||this.$on_error(this.racc_t,this.racc_val,this.racc_vstack):3["$==="](x)&&(this.racc_t["$=="](0)&&this.$throw("racc_end_parse",o),this.racc_read_next=!0),this.racc_user_yyerror=!1,this.racc_error_status=3;_(!0)&&(!_(R=y["$[]"](this.racc_state["$[]"](-1)))||(R=n(R,1),!_(_(T=_(D=i(R,0))?$=p["$[]"](R):D)?m["$[]"](R)["$=="](this.racc_state["$[]"](-1)):T)));)_("number"==typeof(d=this.racc_state.$size())?d<=1:d["$<="](1))&&this.$throw("racc_end_parse",o),this.racc_state.$pop(),this.racc_vstack.$pop(),_(this.yydebug)&&(this.racc_tstack.$pop(),this.$racc_e_pop(this.racc_state,this.racc_tstack,this.racc_vstack));return $}this.$raise("[Racc Bug] unknown action "+$.$inspect())}return _(this.yydebug)&&this.$racc_next_state(this.racc_state["$[]"](-1),this.racc_state),o},T.$$arity=2),t.def(M,"$_racc_do_reduce",D=function(e,a){var $,s,c,u,l,d,h,p,m=o,y=o,b=o,v=o,g=o,x=o,R=o,T=o,D=o,k=o,w=o,E=o,S=o,A=o,O=o,z=o;return m=null==($=t.to_ary(e))[4]?o:$[4],y=null==$[5]?o:$[5],b=null==$[6]?o:$[6],v=null==$[7]?o:$[7],s=null==$[8]?o:$[8],g=null==$[9]?o:$[9],c=null==$[13]?o:$[13],x=this.racc_state,R=this.racc_vstack,T=this.racc_tstack,D="number"==typeof(p=a)?-3*p:p["$*"](-3),k=g["$[]"](D),u=g["$[]"](n(D,1)),l=g["$[]"](n(D,2)),d=[],_(this.yydebug)&&(w=T["$[]"](k["$-@"](),k)),E=R["$[]"](k["$-@"](),k),_(this.yydebug)&&(S=[k["$-@"](),k,d],f(T,"[]=",t.to_a(S)),r(S.length,1)),S=[k["$-@"](),k,d],f(R,"[]=",t.to_a(S)),r(S.length,1),S=[k["$-@"](),k,d],f(x,"[]=",t.to_a(S)),r(S.length,1),_(c)?R.$push(this.$__send__(l,E,R,E["$[]"](0))):R.$push(this.$__send__(l,E,R)),T.$push(u),_(this.yydebug)&&this.$racc_reduce(w,u,T,R),h=r(u,s),_(D=v["$[]"](h))&&(D=n(D,x["$[]"](-1)),_(_(A=_(O=i(D,0))?z=m["$[]"](D):O)?y["$[]"](D)["$=="](h):A))?z:b["$[]"](h)},D.$$arity=2),t.def(M,"$on_error",k=function(t,e,r){var n;return this.$raise(c(U,"ParseError"),this.$sprintf("\nparse error on value %s (%s)",e.$inspect(),_(n=this.$token_to_str(t))?n:"?"))},k.$$arity=3),t.def(M,"$yyerror",w=function(){return this.$throw("racc_jump",1)},w.$$arity=0),t.def(M,"$yyaccept",E=function(){return this.$throw("racc_jump",2)},E.$$arity=0),t.def(M,"$yyerrok",S=function(){return this.racc_error_status=0},S.$$arity=0),t.def(M,"$racc_read_token",A=function(t,e,r){return this.racc_debug_out.$print("read    "),this.racc_debug_out.$print(e.$inspect(),"(",this.$racc_token2str(t),") "),this.racc_debug_out.$puts(r.$inspect()),this.racc_debug_out.$puts()},A.$$arity=3),t.def(M,"$racc_shift",O=function(t,e,r){return this.racc_debug_out.$puts("shift   "+this.$racc_token2str(t)),this.$racc_print_stacks(e,r),this.racc_debug_out.$puts()},O.$$arity=3),t.def(M,"$racc_reduce",z=function(t,e,r,n){var i,a=o;return(a=this.racc_debug_out).$print("reduce "),_(t["$empty?"]())?a.$print(" <none>"):f(t,"each",[],((i=function(t){return null==t&&(t=o),a.$print(" ",(null==i.$$s?this:i.$$s).$racc_token2str(t))}).$$s=this,i.$$arity=1,i)),a.$puts(" --\x3e "+this.$racc_token2str(e)),this.$racc_print_stacks(r,n),this.racc_debug_out.$puts()},z.$$arity=4),t.def(M,"$racc_accept",P=function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},P.$$arity=0),t.def(M,"$racc_e_pop",C=function(t,e,r){return this.racc_debug_out.$puts("error recovering mode: pop token"),this.$racc_print_states(t),this.$racc_print_stacks(e,r),this.racc_debug_out.$puts()},C.$$arity=3),t.def(M,"$racc_next_state",I=function(t,e){return this.racc_debug_out.$puts("goto    "+t),this.$racc_print_states(e),this.racc_debug_out.$puts()},I.$$arity=2),t.def(M,"$racc_print_stacks",N=function(t,e){var r,n=o;return(n=this.racc_debug_out).$print("        ["),f(t,"each_index",[],((r=function(i){return null==i&&(i=o),n.$print(" (",(null==r.$$s?this:r.$$s).$racc_token2str(t["$[]"](i))," ",e["$[]"](i).$inspect(),")")}).$$s=this,r.$$arity=1,r)),n.$puts(" ]")},N.$$arity=2),t.def(M,"$racc_print_states",L=function(t){var e,r=o;return(r=this.racc_debug_out).$print("        ["),f(t,"each",[],((e=function(t){return null==t&&(t=o),r.$print(" ",t)}).$$s=this,e.$$arity=1,e)),r.$puts(" ]")},L.$$arity=1),t.def(M,"$racc_token2str",B=function(t){var e;return _(e=s(this.$class(),"Racc_token_to_s_table")["$[]"](t))?e:this.$raise("[Racc Bug] can't convert token "+t+" to string")},B.$$arity=1),t.def(M,"$token_to_str",q=function(t){return s(this.$class(),"Racc_token_to_s_table")["$[]"](t)},q.$$arity=1)}(p[0],0,p)}($[0],$)},Opal.modules["bcdice/arithmetic/node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var r=[],n=t.nil,i=t.$$$,a=t.$$,$=t.module,o=t.klass,s=t.send2;return function(r,c){var u=[$(r,"BCDice")].concat(c);!function(r,c){var u=[$(r,"Arithmetic")].concat(c);!function(r,c){var u=[$(r,"Node")].concat(c);!function(e,r,i){var a,$,s,c,u,l=o(e,null,"BinaryOp");[l].concat(i),l.$$prototype.lhs=l.$$prototype.rhs=l.$$prototype.op=n,t.def(l,"$initialize",a=function(t,e,r){return this.lhs=t,this.op=e,this.rhs=r},a.$$arity=3),t.def(l,"$eval",$=function(t){var e,r=n;return r=this.lhs.$eval(t),e=this.rhs.$eval(t),r.$send(this.op,e)},$.$$arity=1),t.def(l,"$output",s=function(){return""+this.lhs.$output()+this.op+this.rhs.$output()},s.$$arity=0),t.def(l,"$s_exp",c=function(){return"("+this.$op_for_s_exp()+" "+this.lhs.$s_exp()+" "+this.rhs.$s_exp()+")"},c.$$arity=0),t.def(l,"$op_for_s_exp",u=function(){return this.op},u.$$arity=0)}(u[0],0,u),function(e,r,$){var c,u,l,_,d,f,h=o(e,r,"DivideBase"),p=[h].concat($);h.$$prototype.lhs=h.$$prototype.rhs=h.$$prototype.op=n,t.def(h,"$initialize",c=function(e,r){return c.$$p&&(c.$$p=null),s(this,t.find_super_dispatcher(this,"initialize",c,!1,!0),"initialize",[e,"/",r],null)},c.$$arity=2),t.def(h,"$eval",u=function(t){var e,r=n;return e=this.lhs.$eval(t),(r=this.rhs.$eval(t))["$=="](0)&&this.$raise(a(p,"ZeroDivisionError")),this.$divide_and_round(e,r,t)},u.$$arity=1),t.def(h,"$output",l=function(){var e=l.$$p,r=this,i=n,a=n,$=n;for(e&&(l.$$p=null),a=0,$=arguments.length,i=new Array($);a<$;a++)i[a]=arguments[a];return""+s(r,t.find_super_dispatcher(r,"output",l,!1,!0),"output",i,e)+r.$rounding_method()},l.$$arity=0),h.$private(),t.def(h,"$rounding_method",_=function(){return i(this.$class(),"ROUNDING_METHOD")},_.$$arity=0),t.def(h,"$op_for_s_exp",d=function(){return""+this.op+this.$rounding_method()},d.$$arity=0),t.def(h,"$divide_and_round",f=function(t,e,r){return this.$raise(a(p,"NotImplementedError"))},f.$$arity=3)}(u[0],a(u,"BinaryOp"),u),function(r,n,$){var s,c=o(r,n,"DivideWithGameSystemDefault"),u=[c].concat($);t.const_set(u[0],"ROUNDING_METHOD",""),c.$private(),t.def(c,"$divide_and_round",s=function(t,r,n){var $;return $=n,i(a(u,"RoundType"),"CEIL")["$==="]($)?e(t.$to_f(),r).$ceil():i(a(u,"RoundType"),"ROUND")["$==="]($)?e(t.$to_f(),r).$round():e(t,r).$to_i()},s.$$arity=3)}(u[0],a(u,"DivideBase"),u),function(r,n,i){var a,$=o(r,n,"DivideWithCeil"),s=[$].concat(i);t.const_set(s[0],"ROUNDING_METHOD","C"),$.$private(),t.def($,"$divide_and_round",a=function(t,r,n){return e(t.$to_f(),r).$ceil()},a.$$arity=3)}(u[0],a(u,"DivideBase"),u),function(r,n,i){var a,$=o(r,n,"DivideWithRound"),s=[$].concat(i);t.const_set(s[0],"ROUNDING_METHOD","R"),$.$private(),t.def($,"$divide_and_round",a=function(t,r,n){return e(t.$to_f(),r).$round()},a.$$arity=3)}(u[0],a(u,"DivideBase"),u),function(r,n,i){var a,$=o(r,n,"DivideWithFloor"),s=[$].concat(i);t.const_set(s[0],"ROUNDING_METHOD","F"),$.$private(),t.def($,"$divide_and_round",a=function(t,r,n){return e(t,r).$to_i()},a.$$arity=3)}(u[0],a(u,"DivideBase"),u),function(e,r,i){var a,$,s,c,u=o(e,null,"Negative");[u].concat(i),u.$$prototype.body=n,t.def(u,"$initialize",a=function(t){return this.body=t},a.$$arity=1),t.def(u,"$eval",$=function(t){return this.body.$eval(t)["$-@"]()},$.$$arity=1),t.def(u,"$output",s=function(){return"-"+this.body.$output()},s.$$arity=0),t.def(u,"$s_exp",c=function(){return"(- "+this.body.$s_exp()+")"},c.$$arity=0)}(u[0],0,u),function(e,r,i){var a,$,s,c,u=o(e,null,"Parenthesis");[u].concat(i),u.$$prototype.expr=n,t.def(u,"$initialize",a=function(t){return this.expr=t},a.$$arity=1),t.def(u,"$eval",$=function(t){return this.expr.$eval(t)},$.$$arity=1),t.def(u,"$output",s=function(){return"("+this.expr.$output()+")"},s.$$arity=0),t.def(u,"$s_exp",c=function(){return"(Parenthesis "+this.expr.$s_exp()+")"},c.$$arity=0)}(u[0],0,u),function(e,r,i){var a,$,s,c=o(e,null,"Number");[c].concat(i),c.$$prototype.value=n,t.def(c,"$initialize",a=function(t){return this.value=t},a.$$arity=1),t.def(c,"$eval",$=function(t){return this.value},$.$$arity=1),t.def(c,"$output",s=function(){return this.value.$to_s()},s.$$arity=0),t.alias(c,"s_exp","output")}(u[0],0,u)}(u[0],u)}(u[0],u)}(r[0],r)},Opal.modules.strscan=function(t){var e=[],r=t.nil,n=t.$$,i=t.klass,a=t.truthy,$=t.send;return function(e,o,s){var c,u,l,_,d,f,h,p,m,y,b,v,g,x,R,T,D,k,w,E,S,A,O,z,P,C=i(e,null,"StringScanner"),I=[C].concat(s);return C.$$prototype.pos=C.$$prototype.string=C.$$prototype.working=C.$$prototype.matched=C.$$prototype.prev_pos=C.$$prototype.match=r,C.$attr_reader("pos"),C.$attr_reader("matched"),t.def(C,"$initialize",c=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},c.$$arity=1),C.$attr_reader("string"),t.def(C,"$beginning_of_line?",u=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},u.$$arity=0),t.alias(C,"bol?","beginning_of_line?"),t.def(C,"$scan",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=r:"object"==typeof e?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):r},l.$$arity=1),t.def(C,"$scan_until",_=function(t){t=this.$anchor(t);for(var e,n=this.pos,i=this.working;;){if(e=t.exec(i),n+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,n-this.pos-1+e[0].length),this.match=e,this.prev_pos=n-1,this.pos=n,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.match=[],this.matched=r}},_.$$arity=1),t.def(C,"$[]",d=function(t){var e;if(a(this.match["$empty?"]()))return r;e=t,n(I,"Symbol")["$==="](e)?t=t.$to_s():n(I,"String")["$==="](e)||(t=n(I,"Opal")["$coerce_to!"](t,n(I,"Integer"),"to_int"));var i=this.match;return t<0&&(t+=i.length),t<0||t>=i.length||null==i[t]?r:i[t]},d.$$arity=1),t.def(C,"$check",f=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?r:e[0]},f.$$arity=1),t.def(C,"$check_until",h=function(t){var e=this.prev_pos,n=this.pos,i=this.$scan_until(t);return i!==r&&(this.matched=i.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,i},h.$$arity=1),t.def(C,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.def(C,"$eos?",m=function(){return 0===this.working.length},m.$$arity=0),t.def(C,"$exist?",y=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},y.$$arity=1),t.def(C,"$skip",b=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.match=[],this.matched=r;var n=e[0],i=n.length;return this.matched=n,this.match=e,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},b.$$arity=1),t.def(C,"$skip_until",v=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},v.$$arity=1),t.def(C,"$get_byte",g=function(){var t=r;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=r,t},g.$$arity=0),t.alias(C,"getch","get_byte"),t.def(C,"$match?",x=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?r:(this.prev_pos=this.pos,e[0].length)},x.$$arity=1),t.def(C,"$pos=",R=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},R.$$arity=1),t.def(C,"$matched_size",T=function(){return this.matched===r?r:this.matched.length},T.$$arity=0),t.def(C,"$post_match",D=function(){return this.matched===r?r:this.string.substr(this.pos)},D.$$arity=0),t.def(C,"$pre_match",k=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},k.$$arity=0),t.def(C,"$reset",w=function(){return this.working=this.string,this.matched=r,this.pos=0},w.$$arity=0),t.def(C,"$rest",E=function(){return this.working},E.$$arity=0),t.def(C,"$rest?",S=function(){return 0!==this.working.length},S.$$arity=0),t.def(C,"$rest_size",A=function(){return this.$rest().$size()},A.$$arity=0),t.def(C,"$terminate",O=function(){var e,n;return this.match=r,e=[this.string.$length()],$(this,"pos=",t.to_a(e)),e[(n=e.length,"number"==typeof n?n-1:n["$-"](1))]},O.$$arity=0),t.def(C,"$unscan",z=function(){return this.pos=this.prev_pos,this.prev_pos=r,this.match=r,this},z.$$arity=0),C.$private(),t.def(C,"$anchor",P=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},P.$$arity=1),r&&"anchor"}(e[0],0,e)},Opal.modules["bcdice/normalize"]=function(t){var e=[],r=t.nil,n=t.module;return function(e,i){var a=[n(e,"BCDice")].concat(i);!function(e,i){var a,$,o=n(e,"Normalize");[o].concat(i),o.$module_function(),t.def(o,"$comparison_operator",a=function(t){var e;return/<=|=</["$==="](e=t)?"<=":/>=|=>/["$==="](e)?">=":/<>|!=|=!/["$==="](e)?"!=":/</["$==="](e)?"<":/>/["$==="](e)?">":/=/["$==="](e)?"==":r},a.$$arity=1),t.def(o,"$target_number",$=function(t){return t["$=="]("?")?t:t.$to_i()},$.$$arity=1)}(a[0],a)}(e[0],e)},Opal.modules["bcdice/command/lexer"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$,a=t.module,$=t.klass,o=t.hash2,s=t.truthy,c=t.send;return e.$require("strscan"),e.$require("bcdice/normalize"),function(e,r){var u=[a(e,"BCDice")].concat(r);!function(e,r){var u=[a(e,"Command")].concat(r);!function(e,r,a){var u,l,_,d=$(e,null,"Lexer"),f=[d].concat(a);d.$$prototype.scanner=d.$$prototype.notations=n,t.const_set(f[0],"SYMBOLS",o(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),t.def(d,"$initialize",u=function(t,e){var r,a,$,o;return t=s(o=(a=(r=t)===n||null==r?n:c(r,"split",[" ",2]))===n||null==a?n:c(a,"first",[]))?o:"",this.scanner=i(f,"StringScanner").$new(t),this.notations=c(e,"map",[],(($=function(t){return null==t&&(t=n),s(t["$is_a?"](i(f,"String")))?i(f,"Regexp").$new(t):t}).$$s=this,$.$$arity=1,$))},u.$$arity=2),t.def(d,"$next_token",l=function(){try{var e,r=n,a=n,$=n,o=n;return s(this.scanner["$eos?"]())?[!1,"$"]:(c(this.notations,"each",[],((e=function(r){var i,a=null==e.$$s?this:e.$$s;if(null==a.scanner&&(a.scanner=n),null==r&&(r=n),i=a.scanner.$scan(r),!s(i))return n;t.ret(["NOTATION",i])}).$$s=this,e.$$arity=1,e)),s(r=this.scanner.$scan(/\d+/))?["NUMBER",r.$to_i()]:s(a=this.scanner.$scan(/[<>!=]+/))?(a=i(f,"Normalize").$comparison_operator(a),[s(a)?"CMP_OP":"ILLEGAL",a]):($=this.scanner.$getch().$upcase(),[s(o=i(f,"SYMBOLS")["$[]"]($))?o:$.$to_sym(),$]))}catch(u){if(u===t.returner)return u.$v;throw u}},l.$$arity=0),t.def(d,"$source",_=function(){return this.scanner.$string()},_.$$arity=0)}(u[0],0,u)}(u[0],u)}(r[0],r)},Opal.modules["bcdice/command/parsed"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.klass,$=t.truthy;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"Command")].concat(o);!function(e,i,o){var s,c,u,l=a(e,null,"Parsed"),_=[l].concat(o);l.$$prototype.question_target=l.$$prototype.critical=l.$$prototype.fumble=l.$$prototype.dollar=l.$$prototype.modify_number=l.$$prototype.target_number=l.$$prototype.prefix_number=l.$$prototype.command=l.$$prototype.suffix_number=l.$$prototype.cmp_op=r,l.$attr_accessor("command"),l.$attr_accessor("prefix_number"),l.$attr_accessor("suffix_number"),l.$attr_accessor("critical"),l.$attr_accessor("fumble"),l.$attr_accessor("dollar"),l.$attr_accessor("modify_number"),l.$attr_accessor("cmp_op"),l.$attr_accessor("target_number"),l.$attr_writer("question_target"),t.def(l,"$initialize",s=function(){return this.prefix_number=r,this.suffix_number=r,this.critical=r,this.fumble=r,this.dollar=r,this.cmp_op=r,this.target_number=r,this.question_target=!1},s.$$arity=0),t.def(l,"$question_target?",c=function(){return this.question_target},c.$$arity=0),t.def(l,"$to_s",u=function(t){var e,i=r,a=r,o=r,s=r,c=r;return null==t&&(t="after_command"),i=$(this.critical)?"@"+this.critical:r,a=$(this.fumble)?"#"+this.fumble:r,o=$(this.dollar)?"$"+this.dollar:r,s=n(_,"Format").$modifier(this.modify_number),c=$(this.question_target)?"?":this.target_number,"after_command"["$==="](e=t)?[this.prefix_number,this.command,this.suffix_number,i,a,o,s,this.cmp_op,c].$join():"after_modify_number"["$==="](e)?[this.prefix_number,this.command,this.suffix_number,s,i,a,o,this.cmp_op,c].$join():"after_target_number"["$==="](e)?[this.prefix_number,this.command,this.suffix_number,s,this.cmp_op,c,i,a,o].$join():r},u.$$arity=-1)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/command/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,n,i,a=t.top,$=[],o=t.nil,s=t.$$$,c=t.$$,u=t.klass,l=t.module,_=t.hash2,d=t.send2,f=t.send,h=t.hash,p=t.truthy;return a.$require("racc/parser.rb"),a.$require("bcdice/arithmetic/node"),a.$require("bcdice/command/lexer"),a.$require("bcdice/command/parsed"),r=s(c($,"BCDice"),"Command"),n=s(c($,"Racc"),"Parser"),i=$,[u(r,n,"Parser")].concat(i),function(r,n){var i=[l(r,"BCDice")].concat(n);!function(r,n){var i=[l(r,"Command")].concat(n);!function(r,n,i){var a,$,l,m,y,b,v,g,x,R,T,D,k,w,E,S,A,O,z,P,C,I,N,L,B,q,M,U,F,H,j,G,Y,K,W,Z,Q,V,J,X,tt,et,rt,nt,it,at,$t,ot,st,ct,ut,lt,_t,dt,ft,ht,pt=u(r,n,"Parser"),mt=[pt].concat(i);pt.$$prototype.notations=pt.$$prototype.lexer=pt.$$prototype.modifier=pt.$$prototype.prefix_number=pt.$$prototype.suffix_number=pt.$$prototype.need_suffix_number=pt.$$prototype.need_prefix_number=pt.$$prototype.critical=pt.$$prototype.fumble=pt.$$prototype.dollar=pt.$$prototype.allowed_cmp_op=pt.$$prototype.question_target=o,t.def(pt,"$initialize",a=function(e,r){var n,i,$,s,c=a.$$p,u=this;if(c&&(a.$$p=null),n=t.slice.call(arguments,0,arguments.length),null==(i=t.extract_kwargs(n)))i=_([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if($=n,!t.hasOwnProperty.call(i.$$smap,"round_type"))throw t.ArgumentError.$new("missing keyword: round_type");return s=i.$$smap.round_type,d(u,t.find_super_dispatcher(u,"initialize",a,!1,!0),"initialize",[],null),u.notations=$,u.round_type=s,u.prefix_number=!1,u.suffix_number=!1,u.need_prefix_number=!1,u.need_suffix_number=!1,u.modifier=!0,u.critical=!1,u.fumble=!1,u.dollar=!1,u.allowed_cmp_op=[o,">=",">","<=","<","==","!="],u.question_target=!1},a.$$arity=-2),t.def(pt,"$disable_modifier",$=function(){return this.modifier=!1,this},$.$$arity=0),t.def(pt,"$enable_prefix_number",l=function(){return this.prefix_number=!0,this},l.$$arity=0),t.def(pt,"$enable_suffix_number",m=function(){return this.suffix_number=!0,this},m.$$arity=0),t.def(pt,"$has_prefix_number",y=function(){return this.prefix_number=!0,this.need_prefix_number=!0,this},y.$$arity=0),t.def(pt,"$has_suffix_number",b=function(){return this.suffix_number=!0,this.need_suffix_number=!0,this},b.$$arity=0),t.def(pt,"$enable_critical",v=function(){return this.critical=!0,this},v.$$arity=0),t.def(pt,"$enable_fumble",g=function(){return this.fumble=!0,this},g.$$arity=0),t.def(pt,"$enable_dollar",x=function(){return this.dollar=!0,this},x.$$arity=0),t.def(pt,"$restrict_cmp_op_to",R=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.allowed_cmp_op=r,n},R.$$arity=-1),t.def(pt,"$enable_question_target",T=function(){return this.question_target=!0,this},T.$$arity=0),t.def(pt,"$parse",D=function(e){try{return this.lexer=c(mt,"Lexer").$new(e,this.notations),this.$do_parse()}catch(r){if(!t.rescue(r,[c(mt,"ParseError"),c(mt,"ZeroDivisionError")]))throw r;try{return o}finally{t.pop_exception()}}},D.$$arity=1),pt.$private(),t.def(pt,"$parsed",k=function(r,n,i,a){var $;return f(c(mt,"Parsed").$new(),"tap",[],(($=function(s){var c,u,l,_,d,h,p=null==$.$$s?this:$.$$s,m=o;return null==p.round_type&&(p.round_type=o),null==s&&(s=o),m=[r["$[]"]("command")],f(s,"command=",t.to_a(m)),e(m.length,1),m=[(c=r["$[]"]("prefix"),c===o||null==c?o:f(c,"eval",[p.round_type]))],f(s,"prefix_number=",t.to_a(m)),e(m.length,1),m=[(u=r["$[]"]("suffix"),u===o||null==u?o:f(u,"eval",[p.round_type]))],f(s,"suffix_number=",t.to_a(m)),e(m.length,1),m=[(l=n["$[]"]("critical"),l===o||null==l?o:f(l,"eval",[p.round_type]))],f(s,"critical=",t.to_a(m)),e(m.length,1),m=[(_=n["$[]"]("fumble"),_===o||null==_?o:f(_,"eval",[p.round_type]))],f(s,"fumble=",t.to_a(m)),e(m.length,1),m=[(d=n["$[]"]("dollar"),d===o||null==d?o:f(d,"eval",[p.round_type]))],f(s,"dollar=",t.to_a(m)),e(m.length,1),m=[i.$eval(p.round_type)],f(s,"modify_number=",t.to_a(m)),e(m.length,1),m=[a["$[]"]("cmp_op")],f(s,"cmp_op=",t.to_a(m)),e(m.length,1),a["$[]"]("target")["$=="]("?")?(f(s,"question_target=",t.to_a(m=[!0])),e(m.length,1),f(s,"target_number=",t.to_a(m=[0])),m[e(m.length,1)]):(f(s,"question_target=",t.to_a(m=[!1])),e(m.length,1),m=[(h=a["$[]"]("target"),h===o||null==h?o:f(h,"eval",[p.round_type]))],f(s,"target_number=",t.to_a(m)),m[e(m.length,1)])}).$$s=this,$.$$arity=1,$))},k.$$arity=4),t.def(pt,"$next_token",w=function(){return this.lexer.$next_token()},w.$$arity=0),$t=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,o,5,36,37,17,18,6,o,5,36,37,17,18,6,o,5,36,37,17,18,6,o,5,33,34,17,18,6,o,5,36,37,17,18,6,o,5,36,37,17,18,6,o,5,36,37,17,18,6,o,5,36,37,17,18,6,o,5,o,o,17,18,6,o,5,o,o,17,18,o,o,5,23,24,25,26,56,54,55,57],ot=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,o,17,15,15,18,18,23,o,18,30,30,23,23,24,o,23,31,31,24,24,25,o,24,44,44,25,25,28,o,25,47,47,28,28,29,o,28,48,48,29,29,33,o,29,49,49,33,33,34,o,33,50,50,34,34,36,o,34,o,o,36,36,37,o,36,o,o,37,37,o,o,37,27,27,27,27,52,52,52,52],st=[-2,4,16,-3,-1,11,o,33,13,35,23,30,1,o,28,40,o,37,44,o,o,-2,o,51,58,65,0,106,72,79,47,54,o,86,93,o,100,107,o,o,o,o,o,o,63,o,o,68,75,82,89,o,120,o,o,o,o,o],ct=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],ut=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,o,o,21,47,48,40,51,52,49,50,44,46,3,o,o,o,13,o,o,o,o,o,o,o,32],lt=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,o,o,4,8,8,5,7,7,8,8,9,5,6,o,o,o,6,o,o,o,o,o,o,o,6],_t=[o,6,13,3,9,-1,27,-15,-10,-1,-38],dt=[o,o,o,o,o,o,19,16,15,o,o],ft=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ht=h(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),t.const_set(mt[0],"Racc_arg",[$t,ot,ct,st,ut,lt,dt,_t,19,ft,ht,58,35,!0]),t.const_set(mt[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),t.const_set(mt[0],"Racc_debug_parser",!1),t.def(pt,"$_reduce_1",E=function(e,r,n){var i;return p(this.modifier)||this.$raise(c(mt,"ParseError")),i=t.to_ary(e),this.$parsed(null==i[0]?o:i[0],null==i[1]?o:i[1],null==i[2]?o:i[2],null==i[3]?o:i[3])},E.$$arity=3),t.def(pt,"$_reduce_2",S=function(e,r,n){var i;return p(this.modifier)||this.$raise(c(mt,"ParseError")),i=t.to_ary(e),this.$parsed(null==i[0]?o:i[0],null==i[2]?o:i[2],null==i[1]?o:i[1],null==i[3]?o:i[3])},S.$$arity=3),t.def(pt,"$_reduce_3",A=function(e,r,n){var i,a;return a=null==(i=t.to_ary(e))[2]?o:i[2],this.$parsed(null==i[0]?o:i[0],null==i[1]?o:i[1],s(s(c(mt,"Arithmetic"),"Node"),"Number").$new(0),a)},A.$$arity=3),t.def(pt,"$_reduce_4",O=function(t,e,r){var n;return p(p(n=this.prefix_number)?this.suffix_number:n)||this.$raise(c(mt,"ParseError")),_(["command","prefix","suffix"],{command:t["$[]"](1),prefix:t["$[]"](0),suffix:t["$[]"](2)})},O.$$arity=3),t.def(pt,"$_reduce_5",z=function(t,e,r){return p(this.prefix_number)||this.$raise(c(mt,"ParseError")),p(this.need_suffix_number)&&this.$raise(c(mt,"ParseError")),_(["command","prefix"],{command:t["$[]"](1),prefix:t["$[]"](0)})},z.$$arity=3),t.def(pt,"$_reduce_6",P=function(t,e,r){return p(this.suffix_number)||this.$raise(c(mt,"ParseError")),p(this.need_prefix_number)&&this.$raise(c(mt,"ParseError")),_(["command","suffix"],{command:t["$[]"](0),suffix:t["$[]"](1)})},P.$$arity=3),t.def(pt,"$_reduce_7",C=function(t,e,r){var n;return p(p(n=this.need_prefix_number)?n:this.need_suffix_number)&&this.$raise(c(mt,"ParseError")),_(["command"],{command:t["$[]"](0)})},C.$$arity=3),t.def(pt,"$_reduce_8",I=function(t,e,r){return _([],{})},I.$$arity=3),t.def(pt,"$_reduce_9",N=function(r,n,i){var a,$,s,u,l=o;return l=null==(a=t.to_ary(r))[0]?o:a[0],$=null==a[2]?o:a[2],p(p(u=this.critical)?l["$[]"]("critical")["$nil?"]():u)||this.$raise(c(mt,"ParseError")),f(l,"[]=",t.to_a(s=["critical",$])),e(s.length,1),l},N.$$arity=3),t.def(pt,"$_reduce_10",L=function(r,n,i){var a,$,s,u,l=o;return l=null==(a=t.to_ary(r))[0]?o:a[0],$=null==a[2]?o:a[2],p(p(u=this.fumble)?l["$[]"]("fumble")["$nil?"]():u)||this.$raise(c(mt,"ParseError")),f(l,"[]=",t.to_a(s=["fumble",$])),e(s.length,1),l},L.$$arity=3),t.def(pt,"$_reduce_11",B=function(r,n,i){var a,$,s,u,l=o;return l=null==(a=t.to_ary(r))[0]?o:a[0],$=null==a[2]?o:a[2],p(p(u=this.dollar)?l["$[]"]("dollar")["$nil?"]():u)||this.$raise(c(mt,"ParseError")),f(l,"[]=",t.to_a(s=["dollar",$])),e(s.length,1),l},B.$$arity=3),t.def(pt,"$_reduce_12",q=function(t,e,r){return t["$[]"](1)},q.$$arity=3),t.def(pt,"$_reduce_13",M=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},M.$$arity=3),t.def(pt,"$_reduce_14",U=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},U.$$arity=3),t.def(pt,"$_reduce_15",F=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},F.$$arity=3),t.def(pt,"$_reduce_16",H=function(t,e,r){return p(this.allowed_cmp_op["$include?"](o))||this.$raise(c(mt,"ParseError")),_([],{})},H.$$arity=3),t.def(pt,"$_reduce_17",j=function(e,r,n){var i,a,$;return $=null==(i=t.to_ary(e))[1]?o:i[1],p(this.allowed_cmp_op["$include?"](a=null==i[0]?o:i[0]))||this.$raise(c(mt,"ParseError")),_(["cmp_op","target"],{cmp_op:a,target:$})},j.$$arity=3),t.def(pt,"$_reduce_18",G=function(t,e,r){var n;return n=t["$[]"](0),p(this.question_target)||this.$raise(c(mt,"ParseError")),p(this.allowed_cmp_op["$include?"](n))||this.$raise(c(mt,"ParseError")),_(["cmp_op","target"],{cmp_op:n,target:"?"})},G.$$arity=3),t.def(pt,"$_reduce_19",Y=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},Y.$$arity=3),t.def(pt,"$_reduce_20",K=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},K.$$arity=3),t.def(pt,"$_reduce_22",W=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))},W.$$arity=3),t.def(pt,"$_reduce_23",Z=function(t,e,r){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))},Z.$$arity=3),t.def(pt,"$_reduce_25",Q=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},Q.$$arity=3),t.def(pt,"$_reduce_26",V=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"DivideWithCeil")},V.$$arity=3),t.def(pt,"$_reduce_27",J=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"DivideWithCeil")},J.$$arity=3),t.def(pt,"$_reduce_28",X=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"DivideWithRound")},X.$$arity=3),t.def(pt,"$_reduce_29",tt=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"DivideWithFloor")},tt.$$arity=3),t.def(pt,"$_reduce_30",et=function(t,e,r){return t["$[]"](1)},et.$$arity=3),t.def(pt,"$_reduce_31",rt=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},rt.$$arity=3),t.def(pt,"$_reduce_33",nt=function(t,e,r){return t["$[]"](1)},nt.$$arity=3),t.def(pt,"$_reduce_34",it=function(t,e,r){return s(s(c(mt,"Arithmetic"),"Node"),"Number").$new(t["$[]"](0))},it.$$arity=3),t.def(pt,"$_reduce_none",at=function(t,e,r){return t["$[]"](0)},at.$$arity=3)}(i[0],s(c(i,"Racc"),"Parser"),i)}(i[0],i)}($[0],$)},Opal.modules["bcdice/deprecated/checker"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,a=t.send,$=t.truthy;return function(e,o){var s=[i(e,"BCDice")].concat(o);!function(e,o){var s=[i(e,"Deprecated")].concat(o);!function(e,o){var s,c,u,l,_,d,f=i(e,"Checker"),h=[f].concat(o);f.$private(),t.def(f,"$check_result_legacy",s=function(t,e,i,o){var s,c,u=r,l=r,_=r,d=r,f=r;return u=a(e,"map",[],"sides".$to_proc()),s=(l=a(e,"map",[],"value".$to_proc())).$sum(),_=[100]["$==="](d=u)?this.$check_1D100(t,s,i,o):[20]["$==="](d)?this.$check_1D20(t,s,i,o):[6,6]["$==="](d)?this.$check_2D6(t,s,l,i,o):r,$($(c=_["$nil?"]())?c:_["$empty?"]())?(d=u.$uniq(),_=[10]["$==="](d)?this.$check_nD10(t,s,l,i,o):[6]["$==="](d)?this.$check_nD6(t,s,l,i,o):r,$($(f=_["$nil?"]())?f:_["$empty?"]())?r:n(h,"Result").$new(_.$delete_prefix(" \uff1e "))):n(h,"Result").$new(_.$delete_prefix(" \uff1e "))},s.$$arity=4),t.def(f,"$check_1D100",c=function(t,e,n,i){return r},c.$$arity=4),t.def(f,"$check_1D20",u=function(t,e,n,i){return r},u.$$arity=4),t.def(f,"$check_nD10",l=function(t,e,n,i,a){return r},l.$$arity=5),t.def(f,"$check_2D6",_=function(t,e,n,i,a){return r},_.$$arity=5),t.def(f,"$check_nD6",d=function(t,e,n,i,a){return r},d.$$arity=5)}(s[0],s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/base"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],a=t.nil,$=t.$$$,o=t.$$,s=t.module,c=t.klass,u=t.truthy,l=t.send,_=t.range,d=a;return n.$require("i18n"),n.$require("i18n/backend/fallbacks"),n.$require("bcdice/randomizer"),n.$require("bcdice/dice_table"),n.$require("bcdice/enum"),n.$require("bcdice/translate"),n.$require("bcdice/result"),n.$require("bcdice/command/parser"),n.$require("bcdice/deprecated/checker"),function(n,i){var d=[s(n,"BCDice")].concat(i);!function(n,i,s){var d,f,h,p,m,y,b,v,g,x,R,T,D,k,w,E,S,A,O,z,P,C,I,N,L,B,q,M,U,F=c(n,null,"Base"),H=[F].concat(s);F.$$prototype.sort_add_dice=F.$$prototype.sort_barabara_dice=F.$$prototype.enabled_d9=F.$$prototype.raw_input=F.$$prototype.randomizer=F.$$prototype.enabled_upcase_input=F.$$prototype.debug=a,function(r,n){var i,s,c,_,d,f=[r].concat(n);r.$attr_reader("prefixes"),t.def(r,"$register_prefix",i=function(e){var r,n=this,i=a;return null==n.prefixes&&(n.prefixes=a),r=t.slice.call(arguments,0,arguments.length),n.prefixes=u(i=n.prefixes)?i:[],n.prefixes.$concat(r.$flatten())},i.$$arity=-1),t.def(r,"$register_prefix_from_super_class",s=function(){return this.$register_prefix(this.$superclass().$prefixes())},s.$$arity=0),t.def(r,"$prefixes_pattern",c=function(){var e,r=a;return null==this.prefixes_pattern&&(this.prefixes_pattern=a),null==this.prefixes&&(this.prefixes=a),this.prefixes_pattern=u(e=this.prefixes_pattern)?e:a,u(this.prefixes_pattern)?this.prefixes_pattern:(this.prefixes=u(r=this.prefixes)?r:[],this.prefixes.$freeze(),this.prefixes_pattern=(u(this.prefixes["$empty?"]())?/(?!)/:t.regexp(["^(S)?(",this.prefixes.$join("|"),")"],"i")).$freeze())},c.$$arity=0),t.def(r,"$command_pattern",_=function(){var r,n,i=a,s=a;return null==this.command_pattern&&(this.command_pattern=a),null==this.prefixes&&(this.prefixes=a),this.command_pattern=u(n=this.command_pattern)?n:a,u(this.command_pattern)?this.command_pattern:(this.prefixes=u(i=this.prefixes)?i:[],this.prefixes.$freeze(),s=e(l($(o(f,"CommonCommand"),"COMMANDS"),"map",[],((r=function(t){return null==t&&(t=a),$(t,"PREFIX_PATTERN").$source()}).$$s=this,r.$$arity=1,r)),this.prefixes),this.command_pattern=t.regexp(["^S?(",s.$join("|"),")"],"i").$freeze())},_.$$arity=0),t.def(r,"$eval",d=function(t){return this.$new(t).$eval()},d.$$arity=1)}(t.get_singleton_class(F),H),F.$include(o(H,"Translate")),F.$include($(o(H,"Deprecated"),"Checker")),t.def(F,"$initialize",d=function(t){return this.raw_input=t,this.sort_add_dice=!1,this.sort_barabara_dice=!1,this.d66_sort_type=$(o(H,"D66SortType"),"NO_SORT"),this.enabled_d9=!1,this.round_type=$(o(H,"RoundType"),"FLOOR"),this.sides_implicit_d=6,this.upper_dice_reroll_threshold=a,this.reroll_dice_reroll_threshold=a,this.default_cmp_op=a,this.default_target_number=a,this.enabled_upcase_input=!0,this.locale="ja_jp",this.randomizer=$(o(H,"BCDice"),"Randomizer").$new(),this.debug=!1},d.$$arity=1),F.$attr_accessor("randomizer"),F.$attr_reader("d66_sort_type"),F.$attr_reader("round_type"),F.$attr_reader("sides_implicit_d"),F.$attr_reader("upper_dice_reroll_threshold"),F.$attr_reader("reroll_dice_reroll_threshold"),F.$attr_reader("default_cmp_op"),F.$attr_reader("default_target_number"),t.def(F,"$sort_add_dice?",f=function(){return this.sort_add_dice},f.$$arity=0),t.def(F,"$sort_barabara_dice?",h=function(){return this.sort_barabara_dice},h.$$arity=0),t.def(F,"$enabled_d9?",p=function(){return this.enabled_d9},p.$$arity=0),t.def(F,"$enable_debug",m=function(){return this.debug=!0},m.$$arity=0),t.def(F,"$eval",y=function(){var e,n,i,s=a;return e=$(o(H,"BCDice"),"Preprocessor").$process(this.raw_input,this),n=u(i=this.$dice_command(e))?i:this.$eval_common_command(this.raw_input),u(n)?(s=[this.randomizer.$rand_results()],l(n,"rands=",t.to_a(s)),r(s.length,1),s=[this.randomizer.$detailed_rand_results()],l(n,"detailed_rands=",t.to_a(s)),r(s.length,1),n):a},y.$$arity=0),t.def(F,"$change_text",b=function(t){return t},b.$$arity=1),t.def(F,"$check_result",v=function(t,e,r,n){var i,$=a,s=a,c=a,_=a;return $=this.$check_result_legacy(t,e,r,n),u($)?$:(s=l(e,"map",[],"sides".$to_proc()),i=(c=l(e,"map",[],"value".$to_proc())).$sum(),($=[100]["$==="](_=s)?this.$result_1d100(t,i,r,n):[20]["$==="](_)?this.$result_1d20(t,i,r,n):[6,6]["$==="](_)?this.$result_2d6(t,i,c,r,n):a)["$=="](o(H,"Result").$nothing())?a:u($)?$:(_=s.$uniq(),($=[10]["$==="](_)?this.$result_nd10(t,i,c,r,n):[6]["$==="](_)?this.$result_nd6(t,i,c,r,n):a)["$=="](o(H,"Result").$nothing())?a:u($)?$:this.$result_ndx(t,r,n)))},v.$$arity=4),t.def(F,"$grich_text",g=function(t,e,r){return a},g.$$arity=3),F.$private(),t.def(F,"$eval_common_command",x=function(e){try{var r;return e=this.$change_text(e),l($(o(H,"CommonCommand"),"COMMANDS"),"each",[],((r=function(n){var i,$=null==r.$$s?this:r.$$s;if(null==$.randomizer&&($.randomizer=a),null==n&&(n=a),i=n.$eval(e,$,$.randomizer),!u(i))return a;t.ret(i)}).$$s=this,r.$$arity=1,r)),a}catch(n){if(n===t.returner)return n.$v;throw n}},x.$$arity=1),t.def(F,"$dice_command",R=function(e){var n,i,$=a,s=a,c=a,d=a,f=a,h=a;return u(this.enabled_upcase_input)&&(e=e.$upcase()),$=this.$class().$prefixes_pattern().$match(e),u($)?(i=$["$[]"](1)["$nil?"]()["$!"](),u(i)&&(e=e["$[]"](_(1,-1,!1))),s=this.$eval_game_system_specific_command(e),u(s["$is_a?"](o(H,"Result")))?(c=[u(d=s["$secret?"]())?d:i],l(s,"secret=",t.to_a(c)),r(c.length,1),s):u(u(f=u(h=s["$nil?"]())?h:s["$empty?"]())?f:s["$=="]("1"))?a:l(o(H,"Result").$new(),"tap",[],((n=function(e){return null==e&&(e=a),c=[s.$to_s()],l(e,"text=",t.to_a(c)),r(c.length,1),l(e,"secret=",t.to_a(c=[i])),c[r(c.length,1)]}).$$s=this,n.$$arity=1,n))):a},R.$$arity=1),t.def(F,"$eval_game_system_specific_command",T=function(t){return a},T.$$arity=1),t.def(F,"$result_ndx",D=function(t,e,r){return u(r["$is_a?"](o(H,"String")))?a:u(t.$send(e,r))?o(H,"Result").$success(this.$translate("success")):o(H,"Result").$failure(this.$translate("failure"))},D.$$arity=3),t.def(F,"$result_1d100",k=function(t,e,r,n){return a},k.$$arity=4),t.def(F,"$result_1d20",w=function(t,e,r,n){return a},w.$$arity=4),t.def(F,"$result_nd10",E=function(t,e,r,n,i){return a},E.$$arity=5),t.def(F,"$result_2d6",S=function(t,e,r,n,i){return a},S.$$arity=5),t.def(F,"$result_nd6",A=function(t,e,r,n,i){return a},A.$$arity=5),t.def(F,"$get_table_by_2d6",O=function(t){return this.$get_table_by_nD6(t,2)},O.$$arity=1),t.def(F,"$get_table_by_1d6",z=function(t){return this.$get_table_by_nD6(t,1)},z.$$arity=1),t.def(F,"$get_table_by_nD6",P=function(t,e){return this.$get_table_by_nDx(t,e,6)},P.$$arity=2),t.def(F,"$get_table_by_nDx",C=function(t,e,n){var i,$=a;return i=this.randomizer.$roll_sum(e,n),$=this.$get_table_value(t["$[]"](r(i,e))),u($["$nil?"]())?["1",0]:[$,i]},C.$$arity=3),t.def(F,"$get_table_by_1d3",I=function(t){var e,n,i,$=a;return this.$debug("get_table_by_1d3"),e=this.randomizer.$roll_sum(1,6),this.$debug("num",e),n=(i=r(e,1),"number"==typeof i?i/2:i["$/"](2)).$to_i(),this.$debug("index",n),$=t["$[]"](n),u($["$nil?"]())?["1",0]:[$,e]},I.$$arity=1),t.def(F,"$get_table_by_d66_swap",N=function(t){var e;return e=this.randomizer.$roll_d66($(o(H,"D66SortType"),"ASC")),[this.$get_table_by_number(e,t),e]},N.$$arity=1),t.def(F,"$get_table_by_d66",L=function(t){var n,i,$,o,s,c=a;return n=this.randomizer.$roll_once(6),i=this.randomizer.$roll_once(6),$=e("number"==typeof(s=r(n,1))?6*s:s["$*"](6),r(i,1)),c=t["$[]"]($),o=""+n+i,u(c["$nil?"]())?["1",o]:[c,o]},L.$$arity=1),t.def(F,"$get_table_by_number",B=function(e,r,n){try{var i;return null==n&&(n="1"),l(r,"each",[],((i=function(r){var n,$,o,s=null==i.$$s?this:i.$$s;if(null==r&&(r=a),n=r["$[]"](0),!u(($=n,o=e,"number"==typeof $&&"number"==typeof o?$>=o:$["$>="](o))))return a;t.ret(s.$get_table_value(r["$[]"](1)))}).$$s=this,i.$$arity=1,i)),this.$get_table_value(n)}catch($){if($===t.returner)return $.$v;throw $}},B.$$arity=-3),t.def(F,"$get_table_value",q=function(t){return u(t["$is_a?"](o(H,"Proc")))?t.$call():t},q.$$arity=1),t.def(F,"$roll_tables",M=function(t,e){var r=a;return r=e["$[]"](t),u(r)?r.$roll(this.randomizer).$to_s():a},M.$$arity=2),t.def(F,"$debug",U=function(e,r){var n,i,$=this,s=a,c=a;return n=t.slice.call(arguments,1,arguments.length),u($.debug)?(s=u(e["$is_a?"](o(H,"String")))?e:e.$inspect(),u(n["$empty?"]())?$.$warn(s):(c=l(n,"map",[],((i=function(t){return null==t&&(t=a),u(t["$is_a?"](o(H,"String")))?'"'+t+'"':t.$inspect()}).$$s=$,i.$$arity=1,i)),$.$warn(s+": "+c.$join(", ")))):a},U.$$arity=-2)}(d[0],0,d)}(i[0],i),$($(o(i,"I18n"),"Backend"),"Simple").$include($($(o(i,"I18n"),"Backend"),"Fallbacks")),o(i,"I18n").$load_path()["$<<"](o(i,"Dir")["$[]"](o(i,"File").$join(n.$__dir__(),"../../i18n/**/*.yml"))),d=["ja_jp"],l(o(i,"I18n"),"default_locale=",t.to_a(d)),r(d.length,1),d=[["ja_jp"]],l(o(i,"I18n").$fallbacks(),"defaults=",t.to_a(d)),d[r(d.length,1)]},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var a=[],$=t.nil,o=t.$$$,s=t.$$,c=t.module,u=t.klass,l=t.truthy,_=t.send,d=t.hash2,f=t.send2,h=t.range,p=t.hash;t.top.$require("bcdice/base"),function(a,m){var y=[c(a,"BCDice")].concat(m);!function(a,m){var y=[c(a,"GameSystem")].concat(m);!function(a,c,m){var y,b,v,g,x,R,T,D,k,w,E,S,A=u(a,c,"Yggdrasill"),O=[A].concat(m);A.$$prototype.randomizer=$,t.const_set(O[0],"ID","Yggdrasill"),t.const_set(O[0],"NAME","\u92fc\u9244\u306e\u30e6\u30b0\u30c9\u30e9\u30b7\u30eb"),t.const_set(O[0],"SORT_KEY","\u3053\u3046\u3066\u3064\u306e\u3086\u304f\u3068\u3089\u3057\u308b"),t.const_set(O[0],"HELP_MESSAGE","\u25a0 \u884c\u70ba\u5224\u5b9a (CFx+nD6)\n  \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u306b\u3088\u308b\u30c0\u30a4\u30b9\u8ffd\u52a0\u3092\u884c\u3046\n  \u5148\u982d\u306ecf\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u3001\u52d5\u4f5c\u304c\u5909\u66f4\u3055\u308c\u308b\n  hcf: \u9054\u6210\u5024\u304c\u534a\u6e1b\n  cfl: \u4ed8\u52a0\u52b9\u679c\u3010\u5e78\u904b\u3011\u3092\u4ed8\u4e0e\n  cfg: \u4ed8\u52a0\u52b9\u679c\u3010\u30ae\u30e3\u30f3\u30d6\u30eb\u3011\u3092\u4ed8\u4e0e\n  cft: \u3010\u5fdc\u6025\u51e6\u7f6e\u3011\u5224\u5b9a (t\u306f\u672b\u5c3e\u306b\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044)\n  \u4f8b\uff09\n    CF10+1D6, HCFL6+2D6, CFG11+1D6-2, cfgt10+1D6\n\n\u25a0 \u66b4\u8d70\u30ed\u30fc\u30eb (RAx)\n  \u66b4\u8d70\u7387x\u306e\u66b4\u8d70\u30ed\u30fc\u30eb\u304a\u3088\u3073\u81e8\u754c\u30ed\u30fc\u30eb\u3092\u884c\u3046\n  \u4f8b\uff09\n    RA50, RA110, RA150\n\n\u25a0 SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 (SOx)\n  \u30b9\u30da\u30c3\u30af\u6570\u304cx\u30aa\u30fc\u30d0\u30fc\u3057\u305f\u969b\u306e\u30da\u30ca\u30eb\u30c6\u30a3\u30ed\u30fc\u30eb\u3092\u884c\u3046\n  \u4f8b\uff09\n    SO1, SO5\n\n\u25a0 \u3010\u5fdc\u6025\u51e6\u7f6e\u3011 (TREATx)\n  \u9054\u6210\u5024x\u306e\u3010\u5fdc\u6025\u51e6\u7f6e\u3011\u306b\u3088\u308b\u56de\u5fa9\u91cf\u3092\u6c7a\u5b9a\u3059\u308b\n  \u4f8b\uff09\n    TREAT1, TREAT18\n\n\u25a0 \u305d\u306e\u4ed6\u306e\u5224\u5b9a\u304a\u3088\u3073\u8868\n  down\uff1a\u6c17\u7d76\u5224\u5b9a\n  cont\uff1a\u30b3\u30f3\u30c6\u30a3\u30cb\u30e5\u30fc\u5224\u5b9a\n  risk\uff1a\u30ea\u30b9\u30af\u5224\u5b9a\n  guki\uff1a\u5076\u5947\u5224\u5b9a\n  cond\uff1a\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u30ed\u30fc\u30eb\n  allr\uff1a\u30aa\u30fc\u30eb\u30ec\u30f3\u30b8\u767a\u52d5\u30ed\u30fc\u30eb\n  pafe\uff1a\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u767a\u52d5\u30ed\u30fc\u30eb\n  stag\uff1a\u30b9\u30c6\u30fc\u30b8\u6c7a\u5b9a\uff08\u96fb\u8133\u30ed\u30ef\u30a4\u30e4\u30eb\u7528\uff09\n  fatal1\uff1a\u5f8c\u907a\u75c7\n  fatal2\uff1a\u56e0\u5b50\u5909\u5316\u30ed\u30fc\u30eb\n  mikuzi\uff1a\u6d45\u8349\u5bfa\u307f\u304f\u3058\u30021d100\u3067\u3042\u306a\u305f\u306e\u904b\u52e2\u3092\u5360\u3044\u307e\u3059\n"),A.$register_prefix("H?CF","RA","SO","DOWN","CO(NT)?","RISK","GUKI","COND","TREAT","ALLR","PAFE","FATAL","STAG","MIKUZI"),t.def(A,"$eval_game_system_specific_command",y=function(t){var e,r,n,i,a,$,o,c,u;return l(e=l(r=l(n=l(i=l(a=l($=l(o=l(c=l(u=this.$roll_tables(t,s(O,"TABLES")))?u:this.$roll_cf(t))?c:this.$roll_ra(t))?o:this.$roll_treat(t))?$:this.$roll_down(t))?a:this.$roll_cond(t))?i:this.$roll_guki(t))?n:this.$roll_cont(t))?r:this.$roll_allr(t))?e:this.$roll_pafe(t)},y.$$arity=1),A.$private(),t.def(A,"$roll_cf",b=function(t){var i,a,c,u,d,f,h,p,m,y,b,v,g,x=$,R=$,T=$,D=$,k=$,w=$,E=$,S=$,A=$,z=$,P=$;if(x=/^(H)?CF([LG])?(T)?((?:[+-]*\d+|\+?\d+D\d+)(?:[+-]+\d+|\++\d+D\d+)*)$/.$match(t),!l(x))return $;if(R=x["$[]"](1)["$nil?"]()["$!"](),a=x["$[]"](2),T=x["$[]"](3)["$nil?"]()["$!"](),c=x["$[]"](4),D=o(o(s(O,"CommonCommand"),"AddDice"),"Parser").$parse(c),!l(D))return $;for(k=o(o(s(O,"CommonCommand"),"AddDice"),"Randomizer").$new(this.randomizer,this),u=D.$lhs().$eval(this,k),d=_(k.$rand_results(),"map",[],"value".$to_proc()),f=this.$count_fumble(d,a),h=this.$count_critical(d,a),p=(w=this.randomizer.$roll_barabara(f,6)).$sum(),m=w.$join(","),E=[],S=h;l(e(S,0));)A=this.randomizer.$roll_barabara(S,6),E.$push(A),S=A.$count(6);return y=E.$flatten().$sum(),b=_(E,"map",[],(i=function(t){return null==t&&(t=$),"["+t.$join(",")+"]"},i.$$s=this,i.$$arity=1,i)).$join(),z=r((g=p,"number"==typeof(v=u)&&"number"==typeof g?v-g:v["$-"](g)),y),R["$=="](!0)&&(z=n(z,2)),P="("+t+") \uff1e \u8a08\u3010 "+z+" \u3011 \uff1a "+D.$lhs().$output(),l(e(f,0))&&(P=r(P," (fa:"+f+")-"+p+"["+m+"]")),l(e(y,0))&&(P=r(P," (cr:"+h+")+"+y+b+" (cr:\u8a08"+E.$flatten().$size()+"\u56de)")),T["$=="](!0)&&(P=r(P,"\n \uff1e "+this.$eval_game_system_specific_command("TREAT"+z))),P},b.$$arity=1),t.def(A,"$count_critical",v=function(t,e){var r,n;return n=e["$=="]("G")?4:l(e)?5:6,_(t,"count",[],((r=function(t){var e,r;return null==t&&(t=$),r=n,"number"==typeof(e=t)&&"number"==typeof r?e>=r:e["$>="](r)}).$$s=this,r.$$arity=1,r))},v.$$arity=2),t.def(A,"$count_fumble",g=function(t,e){var r,n;return n=e["$=="]("G")?3:l(e)?2:1,_(t,"count",[],((r=function(t){return null==t&&(t=$),i(t,n)}).$$s=this,r.$$arity=1,r))},g.$$arity=2),t.def(A,"$roll_ra",x=function(t){var e,r=$,n=$;return r=/^RA(\d+)?$/.$match(t),l(r)?(n=(e=r["$[]"](1))===$||null==e?$:_(e,"to_i",[]),"("+t+") "+(50["$==="](n)?s(O,"RA50").$roll(this.randomizer):70["$==="](n)?s(O,"RA70").$roll(this.randomizer):90["$==="](n)?s(O,"RA90").$roll(this.randomizer):110["$==="](n)||120["$==="](n)||130["$==="](n)||140["$==="](n)?s(O,"RA110").$roll(this.randomizer):150["$==="](n)?"\uff1e \u56e0\u5b50\u5d29\u58ca\u3010\u30ad\u30e3\u30e9\u30ed\u30b9\u30c8\u3011":$["$==="](n)?"\uff1e \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6570\u5024\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044":"\uff1e \u6307\u5b9a\u306e\u66b4\u8d70\u7387\u306e\u66b4\u8d70\u30ed\u30fc\u30eb\u306f\u3042\u308a\u307e\u305b\u3093")):$},x.$$arity=1),t.def(A,"$roll_treat",R=function(t){var e,a=$,o=$,s=$,c=$;return a=/^TREAT(-?\d+)?$/.$match(t),l(a)?l(a["$[]"](1))?(o=(e=a["$[]"](1))===$||null==e?$:_(e,"to_i",[]),"\uff21\uff25\u3010\u5fdc\u6025\u51e6\u7f6e\u3011 \uff1e HP\u304c"+(l(i(o,5))?0:l(i(o,7))?1:l(i(o,11))?n(s=this.randomizer.$roll_once(6),2).$to_i()+"("+s+"["+s+"]/2)":l(i(o,14))?(s=this.randomizer.$roll_once(6))+"("+s+"["+s+"])":l(i(o,17))?r(s=this.randomizer.$roll_once(6),3)+"("+s+"["+s+"]+3)":r(s=(c=this.randomizer.$roll_barabara(2,6)).$sum(),2)+"("+s+"["+c.$join(",")+"]+2)")+"\u56de\u5fa9"):"\uff21\uff25\u3010\u5fdc\u6025\u51e6\u7f6e\u3011 \uff1e \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f\u6570\u5024\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044":$},R.$$arity=1),t.def(A,"$roll_down",T=function(t){var e,r=$;return t["$=="]("DOWN")?(r=this.randomizer.$roll_once(6),e=l(r["$even?"]())?"\u56de\u907f":"\u6c17\u7d76\u3010"+this.randomizer.$roll_once(6)+"R\u884c\u52d5\u4e0d\u80fd\u3011","\u6c17\u7d76\u5224\u5b9a \uff1e "+r+" \uff1e "+e):$},T.$$arity=1),t.def(A,"$roll_cond",D=function(t){var e=$,r=$;return t["$=="]("COND")?"("+t+") \uff1e HP"+(e=this.randomizer.$roll_barabara(2,6)).$sum()+"["+e.$join(",")+"] \u3001 PP"+(r=this.randomizer.$roll_barabara(2,6)).$sum()+"["+r.$join(",")+"]":$},D.$$arity=1),t.def(A,"$roll_guki",k=function(t){var e,r=$;return t["$=="]("GUKI")?(r=this.randomizer.$roll_once(6),e=l(r["$even?"]())?"\u6210\u529f":"\u5931\u6557","(GUKI) \uff1e "+r+" \uff1e "+e):$},k.$$arity=1),t.def(A,"$roll_cont",w=function(t){var e;return l(/CO(NT)?/["$match?"](t))?"\u30b3\u30f3\u30c6\u30a3\u30cb\u30e5\u30fc\u5224\u5b9a \uff1e "+(e=this.randomizer.$roll_once(6))+" \uff1e "+(l(i(e,4))?"1R\u8ffd\u52a0":"2R\u8ffd\u52a0"):$},w.$$arity=1),t.def(A,"$roll_allr",E=function(t){var e,r=$;return t["$=="]("ALLR")?(e=(r=this.randomizer.$roll_once(6))["$=="](1)?"\u767a\u52d5\u5931\u6557\u3010\u6280\u5bfe\u8c61\u304c\u6575\u5473\u65b9\u542b\u3081\u305f\u5168\u54e1\u3068\u306a\u308b\u3011":"\u767a\u52d5\u6210\u529f","\u30aa\u30fc\u30eb\u30ec\u30f3\u30b8\u5224\u5b9a \uff1e "+r+" \uff1e "+e):$},E.$$arity=1),t.def(A,"$roll_pafe",S=function(t){var e,r=$;return t["$=="]("PAFE")?(e=(r=this.randomizer.$roll_once(6))["$=="](1)?"\u767a\u52d5\u5931\u6557\u3010\u901a\u5e38\u547d\u4e2d\u30fb\u56de\u907f\u5224\u5b9a\u3068\u306a\u308a\u3001\u767a\u52d5\u6642\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u5185\u306e\u547d\u4e2d\u529b\uff06\u56de\u907f\u529b\u304c\u534a\u6e1b\u3059\u308b\u3011":"\u767a\u52d5\u6210\u529f","\u767a\u52d5\u30ed\u30fc\u30eb \uff1e "+r+" \uff1e "+e):$},S.$$arity=1),function(e,n,i){var a,c,_=u(e,n,"YggTable"),h=[_].concat(i);_.$$prototype.times=_.$$prototype.sides=_.$$prototype.index=_.$$prototype.out_of_control=_.$$prototype.additonal_times=_.$$prototype.additonal_sides=_.$$prototype.format=$,t.def(_,"$initialize",a=function(e,r,n,i){var o,c,u,_,p=$;if(a.$$p&&(a.$$p=null),null==i)i=d([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(!t.hasOwnProperty.call(i.$$smap,"additonal_type"))throw t.ArgumentError.$new("missing keyword: additonal_type");if(o=i.$$smap.additonal_type,!t.hasOwnProperty.call(i.$$smap,"additonal_format"))throw t.ArgumentError.$new("missing keyword: additonal_format");if(c=i.$$smap.additonal_format,!t.hasOwnProperty.call(i.$$smap,"additonal_index"))throw t.ArgumentError.$new("missing keyword: additonal_index");return u=i.$$smap.additonal_index,null==(_=i.$$smap.out_of_control)&&(_=$),f(this,t.find_super_dispatcher(this,"initialize",a,!1,!0),"initialize",[e,r,n],null),p=/(\d+)D(\d+)/i.$match(o),l(p)||this.$raise(s(h,"ArgumentError"),"Unexpected table type: "+o),this.additonal_times=p["$[]"](1).$to_i(),this.additonal_sides=p["$[]"](2).$to_i(),this.format=c,this.index=u,this.out_of_control=_},a.$$arity=4),t.def(_,"$roll",c=function(t){var e,n,i,a=$,c=$;return e=t.$roll_sum(this.times,this.sides),a=this.$choice(e),l(l(i=this.index["$include?"](e))?i:this.out_of_control["$=="](e))?(n=this.out_of_control["$=="](e)?a.$body()+" \uff1a "+s(h,"RA90").$roll(t):(c=t.$roll_barabara(this.additonal_times,this.additonal_sides),r(a.$body(),this.$format(this.format,d(["total","list"],{total:c.$sum(),list:c.$join(",")})))),o(s(h,"DiceTable"),"RollResult").$new(a.$table_name(),a.$value(),n)):a},c.$$arity=1)}(O[0],o(s(O,"DiceTable"),"Table"),O),function(e,r,n){var i,a,c=u(e,r,"ChainTable"),_=[c].concat(n);c.$$prototype.times=c.$$prototype.sides=c.$$prototype.index=c.$$prototype.additonal_table=$,t.def(c,"$initialize",i=function(e,r,n,a){var $,o;if(i.$$p&&(i.$$p=null),null==a)a=d([],{});else if(!a.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(!t.hasOwnProperty.call(a.$$smap,"additonal_table"))throw t.ArgumentError.$new("missing keyword: additonal_table");if($=a.$$smap.additonal_table,!t.hasOwnProperty.call(a.$$smap,"additonal_index"))throw t.ArgumentError.$new("missing keyword: additonal_index");return o=a.$$smap.additonal_index,f(this,t.find_super_dispatcher(this,"initialize",i,!1,!0),"initialize",[e,r,n],null),this.additonal_table=$,this.index=o},i.$$arity=4),t.def(c,"$roll",a=function(t){var e,r,n=$;return e=t.$roll_sum(this.times,this.sides),n=this.$choice(e),l(this.index["$include?"](e))?(r=n.$body()+" \uff1e "+this.additonal_table.$roll(t),o(s(_,"DiceTable"),"RollResult").$new(n.$table_name(),n.$value(),r)):n},a.$$arity=1)}(O[0],o(s(O,"DiceTable"),"Table"),O),t.const_set(O[0],"PSY_TABLE",o(s(O,"DiceTable"),"Table").$new("\u80fd\u529b\u30bf\u30a4\u30d7","1D6",["\u30b5\u30a4\u30ad\u30c3\u30ab\u30fc","\u30a8\u30b9\u30d1\u30fc","\u30c8\u30e9\u30f3\u30b5\u30fc","\u30af\u30ea\u30a8\u30a4\u30bf\u30fc","\u30a2\u30f3\u30ce\u30a6\u30f3","\u597d\u304d\u306a\u80fd\u529b\u30bf\u30a4\u30d7\u3092\u9078\u629e\u3002\u30ce\u30fc\u30de\u30eb\u9078\u629e\u3067\u3082\u53ef"])),t.const_set(O[0],"RA50",s(O,"YggTable").$new("\u66b4\u8d70Lv.1","1D6",["\u767a\u4f5c\u3010\u81ea\u7206\xf72\u30c0\u30e1\u30fc\u30b8\u3002\uff08\u81ea\u8eab\u306b\u80fd\u529b\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\xf72\uff09\u3002\u9632\u5fa1\u7121\u8996\u3011","\u9ad8\u63da\u30101D6\u66b4\u8d70\u7387\u4e0a\u6607\u3011","\u9ad8\u63da\u30101D6\u66b4\u8d70\u7387\u4e0a\u6607\u3011","\u81ea\u5236\u3010\u66b4\u8d70\u306a\u3057\u3011","\u81ea\u5236\u3010\u66b4\u8d70\u306a\u3057\u3011","\u81ea\u5236\u3010\u66b4\u8d70\u306a\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"1D6",additonal_format:" \uff1a %{total}[%{list}] \uff05",additonal_index:[2,3]}))),t.const_set(O[0],"RA70",s(O,"YggTable").$new("\u66b4\u8d70Lv.3","1D6",["\u81ea\u7206\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\u3002\u81ea\u8eab\u306b\u80fd\u529b\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\u3002\u9632\u5fa1\u7121\u8996\u3011","\u81ea\u7206\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\u3002\u81ea\u8eab\u306b\u80fd\u529b\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\u3002\u9632\u5fa1\u7121\u8996\u3011","\u66b4\u767a\u3010\u30e9\u30f3\u30c0\u30e0\u653b\u6483\u3002\u57fa\u672c\u7684\u306b\u80fd\u529b\u653b\u6483\u3002\u5bfe\u8c61\u306f\u81ea\u5206\u3001\u30ad\u30e3\u30e9\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e09\u7a2e\u985e\u3011","\u9023\u9396\u30102D6\u66b4\u8d70\u7387\u4e0a\u6607\u3011","\u767a\u75c7","\u81ea\u5236\u3010\u66b4\u8d70\u7121\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index","out_of_control"],{additonal_type:"2D6",additonal_format:" \uff1a %{total}[%{list}] \uff05",additonal_index:[4],out_of_control:5}))),t.const_set(O[0],"RA90",o(s(O,"DiceTable"),"D66ParityTable").$new("\u66b4\u8d70\u72b6\u614b\u8868",["\u80fd\u529b\u7570\u5e38\u3010\u80fd\u529b\u4f7f\u7528\u6642\u306b\u5076\u5947\u5224\u5b9a\u3002\u5947\u6570\u306e\u5834\u5408\u306f\u6d88\u8cbb\u3060\u3051\u884c\u3044\u80fd\u529b\u767a\u52d5\u5931\u6557\u3002\u66b4\u8d70\u30c1\u30a7\u30c3\u30af\u3054\u3068\u306b+2\uff05\u3055\u308c\u308b\uff08\u767a\u75c7\u6642\u3082\u767a\u751f\uff09\u3002\u80fd\u529b\u7cbe\u5ea6\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u8a00\u8a9e\u7570\u5e38\u3010AE\u4f7f\u7528\u6642\u306b\u5076\u5947\u5224\u5b9a\u3002\u5947\u6570\u306e\u5834\u5408\u306f\u6d88\u8cbb\u3060\u3051\u884c\u3044AE\u767a\u52d5\u5931\u6557\u3002\u8a71\u8853\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u8a18\u61b6\u7570\u5e38\u3010\u547d\u4e2d\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3059\u308b\u3002\u77e5\u8b58\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u7cbe\u795e\u7570\u5e38\u3010\u81ea\u5206\u306e\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u56de\u907f\u5224\u5b9a\u306a\u3069\uff09\u3067\u5076\u5947\u5224\u5b9a\u3002\u5947\u6570\u306e\u5834\u5408\u306f\u884c\u52d5\u81ea\u52d5\u5931\u6557\u3002\u96a0\u5bc6\u3001\u8aad\u5fc3\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u5fd8\u6211\u3010\u81ea\u30d7\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u6642\u306b\u5076\u5947\u5224\u5b9a\u3002\u5947\u6570\u306e\u5834\u5408\u306f\u5ba3\u8a00\u305b\u305a\u306b\u30bf\u30fc\u30f3\u7d42\u4e86\u3002\u3042\u3089\u3086\u308b\u6280\u80fd\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u81ea\u5236\u3010\u66b4\u8d70\u7121\u3057\u3011"],["\u5236\u5fa1\u7570\u5e38\u3010\u81ea\u30d7\u30ea\u30a2\u30af\u30b7\u30e7\u30f3\u6bce\uff08\u884c\u52d5\u6c7a\u5b9a\u524d\uff09\u306b\u5076\u5947\u5224\u5b9a\u3002\u5947\u6570\u306e\u5834\u5408\u306f\u66b4\u767a\u306b\u3088\u308b\u30e9\u30f3\u30c0\u30e0\u653b\u6483\u3002\uff08\u767a\u75c7\u6642\u3082\u767a\u751f\uff09\u3002\u6280\u8853\u3001\u5e78\u904b\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u904e\u8ca0\u8377\u3010\u30ef\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6bce\u306b\u80fd\u529b\u7cbe\u5ea6\xf73\u306e\u9632\u5fa1\u7121\u8996\u30c0\u30e1\u30fc\u30b8\uff08\u767a\u75c7\u6642\u3082\u767a\u751f\uff09\u3002\u9583\u304d\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u8074\u899a\u7570\u5e38\u3010\u56de\u907f\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3059\u308b\u3002\u5bdf\u77e5\u306e\u534a\u6e1b\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u8996\u899a\u7570\u5e38\u3010SS\uff06\u547d\u4e2d\u529b\uff06\u56de\u907f\u529b\u304c\u534a\u6e1b\u3059\u308b\u203b\u5224\u5b9a\u7d50\u679c\u306f\u534a\u6e1b\u3057\u306a\u3044\u3002\u89b3\u5bdf\u773c\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u8eab\u4f53\u7570\u5e38\u3010\u9632\u5fa1\u3092\u5dee\u3057\u5f15\u304f\u524d\u306e\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u304c\u534a\u6e1b\u3059\u308b\u3002\u529b\u6280\u3001\u4fca\u654f\u306e\u5224\u5b9a\u7d50\u679c\u304c\u534a\u6e1b\u3011","\u81ea\u5236\u3010\u66b4\u8d70\u306a\u3057\u3011"])),t.const_set(O[0],"RA110",s(O,"YggTable").$new("\u81e8\u754c\u30ed\u30fc\u30eb","1D6",["\u81ea\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\u3002\u81ea\u8eab\u306e\u6700\u3082\u9ad8\u3044\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\u3002\u9632\u5fa1\u7121\u8996\u3011","\u8d85\u6d3b\u6027\u3010HP\u30fbPP\u30922D6\u56de\u5fa9\u3011","\u81ea\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\u3002\u81ea\u8eab\u306e\u6700\u3082\u9ad8\u3044\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\u3002\u9632\u5fa1\u7121\u8996\u3011","\u8d85\u6d3b\u6027\u3010HP\u30fbPP\u30922D6\u56de\u5fa9\u3011","\u81ea\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\u3002\u81ea\u8eab\u306e\u6700\u3082\u9ad8\u3044\u653b\u6483\u30ed\u30fc\u30eb\u30c0\u30e1\u30fc\u30b8\u3002\u9632\u5fa1\u7121\u8996\u3011","\u8d85\u6d3b\u6027\u3010HP\u30fbPP\u30922D6\u56de\u5fa9\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"2D6",additonal_format:" \uff1a %{total}[%{list}] \u56de\u5fa9",additonal_index:[2,4,6]}))),t.const_set(O[0],"TABLES",d(["MIKUZI","SO1","SO2","SO3","SO4","SO5","RISK","FATAL1","FATAL2","STAG"],{MIKUZI:o(s(O,"DiceTable"),"RangeTable").$new("\u304a\u307f\u304f\u3058","1D100",[[h(1,17,!1),"\u5927\u5409"],[h(18,52,!1),"\u5409"],[h(53,57,!1),"\u534a\u5409"],[h(58,61,!1),"\u5c0f\u5409"],[h(62,64,!1),"\u672b\u5c0f\u5409"],[h(65,70,!1),"\u672b\u5409"],[h(71,100,!1),"\u51f6"]]),SO1:s(O,"YggTable").$new("SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 1\u30aa\u30fc\u30d0\u30fc","1D6",["\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u53cd\u52d5","\u53cd\u52d5","\u5236\u5fa1\u6210\u529f\u3010\u767a\u52d5\u6210\u529f\u3000\u30da\u30ca\u30eb\u30c6\u30a3\u7121\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"1D6",additonal_format:"\u3010\u547d\u4e2d\uff06\u56de\u907f\uff0d\uff11\uff24\uff16\uff08%{total}[%{list}]\uff09\u3000\uff11\u30e9\u30a6\u30f3\u30c9\u7d99\u7d9a\u3011",additonal_index:[4,5]})),SO2:s(O,"YggTable").$new("SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 2\u30aa\u30fc\u30d0\u30fc","1D6",["\u81ea\u7206\u3010\u81ea\u5206\u3078\u80fd\u529b\u653b\u6483\u30c0\u30e1\u30fc\u30b8\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u53cd\u52d5","\u53cd\u52d5","\u5236\u5fa1\u6210\u529f\u3010\u767a\u52d5\u6210\u529f\u3000\u30da\u30ca\u30eb\u30c6\u30a3\u7121\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"1D6",additonal_format:"\u3010\u547d\u4e2d\uff06\u56de\u907f\uff0d\uff11\uff24\uff16\uff08%{total}[%{list}]\uff09\u3000\uff11\u30e9\u30a6\u30f3\u30c9\u7d99\u7d9a\u3011",additonal_index:[4,5]})),SO3:s(O,"YggTable").$new("SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 3\u30aa\u30fc\u30d0\u30fc","1D6",["\u81ea\u7206\u3010\u81ea\u5206\u3078\u80fd\u529b\u653b\u6483\u30c0\u30e1\u30fc\u30b8\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u81ea\u7206\u3010\u81ea\u5206\u3078\u80fd\u529b\u653b\u6483\u30c0\u30e1\u30fc\u30b8\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u6d88\u8cbb\u8ca0\u8377\u3010\uff30\uff30\uff12\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u904e\u53cd\u52d5","\u904e\u53cd\u52d5","\u5236\u5fa1\u6210\u529f\u3010\u767a\u52d5\u6210\u529f\u3000\u30da\u30ca\u30eb\u30c6\u30a3\u7121\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"2D6",additonal_format:"\u3010\u547d\u4e2d\uff06\u56de\u907f\uff0d\uff12\uff24\uff16\uff08%{total}[%{list}]\uff09\u3000\uff11\u30e9\u30a6\u30f3\u30c9\u7d99\u7d9a\u3011",additonal_index:[4,5]})),SO4:s(O,"YggTable").$new("SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 4\u30aa\u30fc\u30d0\u30fc","1D6",["\u5d29\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\xd7\uff12\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u5d29\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\xd7\uff12\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u8d85\u8ca0\u8377\u3010\uff30\uff30\uff13\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u904e\u53cd\u52d5","\u904e\u53cd\u52d5","\u5236\u5fa1\u6210\u529f\u3010\u767a\u52d5\u6210\u529f\u3000\u30da\u30ca\u30eb\u30c6\u30a3\u7121\u3057\u3011"],d(["additonal_type","additonal_format","additonal_index"],{additonal_type:"2D6",additonal_format:"\u3010\u547d\u4e2d\uff06\u56de\u907f\uff0d\uff12\uff24\uff16\uff08%{total}[%{list}]\uff09\u3000\uff11\u30e9\u30a6\u30f3\u30c9\u7d99\u7d9a\u3011",additonal_index:[4,5]})),SO5:o(s(O,"DiceTable"),"Table").$new("SO\u30da\u30ca\u30eb\u30c6\u30a3\u8868 5\u30aa\u30fc\u30d0\u30fc","1D6",["\u5d29\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\xd7\uff12\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u5d29\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\xd7\uff12\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u5d29\u58ca\u3010\u81ea\u7206\u30c0\u30e1\u30fc\u30b8\xd7\uff12\u3000\u203b\u9632\u5fa1\u7121\u8996\u3011","\u8d85\u8ca0\u8377\u3010\uff30\uff30\uff13\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u8d85\u8ca0\u8377\u3010\uff30\uff30\uff13\u500d\u6d88\u8cbb\u3000\u203b\uff21\uff25\u6d88\u8cbb\u306f\u542b\u307e\u306a\u3044\u3011","\u5236\u5fa1\u6210\u529f\u3010\u767a\u52d5\u6210\u529f\u3000\u30da\u30ca\u30eb\u30c6\u30a3\u7121\u3057\u3011"]),RISK:o(s(O,"DiceTable"),"Table").$new("\u30ea\u30b9\u30af\u5224\u5b9a","1D6",["\u80fd\u529b\u81ea\u7206\u3010\u80fd\u529b\u306f\u767a\u52d5\u305b\u305a\u3001\uff30\uff30\u3092\uff12\u500d\u6d88\u8cbb\u3059\u308b\u3002\u4f75\u7528\uff21\uff25\u306e\uff30\uff30\u306f\u542b\u307e\u306a\u3044\u3002\u305d\u308c\u306b\u52a0\u3048\u3010\u81ea\u7206\u3011\u3059\u308b\u3002\u80fd\u529b\u653b\u6483\u529b\u5206\u3092\u81ea\u8eab\u3078\u9632\u5fa1\u7121\u8996\u30c0\u30e1\u30fc\u30b8\u3011","\u80fd\u529b\u4e0d\u767a\u3010\u80fd\u529b\u306f\u767a\u52d5\u305b\u305a\u3001\uff30\uff30\u3092\uff12\u500d\u6d88\u8cbb\u3059\u308b\u3002\u4f75\u7528\uff21\uff25\u306e\uff30\uff30\u306f\u542b\u307e\u306a\u3044\u3011","\u52b9\u679c\u4e0d\u767a\u3010\u30ea\u30b9\u30af\u306e\u52b9\u679c\u306f\u30bc\u30ed\u3067\u80fd\u529b\u767a\u52d5\u3011","\u901a\u5e38\u767a\u52d5\u3010\uff08\u80fd\u529b\u7cbe\u5ea6\xf7\uff13\uff09\uff0b\uff11\uff24\uff16\u3092\u52a0\u3048\u308b\u3011","\u6d3b\u6027\u767a\u52d5\u3010\uff08\u80fd\u529b\u7cbe\u5ea6\xf7\uff13\uff09\uff0b\uff12\uff24\uff16\u3092\u52a0\u3048\u308b\u3011","\u899a\u9192\u767a\u52d5\u3010\uff08\u80fd\u529b\u7cbe\u5ea6\xf7\uff13\uff09\uff0b\uff13\uff24\uff16\u3092\u52a0\u3048\u308b\u3011"]),FATAL1:o(s(O,"DiceTable"),"Table").$new("\u5f8c\u907a\u75c7\u5224\u5b9a","1D6",["\u8074\u899a\u5d29\u58ca\u3010\u8074\u899a\u306b\u7570\u5e38\u304c\u8d77\u304d\u308b\u3002\u5e7b\u8074\u3001\u96e3\u8074\u3001\u5931\u8074\u3001\u306a\u3069\u3011","\u8996\u899a\u5d29\u58ca\u3010\u8996\u899a\u306b\u7570\u5e38\u304c\u8d77\u3053\u308b\u3002\u5e7b\u899a\u3001\u8272\u76f2\u3001\u5931\u660e\u3001\u306a\u3069\u3011","\u8a00\u8a9e\u5d29\u58ca\u3010\u8a00\u8a9e\u306e\u8a8d\u8b58\u306b\u7570\u5e38\u304c\u8d77\u304d\u308b\u3002\u3057\u3083\u3079\u308b\u4e8b\u306b\u652f\u969c\u3092\u304d\u305f\u3059\u3002\u5403\u97f3\u3001\u5931\u8a9e\u75c7\u3001\u5931\u8aad\u75c7\u3001\u306a\u3069\u3011","\u8eab\u4f53\u5d29\u58ca\u3010\u8eab\u4f53\u306b\u7570\u5e38\u304c\u8d77\u3053\u308b\u3002\u6b20\u640d\u3001\u7570\u5f62\u5316\u3001\u9ebb\u75fa\u3001\u306a\u3069\u3011","\u7cbe\u795e\u5d29\u58ca\u3010\u7cbe\u795e\u306b\u7570\u5e38\u304c\u8d77\u3053\u308b\u3002\u4eba\u683c\u7834\u7dbb\u3001\u6027\u683c\u5909\u5316\u3001\u5984\u60f3\u30fb\u5e7b\u899a\u306b\u3088\u308b\u7570\u5e38\u884c\u52d5\u3001\u306a\u3069\u3011","\u8a18\u61b6\u5d29\u58ca\u3010\u8a18\u61b6\u306b\u7570\u5e38\u304c\u8d77\u3053\u308b\u3002\u8a18\u61b6\u969c\u5bb3\u3001\u8a18\u61b6\u55aa\u5931\u3001\u306a\u3069\u3011"]),FATAL2:s(O,"ChainTable").$new("\u56e0\u5b50\u5909\u5316\u5224\u5b9a","1D6",["\u80fd\u529b\u5909\u5316\u3010\u80fd\u529b\u304c\u307e\u3063\u305f\u304f\u5225\u3082\u306e\u306b\u5909\u5316\u3059\u308b\u3011","\u80fd\u529b\u5909\u5316\u3010\u80fd\u529b\u304c\u307e\u3063\u305f\u304f\u5225\u3082\u306e\u306b\u5909\u5316\u3059\u308b\u3011","\u56e0\u5b50\u6291\u5236\u3010\u80fd\u529b\u5909\u5316\u306f\u8d77\u3053\u3089\u306a\u3044\u3011","\u56e0\u5b50\u6291\u5236\u3010\u80fd\u529b\u5909\u5316\u306f\u8d77\u3053\u3089\u306a\u3044\u3011","\u80fd\u529b\u55aa\u5931\u30fb\u80fd\u529b\u899a\u9192\u3010\u80fd\u529b\u3092\u6301\u3064\u3082\u306e\u306f\u5931\u3044\u3001\u30ce\u30fc\u30de\u30eb\u306f\u80fd\u529b\u306b\u899a\u9192\u3059\u308b\u3002\u55aa\u5931\u8005\u306f\u30ce\u30fc\u30de\u30eb\u306e\u30ad\u30e3\u30e9\u7279\u6027\u30dd\u30a4\u30f3\u30c8\u30921p\u7372\u5f97\u3059\u308b\u3002\u899a\u9192\u8005\u306f\u30ce\u30fc\u30de\u30eb\u306e\u30ad\u30e3\u30e9\u7279\u6027\u30dd\u30a4\u30f3\u30c8\u30921p\u5931\u3044\u3001\u30ad\u30e3\u30e9\u7279\u6027\u30926\u3064\u53d6\u5f97\u3057\u3066\u3044\u305f\u5834\u5408\u306f1\u3064\u55aa\u5931\u3059\u308b\u3011","\u80fd\u529b\u55aa\u5931\u30fb\u80fd\u529b\u899a\u9192\u3010\u80fd\u529b\u3092\u6301\u3064\u3082\u306e\u306f\u5931\u3044\u3001\u30ce\u30fc\u30de\u30eb\u306f\u80fd\u529b\u306b\u899a\u9192\u3059\u308b\u3002\u55aa\u5931\u8005\u306f\u30ce\u30fc\u30de\u30eb\u306e\u30ad\u30e3\u30e9\u7279\u6027\u30dd\u30a4\u30f3\u30c8\u30921p\u7372\u5f97\u3059\u308b\u3002\u899a\u9192\u8005\u306f\u30ce\u30fc\u30de\u30eb\u306e\u30ad\u30e3\u30e9\u7279\u6027\u30dd\u30a4\u30f3\u30c8\u30921p\u5931\u3044\u3001\u30ad\u30e3\u30e9\u7279\u6027\u30926\u3064\u53d6\u5f97\u3057\u3066\u3044\u305f\u5834\u5408\u306f1\u3064\u55aa\u5931\u3059\u308b\u3011"],d(["additonal_table","additonal_index"],{additonal_table:s(O,"PSY_TABLE"),additonal_index:[1,2,5,6]})),STAG:o(s(O,"DiceTable"),"D66Table").$new("\u30b9\u30c6\u30fc\u30b8\u6c7a\u5b9a",o(s(O,"D66SortType"),"NO_SORT"),p(11,"\u30ed\u30b7\u30a2\u30f3\u30eb\u30fc\u30ec\u30c3\u30c8\u3010\u5e78\u904b\u306b\u3066\u5224\u5b9a\u3002\u53c2\u52a0\u8005\u306f\u9283\u3092\u3053\u3081\u304b\u307f\u306b\u3042\u3066\u3001\uff11\u767a\u306e\u9283\u5f3e\u3092\u3072\u304b\u306a\u3044\u3088\u3046\u306b\u7948\u308b\u3002 \u6557\u8005\u306f\uff13\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",12,"\u30c1\u30ad\u30f3\u30ec\u30fc\u30b9\u3010\u5bdf\u77e5\u306b\u3066\u5224\u5b9a\u3002\u306b\u5411\u3063\u3066\u30d0\u30a4\u30af\u3067\u30c0\u30c3\u30b7\u30e5\u3060\u3002\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3002\u843d\u3061\u3066\u3082\u5927\u4e08\u592b\u3067\u3059\u3001\u96fb\u8133\u3060\u304b\u3089\u3011",13,"\u53d6\u308a\u7acb\u3066\u3010\u529b\u6280or\u5a01\u5727\u306b\u3066\u5224\u5b9a\u3002\u3042\u306e\u30e2\u30d2\u30ab\u30f3\u501f\u91d1\u6255\u308f\u306a\u3044\u3093\u3067\u3059\u3088\u3002\u3088\u308d\u3057\u304f\u304a\u9858\u3044\u3057\u307e\u3059\u306d\u3002\u96fb\u8133\u3092\u901a\u3057\u3066\u306e\u5b9f\u969b\u306e\u53d6\u308a\u7acb\u3066\u3089\u3057\u3044\u3011",14,"\u820c\u6226\u3010\u5a01\u5727or\u8a71\u8853\u306b\u3066\u5224\u5b9a\u3002\u53c2\u52a0\u8005\u540c\u58eb\u3067\u820c\u6226\u3067\u52dd\u8005\u3092\u6c7a\u3081\u308d\uff01\u6557\u8005\u306f\u5fc3\u306b\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",15,"\u30ae\u30e3\u30f3\u30d6\u30eb\u3010\u8aad\u5fc3or\u5e78\u904b\u306b\u3066\u5224\u5b9a\u3002\u30dd\u30fc\u30ab\u30fc\u3001\u30eb\u30fc\u30ec\u30c3\u30c8\u3001\u9ebb\u96c0\u3001\u597d\u304d\u306a\u3082\u306e\u3092\u9078\u3079\u3002\u52dd\u5229\u306e\u9375\u306f\u904b\u304b\u3001\u305d\u308c\u3068\u3082\u4eba\u306e\u5fc3\u304b\u3011",16,"\u30c8\u30e9\u30c3\u30d7\u3010\uff33\uff33\u306b\u3066\u5224\u5b9a\u3002\u541b\u9054\u306e\u76ee\u306e\u524d\u306b\u5e83\u304c\u308b\u306e\u306f\u305d\u3046\u3001\u5730\u96f7\u539f\u3060\u3002\u6557\u8005\u306f\uff13\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",21,"\u30b5\u30d0\u30b2\u30fc\u3010\u96a0\u5bc6or\u4fca\u654f\u306b\u3066\u5224\u5b9a\u3002\u8ecd\u4eba\u3068\u306a\u3063\u3066\u3001\u76f8\u624b\u3092\u5c60\u308c\uff01\u6557\u8005\u306f\u6b7b\u306c\u3002\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",22,"\u8ffd\u8de1\u3010\u5bdf\u77e5or\u96a0\u5bc6\u306b\u3066\u5224\u5b9a\u3002\u30cb\u30f3\u30b8\u30e3\u306e\u59ff\u3068\u306a\u3063\u3066\u4e0b\u624b\u4eba\u3092\u8ffd\u3048\uff01\u30b3\u30a2\u306a\u4eba\u6c17\u3092\u8a87\u308b\u30b9\u30c6\u30fc\u30b8\u3002\u30cb\u30f3\u30b8\u30e3\u4eba\u6c17\u3059\u3054\u3044\u3011",23,"\u63a8\u7406\u3010\u9583\u304d\u306b\u3066\u5224\u5b9a\u3002\u3042\u306a\u305f\u305f\u3061\u306f\u63a2\u5075\u3068\u306a\u308a\u3001\u4e8b\u4ef6\u3092\u89e3\u6c7a\u306b\u5c0e\u304f\u3002\u72af\u4eba\u306f\u3001\u304a\u524d\u3060\uff01\uff12\u6642\u9593\u653e\u9001\u306b\u306a\u308b\u306e\u304c\u7389\u306b\u7455\u3011",24,"\u6f5c\u5165\u3010\u96a0\u5bc6\u306b\u3066\u5224\u5b9a\u3002\u30b9\u30d1\u30a4\u3068\u306a\u308a\u3001\u6a5f\u5bc6\u60c5\u5831\u3092\u76d7\u3081\uff01\u3042\u308c\u3001\u3053\u308c\u5b9f\u969b\u306e\u4f01\u696d\u306e\u6a5f\u5bc6\u60c5\u5831\u3058\u3083\u30fb\u30fb\u30fb\uff1f\u3011",25,"\u304b\u304f\u308c\u3093\u307c\u3010\u96a0\u5bc6or\u8aad\u5fc3\u306b\u3066\u5224\u5b9a\u3002\u3042\u306a\u305f\u3092\u8ffd\u3046\u306e\u306f\u30db\u30e9\u30fc\u306a\u5316\u3051\u7269\u30fb\u30fb\u30fb\u3002\u30b9\u30ea\u30ea\u30f3\u30b0\u306a\u304b\u304f\u308c\u3093\u307c\u3092\u3069\u3046\u305e\u582a\u80fd\u4e0b\u3055\u3044\u3011",26,"\u7d76\u5bfe\u7d76\u547d\uff01\u3010\u56de\u907f\u529b\u306b\u3066\u5224\u5b9a\u3002\u541b\u9054\u306f\u30de\u30d5\u30a3\u30a2\u306b\u304a\u3073\u304d\u51fa\u3055\u308c\u305f\u306e\u3060\u3002\u5927\u52e2\u306e\u9283\u304c\u541b\u3092\u72d9\u3046\u3002\u6557\u8005\u306f\uff13\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",31,"\u30af\u30a4\u30ba\u3010\u77e5\u8b58\u306b\u3066\u5224\u5b9a\u3002\u5df1\u306e\u77e5\u8b58\u3092\u5b58\u5206\u306b\u62ab\u9732\u3057\u308d\uff01\u8ca0\u3051\u305f\u3089\u5948\u843d\u306b\u843d\u3055\u308c\u307e\u3059\u3002\u6557\u8005\u306f\uff11\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",32,"\u8ff7\u8def\u3010\u5bdf\u77e5or\u5e78\u904b\u306b\u3066\u5224\u5b9a\u3002\u5de8\u5927\u8ff7\u8def\u3092\u30af\u30ea\u30a2\u3057\u308d\uff01\u3042\u308c\u3001\u306a\u3093\u3067\u3053\u3093\u306a\u3068\u3053\u308d\u306b\u9ab8\u9aa8\u304c\u30fb\u30fb\u30fb\u3011",33,"\u30d1\u30ba\u30eb\u3010\u77e5\u8b58or\u9583\u304d\u306b\u3066\u5224\u5b9a\u3002\uff13\uff24\u306e\u96e3\u89e3\u30d1\u30ba\u30eb\u3092\u89e3\u304d\u660e\u304b\u305b\uff01\uff01\u6642\u6298\u91d1\u5eab\u7834\u308a\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u306a\u3063\u3066\u305f\u308a\u3011",34,"\u9593\u9055\u3044\u63a2\u3057\u3010\u89b3\u5bdf\u773cor\u9583\u304d\u306b\u3066\u5224\u5b9a\u3002\u5927\u91cf\u306e\u9375\u304b\u3089\u6b63\u3057\u3044\u9375\u3092\u3002\u7f8e\u5973\u306e\u4e2d\u304b\u3089\u30aa\u30ab\u30de\u3092\u3002\u305d\u3093\u306a\u9593\u9055\u3044\u3092\u898b\u3064\u3051\u308b\u306e\u3060\uff01\u3011",35,"\u76ee\u5229\u304d\u3010\u89b3\u5bdf\u773cor\u77e5\u8b58\u306b\u3066\u5224\u5b9a\u3002\u3042\u306a\u305f\u306e\u9451\u5b9a\u3067\u5024\u6bb5\u3092\u5f53\u3066\u308d\uff01\u306f\u305a\u308c\u305f\u3089\u304b\u3063\u3053\u60aa\u3044\u3067\u3059\u3011",36,"\u30b9\u30ca\u30a4\u30d1\u30fc\u3010\u547d\u4e2d\u529b\u306b\u3066\u5224\u5b9a\u3002\u4e00\u6483\u5fc5\u6bba\u3067\u30bf\u30fc\u30b2\u30c3\u30c8\u3092\u4ed5\u7559\u3081\u308d\uff01\u306a\u304a\u3001\u30bf\u30fc\u30b2\u30c3\u30c8\u306f\u304a\u4e92\u3044\u3060\u3002\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",41,"\u8155\u76f8\u64b2\u3010\u529b\u6280\u306b\u3066\u5224\u5b9a\u3002\u5fc5\u8981\u306a\u306e\u306f\u3001\u529b\u306e\u307f\uff01\uff01\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",42,"\u30a4\u30f3\u30c7\u30a3\u30b8\u30e7\u30fc\u30f3\u30ba\u3010\u4fca\u654f\u306b\u3066\u5224\u5b9a\u3002\u306a\u305c\u304b\u5927\u5ca9\u304c\u5f8c\u308d\u304b\u3089\uff01\u9003\u3052\u308d\u30fc\uff01\u6557\u8005\u306f\uff13\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",43,"\uff30\uff2b\u3010\u529b\u6280or\u5bdf\u77e5\u306b\u3066\u5224\u5b9a\u3002\u898b\u6975\u3081\u3001\u30b4\u30fc\u30eb\u3057\u308d\uff01\u30d1\u30ef\u30fc\u3067\u7834\u3063\u3066\u3082\u3044\u3044\u3011",44,"\u30c0\u30f3\u30b9\u3010\u6280\u8853or\u4fca\u654f\u306b\u3066\u5224\u5b9a\u3002\u5df1\u306e\u821e\u3092\u9b45\u305b\u308d\uff01\u30b8\u30e3\u30f3\u30eb\u554f\u308f\u305a\u3011",45,"\u30dc\u30c7\u30a3\u30b3\u30f3\u30c6\u30b9\u30c8\u3010\u5a01\u5727\u306b\u3066\u5224\u5b9a\u3002\u9b45\u305b\u308b\u306e\u306f\u30de\u30c3\u30b9\u30eb\u304b\u3001\u305d\u308c\u3068\u3082\u7f8e\u3057\u3044\u80a2\u4f53\u304b\uff01\u5bb9\u59ff\u30dc\u30fc\u30ca\u30b9\u306f\u3064\u304d\u307e\u305b\u3093\u3011",46,"\u7a81\u7834\u3057\u308d\uff01\u3010\u30c0\u30e1\u30fc\u30b8\u91cf\u306b\u3066\u5224\u5b9a\u3002\u7acb\u3061\u306f\u3060\u304b\u308b\u6249\u3092\u3076\u3061\u7834\u308c\uff01\u6249\u306f\u9632\u5fa1\uff11\uff10\u3011",51,"\u65e9\u98df\u3044\u3010\u529b\u6280or\u4fca\u654f\u306b\u3066\u5224\u5b9a\u3002\u304f\u3063\u3066\uff01\u304f\u3063\u3066\uff01\uff01\u304f\u3044\u307e\u304f\u308c\uff01\uff01\u6557\u8005\u306f\u80c3\u306b\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",52,"\u30ca\u30f3\u30d1\u5929\u56fd\u3010\u8a71\u8853or\u8aad\u5fc3\u306b\u3066\u5224\u5b9a\u3002\u96fb\u8133\u4e16\u754c\u3067\u8001\u82e5\u7537\u5973\u3092\u53e3\u8aac\u304d\u843d\u305b\uff01\u76f8\u624b\u306f\u30d7\u30ed\u30b0\u30e9\u30e0\u3060\u3063\u305f\u308a\u96fb\u8133\u306b\u5165\u3063\u3066\u3044\u308b\u30a2\u30d0\u30bf\u30fc\u3060\u3063\u305f\u308a\u3011",53,"\u30b9\u30ea\u30fc\u30b5\u30a4\u30ba\u3010\u89b3\u5bdf\u773c\u306b\u3066\u5224\u5b9a\u3002\u9b45\u60d1\u306e\u30dc\u30c7\u30a3\u3092\u306a\u3081\u307e\u308f\u305b\uff01\u52dd\u5229\u8005\u306f\u3042\u308b\u610f\u5473\u3067\u5c0a\u656c\u3055\u308c\u3001\u3042\u308b\u610f\u5473\u3067\u5acc\u308f\u308c\u308b\u3011",54,"\u30ef\u30b5\u30d3\u5bff\u53f8\u3010\u89b3\u5bdf\u773cor\u5e78\u904b\u306b\u3066\u5224\u5b9a\u3002\u9ad8\u7d1a\u5bff\u53f8\u306e\u4e2d\u306b\u3001\u6b7b\u306c\u307b\u3069\u306e\u523a\u6fc0\u304c\u30fb\u30fb\u30fb\uff01\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3011",55,"\u3058\u3083\u3093\u3051\u3093\u3010\u8aad\u5fc3\u306b\u3066\u5224\u5b9a\u3002\u3058\u3083\u3093\u3051\u3093\u3068\u306f\u904b\u3067\u306f\u306a\u3044\u3001\u8aad\u307f\u5408\u3044\u306a\u306e\u3060\uff01\u3011",56,"\u74e6\u5272\u308a\u3010\u30c0\u30e1\u30fc\u30b8\u91cf\u306b\u3066\u5224\u5b9a\u3002\u3069\u3093\u306a\u65b9\u6cd5\u3067\u3082\u3044\u3044\u3002\u3068\u306b\u304b\u304f\u679a\u6570\u3092\u5272\u308c\uff01\uff01\uff01\u30c0\u30e1\u30fc\u30b8\u91cf\u306e\uff12\u500d\u304f\u3089\u3044\u304c\u5272\u3063\u305f\u679a\u6570\u3011",61,"\u6599\u7406\u5bfe\u6c7a\u3010\u77e5\u8b58or\u6280\u8853\u306b\u3066\u5224\u5b9a\u3002\u80c3\u888b\u3092\u3064\u304b\u3081\uff01\u7d76\u54c1\u6599\u7406\u5bfe\u6c7a\uff01\u6599\u7406\u306b\u3088\u3063\u3066\u306f\uff32\uff11\uff18\uff27\u6307\u5b9a\u306b\u306a\u308b\u5834\u5408\u304c\u3042\u308b\u3011",62,"\u6b4c\u5408\u6226\u3010\u5a01\u5727or\u6280\u8853\u306b\u3066\u5224\u5b9a\u3002\u305d\u306e\u6b4c\u5531\u529b\u3067\u5fc3\u3092\u3064\u304b\u3081\uff01\u30a2\u30a4\u30c9\u30eb\u30c7\u30d3\u30e5\u30fc\u3082\u5922\u3058\u3083\u306a\u3044\uff01\u96fb\u8133\u306a\u306e\u3067\u304a\u597d\u304d\u306a\u8863\u88c5\u3067\u3069\u3046\u305e\u3011",63,"\u6f2b\u624d\u3010\u8a71\u8853or\u9583\u304d\u306b\u3066\u5224\u5b9a\u3002\u5373\u8208\u6f2b\u624d\u3067\u753b\u9762\u306e\u5411\u3053\u3046\u3092\u7206\u7b11\u306e\u6e26\u3078\uff01\u76f8\u65b9\u304c\u5fc5\u8981\u306a\u65b9\u306f\u6f2b\u624d\u30d7\u30ed\u30b0\u30e9\u30e0\u30a2\u30d0\u30bf\u30fc\u3092\u30ec\u30f3\u30bf\u30eb\u3002\u6709\u6599\u3011",64,"\u753b\u4f2f\u3010\u6280\u8853\u306b\u3066\u5224\u5b9a\u3002\u30c6\u30fc\u30de\u3092\u3082\u3068\u306b\u3001\u3042\u306a\u305f\u306e\u753b\u529b\u3092\u898b\u305b\u3064\u3051\u308d\uff01\u6642\u3005\u4e0b\u624b\u3046\u307e\u306a\u4eba\u304c\u52dd\u3064\u3053\u3068\u3082\u3011",65,"\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u3010\u8a71\u8853\u306b\u3066\u5224\u5b9a\u3002\u672c\u65e5\u306e\u5546\u54c1\u306f\u3001\u3053\u3061\u3089\uff01\uff01\u5b9f\u969b\u306b\u8ca9\u58f2\u3057\u307e\u3059\u3002\u3057\u3066\u3082\u3089\u3044\u307e\u3059\u3011",66,"\u7121\u53cc\u6483\u7834\uff01\u3010\u30c0\u30e1\u30fc\u30b8\u91cf\u306b\u3066\u5224\u5b9a\u3002\u305f\u3001\u5927\u91cf\u306e\u30e2\u30d2\u30ab\u30f3\u3060\u3041\uff5e\uff01\u30c0\u30e1\u30fc\u30b8\u91cf\u306e\uff12\u500d\u304f\u3089\u3044\u304c\u5012\u3057\u305f\u6570\u3002\u6557\u8005\u306f\uff12\uff24\uff16\u30c0\u30e1\u30fc\u30b8\u3002\uff33\uff25\u3010\u30aa\u30fc\u30eb\u30ec\u30f3\u30b8\u3011\u6280\u306f\u6210\u529f\u3067\u5224\u5b9a\uff0b\uff11\uff10\u3011"))}).$freeze())}(y[0],s(y,"Base"),y)}(y[0],y)}(a[0],a)}(Opal)}}]);