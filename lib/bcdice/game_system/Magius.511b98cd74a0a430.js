(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7181],{3360:(F,J,R)=>{R(5151),Opal.queue(function($){var I,L,Y,n,y,h,E,A,P,z,S=$.module,j=$.klass,M=$.const_set,q=$.send2,C=$.find_super,a=$.def,o=$.truthy,G=$.eqeq,B=$.rb_gt,m=$.rb_ge,p=$.rb_plus,x=$.thrower,d=[],t=$.nil;return I=d,L=z=[S(d[0],"BCDice")].concat(I),A=[S(z[0],"GameSystem")].concat(L),P=$.$r(A),Y=A,y=[n=j(A[0],P("Base"),"Magius")].concat(Y),h=$.$r(y),(E=n.$$prototype).round_type=E.randomizer=t,M(y[0],"ID","Magius"),M(y[0],"NAME","MAGIUS"),M(y[0],"SORT_KEY","\u307e\u304d\u3046\u3059"),M(y[0],"HELP_MESSAGE","\u25a0\u80fd\u529b\u5024\u5224\u5b9a\u3000MA+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MA>=7: \u30c0\u30a4\u30b9\u30922\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u7d50\u679c\u3092\u8868\u793a\n\n\u25a0\u6280\u80fd\u5024\u5224\u5b9a\u3000MS+x>=t        x:\u4fee\u6b63\u5024 t:\u76ee\u6a19\u5024\n\u4f8b)MS>=7: \u30c0\u30a4\u30b9\u30923\u500b\u632f\u3063\u3066\u3001\u305d\u306e\u3046\u3061\u4e0a\u4f4d2\u3064\u3092\u63a1\u7528\u3057\u3001\u7d50\u679c\u3092\u8868\u793a\n\n"),n.$register_prefix("M[AS]"),a(n,"$initialize",function _(e){var r=this;return _.$$p=null,q(r,C(r,"initialize",_,!1,!0),"initialize",[e],null),r.sort_barabara_dice=!0}),a(n,"$eval_game_system_specific_command",function(e){var r;return o(r=this.$resolute_ability_action(e))?r:this.$resolute_skill_action(e)}),n.$private(),a(n,"$with_symbol",function(e){return G(e,0)?"":o(B(e,0))?"+"+e:e.$to_s()}),a(n,"$get_result_of_ability_action",function(e,l,r){return o(m(e,r))?h("Result").$success("\u6210\u529f"):h("Result").$failure("\u5931\u6557")}),a(n,"$resolute_ability_action",function(e){try{x("eval_return");var r=this,i=t,c=t,g=t,s=t,k=t,f=t,v=t,u=t,w=t;return i=/MA([+-]\d+)*>=(\d+)/.$match(e),o(i)?(c=o(i["$[]"](1))?h("Arithmetic").$eval(i["$[]"](1),r.round_type):0,g=i["$[]"](2).$to_i(),k=(s=r.randomizer.$roll_barabara(2,6).$sort()).$join(","),f=s.$sum(),v=p(f,c),u=r.$get_result_of_ability_action(v,f,g),w=["("+e+")","["+k+"]"+r.$with_symbol(c),v,u.$text()].$compact(),u["$text="](w.$join(" \uff1e ")),u):t}catch(b){if(b===$.t_eval_return)return b.$v;throw b}}),a(n,"$get_result_of_skill_action",function(e,l,r){return o(m(e,r))?h("Result").$success("\u6210\u529f"):h("Result").$failure("\u5931\u6557")}),a(n,"$resolute_skill_action",function(e){try{x("eval_return");var r=this,i=t,c=t,g=t,s=t,k=t,f=t,v=t,u=t,w=t;return i=/MS([+-]\d+)*>=(\d+)/.$match(e),o(i)?(c=o(i["$[]"](1))?h("Arithmetic").$eval(i["$[]"](1),r.round_type):0,g=i["$[]"](2).$to_i(),k=(s=r.randomizer.$roll_barabara(3,6).$sort()).$join(","),f=p(s["$[]"](1).$to_i(),s["$[]"](2).$to_i()),v=p(f,c),u=r.$get_result_of_skill_action(v,f,g),w=["("+e+")","["+k+"]"+r.$with_symbol(c),v,u.$text()].$compact(),u["$text="](w.$join(" \uff1e ")),u):t}catch(b){if(b===$.t_eval_return)return b.$v;throw b}})})}}]);