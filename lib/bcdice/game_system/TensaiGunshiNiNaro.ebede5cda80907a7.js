(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[24],{1323:(se,$e,K)=>{K(5151),Opal.queue(function(t){var V,Z,te,l,i,n,u,T,p,z,v,ee,w,k=t.module,q=t.klass,g=t.const_set,J=t.send2,F=t.find_super,A=t.def,s=t.truthy,M=t.rb_plus,D=t.send,G=t.hash2,I=t.rb_divide,Y=t.rb_gt,j=[],e=t.nil,o=t.$$$;return V=j,Z=w=[k(j[0],"BCDice")].concat(V),v=[k(w[0],"GameSystem")].concat(Z),ee=t.$r(v),te=v,T=[u=q(v[0],ee("Base"),"TensaiGunshiNiNaro")].concat(te),p=t.$r(T),(z=u.$$prototype).randomizer=z.round_type=e,g(T[0],"ID","TensaiGunshiNiNaro"),g(T[0],"NAME","\u5929\u624d\u8ecd\u5e2b\u306b\u306a\u308d\u3046"),g(T[0],"SORT_KEY","\u3066\u3093\u3055\u3044\u304f\u3093\u3057\u306b\u306a\u308d\u3046"),g(T[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\nTN6\u2026\u300c\u6709\u5229\u300d\u3092\u5f97\u3066\u3044\u306a\u3044\u5834\u5408\u30016\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\nTN10\u2026\u300c\u6709\u5229\u300d\u3092\u5f97\u3066\u3044\u308b\u5834\u5408\u300110\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u4e0d\u8abf \u6c17\u3065\u304b\u306c\u3046\u3061\u306e\u4e0d\u6e80\u3010C\u3011\u2026\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u9593\u3001\u300c4\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306f\u6210\u529f\u306b\u306a\u308a\u307e\u305b\u3093\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010C\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6C\n\u8ecd\u5e2b\u30b9\u30ad\u30eb \u3007\u3007\u30b5\u30dd\u30fc\u30c8\u3010S\u3011\u2026\u6c7a\u6226\u30d5\u30a7\u30a4\u30ba\u306e\u5224\u5b9a\u4e2d\u300c3\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010S\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6S\n\u82f1\u5091\u30b9\u30ad\u30eb/\u6b66\u4eba \u714c\u3081\u304f\u5203\u3010B\u3011\u2026\u6c7a\u6226\u30d5\u30a7\u30a4\u30ba\u306e\u5224\u5b9a\u4e2d\u300c3\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3068\u306a\u308a\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010B\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6B\n\u82f1\u5091\u30b9\u30ad\u30eb/\u6b66\u4eba \u529b\u305a\u304f\u2026\u305d\u306e\u5224\u5b9a\u306e\u30b5\u30a4\u30b3\u30ed\u3092\u3059\u3079\u3066\u632f\u3063\u305f\u5f8c\u3001[\u4f7f\u7528\u8005\u306e\u3010\u653b\u6483\u529b\u3011]\u500b\u30b5\u30a4\u30b3\u30ed\u3092\u632f\u308b\u3002\u5148\u982d\u306b\u4f7f\u7528\u8005\u306e\u3010\u653b\u6483\u529b\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff094TN6\n\u82f1\u5091\u30b9\u30ad\u30eb/\u6b66\u4eba \u5fc5\u6bba\u306e\u5263\u3010D\u3011\u2026\u300a\u6226\u6280\u300b\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5224\u5b9a\u4e2d\u300c4\u300d\u300c5\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010D\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6K\n\u82f1\u5091\u30b9\u30ad\u30eb/\u6b66\u4eba \u4e8c\u5200\u6d41\u3010T\u3011\u2026\u300c\u653b\u6483\u300d\u306e\u30b9\u30ad\u30eb\u306e\u5224\u5b9a\u4e2d\u300c2\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3068\u306a\u308a\u3001\u540c\u3058\u51fa\u76ee\u306e\u30b5\u30a4\u30b3\u30ed\u304c2\u3064\u4ee5\u4e0a\u51fa\u3066\u3044\u308b\u3068\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010T\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6T\n\u82f1\u5091\u30b9\u30ad\u30eb/\u30ab\u30ea\u30b9\u30de \u5fa1\u8eab\u306e\u305f\u3081\u306a\u3089\u3070\u3010Y\u3011\u2026\u300c\u4ea4\u6d41\u300d\u300c\u30b9\u30ab\u30a6\u30c8\u300d\u306e\u5224\u5b9a\u4e2d\u300c3\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3068\u306a\u308a\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010Y\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6Y\n\u82f1\u5091\u30b9\u30ad\u30eb/\u5f13\u53d6\u308a \u611b\u7528\u306e\u5f13\u3010A\u3011\u2026\u300c\u653b\u6483\u300d\u306e\u30b9\u30ad\u30eb\u306e\u5224\u5b9a\u4e2d\u300c3\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3068\u306a\u308a\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010A\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6A\n\u82f1\u5091\u30b9\u30ad\u30eb/\u30e4\u30f3\u30ad\u30fc&\u30de\u30a4\u30eb\u30c9\u30e4\u30f3\u30ad\u30fc \u305d\u306e\u8fba\u306e\u7269\u3092\u6b66\u5668\u306b\u3010C\u3011\u2026\u300c4\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306f\u6210\u529f\u306b\u306a\u308a\u307e\u305b\u3093\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010C\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6C\n\u82f1\u5091\u30b9\u30ad\u30eb/\u30e4\u30f3\u30ad\u30fc&\u30de\u30a4\u30eb\u30c9\u30e4\u30f3\u30ad\u30fc \u71b1\u8840\u5224\u5b9a\u3010C\u3011\u2026\u300c4\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306f\u6210\u529f\u306b\u306a\u308a\u307e\u305b\u3093\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010C\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6C\n\u82f1\u5091\u30b9\u30ad\u30eb/\u82f1\u5091\u6c4e\u7528 \u51c4\u8155\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u3010A\u3011\u2026\u6d3b\u52d5\u30d5\u30a7\u30a4\u30ba\u306e\u5224\u5b9a\u4e2d\u300c3\u300d\u306e\u51fa\u76ee\u3092\u51fa\u3057\u3066\u3082\u5224\u5b9a\u306b\u6210\u529f\u3068\u306a\u308a\u3001\u30b9\u30da\u30b7\u30e3\u30eb\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u6570\u5b57\u306e\u5f8c\u308d\u306b\u3010A\u3011\u3092\u3064\u3051\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN6A\n\u6570\u5b57\u306e\u5f8c\u308d\u306b\u8907\u6570\u306e\u30b3\u30de\u30f3\u30c9\u3092\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002\n\u3000\u4f8b\uff09TN10CYA\n\u30fb\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97 xDM+y>=t\n\u3000[\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97]\u3092\u884c\u3046\u3002\u6210\u5426\u3068\u3010HP\u3011\u306e\u6e1b\u5c11\u91cf\u3092\u8868\u793a\u3059\u308b\u3002\n\u3000x: 6\u9762\u30c0\u30a4\u30b9\u6570\n\u3000y: \u88dc\u6b63\u5024\uff08\u7701\u7565\u53ef\u80fd\uff09\n\u3000t: \u9632\u5fa1\u529b\n\u30fb\u5404\u7a2e\u8868\n\u95a2\u4fc2\u6c7a\u5b9a\u8868 RELA\n\u5e73\u6642\u5929\u624d\u8ecd\u5e2b\u8868 PTGS\n\u5e73\u6642\u82f1\u5091\u8868 PTHE\n\u30b9\u30ab\u30a6\u30c8\u8868 SCOU\n\u5909\u8abf\u8868 BDST\n"),A(u,"$initialize",function l(a){var n=this;return l.$$p=null,J(n,F(n,"initialize",l,!1,!0),"initialize",[a],null),n.d66_sort_type=o(p("D66SortType"),"ASC"),n.round_type=o(p("RoundType"),"FLOOR")}),u.$register_prefix("\\d*TN(6|10)[ABCKSTY]*","\\d+DM"),A(u,"$eval_game_system_specific_command",function(a){var n,r,i=this;return s(n=s(r=i.$roll_judge(a))?r:i.$roll_damage(a))?n:i.$roll_tables(a,o(i.$class(),"TABLES"))}),u.$private(),A(u,"$roll_judge",function(a){var i=this,n=e,r=e,$=e,m=e,_=e,f=e,E=e,c=e,N=e,B=e,y=e,L=e,U=e,H=e,h=e,d=e,x=e,P=e,R=e,S=e;return n=/^(\d*)TN(6|10)([ABCKSTY]*)$/.$match(a),s(n)?(r=[4,5,6,7,8,9,10],$=[6,10],m=[1],_=n["$[]"](2)["$=="]("10"),f=n["$[]"](3)["$include?"]("C"),E=n["$[]"](3)["$include?"]("S"),c=n["$[]"](3)["$include?"]("B"),N=n["$[]"](3)["$include?"]("K"),B=n["$[]"](3)["$include?"]("T"),y=n["$[]"](3)["$include?"]("Y"),L=n["$[]"](3)["$include?"]("A"),s(B)&&r.$push(2),s(E["$|"](c)["$|"](y)["$|"](L))&&r.$push(3),s(c["$|"](y)["$|"](L))&&$.$push(3),s(N)&&($.$push(4),$.$push(5)),s(f)&&r.$delete(4),U=M(2,n["$[]"](1).$to_i()),H=s(_)?10:6,h=i.randomizer.$roll_barabara(U,H),d=[],x=!1,P=!1,R=!1,s(h.$intersection($)["$empty?"]()["$!"]()["$|"](B["$&"](h.$count()["$!="](h.$uniq().$count()))))&&(x=!0,d.$push(i.$translate("TensaiGunshiNiNaro.JUDGE.critical")),(S=[]).$push(i.$translate("TensaiGunshiNiNaro.NORMAL.critical")),s(c)&&S.$push(i.$translate("TensaiGunshiNiNaro.BLADE.critical")),s(y)&&S.$push(i.$translate("TensaiGunshiNiNaro.YOU.critical")),d.$push("\uff08"+S.$join("")+"\uff09")),s(h.$intersection(m)["$empty?"]())||(P=!0,d.$push(i.$translate("TensaiGunshiNiNaro.JUDGE.fumble")),d.$push("\uff08"+i.$translate("TensaiGunshiNiNaro.NORMAL.fumble")+"\uff09")),s(h.$intersection(r)["$empty?"]())?d.$push(i.$translate("failure")):(R=!0,d.$push(i.$translate("success"))),D(p("Result").$new(),"tap",[],function(b){var C;return null==b&&(b=e),b["$text="](a+" \uff1e ["+h.$join(",")+"] \uff1e "+d.$join("")),b["$condition="](R),b["$critical="](x),D(b,"fumble=",C=[P]),C[C.length-1]})):e}),A(u,"$roll_damage",function(a){var i=this,r=e,$=e,m=e,_=e,f=e;return r=o(p("Command"),"Parser").$new("DM",G(["round_type"],{round_type:i.round_type})).$has_prefix_number().$restrict_cmp_op_to(">=").$parse(a),s(r)?($="",m=!1,_=M(i.randomizer.$roll_sum(r.$prefix_number(),6),r.$modify_number()),f=I(_,r.$target_number()).$floor(),s(Y(f,3))&&(f=3),s(Y(f,0))?(m=!0,$=i.$translate("TensaiGunshiNiNaro.DAMAGE.success",G(["damage","dec"],{damage:_.$to_s(),dec:f.$to_s()}))):$=i.$translate("TensaiGunshiNiNaro.DAMAGE.failure",G(["damage"],{damage:_.$to_s()})),D(p("Result").$new(),"tap",[],function(c){var N;return null==c&&(c=e),c["$text="](a+" \uff1e "+_+" \uff1e "+$),D(c,"condition=",N=[m]),N[N.length-1]})):e}),i=[l=t.get_singleton_class(u)].concat(T),n=t.$r(i),l.$private(),A(l,"$translate_tables",function($){return G(["RELA","PTGS","PTHE","SCOU","BDST"],{RELA:o(n("DiceTable"),"D66Table").$from_i18n("TensaiGunshiNiNaro.table.RELA",$),PTGS:o(n("DiceTable"),"D66Table").$from_i18n("TensaiGunshiNiNaro.table.PTGS",$),PTHE:o(n("DiceTable"),"D66Table").$from_i18n("TensaiGunshiNiNaro.table.PTHE",$),SCOU:o(n("DiceTable"),"D66Table").$from_i18n("TensaiGunshiNiNaro.table.SCOU",$),BDST:o(n("DiceTable"),"Table").$from_i18n("TensaiGunshiNiNaro.table.BDST",$)})}),g(T[0],"TABLES",u.$translate_tables("ja_jp")),u.$register_prefix(p("TABLES").$keys())})}}]);