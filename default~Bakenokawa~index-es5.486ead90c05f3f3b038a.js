(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{MEwn:function(t,e,r){r("pQ1d"),Opal.modules["bcdice/dice_table/table"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,c=t.klass,a=t.hash2,$=t.truthy;return function(e,s){var o=[i(e,"BCDice")].concat(s);!function(e,s){var o=[i(e,"DiceTable")].concat(s);!function(e,i,s){var o,u,_,d,h=c(e,null,"Table"),l=[h].concat(s);h.$$prototype.times=h.$$prototype.sides=h.$$prototype.name=h.$$prototype.items=r,t.defs(h,"$from_i18n",o=function(t,e){var i=r;return i=n(l,"I18n").$t(t,a(["locale"],{locale:e})),this.$new(i["$[]"]("name"),i["$[]"]("type"),i["$[]"]("items"))},o.$$arity=2),t.def(h,"$initialize",u=function(t,e,i){var c=r;return this.name=t,this.items=i.$freeze(),c=/(\d+)D(\d+)/i.$match(e),$(c)||this.$raise(n(l,"ArgumentError"),"Unexpected table type: "+e),this.times=c["$[]"](1).$to_i(),this.sides=c["$[]"](2).$to_i()},u.$$arity=3),t.def(h,"$roll",_=function(t){var e;return e=t.$roll_sum(this.times,this.sides),this.$choice(e)},_.$$arity=1),t.def(h,"$choice",d=function(t){var e,r,i;return r=this.times,i="number"==typeof(e=t)&&"number"==typeof r?e-r:e["$-"](r),n(l,"RollResult").$new(this.name,t,this.items["$[]"](i))},d.$$arity=1)}(o[0],0,o)}(o[0],o)}(e[0],e)},Opal.modules["bcdice/dice_table/d66_table"]=function(t){var e=[],r=t.nil,n=t.$$$,i=t.$$,c=t.module,a=t.klass,$=t.hash2,s=t.truthy;return function(e,o){var u=[c(e,"BCDice")].concat(o);!function(e,o){var u=[c(e,"DiceTable")].concat(o);!function(e,c,o){var u,_,d,h,l=a(e,null,"D66Table"),f=[l].concat(o);l.$$prototype.sort_type=l.$$prototype.items=l.$$prototype.name=r,t.defs(l,"$from_i18n",u=function(t,e){var n,c=r;return c=i(f,"I18n").$t(t,$(["locale"],{locale:e})),n=i(f,"D66SortType").$const_get(c["$[]"]("d66_sort_type")),this.$new(c["$[]"]("name"),n,c["$[]"]("items"))},u.$$arity=2),t.def(l,"$initialize",_=function(t,e,r){return this.name=t,this.sort_type=e,this.items=r.$freeze()},_.$$arity=3),t.def(l,"$roll",d=function(t){var e,c,a,$=r,o=r,u=r;return $=t.$roll_barabara(2,6),e=this.sort_type,n(i(f,"D66SortType"),"ASC")["$==="](e)?$["$sort!"]():n(i(f,"D66SortType"),"DESC")["$==="](e)&&$["$sort!"]()["$reverse!"](),o=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}("number"==typeof(c=$["$[]"](0))?10*c:c["$*"](10),$["$[]"](1)),u=s(a=this.items["$[]"](o))?a:this.items["$[]"](o.$to_s()),s(u["$respond_to?"]("roll"))&&(u=u.$roll(t)),i(f,"RollResult").$new(this.name,o,u)},d.$$arity=1),t.def(l,"$choice",h=function(t){return i(f,"RollResult").$new(this.name,t,this.items["$[]"](t))},h.$$arity=1)}(u[0],0,u)}(u[0],u)}(e[0],e)},Opal.modules["bcdice/arithmetic/node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var r=[],n=t.nil,i=t.$$$,c=t.$$,a=t.module,$=t.klass,s=t.send2;return function(r,o){var u=[a(r,"BCDice")].concat(o);!function(r,o){var u=[a(r,"Arithmetic")].concat(o);!function(r,o){var u=[a(r,"Node")].concat(o);!function(e,r,i){var c,a,s,o,u,_=$(e,null,"BinaryOp");[_].concat(i),_.$$prototype.lhs=_.$$prototype.rhs=_.$$prototype.op=n,t.def(_,"$initialize",c=function(t,e,r){return this.lhs=t,this.op=e,this.rhs=r},c.$$arity=3),t.def(_,"$eval",a=function(t){var e,r=n;return r=this.lhs.$eval(t),e=this.rhs.$eval(t),r.$send(this.op,e)},a.$$arity=1),t.def(_,"$output",s=function(){return""+this.lhs.$output()+this.op+this.rhs.$output()},s.$$arity=0),t.def(_,"$s_exp",o=function(){return"("+this.$op_for_s_exp()+" "+this.lhs.$s_exp()+" "+this.rhs.$s_exp()+")"},o.$$arity=0),t.def(_,"$op_for_s_exp",u=function(){return this.op},u.$$arity=0)}(u[0],0,u),function(e,r,a){var o,u,_,d,h,l,f=$(e,r,"DivideBase"),p=[f].concat(a);f.$$prototype.lhs=f.$$prototype.rhs=f.$$prototype.op=n,t.def(f,"$initialize",o=function(e,r){return o.$$p&&(o.$$p=null),s(this,t.find_super_dispatcher(this,"initialize",o,!1,!0),"initialize",[e,"/",r],null)},o.$$arity=2),t.def(f,"$eval",u=function(t){var e,r=n;return e=this.lhs.$eval(t),(r=this.rhs.$eval(t))["$=="](0)&&this.$raise(c(p,"ZeroDivisionError")),this.$divide_and_round(e,r,t)},u.$$arity=1),t.def(f,"$output",_=function(){var e=_.$$p,r=this,i=n,c=n,a=n;for(e&&(_.$$p=null),c=0,a=arguments.length,i=new Array(a);c<a;c++)i[c]=arguments[c];return""+s(r,t.find_super_dispatcher(r,"output",_,!1,!0),"output",i,e)+r.$rounding_method()},_.$$arity=0),f.$private(),t.def(f,"$rounding_method",d=function(){return i(this.$class(),"ROUNDING_METHOD")},d.$$arity=0),t.def(f,"$op_for_s_exp",h=function(){return""+this.op+this.$rounding_method()},h.$$arity=0),t.def(f,"$divide_and_round",l=function(t,e,r){return this.$raise(c(p,"NotImplementedError"))},l.$$arity=3)}(u[0],c(u,"BinaryOp"),u),function(r,n,a){var s,o=$(r,n,"DivideWithGameSystemDefault"),u=[o].concat(a);t.const_set(u[0],"ROUNDING_METHOD",""),o.$private(),t.def(o,"$divide_and_round",s=function(t,r,n){var a;return a=n,i(c(u,"RoundType"),"CEIL")["$==="](a)?e(t.$to_f(),r).$ceil():i(c(u,"RoundType"),"ROUND")["$==="](a)?e(t.$to_f(),r).$round():e(t,r).$to_i()},s.$$arity=3)}(u[0],c(u,"DivideBase"),u),function(r,n,i){var c,a=$(r,n,"DivideWithCeil"),s=[a].concat(i);t.const_set(s[0],"ROUNDING_METHOD","C"),a.$private(),t.def(a,"$divide_and_round",c=function(t,r,n){return e(t.$to_f(),r).$ceil()},c.$$arity=3)}(u[0],c(u,"DivideBase"),u),function(r,n,i){var c,a=$(r,n,"DivideWithRound"),s=[a].concat(i);t.const_set(s[0],"ROUNDING_METHOD","R"),a.$private(),t.def(a,"$divide_and_round",c=function(t,r,n){return e(t.$to_f(),r).$round()},c.$$arity=3)}(u[0],c(u,"DivideBase"),u),function(r,n,i){var c,a=$(r,n,"DivideWithFloor"),s=[a].concat(i);t.const_set(s[0],"ROUNDING_METHOD","F"),a.$private(),t.def(a,"$divide_and_round",c=function(t,r,n){return e(t,r).$to_i()},c.$$arity=3)}(u[0],c(u,"DivideBase"),u),function(e,r,i){var c,a,s,o,u=$(e,null,"Negative");[u].concat(i),u.$$prototype.body=n,t.def(u,"$initialize",c=function(t){return this.body=t},c.$$arity=1),t.def(u,"$eval",a=function(t){return this.body.$eval(t)["$-@"]()},a.$$arity=1),t.def(u,"$output",s=function(){return"-"+this.body.$output()},s.$$arity=0),t.def(u,"$s_exp",o=function(){return"(- "+this.body.$s_exp()+")"},o.$$arity=0)}(u[0],0,u),function(e,r,i){var c,a,s,o,u=$(e,null,"Parenthesis");[u].concat(i),u.$$prototype.expr=n,t.def(u,"$initialize",c=function(t){return this.expr=t},c.$$arity=1),t.def(u,"$eval",a=function(t){return this.expr.$eval(t)},a.$$arity=1),t.def(u,"$output",s=function(){return"("+this.expr.$output()+")"},s.$$arity=0),t.def(u,"$s_exp",o=function(){return"(Parenthesis "+this.expr.$s_exp()+")"},o.$$arity=0)}(u[0],0,u),function(e,r,i){var c,a,s,o=$(e,null,"Number");[o].concat(i),o.$$prototype.value=n,t.def(o,"$initialize",c=function(t){return this.value=t},c.$$arity=1),t.def(o,"$eval",a=function(t){return this.value},a.$$arity=1),t.def(o,"$output",s=function(){return this.value.$to_s()},s.$$arity=0),t.alias(o,"s_exp","output")}(u[0],0,u)}(u[0],u)}(u[0],u)}(r[0],r)},Opal.modules["racc/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function c(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a=[],$=t.nil,s=t.$$$,o=t.$$,u=t.module,_=t.klass,d=t.truthy,h=t.gvars,l=t.send;return function(t,e){var r=[u(t,"Racc")].concat(e);!function(t,e,r){[_(t,e,"ParseError")].concat(r)}(r[0],o(r,"StandardError"),r)}(a[0],a),d(s("::","ParseError","skip_raise")?"constant":$)||t.const_set(a[0],"ParseError",s(o(a,"Racc"),"ParseError")),function(a,f){var p=[u(a,"Racc")].concat(f);d(o(p,"Racc_No_Extensions","skip_raise")?"constant":$)||t.const_set(p[0],"Racc_No_Extensions",!1),function(a,u,f){var p,y,m,b,v,g,R,x,k,N,w,S,P,A,T,E,D,C,B,O,L,z,U,I,M=_(a,null,"Parser"),q=[M].concat(f);M.$$prototype.yydebug=M.$$prototype.racc_debug_out=M.$$prototype.racc_error_status=M.$$prototype.racc_t=M.$$prototype.racc_vstack=M.$$prototype.racc_val=M.$$prototype.racc_state=M.$$prototype.racc_tstack=$,t.const_set(q[0],"Racc_Runtime_Version","1.4.6"),t.const_set(q[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),t.const_set(q[0],"Racc_Runtime_Core_Version_R","1.4.6"),t.const_set(q[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),t.const_set(q[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),t.const_set(q[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),t.const_set(q[0],"Racc_Runtime_Core_Version",o(q,"Racc_Runtime_Core_Version_R")),t.const_set(q[0],"Racc_Runtime_Core_Revision",o(q,"Racc_Runtime_Core_Revision_R")),t.const_set(q[0],"Racc_Runtime_Type","ruby"),t.defs(o(q,"Parser"),"$racc_runtime_type",p=function(){return o(q,"Racc_Runtime_Type")},p.$$arity=0),t.def(M,"$_racc_setup",y=function(){var n,i,c=$,a=$,o=$;return null==h.stderr&&(h.stderr=$),d(s(this.$class(),"Racc_debug_parser"))||(this.yydebug=!1),d(null!=(n=this.yydebug)&&n!==$?"instance-variable":$)||(this.yydebug=!1),d(this.yydebug)&&(d(null!=(i=this.racc_debug_out)&&i!==$?"instance-variable":$)||(this.racc_debug_out=h.stderr),this.racc_debug_out=d(c=this.racc_debug_out)?c:h.stderr),a=s(this.$class(),"Racc_arg"),d(e(a.$size(),14))&&(l(a,"[]=",t.to_a(o=[13,!0])),r(o.length,1)),a},y.$$arity=0),t.def(M,"$_racc_init_sysvars",m=function(){return this.racc_state=[0],this.racc_tstack=[],this.racc_vstack=[],this.racc_t=$,this.racc_val=$,this.racc_read_next=!0,this.racc_user_yyerror=!1,this.racc_error_status=0},m.$$arity=0),t.def(M,"$do_parse",b=function(){return this.$__send__(o(q,"Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)},b.$$arity=0),t.def(M,"$next_token",v=function(){return this.$raise(o(q,"NotImplementedError"),this.$class()+"#next_token is not defined")},v.$$arity=0),t.def(M,"$_racc_do_parse_rb",g=function(e,r){var c,a,s=$,o=$,u=$,_=$,h=$,f=$,p=$,y=$;return c=t.to_ary(e),s=null==c[0]?$:c[0],o=null==c[1]?$:c[1],u=null==c[2]?$:c[2],_=null==c[3]?$:c[3],h=null==c[10]?$:c[10],this.$_racc_init_sysvars(),f=p=y=$,l(this,"catch",["racc_end_parse"],((a=function(){var r,c,l=null==a.$$s?this:a.$$s,m=$,b=$,v=$;for(null==l.racc_state&&(l.racc_state=$),null==l.racc_read_next&&(l.racc_read_next=$),null==l.racc_t&&(l.racc_t=$),null==l.yydebug&&(l.yydebug=$),null==l.racc_val&&(l.racc_val=$);d(!0);)for(d(y=_["$[]"](l.racc_state["$[]"](-1)))?(d(l.racc_read_next)&&d(l.racc_t["$!="](0))&&(c=l.$next_token(),r=t.to_ary(c),f=null==r[0]?$:r[0],l.racc_val=null==r[1]?$:r[1],l.racc_t=d(f)?d(m=h["$[]"](f))?m:1:0,d(l.yydebug)&&l.$racc_read_token(l.racc_t,f,l.racc_val),l.racc_read_next=!1),y=n(y,l.racc_t),d(d(b=d(v=i(y,0))?p=s["$[]"](y):v)?o["$[]"](y)["$=="](l.racc_state["$[]"](-1)):b)||(p=u["$[]"](l.racc_state["$[]"](-1)))):p=u["$[]"](l.racc_state["$[]"](-1));d(p=l.$_racc_evalact(p,e)););}).$$s=this,a.$$arity=0,a))},g.$$arity=2),t.def(M,"$yyparse",R=function(t,e){return this.$__send__(o(q,"Racc_YY_Parse_Method"),t,e,this.$_racc_setup(),!0)},R.$$arity=2),t.def(M,"$_racc_yyparse_rb",x=function(e,r,c,a){var s,o,u=$,_=$,h=$,f=$,p=$,y=$,m=$;return s=t.to_ary(c),u=null==s[0]?$:s[0],_=null==s[1]?$:s[1],h=null==s[2]?$:s[2],f=null==s[3]?$:s[3],p=null==s[10]?$:s[10],this.$_racc_init_sysvars(),y=$,m=$,l(this,"catch",["racc_end_parse"],((o=function(){var t,a=null==o.$$s?this:o.$$s;for(null==a.racc_state&&(a.racc_state=$);!d(m=f["$[]"](a.racc_state["$[]"](-1)));)for(;d(y=a.$_racc_evalact(h["$[]"](a.racc_state["$[]"](-1)),c)););return l(e,"__send__",[r],((t=function(e,r){var a,s,o=null==t.$$s?this:t.$$s,l=$,b=$,v=$,g=$,R=$,x=$,k=$;for(null==o.racc_t&&(o.racc_t=$),null==o.racc_state&&(o.racc_state=$),null==o.racc_read_next&&(o.racc_read_next=$),null==e&&(e=$),null==r&&(r=$),o.racc_t=d(e)?d(l=p["$[]"](e))?l:1:0,o.racc_val=r,o.racc_read_next=!1,m=n(m,o.racc_t),d(d(a=d(s=i(m,0))?y=u["$[]"](m):s)?_["$[]"](m)["$=="](o.racc_state["$[]"](-1)):a)||(y=h["$[]"](o.racc_state["$[]"](-1)));d(y=o.$_racc_evalact(y,c)););for(;d(d(b=d(v=(m=f["$[]"](o.racc_state["$[]"](-1)))["$!"]())?v:o.racc_read_next["$!"]())?b:o.racc_t["$=="](0));)for(d(d(g=d(R=d(x=d(k=m)?m=n(m,o.racc_t):k)?i(m,0):x)?y=u["$[]"](m):R)?_["$[]"](m)["$=="](o.racc_state["$[]"](-1)):g)||(y=h["$[]"](o.racc_state["$[]"](-1)));d(y=o.$_racc_evalact(y,c)););}).$$s=a,t.$$arity=2,t))}).$$s=this,o.$$arity=0,o))},x.$$arity=4),t.def(M,"$_racc_evalact",k=function(a,s){var o,u,_,h,f,p=$,y=$,m=$,b=$,v=$,g=$,R=$,x=$,k=$,N=$;if(p=null==(o=t.to_ary(s))[0]?$:o[0],y=null==o[1]?$:o[1],m=null==o[3]?$:o[3],_=null==o[11]?$:o[11],b=null==o[12]?$:o[12],d(d(f=c(a,0))?e(a,_):f))d(c(this.racc_error_status,0))&&(this.racc_t["$=="](1)||(this.racc_error_status=r(this.racc_error_status,1))),this.racc_vstack.$push(this.racc_val),this.racc_state.$push(a),this.racc_read_next=!0,d(this.yydebug)&&(this.racc_tstack.$push(this.racc_t),this.$racc_shift(this.racc_t,this.racc_tstack,this.racc_vstack));else if(d(d(v=e(a,0))?c(a,b["$-@"]()):v)){if(g=l(this,"catch",["racc_jump"],((u=function(){var t=null==u.$$s?this:u.$$s;return null==t.racc_state&&(t.racc_state=$),t.racc_state.$push(t.$_racc_do_reduce(s,a)),!1}).$$s=this,u.$$arity=0,u)),d(g)){if(1["$==="](R=g))return this.racc_user_yyerror=!0,b["$-@"]();if(2["$==="](R))return _;this.$raise("[Racc Bug] unknown jump code")}}else if(a["$=="](_))d(this.yydebug)&&this.$racc_accept(),this.$throw("racc_end_parse",this.racc_vstack["$[]"](0));else{if(a["$=="](b["$-@"]())){for((0)["$==="](R=this.racc_error_status)?d(s["$[]"](21))||this.$on_error(this.racc_t,this.racc_val,this.racc_vstack):3["$==="](R)&&(this.racc_t["$=="](0)&&this.$throw("racc_end_parse",$),this.racc_read_next=!0),this.racc_user_yyerror=!1,this.racc_error_status=3;d(!0)&&(!d(x=m["$[]"](this.racc_state["$[]"](-1)))||(x=n(x,1),!d(d(k=d(N=i(x,0))?a=p["$[]"](x):N)?y["$[]"](x)["$=="](this.racc_state["$[]"](-1)):k)));)d("number"==typeof(h=this.racc_state.$size())?h<=1:h["$<="](1))&&this.$throw("racc_end_parse",$),this.racc_state.$pop(),this.racc_vstack.$pop(),d(this.yydebug)&&(this.racc_tstack.$pop(),this.$racc_e_pop(this.racc_state,this.racc_tstack,this.racc_vstack));return a}this.$raise("[Racc Bug] unknown action "+a.$inspect())}return d(this.yydebug)&&this.$racc_next_state(this.racc_state["$[]"](-1),this.racc_state),$},k.$$arity=2),t.def(M,"$_racc_do_reduce",N=function(e,c){var a,s,o,u,_,h,f,p,y=$,m=$,b=$,v=$,g=$,R=$,x=$,k=$,N=$,w=$,S=$,P=$,A=$,T=$,E=$,D=$;return y=null==(a=t.to_ary(e))[4]?$:a[4],m=null==a[5]?$:a[5],b=null==a[6]?$:a[6],v=null==a[7]?$:a[7],s=null==a[8]?$:a[8],g=null==a[9]?$:a[9],o=null==a[13]?$:a[13],R=this.racc_state,x=this.racc_vstack,k=this.racc_tstack,N="number"==typeof(p=c)?-3*p:p["$*"](-3),w=g["$[]"](N),u=g["$[]"](n(N,1)),_=g["$[]"](n(N,2)),h=[],d(this.yydebug)&&(S=k["$[]"](w["$-@"](),w)),P=x["$[]"](w["$-@"](),w),d(this.yydebug)&&(A=[w["$-@"](),w,h],l(k,"[]=",t.to_a(A)),r(A.length,1)),A=[w["$-@"](),w,h],l(x,"[]=",t.to_a(A)),r(A.length,1),A=[w["$-@"](),w,h],l(R,"[]=",t.to_a(A)),r(A.length,1),d(o)?x.$push(this.$__send__(_,P,x,P["$[]"](0))):x.$push(this.$__send__(_,P,x)),k.$push(u),d(this.yydebug)&&this.$racc_reduce(S,u,k,x),f=r(u,s),d(N=v["$[]"](f))&&(N=n(N,R["$[]"](-1)),d(d(T=d(E=i(N,0))?D=y["$[]"](N):E)?m["$[]"](N)["$=="](f):T))?D:b["$[]"](f)},N.$$arity=2),t.def(M,"$on_error",w=function(t,e,r){var n;return this.$raise(o(q,"ParseError"),this.$sprintf("\nparse error on value %s (%s)",e.$inspect(),d(n=this.$token_to_str(t))?n:"?"))},w.$$arity=3),t.def(M,"$yyerror",S=function(){return this.$throw("racc_jump",1)},S.$$arity=0),t.def(M,"$yyaccept",P=function(){return this.$throw("racc_jump",2)},P.$$arity=0),t.def(M,"$yyerrok",A=function(){return this.racc_error_status=0},A.$$arity=0),t.def(M,"$racc_read_token",T=function(t,e,r){return this.racc_debug_out.$print("read    "),this.racc_debug_out.$print(e.$inspect(),"(",this.$racc_token2str(t),") "),this.racc_debug_out.$puts(r.$inspect()),this.racc_debug_out.$puts()},T.$$arity=3),t.def(M,"$racc_shift",E=function(t,e,r){return this.racc_debug_out.$puts("shift   "+this.$racc_token2str(t)),this.$racc_print_stacks(e,r),this.racc_debug_out.$puts()},E.$$arity=3),t.def(M,"$racc_reduce",D=function(t,e,r,n){var i,c=$;return(c=this.racc_debug_out).$print("reduce "),d(t["$empty?"]())?c.$print(" <none>"):l(t,"each",[],((i=function(t){return null==t&&(t=$),c.$print(" ",(null==i.$$s?this:i.$$s).$racc_token2str(t))}).$$s=this,i.$$arity=1,i)),c.$puts(" --\x3e "+this.$racc_token2str(e)),this.$racc_print_stacks(r,n),this.racc_debug_out.$puts()},D.$$arity=4),t.def(M,"$racc_accept",C=function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()},C.$$arity=0),t.def(M,"$racc_e_pop",B=function(t,e,r){return this.racc_debug_out.$puts("error recovering mode: pop token"),this.$racc_print_states(t),this.$racc_print_stacks(e,r),this.racc_debug_out.$puts()},B.$$arity=3),t.def(M,"$racc_next_state",O=function(t,e){return this.racc_debug_out.$puts("goto    "+t),this.$racc_print_states(e),this.racc_debug_out.$puts()},O.$$arity=2),t.def(M,"$racc_print_stacks",L=function(t,e){var r,n=$;return(n=this.racc_debug_out).$print("        ["),l(t,"each_index",[],((r=function(i){return null==i&&(i=$),n.$print(" (",(null==r.$$s?this:r.$$s).$racc_token2str(t["$[]"](i))," ",e["$[]"](i).$inspect(),")")}).$$s=this,r.$$arity=1,r)),n.$puts(" ]")},L.$$arity=2),t.def(M,"$racc_print_states",z=function(t){var e,r=$;return(r=this.racc_debug_out).$print("        ["),l(t,"each",[],((e=function(t){return null==t&&(t=$),r.$print(" ",t)}).$$s=this,e.$$arity=1,e)),r.$puts(" ]")},z.$$arity=1),t.def(M,"$racc_token2str",U=function(t){var e;return d(e=s(this.$class(),"Racc_token_to_s_table")["$[]"](t))?e:this.$raise("[Racc Bug] can't convert token "+t+" to string")},U.$$arity=1),t.def(M,"$token_to_str",I=function(t){return s(this.$class(),"Racc_token_to_s_table")["$[]"](t)},I.$$arity=1)}(p[0],0,p)}(a[0],a)},Opal.modules.strscan=function(t){var e=[],r=t.nil,n=t.$$,i=t.klass,c=t.truthy,a=t.send;return function(e,$,s){var o,u,_,d,h,l,f,p,y,m,b,v,g,R,x,k,N,w,S,P,A,T,E,D,C,B=i(e,null,"StringScanner"),O=[B].concat(s);return B.$$prototype.pos=B.$$prototype.string=B.$$prototype.working=B.$$prototype.matched=B.$$prototype.prev_pos=B.$$prototype.match=r,B.$attr_reader("pos"),B.$attr_reader("matched"),t.def(B,"$initialize",o=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},o.$$arity=1),B.$attr_reader("string"),t.def(B,"$beginning_of_line?",u=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},u.$$arity=0),t.alias(B,"bol?","beginning_of_line?"),t.def(B,"$scan",_=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=r:"object"==typeof e?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):r},_.$$arity=1),t.def(B,"$scan_until",d=function(t){t=this.$anchor(t);for(var e,n=this.pos,i=this.working;;){if(e=t.exec(i),n+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,n-this.pos-1+e[0].length),this.match=e,this.prev_pos=n-1,this.pos=n,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.match=[],this.matched=r}},d.$$arity=1),t.def(B,"$[]",h=function(t){var e;if(c(this.match["$empty?"]()))return r;e=t,n(O,"Symbol")["$==="](e)?t=t.$to_s():n(O,"String")["$==="](e)||(t=n(O,"Opal")["$coerce_to!"](t,n(O,"Integer"),"to_int"));var i=this.match;return t<0&&(t+=i.length),t<0||t>=i.length||null==i[t]?r:i[t]},h.$$arity=1),t.def(B,"$check",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?r:e[0]},l.$$arity=1),t.def(B,"$check_until",f=function(t){var e=this.prev_pos,n=this.pos,i=this.$scan_until(t);return i!==r&&(this.matched=i.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,i},f.$$arity=1),t.def(B,"$peek",p=function(t){return this.working.substring(0,t)},p.$$arity=1),t.def(B,"$eos?",y=function(){return 0===this.working.length},y.$$arity=0),t.def(B,"$exist?",m=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},m.$$arity=1),t.def(B,"$skip",b=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.match=[],this.matched=r;var n=e[0],i=n.length;return this.matched=n,this.match=e,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},b.$$arity=1),t.def(B,"$skip_until",v=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},v.$$arity=1),t.def(B,"$get_byte",g=function(){var t=r;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=r,t},g.$$arity=0),t.alias(B,"getch","get_byte"),t.def(B,"$match?",R=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?r:(this.prev_pos=this.pos,e[0].length)},R.$$arity=1),t.def(B,"$pos=",x=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},x.$$arity=1),t.def(B,"$matched_size",k=function(){return this.matched===r?r:this.matched.length},k.$$arity=0),t.def(B,"$post_match",N=function(){return this.matched===r?r:this.string.substr(this.pos)},N.$$arity=0),t.def(B,"$pre_match",w=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},w.$$arity=0),t.def(B,"$reset",S=function(){return this.working=this.string,this.matched=r,this.pos=0},S.$$arity=0),t.def(B,"$rest",P=function(){return this.working},P.$$arity=0),t.def(B,"$rest?",A=function(){return 0!==this.working.length},A.$$arity=0),t.def(B,"$rest_size",T=function(){return this.$rest().$size()},T.$$arity=0),t.def(B,"$terminate",E=function(){var e,n;return this.match=r,e=[this.string.$length()],a(this,"pos=",t.to_a(e)),e[(n=e.length,"number"==typeof n?n-1:n["$-"](1))]},E.$$arity=0),t.def(B,"$unscan",D=function(){return this.pos=this.prev_pos,this.prev_pos=r,this.match=r,this},D.$$arity=0),B.$private(),t.def(B,"$anchor",C=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},C.$$arity=1),r&&"anchor"}(e[0],0,e)},Opal.modules["bcdice/normalize"]=function(t){var e=[],r=t.nil,n=t.module;return function(e,i){var c=[n(e,"BCDice")].concat(i);!function(e,i){var c,a,$=n(e,"Normalize");[$].concat(i),$.$module_function(),t.def($,"$comparison_operator",c=function(t){var e;return/<=|=</["$==="](e=t)?"<=":/>=|=>/["$==="](e)?">=":/<>|!=|=!/["$==="](e)?"!=":/</["$==="](e)?"<":/>/["$==="](e)?">":/=/["$==="](e)?"==":r},c.$$arity=1),t.def($,"$target_number",a=function(t){return t["$=="]("?")?t:t.$to_i()},a.$$arity=1)}(c[0],c)}(e[0],e)},Opal.modules["bcdice/common_command/lexer"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$,c=t.module,a=t.klass,$=t.hash2,s=t.truthy;return e.$require("strscan"),e.$require("bcdice/normalize"),function(e,r){var o=[c(e,"BCDice")].concat(r);!function(e,r){var o=[c(e,"CommonCommand")].concat(r);!function(e,r,c){var o,u,_,d=a(e,null,"Lexer"),h=[d].concat(c);d.$$prototype.scanner=n,t.const_set(h[0],"SYMBOLS",$(["+","-","*","/","(",")","[","]","?","@"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","[":"BRACKETL","]":"BRACKETR","?":"QUESTION","@":"AT"}).$freeze()),t.def(d,"$initialize",o=function(t){var e;return t=s(e=t.$split(" ",2).$first())?e:"",this.scanner=i(h,"StringScanner").$new(t)},o.$$arity=1),t.def(d,"$next_token",u=function(){var t=n,e=n,r=n,c=n;return s(this.scanner["$eos?"]())?[!1,"$"]:s(t=this.scanner.$scan(/\d+/))?["NUMBER",t.$to_i()]:s(e=this.scanner.$scan(/[<>!=]+/))?["CMP_OP",i(h,"Normalize").$comparison_operator(e)]:(r=this.scanner.$getch().$upcase(),[s(c=i(h,"SYMBOLS")["$[]"](r))?c:r.$to_sym(),r])},u.$$arity=0),t.def(d,"$source",_=function(){return this.scanner.$string()},_.$$arity=0)}(o[0],0,o)}(o[0],o)}(r[0],r)},Opal.modules["bcdice/arithmetic/parser"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$$,c=t.$$,a=t.module,$=t.klass,s=t.hash;return e.$require("racc/parser.rb"),e.$require("bcdice/common_command/lexer"),e.$require("bcdice/arithmetic/node"),function(e,r){var o=[a(e,"BCDice")].concat(r);!function(e,r){var o=[a(e,"Arithmetic")].concat(r);!function(e,r,a){var o,u,_,d,h,l,f,p,y,m,b,v,g,R,x,k,N,w,S,P,A,T,E,D,C,B,O,L=$(e,r,"Parser"),z=[L].concat(a);L.$$prototype.lexer=n,t.defs(L,"$parse",o=function(t){return this.$new().$parse(t)},o.$$arity=1),t.def(L,"$parse",u=function(e){try{return this.lexer=i(i(c(z,"BCDice"),"CommonCommand"),"Lexer").$new(e),this.$do_parse()}catch(r){if(!t.rescue(r,[c(z,"ParseError")]))throw r;try{return n}finally{t.pop_exception()}}},u.$$arity=1),L.$private(),t.def(L,"$next_token",_=function(){return this.lexer.$next_token()},_.$$arity=0),w=[8,17,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,12,13,4,5,4,5,7,8,7,8,n,n,4,5,4,5,7,9,7,n,n,10,11,n,10,11,22,26,24,25,27],S=[0,9,4,2,2,0,0,4,4,0,5,4,7,18,18,5,5,7,7,5,10,7,11,19,19,10,10,11,11,10,12,11,13,n,n,12,12,13,13,12,1,13,n,n,16,16,n,1,1,16,21,21,21,21],P=[-2,40,-6,n,0,8,n,10,n,1,18,20,28,30,n,n,37,n,4,14,n,47,n,n,n,n,n,n],A=[-17,-17,-3,-6,-17,-17,-14,-17,-16,-17,-17,-17,-17,-17,-12,-13,-17,28,-1,-2,-4,-7,-15,-5,-8,-9,-10,-11],T=[14,15,23,1,18,19,n,n,20,21,16],E=[3,3,4,1,2,2,n,n,3,3,1],D=[n,3,-6,-4,-19,n],C=[n,n,2,3,n,6],B=[0,0,"racc_error",3,14,"_reduce_1",3,14,"_reduce_2",1,14,"_reduce_none",3,15,"_reduce_4",4,15,"_reduce_5",1,15,"_reduce_none",0,17,"_reduce_7",1,17,"_reduce_8",1,17,"_reduce_9",1,17,"_reduce_10",1,17,"_reduce_11",2,16,"_reduce_12",2,16,"_reduce_13",1,16,"_reduce_none",3,18,"_reduce_15",1,18,"_reduce_16"],O=s(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12),t.const_set(z[0],"Racc_arg",[w,S,A,P,T,E,C,D,13,B,O,28,17,!0]),t.const_set(z[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","$start","add","mul","unary","round_type","term"]),t.const_set(z[0],"Racc_debug_parser",!1),t.def(L,"$_reduce_1",d=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},d.$$arity=3),t.def(L,"$_reduce_2",h=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},h.$$arity=3),t.def(L,"$_reduce_4",l=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))},l.$$arity=3),t.def(L,"$_reduce_5",f=function(t,e,r){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))},f.$$arity=3),t.def(L,"$_reduce_7",p=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},p.$$arity=3),t.def(L,"$_reduce_8",y=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"DivideWithCeil")},y.$$arity=3),t.def(L,"$_reduce_9",m=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"DivideWithCeil")},m.$$arity=3),t.def(L,"$_reduce_10",b=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"DivideWithRound")},b.$$arity=3),t.def(L,"$_reduce_11",v=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"DivideWithFloor")},v.$$arity=3),t.def(L,"$_reduce_12",g=function(t,e,r){return t["$[]"](1)},g.$$arity=3),t.def(L,"$_reduce_13",R=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},R.$$arity=3),t.def(L,"$_reduce_15",x=function(t,e,r){return t["$[]"](1)},x.$$arity=3),t.def(L,"$_reduce_16",k=function(t,e,r){return i(i(c(z,"Arithmetic"),"Node"),"Number").$new(t["$[]"](0))},k.$$arity=3),t.def(L,"$_reduce_none",N=function(t,e,r){return t["$[]"](0)},N.$$arity=3)}(o[0],i(c(o,"Racc"),"Parser"),o)}(o[0],o)}(r[0],r)},Opal.modules["bcdice/arithmetic"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$,c=t.module,a=t.send;return e.$require("bcdice/arithmetic/node"),e.$require("bcdice/arithmetic/parser"),function(e,r){var $=[c(e,"BCDice")].concat(r);!function(e,r){var $=c(e,"Arithmetic"),s=[$].concat(r);!function(e,r){var c,$=[e].concat(r);t.def(e,"$eval",c=function(e,r){var c;try{return(c=i($,"Parser").$parse(e))===n||null==c?n:a(c,"eval",[r])}catch(s){if(!t.rescue(s,[i($,"ZeroDivisionError")]))throw s;try{return n}finally{t.pop_exception()}}},c.$$arity=2)}(t.get_singleton_class($),s)}($[0],$)}(r[0],r)},Opal.modules["bcdice/command/lexer"]=function(t){var e=t.top,r=[],n=t.nil,i=t.$$,c=t.module,a=t.klass,$=t.hash2,s=t.truthy,o=t.send;return e.$require("strscan"),e.$require("bcdice/normalize"),function(e,r){var u=[c(e,"BCDice")].concat(r);!function(e,r){var u=[c(e,"Command")].concat(r);!function(e,r,c){var u,_,d,h=a(e,null,"Lexer"),l=[h].concat(c);h.$$prototype.scanner=h.$$prototype.notations=n,t.const_set(l[0],"SYMBOLS",$(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),t.def(h,"$initialize",u=function(t,e){var r,c,a,$;return t=s($=(c=(r=t)===n||null==r?n:o(r,"split",[" ",2]))===n||null==c?n:o(c,"first",[]))?$:"",this.scanner=i(l,"StringScanner").$new(t),this.notations=o(e,"map",[],((a=function(t){return null==t&&(t=n),s(t["$is_a?"](i(l,"String")))?i(l,"Regexp").$new(t):t}).$$s=this,a.$$arity=1,a))},u.$$arity=2),t.def(h,"$next_token",_=function(){try{var e,r=n,c=n,a=n,$=n;return s(this.scanner["$eos?"]())?[!1,"$"]:(o(this.notations,"each",[],((e=function(r){var i,c=null==e.$$s?this:e.$$s;if(null==c.scanner&&(c.scanner=n),null==r&&(r=n),i=c.scanner.$scan(r),!s(i))return n;t.ret(["NOTATION",i])}).$$s=this,e.$$arity=1,e)),s(r=this.scanner.$scan(/\d+/))?["NUMBER",r.$to_i()]:s(c=this.scanner.$scan(/[<>!=]+/))?(c=i(l,"Normalize").$comparison_operator(c),[s(c)?"CMP_OP":"ILLEGAL",c]):(a=this.scanner.$getch().$upcase(),[s($=i(l,"SYMBOLS")["$[]"](a))?$:a.$to_sym(),a]))}catch(u){if(u===t.returner)return u.$v;throw u}},_.$$arity=0),t.def(h,"$source",d=function(){return this.scanner.$string()},d.$$arity=0)}(u[0],0,u)}(u[0],u)}(r[0],r)},Opal.modules["bcdice/command/parsed"]=function(t){var e=[],r=t.nil,n=t.$$,i=t.module,c=t.klass,a=t.truthy;return function(e,$){var s=[i(e,"BCDice")].concat($);!function(e,$){var s=[i(e,"Command")].concat($);!function(e,i,$){var s,o,u,_=c(e,null,"Parsed"),d=[_].concat($);_.$$prototype.question_target=_.$$prototype.critical=_.$$prototype.fumble=_.$$prototype.dollar=_.$$prototype.modify_number=_.$$prototype.target_number=_.$$prototype.prefix_number=_.$$prototype.command=_.$$prototype.suffix_number=_.$$prototype.cmp_op=r,_.$attr_accessor("command"),_.$attr_accessor("prefix_number"),_.$attr_accessor("suffix_number"),_.$attr_accessor("critical"),_.$attr_accessor("fumble"),_.$attr_accessor("dollar"),_.$attr_accessor("modify_number"),_.$attr_accessor("cmp_op"),_.$attr_accessor("target_number"),_.$attr_writer("question_target"),t.def(_,"$initialize",s=function(){return this.prefix_number=r,this.suffix_number=r,this.critical=r,this.fumble=r,this.dollar=r,this.cmp_op=r,this.target_number=r,this.question_target=!1},s.$$arity=0),t.def(_,"$question_target?",o=function(){return this.question_target},o.$$arity=0),t.def(_,"$to_s",u=function(t){var e,i=r,c=r,$=r,s=r,o=r;return null==t&&(t="after_command"),i=a(this.critical)?"@"+this.critical:r,c=a(this.fumble)?"#"+this.fumble:r,$=a(this.dollar)?"$"+this.dollar:r,s=n(d,"Format").$modifier(this.modify_number),o=a(this.question_target)?"?":this.target_number,"after_command"["$==="](e=t)?[this.prefix_number,this.command,this.suffix_number,i,c,$,s,this.cmp_op,o].$join():"after_modify_number"["$==="](e)?[this.prefix_number,this.command,this.suffix_number,s,i,c,$,this.cmp_op,o].$join():"after_target_number"["$==="](e)?[this.prefix_number,this.command,this.suffix_number,s,this.cmp_op,o,i,c,$].$join():r},u.$$arity=-1)}(s[0],0,s)}(s[0],s)}(e[0],e)},Opal.modules["bcdice/command/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,n,i,c=t.top,a=[],$=t.nil,s=t.$$$,o=t.$$,u=t.klass,_=t.module,d=t.hash2,h=t.send2,l=t.send,f=t.hash,p=t.truthy;return c.$require("racc/parser.rb"),c.$require("bcdice/arithmetic/node"),c.$require("bcdice/command/lexer"),c.$require("bcdice/command/parsed"),r=s(o(a,"BCDice"),"Command"),n=s(o(a,"Racc"),"Parser"),i=a,[u(r,n,"Parser")].concat(i),function(r,n){var i=[_(r,"BCDice")].concat(n);!function(r,n){var i=[_(r,"Command")].concat(n);!function(r,n,i){var c,a,_,y,m,b,v,g,R,x,k,N,w,S,P,A,T,E,D,C,B,O,L,z,U,I,M,q,K,H,W,F,G,j,Y,Q,V,Z,J,X,tt,et,rt,nt,it,ct,at,$t,st,ot,ut,_t,dt,ht,lt,ft,pt=u(r,n,"Parser"),yt=[pt].concat(i);pt.$$prototype.notations=pt.$$prototype.lexer=pt.$$prototype.modifier=pt.$$prototype.prefix_number=pt.$$prototype.suffix_number=pt.$$prototype.need_suffix_number=pt.$$prototype.need_prefix_number=pt.$$prototype.critical=pt.$$prototype.fumble=pt.$$prototype.dollar=pt.$$prototype.allowed_cmp_op=pt.$$prototype.question_target=$,t.def(pt,"$initialize",c=function(e,r){var n,i,a,s,o=c.$$p,u=this;if(o&&(c.$$p=null),n=t.slice.call(arguments,0,arguments.length),null==(i=t.extract_kwargs(n)))i=d([],{});else if(!i.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(a=n,!t.hasOwnProperty.call(i.$$smap,"round_type"))throw t.ArgumentError.$new("missing keyword: round_type");return s=i.$$smap.round_type,h(u,t.find_super_dispatcher(u,"initialize",c,!1,!0),"initialize",[],null),u.notations=a,u.round_type=s,u.prefix_number=!1,u.suffix_number=!1,u.need_prefix_number=!1,u.need_suffix_number=!1,u.modifier=!0,u.critical=!1,u.fumble=!1,u.dollar=!1,u.allowed_cmp_op=[$,">=",">","<=","<","==","!="],u.question_target=!1},c.$$arity=-2),t.def(pt,"$disable_modifier",a=function(){return this.modifier=!1,this},a.$$arity=0),t.def(pt,"$enable_prefix_number",_=function(){return this.prefix_number=!0,this},_.$$arity=0),t.def(pt,"$enable_suffix_number",y=function(){return this.suffix_number=!0,this},y.$$arity=0),t.def(pt,"$has_prefix_number",m=function(){return this.prefix_number=!0,this.need_prefix_number=!0,this},m.$$arity=0),t.def(pt,"$has_suffix_number",b=function(){return this.suffix_number=!0,this.need_suffix_number=!0,this},b.$$arity=0),t.def(pt,"$enable_critical",v=function(){return this.critical=!0,this},v.$$arity=0),t.def(pt,"$enable_fumble",g=function(){return this.fumble=!0,this},g.$$arity=0),t.def(pt,"$enable_dollar",R=function(){return this.dollar=!0,this},R.$$arity=0),t.def(pt,"$restrict_cmp_op_to",x=function(e){var r,n=this;return r=t.slice.call(arguments,0,arguments.length),n.allowed_cmp_op=r,n},x.$$arity=-1),t.def(pt,"$enable_question_target",k=function(){return this.question_target=!0,this},k.$$arity=0),t.def(pt,"$parse",N=function(e){try{return this.lexer=o(yt,"Lexer").$new(e,this.notations),this.$do_parse()}catch(r){if(!t.rescue(r,[o(yt,"ParseError"),o(yt,"ZeroDivisionError")]))throw r;try{return $}finally{t.pop_exception()}}},N.$$arity=1),pt.$private(),t.def(pt,"$parsed",w=function(r,n,i,c){var a;return l(o(yt,"Parsed").$new(),"tap",[],((a=function(s){var o,u,_,d,h,f,p=null==a.$$s?this:a.$$s,y=$;return null==p.round_type&&(p.round_type=$),null==s&&(s=$),y=[r["$[]"]("command")],l(s,"command=",t.to_a(y)),e(y.length,1),y=[(o=r["$[]"]("prefix"),o===$||null==o?$:l(o,"eval",[p.round_type]))],l(s,"prefix_number=",t.to_a(y)),e(y.length,1),y=[(u=r["$[]"]("suffix"),u===$||null==u?$:l(u,"eval",[p.round_type]))],l(s,"suffix_number=",t.to_a(y)),e(y.length,1),y=[(_=n["$[]"]("critical"),_===$||null==_?$:l(_,"eval",[p.round_type]))],l(s,"critical=",t.to_a(y)),e(y.length,1),y=[(d=n["$[]"]("fumble"),d===$||null==d?$:l(d,"eval",[p.round_type]))],l(s,"fumble=",t.to_a(y)),e(y.length,1),y=[(h=n["$[]"]("dollar"),h===$||null==h?$:l(h,"eval",[p.round_type]))],l(s,"dollar=",t.to_a(y)),e(y.length,1),y=[i.$eval(p.round_type)],l(s,"modify_number=",t.to_a(y)),e(y.length,1),y=[c["$[]"]("cmp_op")],l(s,"cmp_op=",t.to_a(y)),e(y.length,1),c["$[]"]("target")["$=="]("?")?(l(s,"question_target=",t.to_a(y=[!0])),e(y.length,1),l(s,"target_number=",t.to_a(y=[0])),y[e(y.length,1)]):(l(s,"question_target=",t.to_a(y=[!1])),e(y.length,1),y=[(f=c["$[]"]("target"),f===$||null==f?$:l(f,"eval",[p.round_type]))],l(s,"target_number=",t.to_a(y)),y[e(y.length,1)])}).$$s=this,a.$$arity=1,a))},w.$$arity=4),t.def(pt,"$next_token",S=function(){return this.lexer.$next_token()},S.$$arity=0),at=[6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,$,5,36,37,17,18,6,$,5,36,37,17,18,6,$,5,36,37,17,18,6,$,5,33,34,17,18,6,$,5,36,37,17,18,6,$,5,36,37,17,18,6,$,5,36,37,17,18,6,$,5,36,37,17,18,6,$,5,$,$,17,18,6,$,5,$,$,17,18,$,$,5,23,24,25,26,56,54,55,57],$t=[0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,$,17,15,15,18,18,23,$,18,30,30,23,23,24,$,23,31,31,24,24,25,$,24,44,44,25,25,28,$,25,47,47,28,28,29,$,28,48,48,29,29,33,$,29,49,49,33,33,34,$,33,50,50,34,34,36,$,34,$,$,36,36,37,$,36,$,$,37,37,$,$,37,27,27,27,27,52,52,52,52],st=[-2,4,16,-3,-1,11,$,33,13,35,23,30,1,$,28,40,$,37,44,$,$,-2,$,51,58,65,0,106,72,79,47,54,$,86,93,$,100,107,$,$,$,$,$,$,63,$,$,68,75,82,89,$,120,$,$,$,$,$],ot=[-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29],ut=[30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,$,$,21,47,48,40,51,52,49,50,44,46,3,$,$,$,13,$,$,$,$,$,$,$,32],_t=[8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,$,$,4,8,8,5,7,7,8,8,9,5,6,$,$,$,6,$,$,$,$,$,$,$,6],dt=[$,6,13,3,9,-1,27,-15,-10,-1,-38],ht=[$,$,$,$,$,$,19,16,15,$,$],lt=[0,0,"racc_error",4,20,"_reduce_1",4,20,"_reduce_2",3,20,"_reduce_3",3,21,"_reduce_4",2,21,"_reduce_5",2,21,"_reduce_6",1,21,"_reduce_7",0,22,"_reduce_8",3,22,"_reduce_9",3,22,"_reduce_10",3,22,"_reduce_11",2,23,"_reduce_12",2,23,"_reduce_13",3,23,"_reduce_14",3,23,"_reduce_15",0,24,"_reduce_16",2,24,"_reduce_17",2,24,"_reduce_18",3,28,"_reduce_19",3,28,"_reduce_20",1,28,"_reduce_none",3,27,"_reduce_22",4,27,"_reduce_23",1,27,"_reduce_none",0,29,"_reduce_25",1,29,"_reduce_26",1,29,"_reduce_27",1,29,"_reduce_28",1,29,"_reduce_29",2,26,"_reduce_30",2,26,"_reduce_31",1,26,"_reduce_none",3,25,"_reduce_33",1,25,"_reduce_34"],ft=f(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),t.const_set(yt[0],"Racc_arg",[at,$t,ot,st,ut,_t,ht,dt,19,lt,ft,58,35,!0]),t.const_set(yt[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),t.const_set(yt[0],"Racc_debug_parser",!1),t.def(pt,"$_reduce_1",P=function(e,r,n){var i;return p(this.modifier)||this.$raise(o(yt,"ParseError")),i=t.to_ary(e),this.$parsed(null==i[0]?$:i[0],null==i[1]?$:i[1],null==i[2]?$:i[2],null==i[3]?$:i[3])},P.$$arity=3),t.def(pt,"$_reduce_2",A=function(e,r,n){var i;return p(this.modifier)||this.$raise(o(yt,"ParseError")),i=t.to_ary(e),this.$parsed(null==i[0]?$:i[0],null==i[2]?$:i[2],null==i[1]?$:i[1],null==i[3]?$:i[3])},A.$$arity=3),t.def(pt,"$_reduce_3",T=function(e,r,n){var i,c;return c=null==(i=t.to_ary(e))[2]?$:i[2],this.$parsed(null==i[0]?$:i[0],null==i[1]?$:i[1],s(s(o(yt,"Arithmetic"),"Node"),"Number").$new(0),c)},T.$$arity=3),t.def(pt,"$_reduce_4",E=function(t,e,r){var n;return p(p(n=this.prefix_number)?this.suffix_number:n)||this.$raise(o(yt,"ParseError")),d(["command","prefix","suffix"],{command:t["$[]"](1),prefix:t["$[]"](0),suffix:t["$[]"](2)})},E.$$arity=3),t.def(pt,"$_reduce_5",D=function(t,e,r){return p(this.prefix_number)||this.$raise(o(yt,"ParseError")),p(this.need_suffix_number)&&this.$raise(o(yt,"ParseError")),d(["command","prefix"],{command:t["$[]"](1),prefix:t["$[]"](0)})},D.$$arity=3),t.def(pt,"$_reduce_6",C=function(t,e,r){return p(this.suffix_number)||this.$raise(o(yt,"ParseError")),p(this.need_prefix_number)&&this.$raise(o(yt,"ParseError")),d(["command","suffix"],{command:t["$[]"](0),suffix:t["$[]"](1)})},C.$$arity=3),t.def(pt,"$_reduce_7",B=function(t,e,r){var n;return p(p(n=this.need_prefix_number)?n:this.need_suffix_number)&&this.$raise(o(yt,"ParseError")),d(["command"],{command:t["$[]"](0)})},B.$$arity=3),t.def(pt,"$_reduce_8",O=function(t,e,r){return d([],{})},O.$$arity=3),t.def(pt,"$_reduce_9",L=function(r,n,i){var c,a,s,u,_=$;return _=null==(c=t.to_ary(r))[0]?$:c[0],a=null==c[2]?$:c[2],p(p(u=this.critical)?_["$[]"]("critical")["$nil?"]():u)||this.$raise(o(yt,"ParseError")),l(_,"[]=",t.to_a(s=["critical",a])),e(s.length,1),_},L.$$arity=3),t.def(pt,"$_reduce_10",z=function(r,n,i){var c,a,s,u,_=$;return _=null==(c=t.to_ary(r))[0]?$:c[0],a=null==c[2]?$:c[2],p(p(u=this.fumble)?_["$[]"]("fumble")["$nil?"]():u)||this.$raise(o(yt,"ParseError")),l(_,"[]=",t.to_a(s=["fumble",a])),e(s.length,1),_},z.$$arity=3),t.def(pt,"$_reduce_11",U=function(r,n,i){var c,a,s,u,_=$;return _=null==(c=t.to_ary(r))[0]?$:c[0],a=null==c[2]?$:c[2],p(p(u=this.dollar)?_["$[]"]("dollar")["$nil?"]():u)||this.$raise(o(yt,"ParseError")),l(_,"[]=",t.to_a(s=["dollar",a])),e(s.length,1),_},U.$$arity=3),t.def(pt,"$_reduce_12",I=function(t,e,r){return t["$[]"](1)},I.$$arity=3),t.def(pt,"$_reduce_13",M=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},M.$$arity=3),t.def(pt,"$_reduce_14",q=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},q.$$arity=3),t.def(pt,"$_reduce_15",K=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},K.$$arity=3),t.def(pt,"$_reduce_16",H=function(t,e,r){return p(this.allowed_cmp_op["$include?"]($))||this.$raise(o(yt,"ParseError")),d([],{})},H.$$arity=3),t.def(pt,"$_reduce_17",W=function(e,r,n){var i,c,a;return a=null==(i=t.to_ary(e))[1]?$:i[1],p(this.allowed_cmp_op["$include?"](c=null==i[0]?$:i[0]))||this.$raise(o(yt,"ParseError")),d(["cmp_op","target"],{cmp_op:c,target:a})},W.$$arity=3),t.def(pt,"$_reduce_18",F=function(t,e,r){var n;return n=t["$[]"](0),p(this.question_target)||this.$raise(o(yt,"ParseError")),p(this.allowed_cmp_op["$include?"](n))||this.$raise(o(yt,"ParseError")),d(["cmp_op","target"],{cmp_op:n,target:"?"})},F.$$arity=3),t.def(pt,"$_reduce_19",G=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"+",t["$[]"](2))},G.$$arity=3),t.def(pt,"$_reduce_20",j=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"-",t["$[]"](2))},j.$$arity=3),t.def(pt,"$_reduce_22",Y=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"BinaryOp").$new(t["$[]"](0),"*",t["$[]"](2))},Y.$$arity=3),t.def(pt,"$_reduce_23",Q=function(t,e,r){return t["$[]"](3).$new(t["$[]"](0),t["$[]"](2))},Q.$$arity=3),t.def(pt,"$_reduce_25",V=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"DivideWithGameSystemDefault")},V.$$arity=3),t.def(pt,"$_reduce_26",Z=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"DivideWithCeil")},Z.$$arity=3),t.def(pt,"$_reduce_27",J=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"DivideWithCeil")},J.$$arity=3),t.def(pt,"$_reduce_28",X=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"DivideWithRound")},X.$$arity=3),t.def(pt,"$_reduce_29",tt=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"DivideWithFloor")},tt.$$arity=3),t.def(pt,"$_reduce_30",et=function(t,e,r){return t["$[]"](1)},et.$$arity=3),t.def(pt,"$_reduce_31",rt=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"Negative").$new(t["$[]"](1))},rt.$$arity=3),t.def(pt,"$_reduce_33",nt=function(t,e,r){return t["$[]"](1)},nt.$$arity=3),t.def(pt,"$_reduce_34",it=function(t,e,r){return s(s(o(yt,"Arithmetic"),"Node"),"Number").$new(t["$[]"](0))},it.$$arity=3),t.def(pt,"$_reduce_none",ct=function(t,e,r){return t["$[]"](0)},ct.$$arity=3)}(i[0],s(o(i,"Racc"),"Parser"),i)}(i[0],i)}(a[0],a)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],c=t.nil,a=t.$$$,$=t.$$,s=t.module,o=t.klass,u=t.send2,_=t.truthy,d=t.hash2,h=t.send,l=t.hash;n.$require("bcdice/dice_table/table"),n.$require("bcdice/dice_table/d66_table"),n.$require("bcdice/arithmetic"),n.$require("bcdice/command/parser"),function(n,i){var f=[s(n,"BCDice")].concat(i);!function(n,i){var f=[s(n,"GameSystem")].concat(i);!function(n,i,s){var f,p,y,m=o(n,i,"Bakenokawa"),b=[m].concat(s);m.$$prototype.randomizer=c,t.const_set(b[0],"ID","Bakenokawa"),t.const_set(b[0],"NAME","\u30d0\u30b1\u30ce\u30ab\u30ef"),t.const_set(b[0],"SORT_KEY","\u306f\u3051\u306e\u304b\u308f"),t.const_set(b[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\n  xBKy@z\n    x\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u6570(\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f2)\n    y\uff1a\u632f\u308b\u30c0\u30a4\u30b9\u306e\u9762\u6570\n    z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u5024(@\u3054\u3068\u7701\u7565\u53ef\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f12)\n  \uff08\u4f8b\uff09BK10\n  \u3000\u3000\u30004BK6\n  \u3000\u3000\u30002BK6@10\n\n\u30fb\u5404\u7a2e\u8868\n  \u4eca\u306e\u95a2\u4fc2\u8868 NRT\n  \u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868 KKT\n  \u8abf\u67fb\u6f14\u51fa\u8868\n    \u30ab\u30a4\u30d6\u30c4 RTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef RTB\n  \u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\n    \u30ab\u30a4\u30d6\u30c4 CTK\n    \u30d0\u30b1\u30ce\u30ab\u30ef CTB\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\n"),t.def(m,"$initialize",f=function(e){return f.$$p&&(f.$$p=null),u(this,t.find_super_dispatcher(this,"initialize",f,!1,!0),"initialize",[e],null),this.sort_barabara_dice=!0,this.d66_sort_type=a($(b,"D66SortType"),"ASC")},f.$$arity=1),t.def(m,"$eval_game_system_specific_command",p=function(t){var e;return _(e=this.$check_action(t))?e:this.$roll_tables(t,$(b,"TABLES"))},p.$$arity=1),t.def(m,"$check_action",y=function(n){var i,s,o,u,l,f,p,y,m,v,g=c,R=c,x=c,k=c,N=c;return g=a($(b,"Command"),"Parser").$new("BK",d(["round_type"],{round_type:a($(b,"RoundType"),"FLOOR")})).$enable_critical().$enable_prefix_number().$has_suffix_number().$parse(n),_(g["$nil?"]())?c:(o=_(R=g.$prefix_number())?R:2,u=g.$suffix_number(),l=_(x=g.$critical())?x:12,this.$debug("dice_faces",u),this.$debug("dice_cnt",o),this.$debug("special_target",l),k=this.randomizer.$roll_barabara(o,u).$sort(),f=k.$join(","),p=k.$sum(),y=e(p,l),N="number"==typeof(v=p)?v<=2:v["$<="](2),m=e(h(k,"count",[],((i=function(t){return null==t&&(t=c),e(t,4)}).$$s=this,i.$$arity=1,i)),1),h($(b,"Result").$new(),"tap",[],((s=function(e){var n=c;return null==e&&(e=c),n=["("+o+"B"+u+">=4) \uff1e ["+f+"] \uff1e "+p+" \uff1e "+(_(m)?"\u6210\u529f":"\u5931\u6557")+(_(y)?"(\u30b9\u30da\u30b7\u30e3\u30eb)":"")+(_(N)?"(\u30d5\u30a1\u30f3\u30d6\u30eb)":"")],h(e,"text=",t.to_a(n)),r(n.length,1),h(e,"critical=",t.to_a(n=[y])),r(n.length,1),h(e,"fumble=",t.to_a(n=[N])),r(n.length,1),h(e,"success=",t.to_a(n=[m])),r(n.length,1),n=[e["$success?"]()["$!"]()],h(e,"failure=",t.to_a(n)),n[r(n.length,1)]}).$$s=this,s.$$arity=1,s)))},y.$$arity=1),t.const_set(b[0],"TABLES",d(["NRT","KKT","RTK","RTB","CTK","CTB","FT"],{NRT:a($(b,"DiceTable"),"D66Table").$new("\u4eca\u306e\u95a2\u4fc2\u8868",a($(b,"D66SortType"),"ASC"),l(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u89aa\u621a\u3060\u3063\u305f",12,"\u4ef2\u306e\u3044\u3044\u8077\u5834\u306e\u540c\u50da",13,"\u4ed5\u4e8b\u306e\u3053\u3068\u3067\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u3053\u3068\u304c\u3042\u308b",14,"\u4eba\u9593\u793e\u4f1a\u306e\u3053\u3068\u3092\u6559\u3048\u5408\u3063\u3066\u3044\u308b",15,"\u65bd\u8a2d\u540c\u58eb\u304c\u3088\u304f\u30b3\u30e9\u30dc\u3059\u308b",16,"\u8857\u306e\u304a\u5e97\u306b\u4e8c\u4eba\u3067\u51fa\u304b\u3051\u308b\u4ef2",22,"\u3069\u3046\u306b\u3082\u30a6\u30de\u304c\u5408\u308f\u305a\u306b\u55a7\u5629\u3070\u304b\u308a\u3057\u3066\u3044\u308b",23,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u7fa8\u307e\u3057\u3044\u3068\u601d\u3063\u3066\u3044\u305f",24,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306b\u95a2\u3059\u308b\u82e6\u52b4\u3092\u805e\u3044\u305f\u3053\u3068\u304c\u3042\u308b",25,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u306e\u751f\u6d3b\u570f\u304c\u8fd1\u3044",26,"\u30d0\u30b1\u30ce\u30ab\u30ef\u540c\u58eb\u304c\u77e5\u308a\u5408\u3044\u3060\u3063\u305f",33,"\u3042\u3093\u306a\u4eba\u9593\u306b\u306a\u308a\u305f\u3044\u3068\u61a7\u308c\u3092\u899a\u3048\u305f",34,"\u53cb\u4eba\u3068\u3057\u3066\u8272\u3005\u306a\u60a9\u307f\u3092\u5171\u306b\u89e3\u6c7a\u3057\u3066\u304d\u305f",35,"\u653e\u3063\u3066\u304a\u3051\u306a\u3044\u3068\u3053\u308d\u304c\u3042\u308b\u3068\u601d\u3063\u3066\u3044\u308b",36,"\u3044\u3064\u3082\u8ff7\u60d1\u3092\u304b\u3051\u3066\u60aa\u3044\u3068\u601d\u3063\u3066\u3044\u308b",44,"\u6bce\u671d\u6328\u62f6\u3092\u3059\u308b\u3088\u3046\u306a\u3054\u8fd1\u6240\u3055\u3093\uff0f\u5bee\u306e\u90e8\u5c4b\u304c\u96a3",45,"\u4f55\u304b\u60a9\u3093\u3067\u3044\u305d\u3046\u306a\u9854\u304c\u6c17\u306b\u306a\u3063\u305f",46,"\u4f55\u304b\u3068\u4ed5\u4e8b\u95a2\u4fc2\u3067\u52a9\u3051\u3066\u3082\u3089\u3044\u3001\u4e16\u8a71\u306b\u306a\u3063\u3066\u3044\u308b",55,"\u7acb\u3061\u632f\u308b\u821e\u3044\u304c\u4eba\u9593\u3089\u3057\u304f\u3066\u7fa8\u307e\u3057\u3044",56,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u3067\u306e\u632f\u308b\u821e\u3044\u3084\u4ed5\u4e8b\u3076\u308a\u306b\u4e00\u76ee\u7f6e\u3044\u3066\u3044\u308b",66,"\u305d\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u898b\u308b\u3068\u61d0\u304b\u3057\u3055\u3092\u899a\u3048\u308b")),KKT:a($(b,"DiceTable"),"D66Table").$new("\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u304b\u3089\u306e\u56e0\u7e01\u8868",a($(b,"D66SortType"),"ASC"),l(11,"\u4e00\u7dd2\u306e\u7262\u7344\u306b\u6355\u307e\u3063\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",12,"\u5730\u4e0b\u306e\u56fd\u3067\u4e00\u7dd2\u306b\u904a\u3093\u3067\u3044\u305f\u3053\u3068\u304c\u3042\u308b",13,"\u5730\u4e0a\u306b\u51fa\u3066\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u308b\u5922\u3092\u8a9e\u308a\u5408\u3063\u305f",14,"\u4e00\u7dd2\u306b\u4eba\u9593\u793e\u4f1a\u3092\u5b66\u3076\u8a13\u7df4\u3092\u53d7\u3051\u305f",15,"\u751f\u307e\u308c\u305f\u6642\u304b\u3089\u305a\u3063\u3068\u4e00\u7dd2\u3060\u3063\u305f",16,"\u6642\u3005\u55a7\u5629\u3092\u3057\u5408\u3046\u3088\u3046\u306a\u4ef2\u3060\u3063\u305f",22,"\u5e7c\u5c11\u671f\u306b\u80b2\u3066\u3066\u3082\u3089\u3063\u305f\u6069\u304c\u3042\u308b",23,"\u6614\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u6642\u306e\u501f\u308a\u304c\u3042\u308b",24,"\u601d\u3044\u51fa\u305b\u306a\u3044\u3050\u3089\u3044\u6614\u306b\u3001\u52a9\u3051\u3066\u3082\u3089\u3063\u305f\u2026\u2026\u6c17\u304c\u3059\u308b",25,"\u4e00\u7dd2\u306b\u5730\u4e0a\u3067\u4eba\u9593\u3092\u697d\u3057\u307e\u305b\u3088\u3046\u3068\u7d04\u675f\u3057\u305f",26,"\u4eba\u9593\u306b\u5bfe\u3059\u308b\u61a7\u308c\u3092\u8a9e\u3063\u305f",33,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u3001\u4e00\u65b9\u7684\u306b\u61a7\u308c\u3092\u62b1\u3044\u3066\u3044\u305f",34,"\u4eba\u9593\u306e\u307e\u306d\u4e8b\u3092\u4e00\u7dd2\u306b\u3057\u3066\u3044\u305f",35,"\u5c11\u3057\u306e\u9593\u3001\u4e00\u7dd2\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u3053\u3068\u304c\u3042\u308b",36,"\u4e00\u7dd2\u306b\u304a\u8336\u4f1a\u3092\u3057\u305f\u4ef2",44,"\u540c\u3058\u89aa\u306e\u3082\u3068\u3067\u80b2\u3063\u305f",45,"\u30ab\u30a4\u30d6\u30c4\u6642\u4ee3\u306b\u8cb8\u3057\u304c\u3042\u3063\u3066\u3001\u307e\u3060\u8fd4\u3057\u3066\u3082\u3089\u3063\u3066\u306a\u3044",46,"\u4f55\u304b\u3068\u7af6\u3044\u5408\u3046\u3001\u30e9\u30a4\u30d0\u30eb\u540c\u58eb\u3060\u3063\u305f",55,"\u6226\u3044\u3092\u6311\u307f\u3001\u30dc\u30b3\u30dc\u30b3\u306b\u3055\u308c\u305f",56,"\u4e00\u7dd2\u306b\u9000\u5c48\u3092\u7d1b\u3089\u308f\u3059\u305f\u3081\u306b\u8272\u3005\u60aa\u3060\u304f\u307f\u3057\u3066\u3044\u305f",66,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3092\u8cb0\u3063\u305f\u5f8c\u306b\u3084\u308a\u305f\u3044\u3053\u3068\u3092\u8a9e\u3063\u3066\u3082\u3089\u3063\u305f\u899a\u3048\u304c\u3042\u308b")),RTK:a($(b,"DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30ab\u30a4\u30d6\u30c4","1D10",["\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u8857\u306b\u6f5c\u307f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u3066\u56de\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3044\u3001\u30c1\u30a7\u30a4\u30f3NPC\u3092\u5c3e\u884c\u3057\u3066\u597d\u307f\u3092\u8abf\u3079\u305f","\u4eba\u9593\u306b\u306f\u6f5c\u5165\u3067\u304d\u306a\u3044\u30eb\u30fc\u30c8\u3092\u4f7f\u3063\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u308a\u3092\u8abf\u3079\u305f","\u4eba\u9593\u3068\u3057\u3066\u8abf\u3079\u3066\u307f\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u304c\u51fa\u3066\u56f0\u3063\u305f","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u7279\u5fb4\u3092\u8abf\u67fb\u306b\u6d3b\u304b\u3057\u3001\u8abf\u3079\u4e0a\u3052\u305f","\u9b54\u6cd5\u306e\u93e1\u306b\u554f\u3044\u304b\u3051\u3066\u3001\u7b54\u3048\u3092\u8cb0\u3063\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304b\u3089\u3001\u9b54\u6cd5\u306e\u529b\u3092\u4f7f\u3063\u3066\u904e\u53bb\u3092\u8fbf\u3063\u305f","\u4ef2\u9593\u306e\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u3068\u4e00\u7dd2\u306b\u3001\u8857\u306b\u7e70\u308a\u51fa\u3057\u3066\u30c9\u30bf\u30d0\u30bf\u5287\u3092\u7e70\u308a\u5e83\u3052\u306a\u304c\u3089\u60c5\u5831\u3092\u96c6\u3081\u305f","\u5c0f\u3055\u306a\u30ab\u30a4\u30d6\u30c4\u305f\u3061\u306b\u3001\u6c17\u4ed8\u304b\u308c\u306a\u3044\u3088\u3046\u306b\u30c1\u30a7\u30a4\u30f3NPC\u3092\u8abf\u3079\u3066\u3082\u3089\u3063\u305f","\u9b54\u5973\u306e\u30ab\u30a4\u30d6\u30c4\u306b\u983c\u3093\u3067\u3001\u8abf\u67fb\u306b\u4fbf\u5229\u306a\u85ac\u3092\u4f5c\u3063\u3066\u3082\u3089\u3063\u305f,"]),RTB:a($(b,"DiceTable"),"Table").$new("\u8abf\u67fb\u6f14\u51fa\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef","1D10",["\u4eba\u9593\u306e\u53cb\u4eba\u3092\u983c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5642\u8a71\u3092\u805e\u304f","\u4eba\u9593\u306e\u8857\u306b\u884c\u3063\u3066\u30c1\u30a7\u30a4\u30f3NPC\u306e\u3053\u3068\u3092\u805e\u3044\u3066\u56de\u308b","\u30c1\u30a7\u30a4\u30f3PC\u306b\u8a71\u3092\u805e\u3044\u3066\u3001\u305d\u306e\u5b50\u306e\u7279\u5fb4\u304b\u3089\u597d\u307f\u3092\u63a8\u5bdf\u3059\u308b","\u30c1\u30a7\u30a4\u30f3PC\u3068\u4e00\u7dd2\u306b\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u5468\u56f2\u3092\u805e\u304d\u8fbc\u307f\u3057\u3066\u56de\u3063\u305f","\u4eba\u9593\u3068\u3057\u3066\u3001\u60c5\u5831\u901a\u306e\u4eba\u9593\u304c\u96c6\u307e\u308b\u5834\u6240\u306b\u5411\u304b\u3044\u3001\u305d\u3053\u3067\u3044\u308d\u3044\u308d\u306a\u8a71\u3092\u805e\u3044\u3066\u56de\u3063\u305f","\u30cd\u30c3\u30c8\u3092\u5229\u7528\u3057\u3066\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306e\u75d5\u8de1\u304c\u306a\u3044\u304b\u8abf\u3079\u3066\u307f\u305f","\u30c1\u30a7\u30a4\u30f3NPC\u304c\u3088\u304f\u884c\u304f\u5834\u6240\u3092\u63b4\u307f\u3001\u305d\u3053\u3067\u60c5\u5831\u53ce\u96c6\u3092\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u81ea\u5206\u306e\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u4f1a\u3063\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u3053\u3068\u3092\u601d\u3044\u51fa\u3057\u305f","\u5b9f\u306f\u3001\u30c1\u30a7\u30a4\u30f3NPC\u306f\u304a\u5ba2\u69d8\u3068\u3057\u3066\u81ea\u5206\u306e\u62c5\u5f53\u65bd\u8a2d\u306b\u6765\u305f\u3053\u3068\u304c\u3042\u308a\u3001\u305d\u306e\u3068\u304d\u306e\u5370\u8c61\u3092\u601d\u3044\u51fa\u3057\u305f"]),CTK:a($(b,"DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30ab\u30a4\u30d6\u30c4",a($(b,"D66SortType"),"ASC"),l(11,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u300d\u3092\u4f7f\u3063\u305f\u30c9\u6d3e\u624b\u306a\u30b3\u30e9\u30dc",12,"\u81ea\u5206\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",13,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",15,"\u81ea\u5206\u306e\u65bd\u8a2d\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",16,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u3068\u81ea\u5206\u306e\u7279\u5fb4\u3092\u5408\u308f\u305b\u305f\u30b3\u30e9\u30dc",22,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u300c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u300d\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u30d1\u30d3\u30ea\u30aa\u30f3\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",24,"\u81ea\u5206\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",25,"\u76f8\u624b\u306e\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u529b\u3092\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",26,"\u81ea\u5206\u304c\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u512a\u308c\u3066\u3044\u308b\u3068\u3053\u308d\u3092\u3001\u30b3\u30e9\u30dc\u76f8\u624b\u306b\u805e\u3044\u3066\u30d2\u30f3\u30c8\u306b\u3059\u308b",33,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u30b0\u30c3\u30ba\u3068\u3057\u3066\u58f2\u308a\u51fa\u3059\u30b3\u30e9\u30dc",34,"\u9b54\u6cd5\u306e\u529b\u3092\u6f14\u51fa\u306b\u4f7f\u3063\u305f\u3001\u30ad\u30e9\u30ad\u30e9\u306e\u30b3\u30e9\u30dc",35,"\u9b54\u6cd5\u306e\u9053\u5177\u3092\u4f7f\u3063\u305f\u3001\u304a\u5ba2\u69d8\u3092\u9a5a\u304b\u305b\u308b\u3088\u3046\u306a\u30b3\u30e9\u30dc",36,"\u7ae5\u8a71\u306e\u4e16\u754c\u3092\u304f\u3063\u3064\u3051\u3066\u3001\u3061\u3050\u306f\u3050\u306a\u611f\u3058\u3092\u697d\u3057\u3093\u3067\u3082\u3089\u3046",44,"\u30d1\u30d3\u30ea\u30aa\u30f3\u306e\u4ef2\u9593\u305f\u3061\u3092\u96c6\u3081\u305f\u30b9\u30c6\u30fc\u30b8\u3092\u958b\u50ac",45,"\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u59ff\u3092\u3042\u3048\u3066\u6652\u3057\u3001\u305d\u308c\u3092\u300c\u6f14\u51fa\u300d\u306b\u7d44\u307f\u8fbc\u3080",46,"\u81ea\u5206\u305f\u3061\u306e\u529b\u3092\u300c\u6f14\u51fa\u300d\u3068\u3057\u3066\u4f7f\u3063\u305f\u30b3\u30e9\u30dc",55,"\u9b54\u6cd5\u306e\u529b\u304c\u304b\u304b\u3063\u305f\u304a\u571f\u7523\u3092\u6301\u305f\u305b\u308b\u30b3\u30e9\u30dc",56,"\u4e0d\u601d\u8b70\u306a\u6f14\u51fa\u304c\u3044\u3063\u3071\u3044\u306e\u30b3\u30e9\u30dc",66,"\u81ea\u5206\u305f\u3061\u4ee5\u5916\u306e\u30ab\u30a4\u30d6\u30c4\u3082\u547c\u3093\u3060\u3001\u8cd1\u3084\u304b\u306a\u30b3\u30e9\u30dc")),CTB:a($(b,"DiceTable"),"D66Table").$new("\u30b3\u30e9\u30dc\u30c6\u30fc\u30de\u8868\u3000\u30d0\u30b1\u30ce\u30ab\u30ef",a($(b,"D66SortType"),"ASC"),l(11,"\u30d0\u30b1\u30ce\u30ab\u30ef\u3068\u3057\u3066\u751f\u6d3b\u3059\u308b\u3046\u3061\u306b\u899a\u3048\u305f\u3001\u300c\u697d\u3057\u304b\u3063\u305f\u3053\u3068\u300d\u3092\u3084\u3063\u3066\u307f\u308b",12,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u3058\u3083\u307e\u3059\u308b\u30b3\u30e9\u30dc",13,"\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u30b3\u30e9\u30dc\u76f8\u624b\u3092\u547c\u3076",14,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u304a\u571f\u7523\u3092\u7528\u610f\u3059\u308b",15,"\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u4f7f\u3046",16,"\u81ea\u5206\u306e\u65bd\u8a2d\u306e\u8981\u7d20\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u8d08\u308b",22,"\u30d0\u30b1\u30ce\u30ab\u30ef\u751f\u6d3b\u306e\u4e2d\u3067\u6c17\u4ed8\u3044\u305f\u3001\u300c\u4eba\u9593\u306f\u9762\u767d\u3044\u300d\u3068\u601d\u3048\u305f\u3053\u3068\u3092\u3084\u308b",23,"\u81ea\u5206\u3068\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u6280\u80fd\u3067\u5712\u5168\u4f53\u3092\u76db\u308a\u4e0a\u3052\u308b",24,"\u81ea\u5206\u306e\u6280\u80fd\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",25,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u6280\u80fd\u3092\u81ea\u5206\u306e\u65bd\u8a2d\u306b\u6d3b\u304b\u3059",26,"\u81ea\u5206\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",33,"\u81ea\u5206\u3060\u3051\u3067\u306f\u3067\u304d\u306a\u3044\u3053\u3068\u3092\u30b3\u30e9\u30dc\u76f8\u624b\u3068\u76f8\u8ac7\u3059\u308b",34,"\u30d1\u30fc\u30c8\u30ca\u30fc\u306e\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6d3b\u304b\u3059\u30b3\u30e9\u30dc",35,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u5408\u308f\u305b\u305f\u3088\u3046\u306a\u65bd\u8a2d\u3092\u9650\u5b9a\u30aa\u30fc\u30d7\u30f3",36,"\u304a\u5ba2\u69d8\u306e\u7b11\u9854\u3092\u601d\u3044\u51fa\u3057\u3001\u305d\u3046\u306a\u308b\u3088\u3046\u306b\u4e8c\u4eba\u3067\u52aa\u529b\u3059\u308b",44,"\u4e8c\u3064\u306e\u65bd\u8a2d\u3092\u7e4b\u3052\u308b\u5712\u5185\u30d0\u30b9\u3092\u7528\u610f\u3059\u308b",45,"\u304a\u5ba2\u69d8\u306b\u697d\u3057\u3093\u3067\u3082\u3089\u3048\u308b\u6f14\u51fa\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",46,"\u304a\u5ba2\u69d8\u304c\u597d\u307f\u305d\u3046\u306a\u304a\u571f\u7523\u3092\u4e8c\u4eba\u3067\u8003\u3048\u308b",55,"\u4eba\u9593\u306e\u53cb\u9054\u306b\u3001\u300c\u4f55\u304c\u697d\u3057\u3044\u306e\u304b\u300d\u3092\u6539\u3081\u3066\u805e\u304f",56,"\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u4f1d\u624b\u3092\u4f7f\u3063\u3066\u3001\u4eba\u9593\u306e\u53cb\u9054\u306b\u8a71\u3092\u805e\u304f",66,"\u30ef\u30f3\u30c0\u30fc\u30e9\u30f3\u30c9\u306e\u307f\u3093\u306a\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3046\u8c6a\u83ef\u306a\u30b3\u30e9\u30dc")),FT:a($(b,"DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u300c\u3042\u308c\uff1f\u201d\u81ea\u5206\u201d\u306f\u4e00\u4f53\u4f55\u8005\u3060\u3063\u305f\u304b\u306a\uff1f\u300d\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u30921\u3064\u9078\u3093\u3067\u5931\u3046","\u3075\u3068\u3057\u305f\u77ac\u9593\u306b\u3001\u697d\u3057\u3044\u611f\u60c5\u306b\u5bfe\u3057\u3066\u61d0\u7591\u7684\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u9078\u3093\u3067\u5931\u3046","\u305b\u3063\u304b\u304f\u7528\u610f\u3057\u305f\u9053\u5177\u3092\u58ca\u3057\u3066\u3057\u307e\u3046\u3002\u30bb\u30c3\u30c8\u3057\u3066\u3044\u305f\u30b5\u30d7\u30e9\u30a4\u30ba\u30ab\u30fc\u30c9\u30921\u679a\u9078\u3093\u3067\u7834\u68c4\u3059\u308b","\u30d0\u30b1\u30ce\u30ab\u30ef\u306e\u8a18\u61b6\u304c\u601d\u3044\u51fa\u3055\u308c\u308b\u3002\u30ab\u30d0\u30fc\u30d1\u30fc\u30bd\u30ca\u30eb\u3068\u305d\u308c\u306b\u4ed8\u968f\u3059\u308b\u30d1\u30fc\u30bd\u30ca\u30eb\u6280\u80fd\u30921\u3064\u305a\u3064\u7372\u5f97\u3059\u308b","\u30ab\u30a4\u30d6\u30c4\u3068\u3057\u3066\u306e\u81ea\u5206\u304c\u524d\u9762\u306b\u51fa\u3066\u3057\u307e\u3046\u3002\u6b21\u306b\u884c\u3046\u5224\u5b9a\u306e\u9593\u3001\u3059\u3079\u3066\u306e\u6280\u80fd\u3092\u4fee\u5f97\u3057\u3066\u3044\u306a\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u3046","\u5931\u6557\u3057\u3066\u3057\u307e\u3063\u305f\u304c\u3001\u305d\u308c\u304c\u304a\u5ba2\u69d8\u306b\u30a6\u30b1\u305f\u3002\u30ef\u30f3\u30c0\u30fc\u30c8\u30fc\u30af\u30f3\u30921\u500b\u7372\u5f97\u3059\u308b"])}).$freeze()),m.$register_prefix("\\d*BK",$(b,"TABLES").$keys())}(f[0],$(f,"Base"),f)}(f[0],f)}(i[0],i)}(Opal)}}]);