(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[7463],{27463:function(e,t,n){var r,c,a,l,i,u,$,s,o,f,p,_,h,m;n(93683),Opal.modules["bcdice/arithmetic_evaluator"]=function(e){var t,n,r,c,a,l,i,u,$=[],s=e.nil,o=e.$$$,f=e.$$,p=e.module,_=e.hash2,h=e.truthy;return t=$,n=u=[p($[0],"BCDice")].concat(t),i=[l=p(u[0],"ArithmeticEvaluator")].concat(n),r=e.get_singleton_class(l),a=[r].concat(i),void e.def(r,"$eval",c=function(t,n){var r,c=s;if(null==n)n=_([],{});else if(!n.$$is_hash)throw e.ArgumentError.$new("expected kwargs");return null==(r=n.$$smap.round_type)&&(r=o(f(a,"RoundType"),"FLOOR")),h(t)&&h(c=f(a,"Arithmetic").$eval(t,r))?c:0},c.$$arity=-2)},Opal.modules["bcdice/game_system/Cthulhu"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function c(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var u,$,s,o,f,p,_,h,m,C,g,d,b,y,R,B,v,x,E,k=[],S=e.nil,z=e.$$,w=e.module,A=e.klass,D=e.send2,O=e.truthy,G=e.send;return e.top.$require("bcdice/arithmetic_evaluator"),u=k,$=E=[w(k[0],"BCDice")].concat(u),s=x=[w(E[0],"GameSystem")].concat($),B=A(x[0],z(x,"Base"),"Cthulhu"),v=[B].concat(s),B.$$prototype.randomizer=B.$$prototype.locale=B.$$prototype.special_percentage=B.$$prototype.critical_percentage=B.$$prototype.fumble_percentage=S,e.const_set(v[0],"ID","Cthulhu"),e.const_set(v[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u8a71TRPG"),e.const_set(v[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3057\u3093\u308fTRPG"),e.const_set(v[0],"HELP_MESSAGE","c=\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024 \uff0f f=\u30d5\u30a1\u30f3\u30d6\u30eb\u5024 \uff0f s=\u30b9\u30da\u30b7\u30e3\u30eb\n\n1d100<=n    c\u30fbf\u30fbs\u3059\u3079\u3066\u30aa\u30d5\uff08\u5358\u7d14\u306a\u6570\u5024\u6bd4\u8f03\u5224\u5b9a\u306e\u307f\u884c\u3044\u307e\u3059\uff09\n\n\u30fbcfs\u5224\u5b9a\u4ed8\u304d\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\n\nCC\t 1d100\u30ed\u30fc\u30eb\u3092\u884c\u3046 c=1\u3001f=100\nCCB  \u540c\u4e0a\u3001c=5\u3001f=96\n\n\u4f8b\uff1aCC<=80  \uff08\u6280\u80fd\u502480\u3067\u884c\u70ba\u5224\u5b9a\u30021%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\u4f8b\uff1aCCB<=55 \uff08\u6280\u80fd\u502455\u3067\u884c\u70ba\u5224\u5b9a\u30025%\u30eb\u30fc\u30eb\u3067cf\u9069\u7528\uff09\n\n\u30fb\u7d44\u307f\u5408\u308f\u305b\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\u62b5\u6297\u8868\u30ed\u30fc\u30eb\u306b\u3064\u3044\u3066\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u5224\u5b9a\n\n\u30fbCC(x) c=1\u3001f=100\nx=\u6545\u969c\u30ca\u30f3\u30d0\u30fc\u3002\u51fa\u76eex\u4ee5\u4e0a\u304c\u51fa\u305f\u4e0a\u3067\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u5171\u306b\u51fa\u529b\u3059\u308b\uff08\u30c6\u30ad\u30b9\u30c8\u300c\u30d5\u30a1\u30f3\u30d6\u30eb\uff06\u6545\u969c\u300d\uff09\n\u30d5\u30a1\u30f3\u30d6\u30eb\u3067\u306a\u3044\u5834\u5408\u3001\u6210\u529f\u30fb\u5931\u6557\u306b\u95a2\u308f\u3089\u305a\u30c6\u30ad\u30b9\u30c8\u300c\u6545\u969c\u300d\u306e\u307f\u3092\u51fa\u529b\u3059\u308b\uff08\u6210\u529f\u30fb\u5931\u6557\u3092\u51fa\u529b\u305b\u305a\u3001\u4e0a\u66f8\u304d\u3057\u305f\u3082\u306e\u3092\u51fa\u529b\u3059\u308b\u5f62\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\u540c\u4e0a\n\n"),B.$register_prefix("CCB?","RESB?","CBRB?"),e.def(B,"$initialize",o=function(t){var n=this;return o.$$p&&(o.$$p=null),D(n,e.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[t],null),n.special_percentage=20,n.critical_percentage=1,n.fumble_percentage=1},o.$$arity=1),e.def(B,"$eval_game_system_specific_command",f=function(e){var t,n=this;return/CCB/i["$==="](t=e)?(n.critical_percentage=5,n.fumble_percentage=5,n.$getCheckResult(e)):/CC/i["$==="](t)?(n.critical_percentage=1,n.fumble_percentage=1,n.$getCheckResult(e)):/RESB/i["$==="](t)?(n.critical_percentage=5,n.fumble_percentage=5,n.$getRegistResult(e)):/CBRB/i["$==="](t)?(n.critical_percentage=5,n.fumble_percentage=5,n.$getCombineRoll(e)):/RES/i["$==="](t)?(n.critical_percentage=1,n.fumble_percentage=1,n.$getRegistResult(e)):/CBR/i["$==="](t)?(n.critical_percentage=1,n.fumble_percentage=1,n.$getCombineRoll(e)):S},f.$$arity=1),B.$private(),e.def(B,"$getCheckResult",p=function(a){var l,i=this,u=S,$=S,s=S,o=S,f=S,p=S;return u=/^CCB?(\d+)?(?:<=([+-\/*\d]+))?$/i.$match(a),O(u)?($=u["$[]"](1).$to_i(),s=z(v,"ArithmeticEvaluator").$eval(u["$[]"](2)),O(t(s,0))?(o=i.randomizer.$roll_once(100),z(v,"Result").$new("(1D100) \uff1e "+o)):(f="(1D100<="+s+")",O(n($,0))&&(f=r(f," "+i.$translate("Cthulhu.broken_number")+"["+$+"]")),o=i.randomizer.$roll_once(100),p=i.$compare(o,s,$),G(p.$to_result(),"tap",[],((l=function(t){var n;return null==t&&(t=S),n=[f+" \uff1e "+o+" \uff1e "+p.$text()],G(t,"text=",e.to_a(n)),n[c(n.length,1)]}).$$s=i,l.$$arity=1,l)))):S},p.$$arity=1),C=v,y=A(v[0],null,"CompareResult"),R=[y].concat(C),y.$include(z(R,"Translate")),y.$attr_accessor("success","failure","critical","fumble","special","broken"),e.def(y,"$initialize",g=function(e){var t=this;return t.locale=e,t.success=!1,t.failure=!1,t.critical=!1,t.fumble=!1,t.special=!1,t.broke=!1},g.$$arity=1),e.def(y,"$text",d=function(){var e,t=this,n=S;return O(O(e=t.$critical())?t.$special():e)?t.$translate("Cthulhu.critical_special"):O(t.$critical())?t.$translate("Cthulhu.critical"):O(t.$special())?t.$translate("Cthulhu.special"):O(t.$success())?t.$translate("success"):O(O(n=t.$broken())?t.$fumble():n)?t.$translate("Cthulhu.fumble")+"/"+t.$translate("Cthulhu.broken"):O(t.$broken())?t.$translate("Cthulhu.broken"):O(t.$fumble())?t.$translate("Cthulhu.fumble"):O(t.$failure())?t.$translate("failure"):S},d.$$arity=0),e.def(y,"$to_result",b=function(){var t;return G(z(R,"Result").$new(),"tap",[],((t=function(n){var r=null==t.$$s?this:t.$$s,a=S;return null==n&&(n=S),a=[r.$success()],G(n,"success=",e.to_a(a)),c(a.length,1),a=[r.$failure()],G(n,"failure=",e.to_a(a)),c(a.length,1),a=[r.$critical()],G(n,"critical=",e.to_a(a)),c(a.length,1),a=[r.$fumble()],G(n,"fumble=",e.to_a(a)),a[c(a.length,1)]}).$$s=this,t.$$arity=1,t))},b.$$arity=0),e.def(B,"$compare",_=function(r,u,$){var s,o,f,p,_=this,h=S;return null==$&&($=0),s=z(v,"CompareResult").$new(_.locale),o=function(e,t){return"number"==typeof e?e/100:e["$/"](100)}(a(u,_.special_percentage)).$to_i().$clamp(1,100),O(O(f=t(r,u))?l(r,100):f)?(G(s,"success=",e.to_a(h=[!0])),c(h.length,1),h=[t(r,o)],G(s,"special=",e.to_a(h)),c(h.length,1),h=[t(r,_.critical_percentage)],G(s,"critical=",e.to_a(h)),c(h.length,1)):(G(s,"failure=",e.to_a(h=[!0])),c(h.length,1),h=[i(r,c(101,_.fumble_percentage))],G(s,"fumble=",e.to_a(h)),c(h.length,1)),O(O(p=n($,0))?i(r,$):p)&&(G(s,"broken=",e.to_a(h=[!0])),c(h.length,1),G(s,"failure=",e.to_a(h=[!0])),c(h.length,1),G(s,"success=",e.to_a(h=[!1])),c(h.length,1),G(s,"special=",e.to_a(h=[!1])),c(h.length,1),G(s,"critical=",e.to_a(h=[!1])),c(h.length,1)),s},_.$$arity=-3),e.def(B,"$getRegistResult",h=function(t){var i,u=this,$=S,s=S,o=S,f=S,p=S;return $=/^RESB?(-?\d+)$/i.$match(t),O($)?(s=$["$[]"](1).$to_i(),o=r(a(s,5),50),O(l(o,5))?z(v,"Result").$failure("(1d100<="+o+") \uff1e "+u.$translate("Cthulhu.automatic_failure")):O(n(o,95))?z(v,"Result").$success("(1d100<="+o+") \uff1e "+u.$translate("Cthulhu.automatic_success")):(f=u.randomizer.$roll_once(100),p=u.$compare(f,o),G(p.$to_result(),"tap",[],((i=function(t){var n;return null==t&&(t=S),n=["(1d100<="+o+") \uff1e "+f+" \uff1e "+p.$text()],G(t,"text=",e.to_a(n)),n[c(n.length,1)]}).$$s=u,i.$$arity=1,i)))):S},h.$$arity=1),void e.def(B,"$getCombineRoll",m=function(t){var n,r=this,a=S,l=S,i=S,u=S,$=S,s=S,o=S,f=S,p=S;return a=/^CBR(B)?\((\d+),(\d+)\)$/i.$match(t),O(a)?(l=a["$[]"](2).$to_i(),i=a["$[]"](3).$to_i(),u=r.randomizer.$roll_once(100),$=r.$compare(u,l),s=r.$compare(u,i),o=O(O(f=$.$success())?s.$success():f)?r.$translate("success"):O(O(p=$.$success())?p:s.$success())?r.$translate("Cthulhu.partial_success"):r.$translate("failure"),G(z(v,"Result").$new(),"tap",[],((n=function(t){var n,r,a,f=S;return null==t&&(t=S),f=["(1d100<="+l+","+i+") \uff1e "+u+"["+$.$text()+","+s.$text()+"] \uff1e "+o],G(t,"text=",e.to_a(f)),c(f.length,1),f=[O(n=$.$critical())?n:s.$critical()],G(t,"critical=",e.to_a(f)),c(f.length,1),f=[O(r=$.$fumble())?r:s.$fumble()],G(t,"fumble=",e.to_a(f)),c(f.length,1),f=[O(a=$.$success())?a:s.$success()],G(t,"condition=",e.to_a(f)),f[c(f.length,1)]}).$$s=r,n.$$arity=1,n))):S},m.$$arity=1)},f=[],p=(r=Opal).$$,_=r.module,h=r.klass,m=r.send2,r.top.$require("bcdice/game_system/Cthulhu"),c=f,a=o=[_(f[0],"BCDice")].concat(c),l=s=[_(o[0],"GameSystem")].concat(a),$=[u=h(s[0],p(s,"Cthulhu"),"Cthulhu_Korean")].concat(l),r.const_set($[0],"ID","Cthulhu:Korean"),r.const_set($[0],"NAME","\ud06c\ud234\ub8e8"),r.const_set($[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud06c\ud234\ub8e8"),r.const_set($[0],"HELP_MESSAGE","c=\ud06c\ub9ac\ud2f0\uceec\uce58 \uff0f f=\ud38c\ube14\uce58 \uff0f s=\uc2a4\ud398\uc15c\n\n1d100<=n    c\u30fbf\u30fbs \ubaa8\ub450 \uc624\ud504\uff08\ub2e8\uc21c\ud558\uac8c \uc218\uce58\ub9cc\uc744 \ubf51\uc544\ub0bc \ub54c \uc0ac\uc6a9\uff09\n\n\u30fbcfs\uc774 \ubd99\ub294 \ud310\uc815\uc758 \ucee4\ub9e8\ub4dc\n\nCC\t 1d100 \ud310\uc815\uc744 \ud589\ud568 c=1\u3001f=100\nCCB  \uc704\uc640 \ub3d9\uc77c\u3001c=5\u3001f=96\n\n\uc608\uff1aCC<=80  \uff08\uae30\ub2a5\uce58 80\ub85c \ud589\ud718\ud310\uc815. 1%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\uc608\uff1aCCB<=55 \uff08\uae30\ub2a5\uce58 55\ub85c \ud589\ud718\ud310\uc815. 5%\ub8f0\uc73c\ub85c cf\uc801\uc6a9\uff09\n\n\u30fb\uacbd\uc6b0\uc758 \uc218 \ud310\uc815\uc5d0 \ub300\ud574\uc11c\n\nCBR(x,y)\tc=1\u3001f=100\nCBRB(x,y)\tc=5\u3001f=96\n\n\u30fb\uc800\ud56d \ud310\uc815\uc5d0 \ub300\ud574\uc11c\nRES(x-y)\tc=1\u3001f=100\nRESB(x-y)\tc=5\u3001f=96\n\n\u203b\uace0\uc7a5 \ub118\ubc84 \ud310\uc815\n\n\u30fbCC(x) c=1\u3001f=100\nx=\uace0\uc7a5 \ub118\ubc84. \uc8fc\uc0ac\uc704 \ub208x\uc774\uc0c1\uc774 \ub098\uc628 \ud6c4\uc5d0, \ud38c\ube14\uc774 \ub3d9\uc2dc\uc5d0 \ubc1c\uc0dd\ud588\uc744 \uacbd\uc6b0. \ubaa8\ub450 \ucd9c\ub825\ud55c\ub2e4. \uff08\ud14d\uc2a4\ud2b8 \u300c\ud38c\ube14\uff06\uace0\uc7a5\u300d\uff09\n\ud38c\ube14\uc774 \uc544\ub2cc \uacbd\uc6b0, \uc131\uacf5\u30fb\uc2e4\ud328\uc5d0 \uad00\ub828\ub418\uc9c0 \uc54a\uace0 \u300c\uace0\uc7a5\u300d\ub9cc\uc744 \ucd9c\ub825\ud55c\ub2e4. \uff08\uc131\uacf5\u30fb\uc2e4\ud328\ub97c \ucd9c\ub825\ud558\uc9c0 \uc54a\uace0 \ub367\uc4f0\uae30\ud55c \uac83\uc744 \ucd9c\ub825\ud558\ub294 \ud615\ud0dc\uff09\n\n\u30fbCCB(x) c=5\u3001f=96\n\uc704\uc640 \ub3d9\uc77c\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",i=function(e){var t=this;return i.$$p&&(i.$$p=null),m(t,r.find_super_dispatcher(t,"initialize",i,!1,!0),"initialize",[e],null),t.locale="ko_kr"},i.$$arity=1)}}]);