(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[8317],{1952:(ge,ye,be)=>{be(5151),Opal.modules["i18n/backend/fallbacks"]=function(e){var G,n,r,a,s,f,B=e.module,L=e.class_variable_set,c=e.truthy,z=e.class_variable_get,R=e.def,I=e.send,M=e.send2,q=e.find_super,S=e.hash2,P=e.find_block_super,D=e.neqeq,U=e.thrower,j=e.return_val,H=[],N=e.nil,x=e.$$$;return G=H,f=[s=B(H[0],"I18n")].concat(G),L(f[0],"@@fallbacks",N),n=e.get_singleton_class(s),r=[n].concat(f),a=e.$r(r),R(n,"$fallbacks",function(){var k=N;return L(r[1],"@@fallbacks",c(null!=r[1].$$cvars["@@fallbacks"]?"class variable":N)&&c(k=z(r[1],"@@fallbacks",!1))?k:x(x(a("I18n"),"Locale"),"Fallbacks").$new()),c(k=a("Thread").$current()["$[]"]("i18n_fallbacks"))?k:z(r[1],"@@fallbacks",!1)}),R(n,"$fallbacks=",function(A){var k;return L(r[1],"@@fallbacks",c(A["$is_a?"](a("Array")))?x(x(a("I18n"),"Locale"),"Fallbacks").$new(A):A),k=["i18n_fallbacks",z(r[1],"@@fallbacks",!1)],I(a("Thread").$current(),"[]=",k),k[k.length-1]}),function(n,w){var A,k,v,o,a=[B(n,"Backend")].concat(w);return A=a,v=[k=B(a[0],"Fallbacks")].concat(A),o=e.$r(v),R(k,"$translate",function p(l,h,u){try{var g=U("return"),_=p.$$p||N,C=this,F=N,y=N;return p.$$p=null,null==u&&(u=o("EMPTY_HASH")),c(u.$fetch("fallback",!0))?c(u["$[]"]("fallback_in_progress"))?M(C,q(C,"translate",p,!1,!0),"translate",[l,h,u],_):(c(u["$[]"]("default"))&&(F=C["$extract_non_symbol_default!"](u)),y=u.$merge(S(["fallback_in_progress"],{fallback_in_progress:!0})),I(o("I18n").$fallbacks()["$[]"](l),"each",[],function t(T){var i=null==t.$$s?this:t.$$s;null==T&&(T=N);try{return I(i,"catch",["exception"],function d(){var $=null==d.$$s?this:d.$$s,W=N;if(W=M($,P($,"translate",d.$$def||t.$$def||p,!1,!1),"translate",[T,h,y],null),c(W["$nil?"]()))return N;D(l.$to_s(),T.$to_s())&&$.$on_fallback(l,T,h,u),g.$throw(W)},{$$s:i,$$ret:g})}catch(d){if(!e.rescue(d,[x(o("I18n"),"InvalidLocale")]))throw d;try{return N}finally{e.pop_exception()}}},{$$s:C}),c(u["$key?"]("default"))&&c(u["$[]"]("default")["$nil?"]())?N:c(F)?M(C,q(C,"translate",p,!1,!0),"translate",[l,N,u.$merge(S(["default"],{default:F}))],null):C.$throw("exception",x(o("I18n"),"MissingTranslation").$new(l,h,u))):M(C,q(C,"translate",p,!1,!0),"translate",[l,h,u],_)}catch(t){if(t===g)return t.$v;throw t}},-3),R(k,"$extract_non_symbol_default!",function(l){var u,h=N;return h=[l["$[]"]("default")].$flatten(),u=I(h,"detect",[],function(_){return null==_&&(_=N),_["$is_a?"](o("Symbol"))["$!"]()}),c(u)&&l["$[]="]("default",h["$[]"](0,h.$index(u))),u}),R(k,"$exists?",function p(l,h,u){try{var g=U("return"),_=p.$$p||N,C=this;return p.$$p=null,null==u&&(u=o("EMPTY_HASH")),c(u.$fetch("fallback",!0))?(I(o("I18n").$fallbacks()["$[]"](l),"each",[],function F(y){var t=null==F.$$s?this:F.$$s;null==y&&(y=N);try{if(!c(M(t,P(t,"exists?",F.$$def||p,!1,!1),"exists?",[y,h],null)))return N;g.$throw(!0)}catch(T){if(!e.rescue(T,[x(o("I18n"),"InvalidLocale")]))throw T;try{return N}finally{e.pop_exception()}}},{$$s:C,$$ret:g}),!1):M(C,q(C,"exists?",p,!1,!0),"exists?",[l,h,u],_)}catch(F){if(F===g)return F.$v;throw F}},-3),k.$private(),R(k,"$on_fallback",j(N))}(f[0],f)},Opal.modules["bcdice/randomizer"]=function(e){var s,m,A,k,v,o,n,w,L=e.klass,c=e.const_set,z=e.def,R=e.truthy,I=e.rb_gt,M=e.rb_plus,q=e.rb_le,S=e.send,P=e.rb_minus,D=e.eqeq,U=e.rb_times,j=e.eqeqeq,H=e.rb_ge,N=[],x=e.nil,Y=e.$$$;return s=N,n=[(0,e.module)(N[0],"BCDice")].concat(s),w=e.$r(n),m=n,k=[A=L(n[0],null,"Randomizer")].concat(m),v=e.$r(k),(o=A.$$prototype).rand_results=o.detailed_rand_results=x,c(k[0],"UPPER_LIMIT_DICE_TIMES",200),c(k[0],"UPPER_LIMIT_DICE_SIDES",1e4),c(k[0],"UPPER_LIMIT_RANDS",1e4),z(A,"$initialize",function(){return this.rand_results=[],this.detailed_rand_results=[]}),A.$attr_reader("rand_results"),A.$attr_reader("detailed_rand_results"),c(k[0],"DetailedRandResult",v("Struct").$new("kind","sides","value")),z(A,"$roll_barabara",function(l,h){var u=this;return R(I(M(u.rand_results.$size(),l),v("UPPER_LIMIT_RANDS")))&&u.$raise(v("TooManyRandsError")),R(q(l,0))||R(I(l,v("UPPER_LIMIT_DICE_TIMES")))?[]:S(v("Array"),"new",[l],function g(){return(null==g.$$s?this:g.$$s).$roll_once(h)},{$$s:u})}),z(A,"$roll_sum",function(l,h){return this.$roll_barabara(l,h).$sum()}),z(A,"$roll_once",function(l){var u=x;return R(q(l,0))||R(I(l,v("UPPER_LIMIT_DICE_SIDES")))?0:(u=this.$rand_inner(l),this.$push_to_detail("normal",l,u),u)}),z(A,"$roll_index",function(l){return P(this.$roll_once(l),1)}),z(A,"$roll_tens_d10",function(){var u,h=x;return h=this.$rand_inner(10),D(h,10)&&(h=0),u=U(h,10),this.$push_to_detail("tens_d10",10,u),u}),z(A,"$roll_d9",function(){var h;return h=P(this.$rand_inner(10),1),this.$push_to_detail("d9",10,h),h}),z(A,"$roll_d66",function(l){var g,u=x;return u=S(v("Array"),"new",[2],function _(){return(null==_.$$s?this:_.$$s).$roll_once(6)},{$$s:this}),j(Y(v("D66SortType"),"ASC"),g=l)?u["$sort!"]():j(Y(v("D66SortType"),"DESC"),g)&&u["$sort!"]()["$reverse!"](),M(U(u["$[]"](0),10),u["$[]"](1))}),A.$private(),z(A,"$rand_inner",function(l){var u,h=this;return R(H(h.rand_results.$size(),v("UPPER_LIMIT_RANDS")))&&h.$raise(v("TooManyRandsError")),u=h.$random(l),h.rand_results["$<<"]([u,l]),u}),z(A,"$random",function(l){return M(v("Kernel").$rand(l),1)}),z(A,"$push_to_detail",function(l,h,u){var _;return _=v("DetailedRandResult").$new(l,h,u),this.detailed_rand_results.$push(_)}),L(n[0],w("StandardError"),"TooManyRandsError"),x},Opal.modules["bcdice/dice_table/roll_result"]=function(e){var S,j,G,s,f,n,w,N,D,B=e.module,L=e.klass,c=e.def,z=e.truthy,R=e.return_val,I=[],M=e.nil;return S=I,j=D=[B(I[0],"BCDice")].concat(S),G=N=[B(D[0],"DiceTable")].concat(j),f=[s=L(N[0],null,"RollResult")].concat(G),n=e.$r(f),(w=s.$$prototype).table_name=w.value=w.body=M,c(s,"$initialize",function(a,m,A){var k=this;return k.table_name=a,k.value=m,k.body=A}),s.$attr_reader("table_name"),s.$attr_reader("value"),s.$attr_reader("body"),c(s,"$to_s",function(){var a=this;return a.table_name+"("+a.value+") \uff1e "+a.body}),c(s,"$last_body",function(){var a=this;return z(a.body["$is_a?"](n("RollResult")))?a.body.$last_body():a.body}),c(s,"$empty?",R(!1))},Opal.modules["bcdice/dice_table/chain_table"]=function(e){var S,j,G,s,f,n,w,N,D,B=e.module,L=e.klass,c=e.truthy,z=e.def,R=e.rb_minus,I=[],M=e.nil;return S=I,j=D=[B(I[0],"BCDice")].concat(S),G=N=[B(D[0],"DiceTable")].concat(j),f=[s=L(N[0],null,"ChainTable")].concat(G),n=e.$r(f),(w=s.$$prototype).times=w.sides=w.items=w.name=M,z(s,"$initialize",function(a,m,A){var k=this,v=M;return k.name=a,k.items=A.$freeze(),v=/(\d+)D(\d+)/i.$match(m),c(v)||k.$raise(n("ArgumentError"),"Unexpected table type: "+m),k.times=v["$[]"](1).$to_i(),k.sides=v["$[]"](2).$to_i()}),z(s,"$roll",function(a){var A,k,m=this,v=M;return A=a.$roll_sum(m.times,m.sides),k=R(A,m.times),v=m.items["$[]"](k),c(v["$respond_to?"]("roll"))&&(v=v.$roll(a)),n("RollResult").$new(m.name,A,v)})},Opal.modules["bcdice/dice_table/d66_grid_table"]=function(e){var U,x,n,w,r,a,m,G,H,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.def,I=e.rb_plus,M=e.rb_times,q=e.rb_minus,S=[],P=e.nil;return U=S,x=H=[B(S[0],"BCDice")].concat(U),n=G=[B(H[0],"DiceTable")].concat(x),r=[w=L(G[0],null,"D66GridTable")].concat(n),a=e.$r(r),(m=w.$$prototype).name=m.items=P,z(w,"$from_i18n",function(k,v){var p=P;return p=a("I18n").$t(k,c(["locale","raise"],{locale:v,raise:!0})),this.$new(p["$[]"]("name"),p["$[]"]("items"))}),R(w,"$initialize",function(k,v){return this.name=k,this.items=v.$freeze()}),R(w,"$roll",function(k){var o,p,l,h,u;return o=k.$roll_once(6),p=k.$roll_once(6),l=I(M(o,10),p),h=q(o,1),u=q(p,1),a("RollResult").$new(this.name,l,this.items["$[]"](h)["$[]"](u))})},Opal.modules["bcdice/dice_table/d66_half_grid_table"]=function(e){var P,H,f,n,w,r,x,Y,U,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.def,M=[],q=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),P=M,H=U=[B(M[0],"BCDice")].concat(P),x=[B(U[0],"DiceTable")].concat(H),Y=e.$r(x),f=x,w=[n=L(x[0],Y("D66GridTable"),"D66HalfGridTable")].concat(f),r=e.$r(w),z(n,"$from_i18n",function(m,A){var v=q;return v=r("I18n").$t(m,c(["locale","raise"],{locale:A,raise:!0})),this.$new(v["$[]"]("name"),v["$[]"]("items_1_2_3"),v["$[]"]("items_4_5_6"))}),R(n,"$initialize",function(m,A,k){return this.name=m,this.items=[A,A,A,k,k,k].$freeze()})},Opal.modules["bcdice/dice_table/d66_one_third_table"]=function(e){var P,H,f,n,w,r,x,Y,U,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.def,M=[],q=e.nil;return e.top.$require("bcdice/dice_table/d66_grid_table"),P=M,H=U=[B(M[0],"BCDice")].concat(P),x=[B(U[0],"DiceTable")].concat(H),Y=e.$r(x),f=x,w=[n=L(x[0],Y("D66GridTable"),"D66OneThirdTable")].concat(f),r=e.$r(w),z(n,"$from_i18n",function(m,A){var v=q;return v=r("I18n").$t(m,c(["locale","raise"],{locale:A,raise:!0})),this.$new(v["$[]"]("name"),v["$[]"]("items_1_2"),v["$[]"]("items_3_4"),v["$[]"]("items_5_6"))}),R(n,"$initialize",function(m,A,k,v){return this.name=m,this.items=[A,A,k,k,v,v].$freeze()})},Opal.modules["bcdice/dice_table/d66_table"]=function(e){var H,G,r,a,m,A,k,f,x,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.def,I=e.eqeqeq,M=e.rb_plus,q=e.rb_times,S=e.truthy,P=[],D=e.nil,U=e.$$$;return H=P,G=x=[B(P[0],"BCDice")].concat(H),r=f=[B(x[0],"DiceTable")].concat(G),m=[a=L(f[0],null,"D66Table")].concat(r),A=e.$r(m),(k=a.$$prototype).sort_type=k.items=k.name=D,z(a,"$from_i18n",function(o,p){var u,h=D;return h=A("I18n").$t(o,c(["locale"],{locale:p})),u=A("D66SortType").$const_get(h["$[]"]("d66_sort_type")),this.$new(h["$[]"]("name"),u,h["$[]"]("items"))}),R(a,"$initialize",function(o,p,l){var h=this;return h.name=o,h.sort_type=p,h.items=l.$freeze()}),R(a,"$roll",function(o){var p=this,l=D,h=D,u=D,g=D;return l=o.$roll_barabara(2,6),I(U(A("D66SortType"),"ASC"),h=p.sort_type)?l["$sort!"]():I(U(A("D66SortType"),"DESC"),h)&&l["$sort!"]()["$reverse!"](),u=M(q(l["$[]"](0),10),l["$[]"](1)),g=S(h=p.items["$[]"](u))?h:p.items["$[]"](u.$to_s()),S(g["$respond_to?"]("roll"))&&(g=g.$roll(o)),A("RollResult").$new(p.name,u,g)}),R(a,"$choice",function(o){return A("RollResult").$new(this.name,o,this.items["$[]"](o))})},Opal.modules["bcdice/dice_table/d66_left_range_table"]=function(e){var N,s,n,w,Y,B=e.module,L=e.klass,c=e.hash2,z=e.send,R=e.to_ary,I=e.rb_plus,M=e.rb_times,q=e.send2,S=e.find_super,P=e.def,U=[],j=e.nil;return e.top.$require("bcdice/dice_table/d66_table"),N=U,s=Y=[B(U[0],"BCDice")].concat(N),n=[B(Y[0],"DiceTable")].concat(s),w=e.$r(n),P(L(n[0],w("D66Table"),"D66LeftRangeTable"),"$initialize",function A(k,v,o){var h;return A.$$p=null,h=c([],{}),z(o,"each",[],function(g){var _,y;return null==g&&(g=j),_=R(g),y=null==_[1]?j:_[1],z(null==_[0]?j:_[0],"each",[],function(T){return null==T&&(T=j),z(y,"each_with_index",[],function(d,$){var W,Q;return null==d&&(d=j),null==$&&($=j),Q=I(M(T,10),I($,1)),z(h,"[]=",W=[Q,d]),W[W.length-1]})})}),q(this,S(this,"initialize",A,!1,!0),"initialize",[k,v,h],null)})},Opal.modules["bcdice/dice_table/d66_parity_table"]=function(e){var j,Y,w,r,a,m,A,s,N,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.def,I=e.truthy,M=e.rb_minus,q=e.rb_plus,S=e.rb_times,P=[],D=e.nil;return j=P,Y=N=[B(P[0],"BCDice")].concat(j),w=s=[B(N[0],"DiceTable")].concat(Y),a=[r=L(s[0],null,"D66ParityTable")].concat(w),m=e.$r(a),(A=r.$$prototype).odd=A.even=A.name=D,z(r,"$from_i18n",function(v,o){var l=D;return l=m("I18n").$t(v,c(["locale","raise"],{locale:o,raise:!0})),this.$new(l["$[]"]("name"),l["$[]"]("odd"),l["$[]"]("even"))}),R(r,"$initialize",function(v,o,p){var l=this;return l.name=v,l.odd=o.$freeze(),l.even=p.$freeze()}),R(r,"$roll",function(v){var l,u,g,o=this,p=D;return p=v.$roll_once(6),l=v.$roll_once(6),u=(I(p["$odd?"]())?o.odd:o.even)["$[]"](M(l,1)),g=q(S(p,10),l),m("RollResult").$new(o.name,g,u)})},Opal.modules["bcdice/dice_table/d66_range_table"]=function(e){var P,H,s,f,n,w,r,x,U,B=e.module,L=e.klass,c=e.def,z=e.rb_plus,R=e.rb_times,I=e.send,M=[],q=e.nil;return P=M,H=U=[B(M[0],"BCDice")].concat(P),s=x=[B(U[0],"DiceTable")].concat(H),n=[f=L(x[0],null,"D66RangeTable")].concat(s),w=e.$r(n),(r=f.$$prototype).items=r.name=q,c(f,"$initialize",function(m,A){return this.name=m,this.items=A.$freeze()}),c(f,"$roll",function(m){var k,v,o,p=q;return k=m.$roll_once(6),v=m.$roll_once(6),o=z(R(k,10),v),p=I(this.items,"find",[],function(h){return null==h&&(h=q),h["$[]"](0)["$include?"](o)}),w("RollResult").$new(this.name,o,p["$[]"](1))})},Opal.modules["bcdice/dice_table/range_table"]=function(e){var j,Y,w,r,a,m,A,s,N,B=e.module,L=e.klass,c=e.const_set,z=e.send,R=e.truthy,I=e.def,M=e.eqeqeq,q=e.rb_times,S=e.rb_plus,P=[],D=e.nil;return j=P,Y=N=[B(P[0],"BCDice")].concat(j),w=s=[B(N[0],"DiceTable")].concat(Y),a=[r=L(s[0],null,"RangeTable")].concat(w),m=e.$r(a),(A=r.$$prototype).name=A.items=A.num_of_dice=A.num_of_sides=A.formatter=D,c(a[0],"RollResult",z(m("Struct"),"new",["sum","values","content","formatted"],function k(){return(null==k.$$s?this:k.$$s).$alias_method("to_s","formatted")},{$$s:r})),c(a[0],"Item",m("Struct").$new("range","content")),c(a[0],"DICE_ROLL_METHOD_RE",/^(\d+)D(\d+)$/i.$freeze()),c(a[0],"DEFAULT_FORMATTER",z(r,"lambda",[],function(v,o){return null==v&&(v=D),null==o&&(o=D),v.$name()+"("+o.$sum()+") \uff1e "+o.$content()})),r.$attr_reader("name"),r.$attr_reader("num_of_dice"),r.$attr_reader("num_of_sides"),I(r,"$initialize",function k(v,o,p){var u,l=k.$$p||D,h=this,g=D;return k.$$p=null,h.name=v.$freeze(),h.formatter=R(u=l)?u:m("DEFAULT_FORMATTER"),g=m("DICE_ROLL_METHOD_RE").$match(o),R(g)||h.$raise(m("ArgumentError"),h.name+": invalid dice roll method: "+o),h.num_of_dice=g["$[]"](1).$to_i(),h.num_of_sides=g["$[]"](2).$to_i(),h.$store(p)}),I(r,"$fetch",function(v){var p,o=this;return p=z(o.items,"find",[],function(h){return null==h&&(h=D),h.$range()["$include?"](v)}),R(p)||o.$raise(m("RangeError"),o.name+": value is out of range: "+v),p}),I(r,"$roll",function(v){var l,o=this,p=D,h=D;return l=(p=v.$roll_barabara(o.num_of_dice,o.num_of_sides)).$sum(),(h=m("RollResult").$new(l,p,o.$fetch(l).$content()))["$formatted="](o.formatter["$[]"](o,h)),h}),r.$private(),I(r,"$store",function(v){var p,l,o=this;return p=z(v,"map",[],function h(u,g){return null==u&&(u=D),null==g&&(g=D),[(null==h.$$s?this:h.$$s).$coerce_to_int_range(u),g]},{$$s:o}),l=z(p,"sort_by",[],function(u,g){return null==u&&(u=D),null==g&&(g=D),u.$min()}),o.$assert_min_sum_is_covered(l),o.$assert_max_sum_is_covered(l),o.$assert_no_gap_or_overlap_in_ranges(l),o.items=z(l,"map",[],function(u,g){return null==u&&(u=D),null==g&&(g=D),m("Item").$new(u,g.$freeze()).$freeze()}).$freeze(),o}),I(r,"$coerce_to_int_range",function(v){var p;return M(m("Integer"),p=v)?m("Range").$new(v,v):M(m("Range"),p)&&R(v.$begin()["$is_a?"](m("Integer")))&&R(v.$end()["$is_a?"](m("Integer")))?v:this.$raise(m("TypeError"),this.name+": "+v+" ("+v.$class()+") must be an Integer or a Range with Integers ")}),I(r,"$assert_min_sum_is_covered",function(v){var p,o=this,l=D;return p=o.num_of_dice,l=v.$first()["$[]"](0),R(l["$include?"](p))||o.$raise(m("RangeError"),o.name+": min value ("+p+") is not covered: "+l),o}),I(r,"$assert_max_sum_is_covered",function(v){var p,o=this,l=D;return p=q(o.num_of_dice,o.num_of_sides),l=v.$last()["$[]"](0),R(l["$include?"](p))||o.$raise(m("RangeError"),o.name+": max value ("+p+") is not covered: "+l),o}),I(r,"$assert_no_gap_or_overlap_in_ranges",function(v){return z(v,"each_cons",[2],function p(l,h){var C,F,u=null==p.$$s?this:p.$$s,g=D,_=D;return null==u.name&&(u.name=D),null==l&&(l=D),null==h&&(h=D),g=l["$[]"](0),_=h["$[]"](0),C=g.$max(),F=S(C,1),R(_["$include?"](C))&&u.$raise(m("RangeError"),u.name+": Range overlap: "+g+" and "+_),R(_["$include?"](F))?D:u.$raise(m("RangeError"),u.name+": Range gap: "+g+" and "+_)},{$$s:this}),this})},Opal.modules["bcdice/dice_table/sai_fic_skill_table/category"]=function(e){var D,N,f,m,A,k,v,w,Y,j,B=e.module,L=e.klass,c=e.send,z=e.def,R=e.rb_minus,I=e.return_ivar,M=[],q=e.nil,S=e.$$$;return D=M,N=j=[B(M[0],"BCDice")].concat(D),f=Y=[B(j[0],"DiceTable")].concat(N),m=w=[L(Y[0],null,"SaiFicSkillTable")].concat(f),k=[A=L(w[0],null,"Category")].concat(m),v=e.$r(k),z(A,"$initialize",function(p,l,h,u){var g=this;return g.name=p,g.skills=c(l.$map(),"with_index",[2],function(C,F){return null==C&&(C=q),null==F&&(F=q),S(v("SaiFicSkillTable"),"Skill").$new(p,C,h,F,u)}),g.dice=h}),z(A,"$roll",function(p){return this.$skills()["$[]"](R(p.$roll_sum(2,6),2))}),z(A,"$to_s",I("name")),A.$attr_reader("name","dice","skills")},Opal.modules["bcdice/dice_table/sai_fic_skill_table/skill"]=function(e){var q,U,Y,w,r,s,H,P,B=e.module,L=e.klass,c=e.def,z=e.hash2,R=[],I=e.nil;return q=R,U=P=[B(R[0],"BCDice")].concat(q),Y=H=[B(P[0],"DiceTable")].concat(U),s=[L(H[0],null,"SaiFicSkillTable")].concat(Y),(r=(w=L(s[0],null,"Skill")).$$prototype).s_format=r.category_dice=r.row_dice=r.category_name=r.name=I,c(w,"$initialize",function(m,A,k,v,o){var p=this;return p.category_name=m,p.name=A,p.category_dice=k,p.row_dice=v,p.s_format=o}),c(w,"$to_s",function(){var m=this;return m.$format(m.s_format,z(["category_dice","row_dice","category_name","skill_name"],{category_dice:m.category_dice,row_dice:m.row_dice,category_name:m.category_name,skill_name:m.name}))}),w.$attr_reader("category_name","name","category_dice","row_dice")},Opal.modules["bcdice/dice_table/sai_fic_skill_table"]=function(e){var s,r,v,o,p,l,h,m,n,B=e.module,L=e.klass,c=e.ensure_kwargs,z=e.hash2,R=e.send,M=e.defs,q=e.const_set,S=e.to_ary,P=e.def,D=e.truthy,U=e.rb_minus,j=e.rb_plus,H=e.top,N=[],x=e.nil,Y=e.$$$;return H.$require("bcdice/dice_table/sai_fic_skill_table/category"),H.$require("bcdice/dice_table/sai_fic_skill_table/skill"),s=N,r=n=[B(N[0],"BCDice")].concat(s),v=m=[B(n[0],"DiceTable")].concat(r),p=[o=L(m[0],null,"SaiFicSkillTable")].concat(v),l=e.$r(p),(h=o.$$prototype).rtt=h.rtt_format=h.rct=h.rct_format=h.rttn=h.rttn_format=h.categories=x,M(o,"$from_i18n",function(g,_,C){var F,y,t,$,d=x;return null==(F=(C=c(C)).$$smap.rtt)&&(F=x),null==(y=C.$$smap.rct)&&(y=x),null==(t=C.$$smap.rttn)&&(t=x),$=(d=l("I18n").$t("RTT",z(["locale","raise","default"],{locale:_,raise:!1,default:z([],{})})).$merge(l("I18n").$t(g,z(["locale","raise"],{locale:_,raise:!0}))))["$[]"]("items"),d=R(d,"select",[],function(Q,V){return null==Q&&(Q=x),null==V&&(V=x),["rtt_format","rttn_format","rct_format","s_format"]["$include?"](Q)}),this.$new($,e.to_hash(d).$merge(z(["rtt","rct","rttn"],{rtt:F,rct:y,rttn:t})))},-3),q(p[0],"DEFAULT_RTT","\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<text>s"),q(p[0],"DEFAULT_RCT","\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868(%<category_dice>d) \uff1e %<category_name>s"),q(p[0],"DEFAULT_RTTN","%<category_name>s\u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868(%<row_dice>d) \uff1e %<text>s"),q(p[0],"DEFAULT_S","\u300a%<skill_name>s\uff0f%<category_name>s%<row_dice>d\u300b"),P(o,"$initialize",function(g,_){var C,F,y,t,T,i,d,$=this;return null==(C=(_=c(_)).$$smap.rtt)&&(C=x),null==(F=_.$$smap.rct)&&(F=x),null==(y=_.$$smap.rttn)&&(y=x),null==(t=_.$$smap.rtt_format)&&(t=l("DEFAULT_RTT")),null==(T=_.$$smap.rct_format)&&(T=l("DEFAULT_RCT")),null==(i=_.$$smap.rttn_format)&&(i=l("DEFAULT_RTTN")),null==(d=_.$$smap.s_format)&&(d=l("DEFAULT_S")),$.categories=R(g.$map(),"with_index",[1],function(Q,V){var ie,_e,ne;return null==Q&&(Q=x),null==V&&(V=x),_e=null==(ie=S(Q))[0]?x:ie[0],ne=null==ie[1]?x:ie[1],Y(l("SaiFicSkillTable"),"Category").$new(_e,ne,V,d)},{$$has_top_level_mlhs_arg:!0}),$.rtt=C,$.rct=F,$.rttn=y.$to_a(),$.rtt_format=t,$.rct_format=T,$.rttn_format=i},-2),q(p[0],"RTTN",["RTT1","RTT2","RTT3","RTT4","RTT5","RTT6"].$freeze()),o.$attr_reader("categories"),P(o,"$roll_command",function(g,_){var F,C=this,y=x,t=x;return D(["RTT",C.rtt]["$include?"](F=_))?C.$format_skill(C.rtt_format,C.$roll_skill(g)):D(["RCT",C.rct]["$include?"](F))?(y=C.$roll_category(g),C.$format(C.rct_format,z(["category_dice","category_name"],{category_dice:y.$dice(),category_name:y.$name()}))):D(t=l("RTTN").$index(F))||D(t=C.rttn.$index(F))?C.$format_skill(C.rttn_format,C.categories["$[]"](t).$roll(g)):x}),P(o,"$roll_category",function(g){return this.categories["$[]"](U(g.$roll_once(6),1))}),P(o,"$roll_skill",function(g){return this.$roll_category(g).$roll(g)}),P(o,"$prefixes",function(){var g=this;return j(["RTT[1-6]?","RCT",g.rtt,g.rct],g.rttn).$compact()}),o.$private(),P(o,"$format_skill",function(g,_){return this.$format(g,z(["category_dice","row_dice","category_name","skill_name","text"],{category_dice:_.$category_dice(),row_dice:_.$row_dice(),category_name:_.$category_name(),skill_name:_.$name(),text:_.$to_s()}))})},Opal.modules["bcdice/dice_table/table"]=function(e){var D,N,f,n,w,r,a,Y,j,B=e.module,L=e.klass,c=e.hash2,z=e.defs,R=e.truthy,I=e.def,M=e.rb_minus,q=[],S=e.nil;return D=q,N=j=[B(q[0],"BCDice")].concat(D),f=Y=[B(j[0],"DiceTable")].concat(N),w=[n=L(Y[0],null,"Table")].concat(f),r=e.$r(w),(a=n.$$prototype).times=a.sides=a.name=a.items=S,z(n,"$from_i18n",function(A,k){var o=S;return o=r("I18n").$t(A,c(["locale"],{locale:k})),this.$new(o["$[]"]("name"),o["$[]"]("type"),o["$[]"]("items"))}),I(n,"$initialize",function(A,k,v){var o=this,p=S;return o.name=A,o.items=v.$freeze(),p=/(\d+)D(\d+)/i.$match(k),R(p)||o.$raise(r("ArgumentError"),"Unexpected table type: "+k),o.times=p["$[]"](1).$to_i(),o.sides=p["$[]"](2).$to_i()}),I(n,"$roll",function(A){var v,k=this;return v=A.$roll_sum(k.times,k.sides),k.$choice(v)}),I(n,"$choice",function(A){var v,k=this;return v=M(A,k.times),r("RollResult").$new(k.name,A,k.items["$[]"](v))})},Opal.modules["bcdice/dice_table"]=function(e){var B=e.top;return B.$require("bcdice/dice_table/roll_result"),B.$require("bcdice/dice_table/chain_table"),B.$require("bcdice/dice_table/d66_grid_table"),B.$require("bcdice/dice_table/d66_half_grid_table"),B.$require("bcdice/dice_table/d66_one_third_table"),B.$require("bcdice/dice_table/d66_left_range_table"),B.$require("bcdice/dice_table/d66_parity_table"),B.$require("bcdice/dice_table/d66_range_table"),B.$require("bcdice/dice_table/d66_table"),B.$require("bcdice/dice_table/range_table"),B.$require("bcdice/dice_table/sai_fic_skill_table"),B.$require("bcdice/dice_table/table")},Opal.modules["bcdice/enum"]=function(e){var I,P,U,q,B=e.module,L=e.const_set,c=[];return I=c,P=q=[B(c[0],"BCDice")].concat(I),U=[B(q[0],"D66SortType")].concat(P),L(U[0],"NO_SORT","no_sort"),L(U[0],"ASC","asc"),L(U[0],"DESC","desc"),function(S,P){var U=[B(S,"RoundType")].concat(P);return L(U[0],"CEIL","ceil"),L(U[0],"FLOOR","floor"),L(U[0],"ROUND","round")}(q[0],q)},Opal.modules["bcdice/translate"]=function(e){var P,H,N,x,Y,U,B=e.module,L=e.ensure_kwargs,c=e.kwrestargs,R=e.hash2,I=e.def,M=[],q=e.nil;return P=M,H=U=[B(M[0],"BCDice")].concat(P),x=[N=B(U[0],"Translate")].concat(H),Y=e.$r(x),I(N,"$translate",function(s,f){var n,w=this;return null==w.locale&&(w.locale=q),f=L(f),n=c(f,{}),Y("I18n").$translate(s,R(["locale","raise"],{locale:w.locale,raise:!0}).$merge(e.to_hash(n)))},-2)},Opal.modules["bcdice/result"]=function(e){var N,G,x,P,U,L=e.klass,c=e.send,z=e.def,R=e.return_val,I=e.return_ivar,M=[],q=e.nil;return P=M,N=U=[(0,e.module)(M[0],"BCDice")].concat(P),[x=L(U[0],null,"Result")].concat(N),z(G=e.get_singleton_class(x),"$success",function(n){return c(this.$new(),"tap",[],function(a){var m;return null==a&&(a=q),a["$text="](n),c(a,"success=",m=[!0]),m[m.length-1]})}),z(G,"$failure",function(n){return c(this.$new(),"tap",[],function(a){var m;return null==a&&(a=q),a["$text="](n),c(a,"failure=",m=[!0]),m[m.length-1]})}),z(G,"$critical",function(n){return c(this.$new(),"tap",[],function(a){var m;return null==a&&(a=q),a["$text="](n),a["$critical="](!0),c(a,"success=",m=[!0]),m[m.length-1]})}),z(G,"$fumble",function(n){return c(this.$new(),"tap",[],function(a){var m;return null==a&&(a=q),a["$text="](n),a["$fumble="](!0),c(a,"failure=",m=[!0]),m[m.length-1]})}),z(G,"$nothing",R("nothing")),z(x,"$initialize",function(s){var f=this;return null==s&&(s=q),f.text=s,f.rands=q,f.detailed_rands=q,f.secret=!1,f.success=!1,f.failure=!1,f.critical=!1,f.fumble=!1},-1),x.$attr_accessor("text","rands","detailed_rands"),x.$attr_writer("secret","success","failure","critical","fumble"),z(x,"$secret?",I("secret")),z(x,"$success?",I("success")),z(x,"$failure?",I("failure")),z(x,"$critical?",I("critical")),z(x,"$fumble?",I("fumble")),z(x,"$condition=",function(s){return this.success=s,this.failure=s["$!"]()})},Opal.modules["racc/parser"]=function(e){var A,v,o,B=e.module,L=e.klass,c=e.truthy,z=e.const_set,R=e.defs,I=e.gvars,M=e.rb_lt,q=e.def,S=e.to_ary,P=e.send,D=e.neqeq,U=e.rb_plus,j=e.eqeq,H=e.rb_ge,N=e.rb_gt,x=e.rb_minus,Y=e.rb_le,G=e.rb_times,s=e.assign_ivar_val,n=[],w=e.$r(n),r=e.nil,a=e.$$$;return A=n,v=[B(n[0],"Racc")].concat(A),o=e.$r(v),L(v[0],o("StandardError"),"ParseError"),c(a("::","ParseError","skip_raise")?"constant":r)||z(n[0],"ParseError",a(w("Racc"),"ParseError")),function(m,A){var u,g,_,C,F,o=[B(m,"Racc")].concat(A),p=e.$r(o);return c(p("Racc_No_Extensions","skip_raise")?"constant":r)||z(o[0],"Racc_No_Extensions",!1),u=o,_=[g=L(o[0],null,"Parser")].concat(u),C=e.$r(_),(F=g.$$prototype).yydebug=F.racc_debug_out=F.racc_error_status=F.racc_t=F.racc_vstack=F.racc_val=F.racc_state=F.racc_tstack=r,z(_[0],"Racc_Runtime_Version","1.4.6"),z(_[0],"Racc_Runtime_Revision",["originalRevision:","1.8"]["$[]"](1)),z(_[0],"Racc_Runtime_Core_Version_R","1.4.6"),z(_[0],"Racc_Runtime_Core_Revision_R",["originalRevision:","1.8"]["$[]"](1)),z(_[0],"Racc_Main_Parsing_Routine","_racc_do_parse_rb"),z(_[0],"Racc_YY_Parse_Method","_racc_yyparse_rb"),z(_[0],"Racc_Runtime_Core_Version",C("Racc_Runtime_Core_Version_R")),z(_[0],"Racc_Runtime_Core_Revision",C("Racc_Runtime_Core_Revision_R")),z(_[0],"Racc_Runtime_Type","ruby"),R(C("Parser"),"$racc_runtime_type",function(){return C("Racc_Runtime_Type")}),q(g,"$_racc_setup",function(){var t,T,i=this,d=r,$=r;return null==I.stderr&&(I.stderr=r),c(a(i.$class(),"Racc_debug_parser"))||(i.yydebug=!1),c(null!=(t=i.yydebug)&&t!==r?"instance-variable":r)||(i.yydebug=!1),c(i.yydebug)&&(c(null!=(T=i.racc_debug_out)&&T!==r?"instance-variable":r)||(i.racc_debug_out=I.stderr),i.racc_debug_out=c(d=i.racc_debug_out)?d:I.stderr),$=a(i.$class(),"Racc_arg"),c(M($.$size(),14))&&$["$[]="](13,!0),$}),q(g,"$_racc_init_sysvars",function(){var t=this;return t.racc_state=[0],t.racc_tstack=[],t.racc_vstack=[],t.racc_t=r,t.racc_val=r,t.racc_read_next=!0,t.racc_user_yyerror=!1,t.racc_error_status=0}),q(g,"$do_parse",function(){return this.$__send__(C("Racc_Main_Parsing_Routine"),this.$_racc_setup(),!1)}),q(g,"$next_token",function(){return this.$raise(C("NotImplementedError"),this.$class()+"#next_token is not defined")}),q(g,"$_racc_do_parse_rb",function(t,T){var i,$=this,W=r,Q=r,V=r,ie=r,_e=r,ne=r,ue=r,ae=r;return i=S(t),W=null==i[0]?r:i[0],Q=null==i[1]?r:i[1],V=null==i[2]?r:i[2],ie=null==i[3]?r:i[3],_e=null==i[10]?r:i[10],$.$_racc_init_sysvars(),ne=ue=ae=r,P($,"catch",["racc_end_parse"],function re(){var se,K,b=null==re.$$s?this:re.$$s,Z=r;for(null==b.racc_state&&(b.racc_state=r),null==b.racc_read_next&&(b.racc_read_next=r),null==b.racc_t&&(b.racc_t=r),null==b.yydebug&&(b.yydebug=r),null==b.racc_val&&(b.racc_val=r);c(!0);)for(c(ae=ie["$[]"](b.racc_state["$[]"](-1)))?(c(b.racc_read_next)&&D(b.racc_t,0)&&(K=b.$next_token(),se=S(K),ne=null==se[0]?r:se[0],b.racc_val=null==se[1]?r:se[1],b.racc_t=c(ne)?c(Z=_e["$[]"](ne))?Z:1:0,c(b.yydebug)&&b.$racc_read_token(b.racc_t,ne,b.racc_val),b.racc_read_next=!1),ae=U(ae,b.racc_t),c(H(ae,0))&&c(ue=W["$[]"](ae))&&j(Q["$[]"](ae),b.racc_state["$[]"](-1))||(ue=V["$[]"](b.racc_state["$[]"](-1)))):ue=V["$[]"](b.racc_state["$[]"](-1));c(ue=b.$_racc_evalact(ue,t)););},{$$s:$})}),q(g,"$yyparse",function(t,T){return this.$__send__(C("Racc_YY_Parse_Method"),t,T,this.$_racc_setup(),!0)}),q(g,"$_racc_yyparse_rb",function(t,T,i,d){var $,Q=this,V=r,ie=r,$e=r,_e=r,ue=r,ae=r,re=r;return $=S(i),V=null==$[0]?r:$[0],ie=null==$[1]?r:$[1],$e=null==$[2]?r:$[2],_e=null==$[3]?r:$[3],ue=null==$[10]?r:$[10],Q.$_racc_init_sysvars(),ae=r,re=r,P(Q,"catch",["racc_end_parse"],function se(){var K=null==se.$$s?this:se.$$s;for(null==K.racc_state&&(K.racc_state=r);!c(re=_e["$[]"](K.racc_state["$[]"](-1)));)for(;c(ae=K.$_racc_evalact($e["$[]"](K.racc_state["$[]"](-1)),i)););return P(t,"__send__",[T],function b(Z,X){var E=null==b.$$s?this:b.$$s,O=r,te=r;for(null==E.racc_t&&(E.racc_t=r),null==E.racc_state&&(E.racc_state=r),null==E.racc_read_next&&(E.racc_read_next=r),null==Z&&(Z=r),null==X&&(X=r),E.racc_t=c(Z)?c(O=ue["$[]"](Z))?O:1:0,E.racc_val=X,E.racc_read_next=!1,re=U(re,E.racc_t),c(H(re,0))&&c(ae=V["$[]"](re))&&j(ie["$[]"](re),E.racc_state["$[]"](-1))||(ae=$e["$[]"](E.racc_state["$[]"](-1)));c(ae=E.$_racc_evalact(ae,i)););for(;c(c(O=c(te=(re=_e["$[]"](E.racc_state["$[]"](-1)))["$!"]())?te:E.racc_read_next["$!"]())?O:E.racc_t["$=="](0));)for(c(re)&&c(re=U(re,E.racc_t))&&c(H(re,0))&&c(ae=V["$[]"](re))&&j(ie["$[]"](re),E.racc_state["$[]"](-1))||(ae=$e["$[]"](E.racc_state["$[]"](-1)));c(ae=E.$_racc_evalact(ae,i)););},{$$s:K})},{$$s:Q})}),q(g,"$_racc_evalact",function(t,T){var i,$e,$=this,W=r,Q=r,ie=r,_e=r,ne=r,ue=r;if(W=null==(i=S(T))[0]?r:i[0],Q=null==i[1]?r:i[1],ie=null==i[3]?r:i[3],$e=null==i[11]?r:i[11],_e=null==i[12]?r:i[12],c(N(t,0))&&c(M(t,$e)))c(N($.racc_error_status,0))&&(j($.racc_t,1)||($.racc_error_status=x($.racc_error_status,1))),$.racc_vstack.$push($.racc_val),$.racc_state.$push(t),$.racc_read_next=!0,c($.yydebug)&&($.racc_tstack.$push($.racc_t),$.$racc_shift($.racc_t,$.racc_tstack,$.racc_vstack));else if(c(M(t,0))&&c(N(t,_e["$-@"]()))){if(ne=P($,"catch",["racc_jump"],function ae(){var re=null==ae.$$s?this:ae.$$s;return null==re.racc_state&&(re.racc_state=r),re.racc_state.$push(re.$_racc_do_reduce(T,t)),!1},{$$s:$}),c(ne))switch(ne.valueOf()){case 1:return $.racc_user_yyerror=!0,_e["$-@"]();case 2:return $e;default:$.$raise("[Racc Bug] unknown jump code")}}else if(j(t,$e))c($.yydebug)&&$.$racc_accept(),$.$throw("racc_end_parse",$.racc_vstack["$[]"](0));else{if(j(t,_e["$-@"]())){switch($.racc_error_status.valueOf()){case 0:c(T["$[]"](21))||$.$on_error($.racc_t,$.racc_val,$.racc_vstack);break;case 3:j($.racc_t,0)&&$.$throw("racc_end_parse",r),$.racc_read_next=!0}for($.racc_user_yyerror=!1,$.racc_error_status=3;c(!0)&&!(c(ue=ie["$[]"]($.racc_state["$[]"](-1)))&&(ue=U(ue,1),c(H(ue,0))&&c(t=W["$[]"](ue))&&j(Q["$[]"](ue),$.racc_state["$[]"](-1))));)c(Y($.racc_state.$size(),1))&&$.$throw("racc_end_parse",r),$.racc_state.$pop(),$.racc_vstack.$pop(),c($.yydebug)&&($.racc_tstack.$pop(),$.$racc_e_pop($.racc_state,$.racc_tstack,$.racc_vstack));return t}$.$raise("[Racc Bug] unknown action "+t.$inspect())}return c($.yydebug)&&$.$racc_next_state($.racc_state["$[]"](-1),$.racc_state),r}),q(g,"$_racc_do_reduce",function(t,T){var i,_e,ue,Z,X,E,ee,$=this,Q=r,V=r,ie=r,$e=r,ne=r,ae=r,re=r,se=r,K=r,b=r,O=r,te=r,J=r;return Q=null==(i=S(t))[4]?r:i[4],V=null==i[5]?r:i[5],ie=null==i[6]?r:i[6],$e=null==i[7]?r:i[7],_e=null==i[8]?r:i[8],ne=null==i[9]?r:i[9],ue=null==i[13]?r:i[13],ae=$.racc_state,re=$.racc_vstack,se=$.racc_tstack,K=G(T,-3),b=ne["$[]"](K),Z=ne["$[]"](U(K,1)),X=ne["$[]"](U(K,2)),E=[],c($.yydebug)&&(O=se["$[]"](b["$-@"](),b)),te=re["$[]"](b["$-@"](),b),c($.yydebug)&&se["$[]="](b["$-@"](),b,E),re["$[]="](b["$-@"](),b,E),ae["$[]="](b["$-@"](),b,E),c(ue)?re.$push($.$__send__(X,te,re,te["$[]"](0))):re.$push($.$__send__(X,te,re)),se.$push(Z),c($.yydebug)&&$.$racc_reduce(O,Z,se,re),ee=x(Z,_e),c(K=$e["$[]"](ee))&&(K=U(K,ae["$[]"](-1)),c(H(K,0))&&c(J=Q["$[]"](K))&&j(V["$[]"](K),ee))?J:ie["$[]"](ee)}),q(g,"$on_error",function(t,T,i){var $,d=this;return d.$raise(C("ParseError"),d.$sprintf("\nparse error on value %s (%s)",T.$inspect(),c($=d.$token_to_str(t))?$:"?"))}),q(g,"$yyerror",function(){return this.$throw("racc_jump",1)}),q(g,"$yyaccept",function(){return this.$throw("racc_jump",2)}),q(g,"$yyerrok",s("racc_error_status",0)),q(g,"$racc_read_token",function(t,T,i){var d=this;return d.racc_debug_out.$print("read    "),d.racc_debug_out.$print(T.$inspect(),"(",d.$racc_token2str(t),") "),d.racc_debug_out.$puts(i.$inspect()),d.racc_debug_out.$puts()}),q(g,"$racc_shift",function(t,T,i){var d=this;return d.racc_debug_out.$puts("shift   "+d.$racc_token2str(t)),d.$racc_print_stacks(T,i),d.racc_debug_out.$puts()}),q(g,"$racc_reduce",function(t,T,i,d){var $=this,W=r;return(W=$.racc_debug_out).$print("reduce "),c(t["$empty?"]())?W.$print(" <none>"):P(t,"each",[],function Q(V){return null==V&&(V=r),W.$print(" ",(null==Q.$$s?this:Q.$$s).$racc_token2str(V))},{$$s:$}),W.$puts(" --\x3e "+$.$racc_token2str(T)),$.$racc_print_stacks(i,d),$.racc_debug_out.$puts()}),q(g,"$racc_accept",function(){return this.racc_debug_out.$puts("accept"),this.racc_debug_out.$puts()}),q(g,"$racc_e_pop",function(t,T,i){var d=this;return d.racc_debug_out.$puts("error recovering mode: pop token"),d.$racc_print_states(t),d.$racc_print_stacks(T,i),d.racc_debug_out.$puts()}),q(g,"$racc_next_state",function(t,T){var i=this;return i.racc_debug_out.$puts("goto    "+t),i.$racc_print_states(T),i.racc_debug_out.$puts()}),q(g,"$racc_print_stacks",function(t,T){var d=r;return(d=this.racc_debug_out).$print("        ["),P(t,"each_index",[],function $(W){return null==W&&(W=r),d.$print(" (",(null==$.$$s?this:$.$$s).$racc_token2str(t["$[]"](W))," ",T["$[]"](W).$inspect(),")")},{$$s:this}),d.$puts(" ]")}),q(g,"$racc_print_states",function(t){var i=r;return(i=this.racc_debug_out).$print("        ["),P(t,"each",[],function($){return null==$&&($=r),i.$print(" ",$)}),i.$puts(" ]")}),q(g,"$racc_token2str",function(t){var i;return c(i=a(this.$class(),"Racc_token_to_s_table")["$[]"](t))?i:this.$raise("[Racc Bug] can't convert token "+t+" to string")}),q(g,"$token_to_str",function(t){return a(this.$class(),"Racc_token_to_s_table")["$[]"](t)})}(n[0],n)},Opal.modules["bcdice/arithmetic/node"]=function(e){var s,r,k,u,g,o,p,m,n,B=e.module,L=e.klass,c=e.def,z=e.thrower,R=e.return_ivar,I=e.send2,M=e.find_super,q=e.eqeq,S=e.const_set,P=e.eqeqeq,D=e.rb_divide,U=e.truthy,j=e.assign_ivar,H=e.alias,N=[],x=e.nil,Y=e.$$$;return s=N,r=n=[B(N[0],"BCDice")].concat(s),k=m=[B(n[0],"Arithmetic")].concat(r),o=[B(m[0],"Node")].concat(k),p=e.$r(o),(g=(u=L(o[0],null,"BinaryOp")).$$prototype).lhs=g.rhs=g.op=x,c(u,"$initialize",function(C,F,y){var t=this;return t.lhs=C,t.op=F,t.rhs=y}),c(u,"$eval",function(C){try{z("eval_return");var T,y=this,t=x;return t=y.lhs.$eval(C),T=y.rhs.$eval(C),t.$send(y.op,T)}catch(i){if(i===e.t_eval_return)return i.$v;throw i}}),c(u,"$output",function(){var C=this;return""+C.lhs.$output()+C.op+C.rhs.$output()}),c(u,"$s_exp",function(){var C=this;return"("+C.$op_for_s_exp()+" "+C.lhs.$s_exp()+" "+C.rhs.$s_exp()+")"}),c(u,"$op_for_s_exp",R("op")),function(l,h,u){var g=L(l,h,"DivideBase"),_=[g].concat(u),C=e.$r(_),F=g.$$prototype;F.lhs=F.rhs=F.op=x,c(g,"$initialize",function y(t,T){return y.$$p=null,I(this,M(this,"initialize",y,!1,!0),"initialize",[t,"/",T],null)}),c(g,"$eval",function(t){try{z("eval_return");var d,$,i=this;return d=i.lhs.$eval(t),$=i.rhs.$eval(t),q($,0)&&i.$raise(C("ZeroDivisionError")),i.$divide_and_round(d,$,t)}catch(W){if(W===e.t_eval_return)return W.$v;throw W}}),c(g,"$output",function y(){var t=y.$$p||x,T=this;return y.$$p=null,""+I(T,M(T,"output",y,!1,!0),"output",[],t)+T.$rounding_method()}),g.$private(),c(g,"$rounding_method",function(){return Y(this.$class(),"ROUNDING_METHOD")}),c(g,"$op_for_s_exp",function(){return""+this.op+this.$rounding_method()}),c(g,"$divide_and_round",function(t,T,i){return this.$raise(C("NotImplementedError"))})}(o[0],p("BinaryOp"),o),function(l,h,u){var g=L(l,h,"DivideWithGameSystemDefault"),_=[g].concat(u),C=e.$r(_);S(_[0],"ROUNDING_METHOD",""),g.$private(),c(g,"$divide_and_round",function(y,t,T){var i,d=x;return P(Y(C("RoundType"),"CEIL"),i=T)?D(y.$to_f(),t).$ceil():P(Y(C("RoundType"),"ROUND"),i)?(d=D(y.$to_f(),t),U(d["$negative?"]())?d.$abs().$round()["$-@"]():d.$round()):D(y,t).$floor()})}(o[0],p("DivideBase"),o),function(l,h,u){var g=L(l,h,"DivideWithCeil"),_=[g].concat(u);S(_[0],"ROUNDING_METHOD","C"),g.$private(),c(g,"$divide_and_round",function(F,y,t){return D(F.$to_f(),y).$ceil()})}(o[0],p("DivideBase"),o),function(l,h,u){var g=L(l,h,"DivideWithRound"),_=[g].concat(u);S(_[0],"ROUNDING_METHOD","R"),g.$private(),c(g,"$divide_and_round",function(F,y,t){var T=x;return T=D(F.$to_f(),y),U(T["$negative?"]())?T.$abs().$round()["$-@"]():T.$round()})}(o[0],p("DivideBase"),o),function(l,h,u){var g=L(l,h,"DivideWithFloor"),_=[g].concat(u);S(_[0],"ROUNDING_METHOD","F"),g.$private(),c(g,"$divide_and_round",function(F,y,t){return D(F,y).$floor()})}(o[0],p("DivideBase"),o),function(l,h){var u=L(l,null,"Negative");u.$$prototype.body=x,c(u,"$initialize",j("body")),c(u,"$eval",function(C){try{return z("eval_return"),this.body.$eval(C)["$-@"]()}catch(t){if(t===e.t_eval_return)return t.$v;throw t}}),c(u,"$output",function(){return"-"+this.body.$output()}),c(u,"$s_exp",function(){return"(- "+this.body.$s_exp()+")"})}(o[0]),function(l,h){var u=L(l,null,"Parenthesis");u.$$prototype.expr=x,c(u,"$initialize",j("expr")),c(u,"$eval",function(C){try{return z("eval_return"),this.expr.$eval(C)}catch(t){if(t===e.t_eval_return)return t.$v;throw t}}),c(u,"$output",function(){return"("+this.expr.$output()+")"}),c(u,"$s_exp",function(){return"(Parenthesis "+this.expr.$s_exp()+")"})}(o[0]),function(l,h){var u=L(l,null,"Number");return u.$$prototype.value=x,c(u,"$initialize",j("value")),c(u,"$eval",R("value")),c(u,"$output",function(){return this.value.$to_s()}),H(u,"s_exp","output")}(o[0])},Opal.modules.strscan=function(e){var j,H,N,x,Y,L=e.def,c=e.truthy,z=e.eqeqeq,R=e.Opal,I=e.return_ivar,M=e.send,q=e.alias,S=[],P=e.nil;return j=S,N=[H=(0,e.klass)(S[0],null,"StringScanner")].concat(j),x=e.$r(N),(Y=H.$$prototype).pos=Y.string=Y.working=Y.matched=Y.prev_pos=Y.match=P,H.$attr_reader("pos","matched"),L(H,"$initialize",function(s){var f=this;return f.string=s,f.pos=0,f.matched=P,f.working=s,f.match=[]}),H.$attr_reader("string"),L(H,"$beginning_of_line?",function(){var s=this;return 0===s.pos||"\n"===s.string.charAt(s.pos-1)}),L(H,"$scan",function(s){var f=this,n=(s=f.$anchor(s)).exec(f.working);return null==n?f.matched=P:(f.prev_pos=f.pos,f.pos+=n[0].length,f.working=f.working.substring(n[0].length),f.matched=n[0],f.match=n,n[0])}),L(H,"$scan_until",function(s){var f=this;s=f.$anchor(s);for(var n=f.working,w=0;n.length!=w;++w){var r=s.exec(n.substr(w));if(null!==r){var a=w+r[0].length,m=n.substr(0,a);return f.matched=r[0],f.match=r,f.prev_pos=f.pos+w,f.pos+=a,f.working=n.substr(a),m}}return f.matched=P}),L(H,"$[]",function(s){var n;if(c(this.match["$empty?"]()))return P;z(x("Symbol"),n=s)?s=s.$to_s():z(x("String"),n)||(s=R["$coerce_to!"](s,x("Integer"),"to_int"));var w=this.match;return s<0&&(s+=w.length),s<0||s>=w.length||null==w[s]?P:w[s]}),L(H,"$check",function(s){var f=this,n=(s=f.$anchor(s)).exec(f.working);return f.matched=null==n?P:n[0]}),L(H,"$check_until",function(s){var f=this,n=f.prev_pos,w=f.pos,r=f.working,a=f.$scan_until(s);return f.prev_pos=n,f.pos=w,f.working=r,a}),L(H,"$peek",function(s){return this.working.substring(0,s)}),L(H,"$eos?",function(){return 0===this.working.length}),L(H,"$exist?",function(s){var n=s.exec(this.working);return null==n?P:0==n.index?0:n.index+1}),L(H,"$skip",function(s){var f=this,n=(s=f.$anchor(s)).exec(f.working);if(null==n)return f.match=[],f.matched=P;var w=n[0],r=w.length;return f.matched=w,f.match=n,f.prev_pos=f.pos,f.pos+=r,f.working=f.working.substring(r),r}),L(H,"$skip_until",function(s){var n=this.$scan_until(s);return n===P?P:(this.matched=n.substr(-1),n.length)}),L(H,"$get_byte",function(){var s=this,f=P;return s.pos<s.string.length?(s.prev_pos=s.pos,s.pos+=1,f=s.matched=s.working.substring(0,1),s.working=s.working.substring(1)):s.matched=P,f}),L(H,"$match?",function(s){var f=this,n=(s=f.$anchor(s)).exec(f.working);return null==n?P:(f.prev_pos=f.pos,n[0].length)}),L(H,"$pos=",function(s){var f=this;return s<0&&(s+=f.string.$length()),f.pos=s,f.working=f.string.slice(s)}),L(H,"$matched_size",function(){return this.matched===P?P:this.matched.length}),L(H,"$post_match",function(){var s=this;return s.matched===P?P:s.string.substr(s.pos)}),L(H,"$pre_match",function(){var s=this;return s.matched===P?P:s.string.substr(0,s.prev_pos)}),L(H,"$reset",function(){var s=this;return s.working=s.string,s.matched=P,s.pos=0}),L(H,"$rest",I("working")),L(H,"$rest?",function(){return 0!==this.working.length}),L(H,"$rest_size",function(){return this.$rest().$size()}),L(H,"$terminate",function(){var s,f=this;return f.match=P,s=[f.string.$length()],M(f,"pos=",s),s[s.length-1]}),L(H,"$unscan",function(){var s=this;return s.pos=s.prev_pos,s.prev_pos=P,s.match=P,s}),q(H,"bol?","beginning_of_line?"),q(H,"getch","get_byte"),H.$private(),L(H,"$anchor",function(s){var f=s.toString().match(/\/([^\/]+)$/);return f=f?f[1]:void 0,new RegExp("^(?:"+s.source+")",f)})},Opal.modules["bcdice/normalize"]=function(e){var q,U,P,B=e.module,L=e.eqeqeq,c=e.def,z=e.eqeq,R=[],I=e.nil;return q=R,P=[B(R[0],"BCDice")].concat(q),(U=B(P[0],"Normalize")).$module_function(),c(U,"$comparison_operator",function(H){var N;return L(/<=|=</,N=H)?"<=":L(/>=|=>/,N)?">=":L(/<>|!=|=!/,N)?"!=":L(/</,N)?"<":L(/>/,N)?">":L(/=/,N)?"==":I}),c(U,"$target_number",function(H){return z(H,"?")?H:H.$to_i()})},Opal.modules["bcdice/command/lexer"]=function(e){var j,Y,w,r,a,m,A,s,N,B=e.module,L=e.klass,c=e.const_set,z=e.hash2,R=e.truthy,I=e.send,M=e.def,q=e.thrower,S=e.top,P=[],D=e.nil;return S.$require("strscan"),S.$require("bcdice/normalize"),j=P,Y=N=[B(P[0],"BCDice")].concat(j),w=s=[B(N[0],"Command")].concat(Y),a=[r=L(s[0],null,"Lexer")].concat(w),m=e.$r(a),(A=r.$$prototype).scanner=A.notations=D,c(a[0],"SYMBOLS",z(["+","-","*","/","(",")","?","@","#","$"],{"+":"PLUS","-":"MINUS","*":"ASTERISK","/":"SLASH","(":"PARENL",")":"PARENR","?":"QUESTION","@":"AT","#":"SHARP",$:"DOLLAR"}).$freeze()),M(r,"$initialize",function(v,o){var p,l,u;return v=R(u=(p=(l=v)===D||null==l?D:l.$split(" ",2))===D||null==p?D:p.$first())?u:"",this.scanner=m("StringScanner").$new(v),this.notations=I(o,"map",[],function(_){return null==_&&(_=D),R(_["$is_a?"](m("String")))?m("Regexp").$new(_):_})}),M(r,"$next_token",function(){try{var v=q("return"),o=this,p=D,l=D,u=D,g=D;return R(o.scanner["$eos?"]())?[!1,"$"]:(I(o.notations,"each",[],function _(C){var y,F=null==_.$$s?this:_.$$s;if(null==F.scanner&&(F.scanner=D),null==C&&(C=D),y=F.scanner.$scan(C),!R(y))return D;v.$throw(["NOTATION",y])},{$$s:o,$$ret:v}),R(p=o.scanner.$scan(/\d+/))?["NUMBER",p.$to_i()]:R(l=o.scanner.$scan(/[<>!=]+/))?(l=m("Normalize").$comparison_operator(l),[R(l)?"CMP_OP":"ILLEGAL",l]):(u=o.scanner.$getch().$upcase(),[R(g=m("SYMBOLS")["$[]"](u))?g:u.$to_sym(),u]))}catch(_){if(_===v)return _.$v;throw _}}),M(r,"$source",function(){return this.scanner.$string()})},Opal.modules["bcdice/command/parsed"]=function(e){var S,j,G,s,f,n,w,N,D,B=e.module,L=e.klass,c=e.def,z=e.return_ivar,R=e.truthy,I=[],M=e.nil;return S=I,j=D=[B(I[0],"BCDice")].concat(S),G=N=[B(D[0],"Command")].concat(j),f=[s=L(N[0],null,"Parsed")].concat(G),n=e.$r(f),(w=s.$$prototype).critical=w.fumble=w.dollar=w.modify_number=w.question_target=w.target_number=w.prefix_number=w.command=w.suffix_number=w.cmp_op=M,s.$attr_accessor("command"),s.$attr_accessor("prefix_number"),s.$attr_accessor("suffix_number"),s.$attr_accessor("critical"),s.$attr_accessor("fumble"),s.$attr_accessor("dollar"),s.$attr_accessor("modify_number"),s.$attr_accessor("cmp_op"),s.$attr_accessor("target_number"),s.$attr_writer("question_target"),c(s,"$initialize",function(){var a=this;return a.prefix_number=M,a.suffix_number=M,a.critical=M,a.fumble=M,a.dollar=M,a.cmp_op=M,a.target_number=M,a.question_target=!1}),c(s,"$question_target?",z("question_target")),c(s,"$to_s",function(a){var m=this,A=M,k=M,v=M,o=M,p=M;switch(null==a&&(a="after_command"),A=R(m.critical)?"@"+m.critical:M,k=R(m.fumble)?"#"+m.fumble:M,v=R(m.dollar)?"$"+m.dollar:M,o=n("Format").$modifier(m.modify_number),p=R(m.question_target)?"?":m.target_number,a.valueOf()){case"after_command":return[m.prefix_number,m.command,m.suffix_number,A,k,v,o,m.cmp_op,p].$join();case"after_modify_number":return[m.prefix_number,m.command,m.suffix_number,o,A,k,v,m.cmp_op,p].$join();case"after_target_number":return[m.prefix_number,m.command,m.suffix_number,o,m.cmp_op,p,A,k,v].$join();default:return M}},-1)},Opal.modules["bcdice/command/parser"]=function(e){var a,v,g,T,i,d,$,W,Q,V,ie,$e,ue,_,y,t,se,p,l,A,B=e.klass,L=e.module,c=e.slice,z=e.extract_kwargs,R=e.ensure_kwargs,I=e.get_kwarg,M=e.send2,q=e.find_super,S=e.def,P=e.send,D=e.eqeq,U=e.thrower,j=e.hash,H=e.const_set,N=e.truthy,x=e.to_ary,Y=e.hash2,G=e.top,s=[],f=e.$r(s),n=e.nil,w=e.$$$;return G.$require("racc/parser.rb"),G.$require("bcdice/arithmetic/node"),G.$require("bcdice/command/lexer"),G.$require("bcdice/command/parsed"),B(w(f("BCDice"),"Command"),w(f("Racc"),"Parser"),"Parser"),a=s,v=A=[L(s[0],"BCDice")].concat(a),p=[L(A[0],"Command")].concat(v),l=e.$r(p),g=p,y=[_=B(p[0],w(l("Racc"),"Parser"),"Parser")].concat(g),t=e.$r(y),(se=_.$$prototype).notations=se.lexer=se.modifier=se.suffix_number=se.prefix_number=se.need_suffix_number=se.need_prefix_number=se.critical=se.fumble=se.dollar=se.allowed_cmp_op=se.question_target=n,S(_,"$initialize",function K(b,Z){var X,E,O,te,J=this;return K.$$p=null,X=c(arguments),E=z(X),E=R(E),O=X,te=I(E,"round_type"),M(J,q(J,"initialize",K,!1,!0),"initialize",[],null),J.notations=O,J.round_type=te,J.prefix_number=!1,J.suffix_number=!1,J.need_prefix_number=!1,J.need_suffix_number=!1,J.modifier=!0,J.critical=!1,J.fumble=!1,J.dollar=!1,J.allowed_cmp_op=[n,">=",">","<=","<","==","!="],J.question_target=!1},-2),S(_,"$disable_modifier",function(){return this.modifier=!1,this}),S(_,"$enable_prefix_number",function(){return this.prefix_number=!0,this}),S(_,"$enable_suffix_number",function(){return this.suffix_number=!0,this}),S(_,"$has_prefix_number",function(){var b=this;return b.prefix_number=!0,b.need_prefix_number=!0,b}),S(_,"$has_suffix_number",function(){var b=this;return b.suffix_number=!0,b.need_suffix_number=!0,b}),S(_,"$enable_critical",function(){return this.critical=!0,this}),S(_,"$enable_fumble",function(){return this.fumble=!0,this}),S(_,"$enable_dollar",function(){return this.dollar=!0,this}),S(_,"$restrict_cmp_op_to",function(b){var Z;return Z=c(arguments),this.allowed_cmp_op=Z,this},-1),S(_,"$enable_question_target",function(){return this.question_target=!0,this}),S(_,"$parse",function(b){var Z=this;try{return Z.lexer=t("Lexer").$new(b,Z.notations),Z.$do_parse()}catch(X){if(!e.rescue(X,[t("ParseError"),t("ZeroDivisionError")]))throw X;try{return n}finally{e.pop_exception()}}}),_.$private(),S(_,"$parsed",function(b,Z,X,E){try{return U("eval_return"),P(t("Parsed").$new(),"tap",[],function ee(J){var ce,le,de,ve,me,fe,he,oe=null==ee.$$s?this:ee.$$s;return null==oe.round_type&&(oe.round_type=n),null==J&&(J=n),J["$command="](b["$[]"]("command")),J["$prefix_number="]((ce=b["$[]"]("prefix"))===n||null==ce?n:ce.$eval(oe.round_type)),J["$suffix_number="]((le=b["$[]"]("suffix"))===n||null==le?n:le.$eval(oe.round_type)),J["$critical="]((de=Z["$[]"]("critical"))===n||null==de?n:de.$eval(oe.round_type)),J["$fumble="]((ve=Z["$[]"]("fumble"))===n||null==ve?n:ve.$eval(oe.round_type)),J["$dollar="]((me=Z["$[]"]("dollar"))===n||null==me?n:me.$eval(oe.round_type)),J["$modify_number="](X.$eval(oe.round_type)),J["$cmp_op="](E["$[]"]("cmp_op")),D(E["$[]"]("target"),"?")?(J["$question_target="](!0),P(J,"target_number=",fe=[0]),fe[fe.length-1]):(J["$question_target="](!1),fe=[(he=E["$[]"]("target"),he===n||null==he?n:he.$eval(oe.round_type))],P(J,"target_number=",fe),fe[fe.length-1])},{$$s:this})}catch(ee){if(ee===e.t_eval_return)return ee.$v;throw ee}}),S(_,"$next_token",function(){return this.lexer.$next_token()}),T=e.large_array_unpack("6,6,6,6,7,28,29,17,18,5,5,5,5,6,26,12,4,45,17,18,10,11,5,10,11,6,23,24,25,26,17,18,6,20,5,33,34,17,18,6,35,5,28,29,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,33,34,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,36,37,17,18,6,,5,,,17,18,6,,5,,,17,18,,,5,23,24,25,26,56,54,55,57"),i=e.large_array_unpack("0,4,26,12,1,21,21,26,26,0,4,26,12,5,21,3,0,26,5,5,8,8,5,2,2,10,8,8,8,8,10,10,11,7,10,14,14,11,11,17,14,11,9,9,17,17,18,,17,15,15,18,18,23,,18,30,30,23,23,24,,23,31,31,24,24,25,,24,44,44,25,25,28,,25,47,47,28,28,29,,28,48,48,29,29,33,,29,49,49,33,33,34,,33,50,50,34,34,36,,34,,,36,36,37,,36,,,37,37,,,37,27,27,27,27,52,52,52,52"),d=e.large_array_unpack("-2,4,16,-3,-1,11,,33,13,35,23,30,1,,28,40,,37,44,,,-2,,51,58,65,0,106,72,79,47,54,,86,93,,100,107,,,,,,,63,,,68,75,82,89,,120,,,,,"),$=e.large_array_unpack("-35,-35,-8,-35,-7,-35,-34,-35,-16,-8,-35,-35,-5,-6,-35,-21,-24,-35,-35,-32,58,-16,-3,-35,-35,-35,-35,-16,-35,-35,-12,-13,-4,-35,-35,-33,-35,-35,-30,-31,-1,-9,-10,-11,-17,-18,-2,-14,-15,-19,-20,-22,-25,-23,-26,-27,-28,-29"),W=e.large_array_unpack("30,31,38,39,14,8,1,22,41,42,43,9,27,2,53,,,21,47,48,40,51,52,49,50,44,46,3,,,,13,,,,,,,,32"),Q=e.large_array_unpack("8,8,7,7,9,3,1,5,7,7,7,4,3,2,10,,,4,8,8,5,7,7,8,8,9,5,6,,,,6,,,,,,,,6"),V=[n,6,13,3,9,-1,27,-15,-10,-1,-38],ie=[n,n,n,n,n,n,19,16,15,n,n],$e=e.large_array_unpack("0,0,racc_error,4,20,_reduce_1,4,20,_reduce_2,3,20,_reduce_3,3,21,_reduce_4,2,21,_reduce_5,2,21,_reduce_6,1,21,_reduce_7,0,22,_reduce_8,3,22,_reduce_9,3,22,_reduce_10,3,22,_reduce_11,2,23,_reduce_12,2,23,_reduce_13,3,23,_reduce_14,3,23,_reduce_15,0,24,_reduce_16,2,24,_reduce_17,2,24,_reduce_18,3,28,_reduce_19,3,28,_reduce_20,1,28,_reduce_none,3,27,_reduce_22,4,27,_reduce_23,1,27,_reduce_none,0,29,_reduce_25,1,29,_reduce_26,1,29,_reduce_27,1,29,_reduce_28,1,29,_reduce_29,2,26,_reduce_30,2,26,_reduce_31,1,26,_reduce_none,3,25,_reduce_33,1,25,_reduce_34"),ue=j(!1,0,"error",1,"NUMBER",2,"R",3,"U",4,"C",5,"F",6,"PLUS",7,"MINUS",8,"ASTERISK",9,"SLASH",10,"PARENL",11,"PARENR",12,"AT",13,"SHARP",14,"DOLLAR",15,"CMP_OP",16,"QUESTION",17,"NOTATION",18),H(y[0],"Racc_arg",[T,i,$,d,W,Q,ie,V,19,$e,ue,58,35,!0]),N(t("Ractor","skip_raise")?"constant":n)&&t("Ractor").$make_shareable(t("Racc_arg")),H(y[0],"Racc_token_to_s_table",["$end","error","NUMBER","R","U","C","F","PLUS","MINUS","ASTERISK","SLASH","PARENL","PARENR","AT","SHARP","DOLLAR","CMP_OP","QUESTION","NOTATION","$start","expr","notation","option","modifier","target","term","unary","mul","add","round_type"]),N(t("Ractor","skip_raise")?"constant":n)&&t("Ractor").$make_shareable(t("Racc_token_to_s_table")),H(y[0],"Racc_debug_parser",!1),S(_,"$_reduce_1",function(b,Z,X){var E;return N(this.modifier)||this.$raise(t("ParseError")),E=x(b),this.$parsed(null==E[0]?n:E[0],null==E[1]?n:E[1],null==E[2]?n:E[2],null==E[3]?n:E[3])}),S(_,"$_reduce_2",function(b,Z,X){var E;return N(this.modifier)||this.$raise(t("ParseError")),E=x(b),this.$parsed(null==E[0]?n:E[0],null==E[2]?n:E[2],null==E[1]?n:E[1],null==E[3]?n:E[3])}),S(_,"$_reduce_3",function(b,Z,X){var E,ce;return ce=null==(E=x(b))[2]?n:E[2],this.$parsed(null==E[0]?n:E[0],null==E[1]?n:E[1],w(w(t("Arithmetic"),"Node"),"Number").$new(0),ce)}),S(_,"$_reduce_4",function(b,Z,X){var E=this;return N(E.prefix_number)&&N(E.suffix_number)||E.$raise(t("ParseError")),Y(["command","prefix","suffix"],{command:b["$[]"](1),prefix:b["$[]"](0),suffix:b["$[]"](2)})}),S(_,"$_reduce_5",function(b,Z,X){var E=this;return N(E.prefix_number)||E.$raise(t("ParseError")),N(E.need_suffix_number)&&E.$raise(t("ParseError")),Y(["command","prefix"],{command:b["$[]"](1),prefix:b["$[]"](0)})}),S(_,"$_reduce_6",function(b,Z,X){var E=this;return N(E.suffix_number)||E.$raise(t("ParseError")),N(E.need_prefix_number)&&E.$raise(t("ParseError")),Y(["command","suffix"],{command:b["$[]"](0),suffix:b["$[]"](1)})}),S(_,"$_reduce_7",function(b,Z,X){var E=this;return(N(E.need_prefix_number)||N(E.need_suffix_number))&&E.$raise(t("ParseError")),Y(["command"],{command:b["$[]"](0)})}),S(_,"$_reduce_8",function(b,Z,X){return Y([],{})}),S(_,"$_reduce_9",function(b,Z,X){var E,ce,ee=n;return ee=null==(E=x(b))[0]?n:E[0],ce=null==E[2]?n:E[2],N(this.critical)&&N(ee["$[]"]("critical")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("critical",ce),ee}),S(_,"$_reduce_10",function(b,Z,X){var E,ce,ee=n;return ee=null==(E=x(b))[0]?n:E[0],ce=null==E[2]?n:E[2],N(this.fumble)&&N(ee["$[]"]("fumble")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("fumble",ce),ee}),S(_,"$_reduce_11",function(b,Z,X){var E,ce,ee=n;return ee=null==(E=x(b))[0]?n:E[0],ce=null==E[2]?n:E[2],N(this.dollar)&&N(ee["$[]"]("dollar")["$nil?"]())||this.$raise(t("ParseError")),ee["$[]="]("dollar",ce),ee}),S(_,"$_reduce_12",function(b,Z,X){return b["$[]"](1)}),S(_,"$_reduce_13",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"Negative").$new(b["$[]"](1))}),S(_,"$_reduce_14",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"BinaryOp").$new(b["$[]"](0),"+",b["$[]"](2))}),S(_,"$_reduce_15",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"BinaryOp").$new(b["$[]"](0),"-",b["$[]"](2))}),S(_,"$_reduce_16",function(b,Z,X){return N(this.allowed_cmp_op["$include?"](n))||this.$raise(t("ParseError")),Y([],{})}),S(_,"$_reduce_17",function(b,Z,X){var E,ee,J;return J=null==(E=x(b))[1]?n:E[1],N(this.allowed_cmp_op["$include?"](ee=null==E[0]?n:E[0]))||this.$raise(t("ParseError")),Y(["cmp_op","target"],{cmp_op:ee,target:J})}),S(_,"$_reduce_18",function(b,Z,X){var O,E=this;return O=b["$[]"](0),N(E.question_target)||E.$raise(t("ParseError")),N(E.allowed_cmp_op["$include?"](O))||E.$raise(t("ParseError")),Y(["cmp_op","target"],{cmp_op:O,target:"?"})}),S(_,"$_reduce_19",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"BinaryOp").$new(b["$[]"](0),"+",b["$[]"](2))}),S(_,"$_reduce_20",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"BinaryOp").$new(b["$[]"](0),"-",b["$[]"](2))}),S(_,"$_reduce_22",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"BinaryOp").$new(b["$[]"](0),"*",b["$[]"](2))}),S(_,"$_reduce_23",function(b,Z,X){return b["$[]"](3).$new(b["$[]"](0),b["$[]"](2))}),S(_,"$_reduce_25",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"DivideWithGameSystemDefault")}),S(_,"$_reduce_26",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"DivideWithCeil")}),S(_,"$_reduce_27",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"DivideWithCeil")}),S(_,"$_reduce_28",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"DivideWithRound")}),S(_,"$_reduce_29",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"DivideWithFloor")}),S(_,"$_reduce_30",function(b,Z,X){return b["$[]"](1)}),S(_,"$_reduce_31",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"Negative").$new(b["$[]"](1))}),S(_,"$_reduce_33",function(b,Z,X){return b["$[]"](1)}),S(_,"$_reduce_34",function(b,Z,X){return w(w(t("Arithmetic"),"Node"),"Number").$new(b["$[]"](0))}),S(_,"$_reduce_none",function(b,Z,X){return b["$[]"](0)})},Opal.modules["bcdice/deprecated/checker"]=function(e){var P,H,G,s,f,n,x,U,B=e.module,L=e.send,c=e.eqeqeq,z=e.truthy,R=e.def,I=e.return_val,M=[],q=e.nil;return P=M,H=U=[B(M[0],"BCDice")].concat(P),G=x=[B(U[0],"Deprecated")].concat(H),f=[s=B(x[0],"Checker")].concat(G),n=e.$r(f),s.$private(),R(s,"$check_result_legacy",function(r,a,m,A){var p,k=this,v=q,o=q,l=q,h=q;return v=L(a,"map",[],"sides".$to_proc()),p=(o=L(a,"map",[],"value".$to_proc())).$sum(),l=c([100],h=v)?k.$check_1D100(r,p,m,A):c([20],h)?k.$check_1D20(r,p,m,A):c([6,6],h)?k.$check_2D6(r,p,o,m,A):q,(z(l["$nil?"]())||z(l["$empty?"]()))&&(l=c([10],h=v.$uniq())?k.$check_nD10(r,p,o,m,A):c([6],h)?k.$check_nD6(r,p,o,m,A):q,z(l["$nil?"]())||z(l["$empty?"]()))?q:n("Result").$new(l.$delete_prefix(" \uff1e "))}),R(s,"$check_1D100",I(q)),R(s,"$check_1D20",I(q)),R(s,"$check_nD10",I(q)),R(s,"$check_2D6",I(q)),R(s,"$check_nD6",I(q))},Opal.modules["bcdice/base"]=function(e){var f,k,h,F,t,T,u,g,_,C,o,B=e.module,L=e.klass,c=e.slice,z=e.rb_plus,R=e.truthy,I=e.def,M=e.regexp,q=e.send,S=e.thrower,P=e.return_ivar,D=e.assign_ivar_val,U=e.eqeqeq,j=e.eqeq,H=e.return_val,N=e.range,x=e.rb_minus,Y=e.rb_divide,G=e.rb_times,s=e.rb_ge,n=e.top,w=[],r=e.$r(w),a=e.nil,m=e.$$$;return n.$require("i18n"),n.$require("i18n/backend/fallbacks"),n.$require("bcdice/randomizer"),n.$require("bcdice/dice_table"),n.$require("bcdice/enum"),n.$require("bcdice/translate"),n.$require("bcdice/result"),n.$require("bcdice/command/parser"),n.$require("bcdice/deprecated/checker"),k=w,h=o=[B(w[0],"BCDice")].concat(k),g=[u=L(o[0],null,"Base")].concat(h),_=e.$r(g),(C=u.$$prototype).raw_input=C.randomizer=C.enabled_upcase_input=C.debug=a,t=[F=e.get_singleton_class(u)].concat(g),T=e.$r(t),F.$attr_reader("prefixes"),I(F,"$register_prefix",function(d){var W,V,Q=this;return null==Q.prefixes&&(Q.prefixes=a),W=c(arguments),Q.prefixes=z(R(V=Q.prefixes)?V:[],W.$flatten())},-1),I(F,"$register_prefix_from_super_class",function(){return this.$register_prefix(this.$superclass().$prefixes())}),I(F,"$prefixes_pattern",function(){var d=this,$=a;return null==d.prefixes_pattern&&(d.prefixes_pattern=a),null==d.prefixes&&(d.prefixes=a),d.prefixes_pattern=R($=d.prefixes_pattern)?$:a,R(d.prefixes_pattern)?d.prefixes_pattern:(d.prefixes=R($=d.prefixes)?$:[],d.prefixes.$freeze(),d.prefixes_pattern=(R(d.prefixes["$empty?"]())?/(?!)/:M(["^(S)?(",d.prefixes.$join("|"),")"],"i")).$freeze())}),I(F,"$command_pattern",function(){var d=this,$=a,W=a;return null==d.command_pattern&&(d.command_pattern=a),null==d.prefixes&&(d.prefixes=a),d.command_pattern=R($=d.command_pattern)?$:a,R(d.command_pattern)?d.command_pattern:(d.prefixes=R($=d.prefixes)?$:[],d.prefixes.$freeze(),W=z(q(m(T("CommonCommand"),"COMMANDS"),"map",[],function(V){return null==V&&(V=a),m(V,"PREFIX_PATTERN").$source()}),d.prefixes),d.command_pattern=M(["^S?(",W.$join("|"),")"],"i").$freeze())}),I(F,"$eval",function(d){try{return S("eval_return"),this.$new(d).$eval()}catch(Q){if(Q===e.t_eval_return)return Q.$v;throw Q}}),u.$include(_("Translate")),u.$include(m(_("Deprecated"),"Checker")),I(u,"$initialize",function(y){var t=this;return t.raw_input=y,t.sort_add_dice=!1,t.sort_barabara_dice=!1,t.d66_sort_type=m(_("D66SortType"),"NO_SORT"),t.enabled_d9=!1,t.round_type=m(_("RoundType"),"FLOOR"),t.sides_implicit_d=6,t.upper_dice_reroll_threshold=a,t.reroll_dice_reroll_threshold=a,t.default_cmp_op=a,t.default_target_number=a,t.enabled_upcase_input=!0,t.locale="ja_jp",t.randomizer=m(_("BCDice"),"Randomizer").$new(),t.debug=!1}),u.$attr_accessor("randomizer"),u.$attr_reader("d66_sort_type"),u.$attr_reader("round_type"),u.$attr_reader("sides_implicit_d"),u.$attr_reader("upper_dice_reroll_threshold"),u.$attr_reader("reroll_dice_reroll_threshold"),u.$attr_reader("default_cmp_op"),u.$attr_reader("default_target_number"),I(u,"$sort_add_dice?",P("sort_add_dice")),I(u,"$sort_barabara_dice?",P("sort_barabara_dice")),I(u,"$enabled_d9?",P("enabled_d9")),I(u,"$enable_debug",D("debug",!0)),I(u,"$eval",function(){var t,i,y=this,T=a;return t=m(_("BCDice"),"Preprocessor").$process(y.raw_input,y),T=R(i=y.$dice_command(t))?i:y.$eval_common_command(y.raw_input),R(T)?(T["$rands="](y.randomizer.$rand_results()),T["$detailed_rands="](y.randomizer.$detailed_rand_results()),T):a}),I(u,"$change_text",function(y){return y}),I(u,"$check_result",function(y,t,T,i){var d=this,$=a,W=a,Q=a,V=a,ie=a;return $=d.$check_result_legacy(y,t,T,i),R($)?$:(W=q(t,"map",[],"sides".$to_proc()),V=(Q=q(t,"map",[],"value".$to_proc())).$sum(),$=U([100],ie=W)?d.$result_1d100(y,V,T,i):U([20],ie)?d.$result_1d20(y,V,T,i):U([6,6],ie)?d.$result_2d6(y,V,Q,T,i):a,j($,_("Result").$nothing())?a:R($)?$:($=U([10],ie=W.$uniq())?d.$result_nd10(y,V,Q,T,i):U([6],ie)?d.$result_nd6(y,V,Q,T,i):a,j($,_("Result").$nothing())?a:R($)?$:d.$result_ndx(y,T,i)))}),I(u,"$grich_text",H(a)),u.$private(),I(u,"$eval_common_command",function(y){try{S("eval_return");var T=S("return");return y=this.$change_text(y),q(m(_("CommonCommand"),"COMMANDS"),"each",[],function d($){var Q,W=null==d.$$s?this:d.$$s;if(null==W.randomizer&&(W.randomizer=a),null==$&&($=a),Q=$.$eval(y,W,W.randomizer),!R(Q))return a;T.$throw(Q)},{$$s:this,$$ret:T}),a}catch(d){if(d===e.t_eval_return||d===T)return d.$v;throw d}}),I(u,"$dice_command",function(y){var t=this,T=a,i=a,d=a,$=a;return R(t.enabled_upcase_input)&&(y=y.$upcase()),T=t.$class().$prefixes_pattern().$match(y),R(T)?(i=T["$[]"](1)["$nil?"]()["$!"](),R(i)&&(y=y["$[]"](N(1,-1,!1))),d=t.$eval_game_system_specific_command(y),R(d["$is_a?"](_("Result")))?(d["$secret="](R($=d["$secret?"]())?$:i),d):R(d["$nil?"]())||R(d["$empty?"]())||j(d,"1")?a:q(_("Result").$new(),"tap",[],function(Q){var V;return null==Q&&(Q=a),Q["$text="](d.$to_s()),q(Q,"secret=",V=[i]),V[V.length-1]})):a}),I(u,"$eval_game_system_specific_command",H(a)),I(u,"$result_ndx",function(y,t,T){return R(T["$is_a?"](_("String")))?a:R(y.$send(t,T))?_("Result").$success(this.$translate("success")):_("Result").$failure(this.$translate("failure"))}),I(u,"$result_1d100",H(a)),I(u,"$result_1d20",H(a)),I(u,"$result_nd10",H(a)),I(u,"$result_2d6",H(a)),I(u,"$result_nd6",H(a)),I(u,"$get_table_by_2d6",function(y){return this.$get_table_by_nD6(y,2)}),I(u,"$get_table_by_1d6",function(y){return this.$get_table_by_nD6(y,1)}),I(u,"$get_table_by_nD6",function(y,t){return this.$get_table_by_nDx(y,t,6)}),I(u,"$get_table_by_nDx",function(y,t,T){var d,$=a;return d=this.randomizer.$roll_sum(t,T),$=this.$get_table_value(y["$[]"](x(d,t))),R($["$nil?"]())?["1",0]:[$,d]}),I(u,"$get_table_by_1d3",function(y){var i,d,t=this,$=a;return t.$debug("get_table_by_1d3"),i=t.randomizer.$roll_sum(1,6),t.$debug("num",i),d=Y(x(i,1),2).$to_i(),t.$debug("index",d),$=y["$[]"](d),R($["$nil?"]())?["1",0]:[$,i]}),I(u,"$get_table_by_d66_swap",function(y){var T;return T=this.randomizer.$roll_d66(m(_("D66SortType"),"ASC")),[this.$get_table_by_number(T,y),T]}),I(u,"$get_table_by_d66",function(y){var T,i,d,W,$=a;return T=this.randomizer.$roll_once(6),i=this.randomizer.$roll_once(6),d=z(G(x(T,1),6),x(i,1)),$=y["$[]"](d),W=""+T+i,R($["$nil?"]())?["1",W]:[$,W]}),I(u,"$get_table_by_number",function(y,t,T){try{var i=S("return");return null==T&&(T="1"),q(t,"each",[],function $(W){var V,Q=null==$.$$s?this:$.$$s;if(null==W&&(W=a),V=W["$[]"](0),!R(s(V,y)))return a;i.$throw(Q.$get_table_value(W["$[]"](1)))},{$$s:this,$$ret:i}),this.$get_table_value(T)}catch($){if($===i)return $.$v;throw $}},-3),I(u,"$get_table_value",function(y){return R(y["$is_a?"](_("Proc")))?y.$call():y}),I(u,"$roll_tables",function(y,t){var i=a;return i=t["$[]"](y),R(i)?i.$roll(this.randomizer).$to_s():a}),I(u,"$debug",function(y,t){var i,d=this,$=a,W=a;return i=c(arguments,1),R(d.debug)?($=R(y["$is_a?"](_("String")))?y:y.$inspect(),R(i["$empty?"]())?d.$warn($):(W=q(i,"map",[],function(V){return null==V&&(V=a),R(V["$is_a?"](_("String")))?'"'+V+'"':V.$inspect()}),d.$warn($+": "+W.$join(", ")))):a},-2),m(m(r("I18n"),"Backend"),"Simple").$include(m(m(r("I18n"),"Backend"),"Fallbacks")),r("I18n").$load_path()["$<<"](r("Dir")["$[]"](r("File").$join("bcdice","../../i18n/**/*.yml"))),r("I18n")["$default_locale="]("ja_jp"),f=[["ja_jp"]],q(r("I18n").$fallbacks(),"defaults=",f),f[f.length-1]},Opal.queue(function(e){var N,s,m,A,k,v,n,w,Y,B=e.module,L=e.klass,c=e.const_set,z=e.regexp,R=e.truthy,I=e.def,M=e.thrower,q=e.send,S=e.hash2,D=[],U=e.nil,j=e.$$$;return e.top.$require("bcdice/base"),N=D,s=Y=[B(D[0],"BCDice")].concat(N),n=[B(Y[0],"GameSystem")].concat(s),w=e.$r(n),m=n,k=[A=L(n[0],w("Base"),"UnsungDuet")].concat(m),v=e.$r(k),A.$$prototype.randomizer=U,c(k[0],"ID","UnsungDuet"),c(k[0],"NAME","\u30a2\u30f3\u30b5\u30f3\u30b0\u30fb\u30c7\u30e5\u30a8\u30c3\u30c8"),c(k[0],"SORT_KEY","\u3042\u3093\u3055\u3093\u304f\u3066\u3086\u3048\u3064\u3068"),c(k[0],"HELP_MESSAGE","\u25a0 \u30b7\u30d5\u30bf\u30fc\u7528\u5224\u5b9a (shifter, UDS)\n  1D10\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 shifter, UDS, shifter>=5, shifter+1>=6\n\n\u25a0 \u30d0\u30a4\u30f3\u30c0\u30fc\u7528\u5224\u5b9a (binder, UDB)\n  2D6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n  \u4f8b\uff09 binder, UDB, binder>=5, binder+1>=6\n\n\u25a0 \u5909\u7570\u8868\n  \u30fb\u5916\u50b7 (HIN, HInjury)\n  \u30fb\u4f53\u8abf\u306e\u5909\u5316 (HPH, HPhysical)\n  \u30fb\u6050\u6016 (HFE, HFear)\n  \u30fb\u5e7b\u60f3\u5316 (HFA, HFantasy)\n  \u30fb\u7cbe\u795e (HMI, HMind)\n  \u30fb\u305d\u306e\u307b\u304b (HOT, HOther)\n"),c(k[0],"ALIAS_1D10",["shifter","UDS"].$freeze()),c(k[0],"ALIAS_2D6",["binder","UDB"].$freeze()),c(k[0],"SHIFTER_ALIAS_REG",z(["^",v("ALIAS_1D10").$join("|")],"i").$freeze()),c(k[0],"BINDER_ALIAS_REG",z(["^",v("ALIAS_2D6").$join("|")],"i").$freeze()),A.$register_prefix(v("ALIAS_1D10"),v("ALIAS_2D6")),I(A,"$eval_game_system_specific_command",function(l){var g,h=this,u=U;return l=R(u=v("ALIAS")["$[]"](l))?u:l,R(u=R(g=h.$roll_replaced_command_if_match(l,v("SHIFTER_ALIAS_REG"),"1D10"))?g:h.$roll_replaced_command_if_match(l,v("BINDER_ALIAS_REG"),"2D6"))?u:h.$roll_tables(l,v("TABLES"))}),I(A,"$roll_replaced_command_if_match",function(l,h,u){try{return M("eval_return"),R(l["$match?"](h))?j(v("CommonCommand"),"AddDice").$eval(l.$sub(h,u),this,this.randomizer):U}catch(C){if(C===e.t_eval_return)return C.$v;throw C}}),c(k[0],"ALIAS",q(S(["HInjury","HPhysical","HFear","HFantasy","HMind","HOther"],{HInjury:"HIN",HPhysical:"HPH",HFear:"HFE",HFantasy:"HFA",HMind:"HMI",HOther:"HOT"}),"transform_keys",[],"upcase".$to_proc())),c(k[0],"TABLES",S(["HIN","HPH","HFE","HFA","HMI","HOT"],{HIN:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5916\u50b7","1D6",["\u9854\u306e\u50b7 \u2192 \u9854\u306b\u3067\u304d\u305f\u50b7\u3002\u3058\u308f\u308a\u3068\u8840\u304c\u306b\u3058\u3080","\u5927\u304d\u306a\u602a\u6211 \u2192 \u65e9\u304f\u624b\u5f53\u3066\u3092\u3057\u306a\u3044\u3068\u547d\u306b\u95a2\u308f\u308b","\u75db\u307f\u306e\u306a\u3044\u50b7 \u2192 \u5927\u304d\u306a\u50b7\u306a\u306e\u306b\u3001\u306a\u305c\u304b\u75db\u304f\u306a\u3044","\u55aa\u5931 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304c\u6d88\u3048\u3066\u3057\u307e\u3063\u305f","\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7\u8de1 \u2192 \u8aad\u3081\u306a\u3044\u6587\u5b57\u306e\u3088\u3046\u306a\u50b7","\u6a21\u69d8\u3092\u63cf\u304f\u30a2\u30b6 \u2192 \u6a21\u69d8\u306e\u3088\u3046\u306a\u3001\u8eab\u4f53\u306b\u3067\u304d\u305f\u30a2\u30b6"]),HPH:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u4f53\u8abf\u306e\u5909\u5316","1D6",["\u8996\u754c\u304c\u307c\u3084\u3051\u308b \u2192 \u76ee\u306e\u7126\u70b9\u304c\u5408\u308f\u306a\u3044","\u8033\u9cf4\u308a \u2192 \u305a\u3063\u3068\u7532\u9ad8\u3044\u97f3\u304c\u9cf4\u308a\u7d9a\u3051\u3066\u3044\u308b\u6c17\u304c\u3059\u308b","\u7570\u69d8\u306a\u5bd2\u6c17 \u2192 \u51cd\u3048\u305d\u3046\u306a\u307b\u3069\u306b\u5bd2\u304f\u611f\u3058\u308b","\u767a\u6c57 \u2192 \u6691\u3044\u308f\u3051\u3067\u3082\u306a\u3044\u306e\u306b\u3001\u6c57\u304c\u3060\u3089\u3060\u3089\u3068","\u5e7b\u899a \u2192 \u305d\u308c\u304c\u672c\u7269\u304b\u5e7b\u304b\u3001\u533a\u5225\u304c\u3064\u304b\u306a\u3044","\u8d70\u99ac\u706f \u2192 \u904e\u53bb\u306e\u3053\u3068\u3092\u6b21\u3005\u3068\u601d\u3044\u51fa\u3057\u3066\u3057\u307e\u3046"]),HFE:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u6050\u6016","1D6",["\u4e0d\u5b89 \u2192 \u6f20\u7136\u3068\u3057\u305f\u4e0d\u5b89\u304c\u5fc3\u3092\u8755\u3080","\u72ed\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u72ed\u3044\u5834\u6240\u306b\u5165\u308a\u305f\u304f\u306a\u3044","\u9707\u3048\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u3069\u3046\u3057\u3066\u3082\u843d\u3061\u7740\u304b\u306a\u3044","\u7269\u97f3\u304c\u6016\u3044 \u2192 \u307b\u3093\u306e\u5c0f\u3055\u306a\u7269\u97f3\u306b\u3082\u602f\u3048\u3066\u3057\u307e\u3046","\u6697\u3044\u5834\u6240\u304c\u6016\u3044 \u2192 \u706f\u308a\u306e\u306a\u3044\u5834\u6240\u304c\u3072\u3069\u304f\u6050\u308d\u3057\u3044","\u8ab0\u304b\u304c\u3064\u3044\u3066\u304f\u308b \u2192 \u8ab0\u304b\u304c\u5f8c\u308d\u306b\u3044\u308b\u6c17\u304c\u3059\u308b\u2026\u2026"]),HFA:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u5e7b\u60f3\u5316","1D6",["\u785d\u5b50\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u30ac\u30e9\u30b9\u306e\u3088\u3046\u306b\u900f\u660e\u306b","\u7fbd\u6bdb\u5316 \u2192 \u8eab\u4f53\u306e\u3069\u3053\u304b\u304b\u3089\u7fbd\u6bdb\u304c\u751f\u3048\u3066\u304f\u308b","\u690d\u7269\u5316 \u2192 \u30c4\u30bf\u3084\u8449\u304c\u8eab\u4f53\u304b\u3089\u751f\u3048\u3066\u304f\u308b","\u52d5\u7269\u306e\u77b3 \u2192 \u77b3\u306e\u5f62\u304c\u52d5\u7269\u306e\u305d\u308c\u306b\u5909\u308f\u3063\u3066\u3057\u307e\u3046","\u6709\u89d2\u5316 \u2192 \u984d\u3084\u5074\u982d\u90e8\u304b\u3089\u89d2\u304c\u751f\u3048\u3066\u304f\u308b","\u9676\u5668\u5316 \u2192 \u76ae\u819a\u304c\u9676\u5668\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u5909\u308f\u3063\u3066\u3044\u304f"]),HMI:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u7cbe\u795e","1D6",["\u8a18\u61b6\u306e\u6df7\u4e71 \u2192 \u3053\u3053\u306f\u3069\u3053\u3001\u3069\u3046\u3057\u3066\u3053\u3093\u306a\u3068\u3053\u308d\u306b?","\u5e7c\u5c11\u671f\u306e\u8a18\u61b6 \u2192 \u53e3\u8abf\u3084\u614b\u5ea6\u304c\u5e7c\u304f\u306a\u3063\u3066\u3057\u307e\u3046","\u7d20\u76f4 \u2192 \u601d\u3063\u305f\u3053\u3068\u3092\u5168\u90e8\u8a00\u3063\u3066\u3057\u307e\u3046","\u86ee\u52c7 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u5b88\u308b\u305f\u3081\u306b\u7121\u8336\u3070\u304b\u308a\u3059\u308b","\u7591\u5fc3\u6697\u9b3c \u2192 \u4f55\u3082\u304b\u3082\u304c\u60aa\u3044\u65b9\u5411\u306b\u3057\u304b\u8003\u3048\u3089\u308c\u306a\u3044","\u98df\u3079\u3061\u3083\u3044\u305f\u3044 \u2192 \u30d1\u30fc\u30c8\u30ca\u30fc\u3092\u304b\u3058\u308a\u305f\u304f\u306a\u308b"]),HOT:j(v("DiceTable"),"Table").$new("\u5909\u7570\u8868\uff1a\u305d\u306e\u307b\u304b","1D6",["\u5f71\u7d75\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u5f71\u306e\u3088\u3046\u306b\u306a\u308b","\u6c34\u69fd\u5316 \u2192 \u8eab\u4f53\u306e\u4e00\u90e8\u304c\u6c34\u69fd\u306e\u3088\u3046\u306a\u3082\u306e\u306b\u306a\u308b","\u6d99\u304c\u6b62\u307e\u3089\u306a\u3044 \u2192 \u306a\u305c\u304b\u6d99\u304c\u6d41\u308c\u7d9a\u3051\u308b","\u9264\u722a \u2192 \u624b\u3084\u8db3\u304c\u3001\u7363\u306e\u3088\u3046\u306a\u9264\u722a\u306b\u306a\u308b","\u672a\u6765\u8996 \u2192 \u672a\u6765\u304c\u898b\u3048\u3066\u3057\u307e\u3046\u3002\u672c\u5f53\u304b\u3069\u3046\u304b\u306f\u4e0d\u660e","\u5e30\u308a\u305f\u304f\u306a\u3044 \u2192 \u73fe\u5b9f\u306b\u5e30\u308a\u305f\u304f\u306a\u3044\u3068\u5fae\u304b\u306b\u601d\u3046"])}).$freeze()),A.$register_prefix(v("ALIAS").$keys(),v("TABLES").$keys())})}}]);