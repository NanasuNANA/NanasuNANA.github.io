(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[5406],{7682:(ee,_e,w)=>{w(3986),Opal.queue(function(i){var H,j,Z,s,c,a,F,O,k,v=i.module,y=i.klass,E=i.const_set,l=i.truthy,W=i.to_ary,U=i.rb_lt,d=i.rb_gt,h=i.rb_divide,g=i.rb_plus,A=i.def,m=i.eqeq,T=i.rb_minus,b=i.rb_ge,M=i.neqeq,B=i.rb_times,P=i.send,X=[],e=i.nil;return H=X,j=k=[v(X[0],"BCDice")].concat(H),F=[v(k[0],"GameSystem")].concat(j),O=i.$r(F),Z=F,c=[s=y(F[0],O("Base"),"WerewolfTheApocalypse5th")].concat(Z),a=i.$r(c),s.$$prototype.randomizer=e,E(c[0],"ID","WerewolfTheApocalypse5th"),E(c[0],"NAME","Werewolf: The Apocalypse 5th Edition"),E(c[0],"SORT_KEY","\u308f\u3042\u3046\u3075\u308b\u3057\u3042\u307b\u304b\u308a\u3075\u30595"),E(c[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nWAFx+x \u307e\u305f\u306f nWAIxRx)\n  WAF\u30b3\u30de\u30f3\u30c9\u306fRage\u30c0\u30a4\u30b9\u3068\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3092\u500b\u5225\u306b\u6307\u5b9a\u3059\u308b\u3002\n  WAI\u30b3\u30de\u30f3\u30c9\u306fRage\u30c0\u30a4\u30b9\u3092\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u306e\u5185\u6570\u3068\u3057\u3066\u6307\u5b9a\u3059\u308b\u3002\n\n    \u4f8b\uff1a\u96e3\u6613\u5ea62\u30019\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3067Rage\u30c0\u30a4\u30b93\u500b\u306e\u5834\u5408\u3001\u305d\u308c\u305e\u308c\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3068\u306a\u308b\u3002\n    2WAF6+3\n    2WAI9R3\n\n  \u96e3\u6613\u5ea6\u6307\u5b9a\uff1a\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3001\u5224\u5b9a\u6210\u529f\u3068\u5931\u6557\u3001\uff08Rage\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Brutal outcome\u3001Critical\u51e6\u7406\u3001Total Failure\u3001Critical Win\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n  \u4f8b) (\u96e3\u6613\u5ea6)WAF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Rage\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)WAF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)WAI(\u901a\u5e38\u30c0\u30a4\u30b9)R(Rage\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)WAI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n  \u96e3\u6613\u5ea6\u7701\u7565\uff1a\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3001\u5224\u5b9a\u5931\u6557\u3001\uff08Rage\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Brutal outcome\u3001Critical\u51e6\u7406\u3001Total Failure\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n              \u5224\u5b9a\u6210\u529f\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n              Critical Win\u306e\u30d2\u30f3\u30c8\u3092\u51fa\u529b\n  \u4f8b) WAF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Rage\u30c0\u30a4\u30b9)\n      WAF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      WAI(\u901a\u5e38\u30c0\u30a4\u30b9)R(Rage\u30c0\u30a4\u30b9)\n      WAI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n  \u96e3\u6613\u5ea60\u6307\u5b9a\uff1aCritical\u51e6\u7406\u3068\u6210\u529f\u6570\u306e\u30ab\u30a6\u30f3\u30c8\u3092\u884c\u3044\u3001\u5168\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) 0WAF(\u901a\u5e38\u30c0\u30a4\u30b9)+(Rage\u30c0\u30a4\u30b9)\n      0WAF(\u901a\u5e38\u30c0\u30a4\u30b9)\n      0WAI(\u901a\u5e38\u30c0\u30a4\u30b9)+(Rage\u30c0\u30a4\u30b9)\n      0WAI(\u901a\u5e38\u30c0\u30a4\u30b9)\n\n"),E(c[0],"DIFFICULTY_INDEX",1),E(c[0],"DICE_POOL_RAGE_DICE_NO_INCLUDED_INDEX",5),E(c[0],"RAGE_DICE_NO_INCLUDED_INDEX",7),E(c[0],"COMMAND_RAGE_DICE_INCLUDED_INDEX",9),E(c[0],"DICE_POOL_RAGE_DICE_INCLUDED_INDEX",10),E(c[0],"RAGE_DICE_INCLUDED_INDEX",12),E(c[0],"NOT_CHECK_SUCCESS",-1),s.$register_prefix("\\d*(WAF|(WAI\\d*(R\\d?)?))"),A(s,"$eval_game_system_specific_command",function(n){var _,r,u=this,$=e,t=e,o=e,D=e,I=e,f=e,C=e,G=e,p=e,N=e,L=e,q=e;return $=/^(\d+)?(((WAF)(\d+)(\+(\d+))?)|((WAI)(\d+)(R(\d+))?))$/.$match(n),l($)?(r=u.$get_dice_pools($),o=null==(_=W(r))[1]?e:_[1],l(U(t=null==_[0]?e:_[0],0))?"\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb\u3088\u308a\u591a\u3044Rage\u30c0\u30a4\u30b9\u6307\u5b9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002":l(o)&&l(d(o,5))?"5\u3092\u8d85\u3048\u308bRage\u30c0\u30a4\u30b9\u6307\u5b9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002":(r=u.$make_dice_roll(t),D=null==(_=W(r))[0]?e:_[0],I=null==_[1]?e:_[1],f=null==_[2]?e:_[2],C="("+t+"D10",l(o)?(r=u.$make_dice_roll(o),G=null==(_=W(r))[0]?e:_[0],p=null==_[1]?e:_[1],N=null==_[2]?e:_[2],L=h(null==_[3]?e:_[3],2).$floor(),f=g(f,N),I=g(I,p),C=C+"+"+o+"D10) \uff1e ["+D+"]+["+G+"] "):(N=0,L=0,C=C+") \uff1e ["+D+"] "),I=g(I,u.$get_critical_success(f)),q=l($["$[]"](a("DIFFICULTY_INDEX")))?$["$[]"](a("DIFFICULTY_INDEX")).$to_i():a("NOT_CHECK_SUCCESS"),u.$get_roll_result(C,I,f,N,L,q))):""}),s.$private(),A(s,"$get_dice_pools",function(n){var _,r,u,$=e,t=e,o=e;return u=n["$[]"](a("COMMAND_RAGE_DICE_INCLUDED_INDEX")),l(u)&&m(u,"WAI")?($=(_=n["$[]"](a("RAGE_DICE_INCLUDED_INDEX")))===e||null==_?e:_.$to_i(),t=T(n["$[]"](a("DICE_POOL_RAGE_DICE_INCLUDED_INDEX")).$to_i(),l(o=$)?o:0)):($=(r=n["$[]"](a("RAGE_DICE_NO_INCLUDED_INDEX")))===e||null==r?e:r.$to_i(),t=n["$[]"](a("DICE_POOL_RAGE_DICE_NO_INCLUDED_INDEX")).$to_i()),[t,$]}),A(s,"$get_roll_result",function(n,_,r,u,$,t){var o,D=e;return o=b(r,2),n=l(d($,0))&&M(t,0)?n+" [Brutal outcome] \u81ea\u52d5\u5931\u6557\u3001\u307e\u305f\u306f \u6210\u529f\u6570="+(_=g(_,4)):n+" \u6210\u529f\u6570="+_,l(d(t,0))?(n=n+" \u96e3\u6613\u5ea6="+t,l(b(_,t))?(n=n+" \u5dee\u5206="+T(_,t),l(o)?(D=a("Result").$critical(n+"\uff1a\u5224\u5b9a\u6210\u529f! [Critical Win]"),l(d($,0))?D.$text():D):(D=a("Result").$success(n+"\uff1a\u5224\u5b9a\u6210\u529f!"),l(d($,0))?D.$text():D)):m(_,0)?a("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Total Failure]"):a("Result").$failure(n+"\uff1a\u5224\u5b9a\u5931\u6557!")):l(U(t,0))?m(_,0)?a("Result").$fumble(n+"\uff1a\u5224\u5b9a\u5931\u6557! [Total Failure]"):(l(o)&&(n+="\n\u3000\u5224\u5b9a\u6210\u529f\u306a\u3089 [Critical Win]"),n.$to_s()):n.$to_s()}),A(s,"$get_critical_success",function(n){return B(h(n,2).$floor(),2)}),A(s,"$make_dice_roll",function(n){var r=e;return[(r=this.randomizer.$roll_barabara(n,10)).$join(","),P(r,"count",[],function(I){return null==I&&(I=e),b(I,6)}),r.$count(10),g(r.$count(1),r.$count(2))]})})}}]);