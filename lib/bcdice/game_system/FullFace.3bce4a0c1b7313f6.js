(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[4999],{9938:(e$,u$,R)=>{R(5151),Opal.queue(function(n){var W,O,i$,h,d,p,G,D,r$,C,K=n.module,H=n.klass,v=n.const_set,I=n.send2,N=n.find_super,B=n.def,i=n.truthy,P=n.eqeq,w=n.send,y=n.rb_le,o=n.rb_gt,f=n.rb_plus,L=n.rb_ge,Y=n.thrower,Q=n.hash2,x=[],$=n.nil,U=n.$$$;return W=x,O=C=[K(x[0],"BCDice")].concat(W),D=[K(C[0],"GameSystem")].concat(O),r$=n.$r(D),i$=D,d=[h=H(D[0],r$("Base"),"FullFace")].concat(i$),p=n.$r(d),(G=h.$$prototype).round_type=G.randomizer=$,v(d[0],"ID","FullFace"),v(d[0],"NAME","\u30d5\u30eb\u30d5\u30a7\u30a4\u30b9"),v(d[0],"SORT_KEY","\u3075\u308b\u3075\u3048\u3044\u3059"),v(d[0],"HELP_MESSAGE","\u25a0\u5224\u5b9a\u3000x+bFF<=a[,t][&d]   x:\u30d2\u30fc\u30c8(\u7701\u7565\u6642\u306f3) b:\u5224\u5b9a\u4fee\u6b63 a:\u80fd\u529b\u5024 t:\u96e3\u6613\u5ea6(\u7701\u7565\u53ef) d:\u57fa\u672c\u30c0\u30e1\u30fc\u30b8(\u7701\u7565\u53ef)\n\n\u4f8b)FF<=2:     \u80fd\u529b\u50242\u3067\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n   6FF<=3:    \u30d2\u30fc\u30c86,\u80fd\u529b\u50243\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c( \u3003 )\u3092\u8868\u793a\u3002\n   8+2FF<=3:  \u30d2\u30fc\u30c88,\u5224\u5b9a\u4fee\u6b63+2,\u80fd\u529b\u50243\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c( \u3003 )\u3092\u8868\u793a\u3002\n   FF<=2,1:   \u80fd\u529b\u50242,\u96e3\u6613\u5ea61\u3067\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u6210\u529f\u30fb\u5931\u6557,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n   6FF<=3,2&1:\u30d2\u30fc\u30c86,\u80fd\u529b\u50243,\u96e3\u6613\u5ea62,\u57fa\u672c\u30c0\u30e1\u30fc\u30b81\u3067\u6226\u95d8\u5224\u5b9a\u3057\u3001\u305d\u306e\u7d50\u679c(\u6210\u529f\u6570,1\u306e\u76ee\u306e\u6570,6\u306e\u76ee\u306e\u6570,\u30c0\u30e1\u30fc\u30b8,\u30d0\u30fc\u30b9\u30c8)\u3092\u8868\u793a\u3002\n\n\u25a0\u30b8\u30e3\u30f3\u30af\u8868\u3000JKT\n\n"),B(h,"$initialize",function k(s){var e=this;return k.$$p=null,I(e,N(e,"initialize",k,!1,!0),"initialize",[s],null),e.sort_barabara_dice=!0}),B(h,"$eval_game_system_specific_command",function(s){var e;return i(e=this.$resolute_action(s))?e:this.$roll_tables(s,p("TABLES"))}),h.$private(),B(h,"$resolute_action",function(s){try{Y("eval_return");var g,T,S,j,q,e=this,_=$,z=$,m=$,t=$,a=$,b=$,F=$;if(_=/^(\d*)([+\d]+)*FF<=(\d)(,(\d))?(&(\d))?$/.$match(s),!i(_))return $;for(z=_["$[]"](1).$to_i(),P(z,0)&&(z=3),g=p("Arithmetic").$eval("0"+_["$[]"](2),e.round_type),T=_["$[]"](3).$to_i(),S=_["$[]"](5).$to_i(),j=_["$[]"](7).$to_i(),m=[],a=(t=e.randomizer.$roll_barabara(z,6).$sort()).$count(1),q=t.$count(6),b=w(t,"count",[],function(r){return null==r&&(r=$),y(r,T)}),m.$push(t.$join(",")),i(o(g,0))&&(t=e.randomizer.$roll_barabara(g,6).$sort(),a=f(a,t.$count(1)),b=f(b,w(t,"count",[],function(r){return null==r&&(r=$),y(r,T)})),m.$push(t.$join(","))),F=a;i(o(a,0));)a=(t=e.randomizer.$roll_barabara(a,6).$sort()).$count(1),F=f(F,a),b=f(b,w(t,"count",[],function(r){return null==r&&(r=$),y(r,T)})),m.$push(t.$join(","));return w(p("Result").$new(),"tap",[],function(r){var A,c=$,u=$,J=$;return null==r&&(r=$),c="("+z+p("Format").$modifier(g)+"FF<="+T,i(L(q,2))?(r["$fumble="](!0),r["$condition="](!1)):(r["$condition="](o(b,0)),r["$critical="](o(F,0))),(u=[]).$push("\u6210\u529f\u5ea6("+b+")"),i(o(F,0))&&u.$push("1\u306e\u76ee("+F+")"),i(o(q,0))&&u.$push("6\u306e\u76ee("+q+")"),i(o(S,0))&&(c=f(c,","+S),i(L(b,S))?(u.$push("\u6210\u529f"),r["$condition="](!0)):(u.$push("\u5931\u6557"),r["$condition="](!1))),i(o(j,0))&&(c=f(c,"&"+j),J=f(j,F),u.$push("\u30c0\u30e1\u30fc\u30b8("+J+")")),i(r["$fumble?"]())&&u.$push("\u30d0\u30fc\u30b9\u30c8"),A=[[c=f(c,")"),m.$join("+").$to_s(),u.$join(",").$to_s()].$compact().$join(" \uff1e ")],w(r,"text=",A),A[A.length-1]})}catch(l){if(l===n.t_eval_return)return l.$v;throw l}}),v(d[0],"TABLES",Q(["JKT"],{JKT:U(p("DiceTable"),"Table").$new("\u30b8\u30e3\u30f3\u30af\u8868","2D6",["\u547d\u6b32\u3057\u3055\u306b\u91cd\u8981\u306a\u60c5\u5831\u3092\u5410\u3044\u305f\u3002\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u30dc\u30b9\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u5f97\u308b\u3002","\u30e6\u30cb\u30c3\u30c8\u306e\u6a5f\u5bc6\u6587\u66f8\u3060\u3002\u3053\u306e\u6226\u95d8\u3067\u7372\u5f97\u3057\u305f\u30e6\u30cb\u30c3\u30c8\u304c\u3042\u308b\u306a\u3089\u3001\u305d\u306e\u3046\u3061\u597d\u304d\u306a\u30e6\u30cb\u30c3\u30c81\u3064\u3092\u7d4c\u9a13\u70b9\u3092\u6d88\u8cbb\u305b\u305a\u306b\u5e38\u5099\u5316\u3067\u304d\u308b\u3002","\u9055\u6cd5\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u500b\u4eba\u60c5\u5831\u306e\u30c7\u30fc\u30bf\u3060\u3002\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u3001\u30a8\u30cd\u30df\u30fc\u3068\u51fa\u4f1a\u3063\u305f\u3068\u304d\u3001\u8a73\u7d30\u306a\u30c7\u30fc\u30bf\u304c\u5373\u5ea7\u306b\u516c\u958b\u3055\u308c\u308b\uff08GM\u306f\u3067\u304d\u308b\u3060\u3051\u62d2\u5426\u3057\u306a\u3044\u3053\u3068\uff09\u3002","\u9375\u3092\u6301\u3063\u3066\u3044\u305f\u3002\u8fd1\u304f\u306b\u65bd\u9320\u3055\u308c\u305f\u6249\u3084\u7bb1\u306a\u3069\u304c\u3042\u308b\u306a\u3089\u3001\u305d\u306e\u3046\u3061\u306e1\u3064\u3092\u958b\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002","\u4f55\u3082\u898b\u3064\u3051\u3089\u308c\u306a\u304b\u3063\u305f\u304c\u3001\u6575\u3092\u5012\u3057\u305f\u3053\u3068\u306b\u3088\u3063\u3066\u81ea\u4fe1\u3092\u5f97\u305f\u3002\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u306e\u307f\u30011\u56de\u3060\u3051\u81ea\u8eab\u306e\u5224\u5b9a\u3067\u51fa\u305f6\u306e\u76ee\u30921\u3064\u6d88\u3059\u3053\u3068\u304c\u3067\u304d\u308b\u3002","\u81ea\u7206\u88c5\u7f6e\u3060\u3002\u4f55\u3082\u6b8b\u3089\u306a\u304b\u3063\u305f\u3002","\u4f7f\u3044\u6368\u3066\u306e\u6b66\u5668\u3092\u624b\u306b\u5165\u308c\u305f\u3002\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u4e2d\u306e\u307f\u30011\u56de\u3060\u3051\u300c\u8fd1\u63a5\u653b\u64835\u300e\u672c\u80fd\u300f\u300d\u306e\u653b\u6483\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u884c\u3048\u308b\u3002","\u6575\u304c\u6539\u5fc3\u3057\u305f\u3002\u5012\u3055\u308c\u305f\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u304c\u307e\u3060\u751f\u304d\u3066\u3044\u308b\u306a\u3089\u3001\u305d\u306e\u3046\u3061\u306e\u4e00\u4eba\u304c\u541b\u305f\u3061\u306b\u5354\u529b\u3092\u7533\u3057\u8fbc\u3093\u3067\u304f\u308b\uff08\u3053\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u9650\u5b9a\u306e\u6069\u6075\u300c\u4eba\u8108\uff1a\u5354\u529b\u8005\u300d\u3092\u5f97\u308b\uff09\u3002","\u91d1\u3092\u624b\u306b\u5165\u308c\u305f\u3002\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u5168\u54e1\u3001\u30a2\u30d5\u30bf\u30fc\u30d5\u30a7\u30a4\u30ba\u306b\u914d\u5e03\u3055\u308c\u308b\u7d4c\u9a13\u70b9\u304c1\u5897\u52a0\u3059\u308b\u3002","\u5f37\u529b\u306a\u30e6\u30cb\u30c3\u30c8\u3092\u96a0\u3057\u6301\u3063\u3066\u3044\u305f\u3002\u597d\u304d\u306a\u7d44\u7e54\u5c02\u7528\u30e6\u30cb\u30c3\u30c8\u30921\u3064\u7372\u5f97\u3059\u308b\u3002","\u5927\u91d1\u3092\u624b\u306b\u5165\u308c\u305f\u3002\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u5168\u54e1\u3001\u30a2\u30d5\u30bf\u30fc\u30d5\u30a7\u30a4\u30ba\u306b\u914d\u5e03\u3055\u308c\u308b\u7d4c\u9a13\u70b9\u304c3\u5897\u52a0\u3059\u308b\u3002"])}).$freeze()),h.$register_prefix("([+\\d]+)*FF",p("TABLES").$keys())})}}]);