(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[6466],{8381:(ee,re,G)=>{G(9993),Opal.queue(function($){var Y,U,O,y,w,_,E,R,W,S,B=[],e=$.nil,F=$.$$$,C=$.module,M=$.klass,P=$.const_set,T=$.send2,H=$.find_super,D=$.def,i=$.truthy,K=$.hash2,j=$.rb_ge,I=$.rb_le,m=$.rb_plus,h=$.send,z=$.to_a,q=$.rb_minus,L=$.neqeq;return Y=B,U=S=[C(B[0],"BCDice")].concat(Y),R=[C(S[0],"GameSystem")].concat(U),W=$.$r(R),O=R,w=[y=M(R[0],W("Base"),"BeginningIdol2022")].concat(O),_=$.$r(w),(E=y.$$prototype).round_type=E.randomizer=e,P(w[0],"ID","BeginningIdol2022"),P(w[0],"NAME","\u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb\uff082022\u5e74\u6539\u8a02\u7248\uff09"),P(w[0],"SORT_KEY","\u3072\u304d\u306b\u3093\u304f\u3042\u3044\u3068\u308b2022"),P(w[0],"HELP_MESSAGE","\u3053\u308c\u306f\u30012022\u5e74\u306b\u5927\u5224\u30b5\u30a4\u30ba\u3067\u767a\u58f2\u3055\u308c\u305f\u300e\u99c6\u3051\u51fa\u3057\u30a2\u30a4\u30c9\u30ebRPG \u30d3\u30ae\u30cb\u30f3\u30b0\u30a2\u30a4\u30c9\u30eb \u57fa\u672c\u30eb\u30fc\u30eb\u30d6\u30c3\u30af\u300f\u306b\u5bfe\u5fdc\u3057\u305f\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\n\u30fb\u884c\u70ba\u5224\u5b9a\u3000BIn@c#f+m>=t\n\u3000nD6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u884c\u70ba\u5224\u5b9a\u306b\u6210\u529f\u3057\u305f\u304b\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u30b9\u30da\u30b7\u30e3\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u5224\u5b9a\u3082\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000n: \u30c0\u30a4\u30b9\u6570\uff08\u7701\u7565\u6642 2)\n\u3000\u3000c: \u30b9\u30da\u30b7\u30e3\u30eb\u5024\uff08\u7701\u7565\u6642 12)\n\u3000\u3000f: \u30d5\u30a1\u30f3\u30d6\u30eb\u5024\uff08\u7701\u7565\u6642 2)\n\u3000\u3000m: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef)\n\u3000\u3000t: \u76ee\u6a19\u5024\n\n\u30fb\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5224\u5b9a\u3000PDn+m\n\u3000nD6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u30df\u30e9\u30af\u30eb\u3068\u30df\u30e9\u30af\u30eb\u306e\u5224\u5b9a\u3082\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000n: \u30c0\u30a4\u30b9\u6570\n\u3000\u3000m: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef)\n\n\u30fb\u30b7\u30f3\u30d5\u30a9\u30cb\u30fc\u3000xxxPDn+m\n\u3000nD6\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u5834\u306b\u6b8b\u3063\u3066\u3044\u308b\u30c0\u30a4\u30b9\u3092\u52a0\u5473\u3057\u3066\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u30df\u30e9\u30af\u30eb\u3068\u30df\u30e9\u30af\u30eb\u30b7\u30f3\u30af\u30ed\u306e\u5224\u5b9a\u3082\u884c\u3044\u307e\u3059\u3002\n\u3000\u3000xxx: \u5834\u306b\u6b8b\u3063\u3066\u3044\u308b\u30c0\u30a4\u30b9\u306e\u51fa\u76ee\u3092\u5217\u6319\u3057\u305f\u3082\u306e\n\u3000\u3000n: \u30c0\u30a4\u30b9\u6570\n\u3000\u3000m: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef)\n"),D(y,"$initialize",function k(l){var r=this;return delete k.$$p,T(r,H(r,"initialize",k,!1,!0),"initialize",[l],null),r.sort_add_dice=!0,r.d66_sort_type=F(_("D66SortType"),"ASC")},1),y.$register_prefix("BI","PD","[1-6]+PD"),D(y,"$eval_game_system_specific_command",function(l){var r,n,u=this;return i(r=i(n=u.$roll_skill_check(l))?n:u.$roll_performance_check(l))?r:u.$roll_symphony_check(l)},1),y.$private(),D(y,"$roll_skill_check",function(l){var n=e,f=e,t=e,p=e,o=e,d=e,s=e,g=e,x=e,a=e,c=e,b=e;return n=F(_("Command"),"Parser").$new("BI",K(["round_type"],{round_type:this.round_type})).$enable_suffix_number().$enable_critical().$enable_fumble().$restrict_cmp_op_to(">=").$parse(l),i(n)?(f=i(t=n.$suffix_number())?t:2,p=i(t=n.$critical())?t:12,o=i(t=n.$fumble())?t:2,s=(d=this.randomizer.$roll_barabara(f,6).$sort()).$sum(),g=j(s,p),x=i(t=g["$!"]())?I(s,o):t,a=m(s,n.$modify_number()),c=i(g)?_("Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb(PC\u306f\u3010\u601d\u3044\u51fa\u3011\u30921\u3064\u7372\u5f97\u3059\u308b)"):i(x)?_("Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb(\u3010\u601d\u3044\u51fa\u3011\u30921\u3064\u7372\u5f97\u3057\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3092\u632f\u308b)"):i(j(a,n.$target_number()))?_("Result").$success("\u6210\u529f"):_("Result").$failure("\u5931\u6557"),b=["("+n+") \uff1e "+s+"["+d.$join(",")+"]"+_("Format").$modifier(n.$modify_number())+" \uff1e "+a+" \uff1e "+c.$text()],h(c,"text=",z(b)),q(b.length,1),c):e},1),D(y,"$roll_performance_check",function(l){var r=e,n=e,f=e,t=e,p=e,o=e,d=e,s=e,g=e,x=e,a=e;return r=/^PD(\d+)([+\-]\d+)?$/.$match(l),!i(r)||(n=r["$[]"](1).$to_i(),f=r["$[]"](2).$to_i(),t=j(n,7),p=i(t)?6:n,o=i(t)?q(n,p):0,i(I(p,0)))?e:(d=this.randomizer.$roll_barabara(p,6).$sort(),s=this.$select_uniqs(d).$sort(),g=s["$=="]([1,2,3,4,5,6]),x=s["$empty?"](),a=i(g)?"\u3010\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u30df\u30e9\u30af\u30eb\u3011"+m(m(30,o),f):i(x)?"\u3010\u30df\u30e9\u30af\u30eb\u3011"+m(m(10,o),f):m(m(s.$sum(),o),f).$to_s(),i(t)&&(a=m(a," (\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3: "+o+"\u500b\u307e\u3067\u632f\u308a\u306a\u304a\u3057\u53ef\u80fd)")),h(_("Result").$new(),"tap",[],function(b){var A,v=e;return null==b&&(b=e),v=[i(A=g)?A:x],h(b,"critical=",z(v)),q(v.length,1),v=[["("+l+")","\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u5224\u5b9a","["+d.$join(",")+"]"+_("Format").$modifier(o)+_("Format").$modifier(f),L(d.$size(),s.$size())?"["+s.$join(",")+"]"+_("Format").$modifier(o)+_("Format").$modifier(f):e,a].$compact().$join(" \uff1e ")],h(b,"text=",z(v)),v[q(v.length,1)]},1))},1),D(y,"$select_uniqs",function(l){return h(h(h(l,"group_by",[],"itself".$to_proc()).$to_a(),"select",[],function(r,n){return null==r&&(r=e),null==n&&(n=e),n.$size()["$=="](1)},2),"map",[],function(r,n){return null==r&&(r=e),null==n&&(n=e),r},2)},1),D(y,"$roll_symphony_check",function(l){var r=e,n=e,f=e,t=e,p=e,o=e,d=e,s=e,g=e;return r=/^([1-6]+)PD([1-6])([+\-]\d+)?$/.$match(l),i(r)?(n=h(r["$[]"](1).$chars(),"map",[],"to_i".$to_proc()).$sort(),f=r["$[]"](2).$to_i(),t=r["$[]"](3).$to_i(),p=this.randomizer.$roll_barabara(f,6).$sort(),o=this.$select_uniqs(m(n,p)).$sort(),d=o["$=="]([1,2,3,4,5,6]),s=o["$empty?"](),g=i(d)?"\u3010\u30d1\u30fc\u30d5\u30a7\u30af\u30c8\u30df\u30e9\u30af\u30eb\u3011"+m(30,t):i(s)?"\u3010\u30df\u30e9\u30af\u30eb\u30b7\u30f3\u30af\u30ed\u3011"+m(20,t):m(o.$sum(),t).$to_s(),h(_("Result").$new(),"tap",[],function(a){var b,c=e;return null==a&&(a=e),c=[i(b=d)?b:s],h(a,"critical=",z(c)),q(c.length,1),c=[["("+l+")","\u30b7\u30f3\u30d5\u30a9\u30cb\u30fc","["+n.$join(",")+"],["+p.$join(",")+"]"+_("Format").$modifier(t),"["+o.$join(",")+"]"+_("Format").$modifier(t),g].$join(" \uff1e ")],h(a,"text=",z(c)),c[q(c.length,1)]},1)):e},1)})}}]);