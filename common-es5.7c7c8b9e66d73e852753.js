(self.webpackChunkudonarium=self.webpackChunkudonarium||[]).push([[8592],{64592:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b=[],y=t.nil,T=t.$$,h=t.module,S=t.klass,D=t.send,g=t.truthy;r=b,a=p=[h(b[0],"BCDice")].concat(r),$=d=[h(p[0],"GameSystem")].concat(a),f=S(d[0],T(d,"Base"),"AFF2e"),m=[f].concat($),f.$$prototype.randomizer=y,t.const_set(m[0],"ID","AFF2e"),t.const_set(m[0],"NAME","ADVANCED FIGHTING FANTASY 2nd Edition"),t.const_set(m[0],"SORT_KEY","\u3042\u3068\u306f\u3093\u3059\u3068\u3075\u3042\u3044\u3066\u3044\u3093\u304f\u3075\u3042\u3093\u305f\u3057\u30442"),t.const_set(m[0],"HELP_MESSAGE","\u5bfe\u6297\u306a\u3057\u30ed\u30fc\u30eb\tFF{\u76ee\u6a19\u5024}+{\u88dc\u6b63}\n\u5bfe\u6297\u30ed\u30fc\u30eb\tFR{\u80fd\u529b\u5024}+{\u88dc\u6b63}\n\u6b66\u5668\u30ed\u30fc\u30eb\tFD[2,3,3,3,3,3,4]+{\u88dc\u6b63}\n\u9632\u5177\u30ed\u30fc\u30eb\tFD[0,0,0,0,1+1,1+1,2+2]+{\u88dc\u6b63}\n"),f.$register_prefix("FF.+","FR.+","FD.+"),t.def(f,"$explicit_sign",i=function(t){return this.$format("%+d",t)},i.$$arity=1),t.def(f,"$eval_term",o=function(t){var n,r=y;return r=0,D(t,"scan",[/[+-]?\d+/],((n=function(t){return null==t&&(t=y),r=e(r,t.$to_i())}).$$s=this,n.$$arity=1,n)),r},o.$$arity=1),t.def(f,"$parentheses",u=function(t){return e(e("(",t),")")},u.$$arity=1),t.def(f,"$successful_or_failed",s=function(t,e){var r,a;return 2["$==="](r=t)?g(n(e,1))?"\u6210\u529f\uff08\u5927\u6210\u529f\u3067\u306f\u306a\u3044\uff09":"\u5927\u6210\u529f\uff01":12["$==="](r)?g("number"==typeof(a=e)?a>=12:a["$>="](12))?"\u5931\u6557\uff08\u5927\u5931\u6557\u3067\u306f\u306a\u3044\uff09":"\u5927\u5931\u6557\uff01":g(n(t,e))?"\u6210\u529f":"\u5931\u6557"},s.$$arity=2),t.def(f,"$critical",l=function(t){var e;return 2["$==="](e=t)?"\u30d5\u30a1\u30f3\u30d6\u30eb\uff01":12["$==="](e)?"\u5f37\u6253\uff01":y},l.$$arity=1),t.def(f,"$clamp",c=function(t,e,n){return g(function(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}(t,e))?e:g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(t,n))?n:t},c.$$arity=3),t.def(f,"$eval_game_system_specific_command",_=function(t){var n,r,a,$=this,i=y,o=y,u=y,s=y,l=y,c=y,_=y,f=y,d=y,p=y,b=y,h=y,S=y,E=y;if(/^FF/["$==="](r=t))o=(i=T(m,"Regexp").$last_match()).$post_match(),s="2D6<="+(u=$.$eval_term(o)),_=(c=(l=$.randomizer.$roll_barabara(2,6)).$sum())+"["+l.$join(",")+"]",f=$.$successful_or_failed(c,u),d=[$.$parentheses(s),_,f];else if(/^FR/["$==="](r))o=(i=T(m,"Regexp").$last_match()).$post_match(),p=$.$eval_term(o),s="2D6"+$.$explicit_sign(p),_=(c=(l=$.randomizer.$roll_barabara(2,6)).$sum())+"["+l.$join(",")+"]"+$.$explicit_sign(p),b=$.$critical(c),d=[$.$parentheses(s),_,b,e(c,p)].$compact();else if(/^FD/["$==="](r)){if(o=(i=T(m,"Regexp").$last_match()).$post_match(),i=/^\[(.+)\]/.$match(o),!g(i))return"\u30c0\u30e1\u30fc\u30b8\u30b9\u30ed\u30c3\u30c8\u306f\u5fc5\u9808\u3067\u3059\u3002";if(o=i.$post_match(),h=D(i["$[]"](1).$split(","),"map",[],((n=function(t){return null==t&&(t=y),(null==n.$$s?this:n.$$s).$eval_term(t)}).$$s=$,n.$$arity=1,n)),g(h.$size()["$!="](7)))return"\u30c0\u30e1\u30fc\u30b8\u30b9\u30ed\u30c3\u30c8\u306e\u9577\u3055\u306b\u8aa4\u308a\u304c\u3042\u308a\u307e\u3059\u3002";p=$.$eval_term(o),s="1D6"+$.$explicit_sign(p),_=""+(c=$.randomizer.$roll_once(6))+$.$explicit_sign(p),S=$.$clamp(e(c,p),1,7),E=h["$[]"]("number"==typeof(a=S)?a-1:a["$-"](1)),d=[$.$parentheses(s),_,e(c,p),E+"\u30c0\u30e1\u30fc\u30b8"]}return d.$join(" \uff1e ")},_.$$arity=1)}(Opal)},22153:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var n,r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy,b=t.send;n=c,r=l=[m(c[0],"BCDice")].concat(n),a=s=[m(l[0],"GameSystem")].concat(r),o=d(s[0],f(s,"Base"),"Ainecadette"),u=[o].concat(a),o.$$prototype.randomizer=_,t.const_set(u[0],"ID","Ainecadette"),t.const_set(u[0],"NAME","\u30a8\u30cd\u30ab\u30c7\u30c3\u30c8"),t.const_set(u[0],"SORT_KEY","\u3048\u306d\u304b\u3066\u3064\u3068"),t.const_set(u[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a\n- \u5148\u8f29 (AI) 10\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AI\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AI\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n- \u5f8c\u8f29 (CA) 6\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103CA\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101CA\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n"),o.$register_prefix("(\\d+)?AI","(\\d+)?CA"),t.def(o,"$eval_game_system_specific_command",$=function(t){return this.$roll_action(t)},$.$$arity=1),o.$private(),t.const_set(u[0],"SUCCESS_THRESHOLD",4),t.const_set(u[0],"SPECIAL_DICE",6),t.def(o,"$roll_action",i=function(n){var r,a,$=_,i=_,o=_,s=_,l=_,c=_,m=_,d=_,y=_,T=_,h=_;return $=/^(\d+)?(AI|CA)$/.$match(n),!p($)||(i=$["$[]"](2)["$=="]("AI"),o=p(s=(r=$["$[]"](1))===_||null==r?_:b(r,"to_i",[]))?s:2,l=p(i)?10:6,p(e(o,0)))?_:(m=(c=this.randomizer.$roll_barabara(o,l)).$max(),d=p(e(m,1))?f(u,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb\uff08\u3082\u3084\u3082\u3084\u30ab\u30a6\u30f3\u30bf\u30fc\u30922\u500b\u7372\u5f97\uff09"):p(c["$include?"](6))?(y=p(i)?"\u5148\u8f29":"\u5f8c\u8f29",T=p(i)?"\u5f8c\u8f29":"\u5148\u8f29",f(u,"Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb\uff08\u7d46\u30ab\u30a6\u30f3\u30bf\u30fc\u30921\u500b\u7372\u5f97\u3057\u3001"+T+"\u306f"+y+"\u3078\u306e\u611f\u60c5\u30921\u3064\u7372\u5f97\uff09")):p(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(m,f(u,"SUCCESS_THRESHOLD")))?f(u,"Result").$success("\u6210\u529f"):f(u,"Result").$failure("\u5931\u6557"),h=["("+n+") \uff1e ["+c.$join(",")+"] \uff1e "+d.$text()],b(d,"text=",t.to_a(h)),"number"==typeof(a=h.length)||a["$-"](1),d)},i.$$arity=1)}(Opal)},51212:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var $,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$,y=t.module,T=t.klass,h=t.send2,S=t.truthy,D=t.send;$=d,i=m=[y(d[0],"BCDice")].concat($),o=f=[y(m[0],"GameSystem")].concat(i),c=T(f[0],b(f,"Base"),"Airgetlamh"),_=[c].concat(o),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","Airgetlamh"),t.const_set(_[0],"NAME","\u6731\u306e\u5b64\u5854\u306e\u30a8\u30a2\u30b2\u30c8\u30e9\u30e0"),t.const_set(_[0],"SORT_KEY","\u3042\u3051\u306e\u3053\u3068\u3046\u306e\u3048\u3042\u3051\u3068\u3089\u3080"),t.const_set(_[0],"HELP_MESSAGE","\u3010Reg2.0\u300eTHE ANSWERER\u300f\uff5e\u3011\n\u30fb\u8abf\u67fb\u5224\u5b9a\uff08\u6210\u529f\u6570\u3092\u8868\u793a\uff09\uff1a[n]AA[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30c0\u30e1\u30fc\u30b8\u8868\u793a\uff09\uff1a[n]AA[m]*p[+t][Cx]\n\u3010\uff5eReg1.1\u300e\u6607\u83ef\u300f\u3011\n\u30fb\u8abf\u67fb\u5224\u5b9a\uff08\u6210\u529f\u6570\u3092\u8868\u793a\uff09\uff1a[n]AL[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30c0\u30e1\u30fc\u30b8\u8868\u793a\uff09\uff1a[n]AL[m]*p\n----------------------------------------\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\uff08\u653b\u6483\u56de\u6570\uff09\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c6\u300d\u3002\n\u300cp\u300d\u3067\u5a01\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u4ee3\u7528\u53ef\u3002\n\u300c+t\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc\u3092\u6307\u5b9a\u3002\u7701\u7565\u53ef\u3002\n\u300cCx\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3001\u6700\u5927\u5024\u306f\u300c3\u300d\u3001\u300c0\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d2\u30c3\u30c8\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\uff08AL\u30b3\u30de\u30f3\u30c9\u3067\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u51e6\u7406\u3092\u884c\u3044\u307e\u305b\u3093\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbAL \u2192 2d10\u3067\u76ee\u6a19\u50246\u306e\u8abf\u67fb\u5224\u5b9a\u3002\n\u30fb5AA7*12 \u2192 5d10\u3067\u76ee\u6a19\u50247\u3001\u5a01\u529b12\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fbAA7x28+5 \u2192 2d10\u3067\u76ee\u6a19\u50247\u3001\u5a01\u529b28\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb9aa5*10C2 \u2192 9d10\u3067\u76ee\u6a19\u50245\u3001\u5a01\u529b10\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb15AAx4c0 \u2192 15d10\u3067\u76ee\u6a19\u50246\u3001\u5a01\u529b4\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),c.$register_prefix("\\d*A[AL]"),t.def(c,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),h(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},u.$$arity=1),t.def(c,"$eval_game_system_specific_command",s=function(t){var n=p,r=p,a=p,$=p,i=p,o=p,u=p,s=p,l=p,c=p;return S(t["$=~"](/(\d+)?A(A|L)(\d+)?((x|\*)(\d+)(\+(\d+))?)?(C(\d+))?$/i))?(n=(S(r=b(_,"Regexp").$last_match(1))?r:2).$to_i(),a=(S($=b(_,"Regexp").$last_match(3))?$:6).$to_i(),i=(S(o=b(_,"Regexp").$last_match(6))?o:0).$to_i(),b(_,"Regexp").$last_match(2)["$=="]("L")?(u=0,s=0):(u=(S(l=b(_,"Regexp").$last_match(8))?l:0).$to_i(),s=(S(c=b(_,"Regexp").$last_match(10))?c:1).$to_i()),S(e(s,4))&&(s=3),this.$checkRoll(n,a,i,u,s)):p},s.$$arity=1),t.def(c,"$checkRoll",l=function(t,$,i,o,u){var s,l,c,_=this,f=p,m=p,d=p,b=p,y=p,T=p,h=p,g=p,E=p,R=p;for(f=0,m=0,d="",b=t;S(e(b,0));)T=(y=_.randomizer.$roll_barabara(b,10).$sort()).$join(","),h=D(y,"count",[],((s=function(t){return null==t&&(t=p),n(t,$)}).$$s=_,s.$$arity=1,s)),g=D(y,"count",[],((l=function(t){return null==t&&(t=p),n(t,u)}).$$s=_,l.$$arity=1,l)),f=r(f,h),m=r(m,g),S(d["$empty?"]())||(d=r(d,"+")),d=r(d,h+"["+T+"]"),b=g;return E="",c=i["$!="](0),S(c)?(R=r(a(f,i),a(m,o)),E=r(E,"("+t+"D10<="+$+") \uff1e "+d+" \uff1e Hits\uff1a"+f+"*"+i),S(e(o,0))&&(E=r(E," + Trigger\uff1a"+m+"*"+o)),E=r(E," \uff1e "+R+"\u30c0\u30e1\u30fc\u30b8")):E=r(E,"("+t+"D10<="+$+") \uff1e "+d+" \uff1e \u6210\u529f\u6570\uff1a"+f),S(e(m,0))&&(E=r(E," / "+m+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),E},l.$$arity=5)}(Opal)},76491:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a,$,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$,b=t.module,y=t.klass,T=t.send2,h=t.truthy,S=t.send;a=m,$=f=[b(m[0],"BCDice")].concat(a),i=_=[b(f[0],"GameSystem")].concat($),l=y(_[0],p(_,"Base"),"Alsetto"),c=[l].concat(i),l.$$prototype.randomizer=d,t.const_set(c[0],"ID","Alsetto"),t.const_set(c[0],"NAME","\u8a69\u7247\u306e\u30a2\u30eb\u30bb\u30c3\u30c8"),t.const_set(c[0],"SORT_KEY","\u3046\u305f\u304b\u305f\u306e\u3042\u308b\u305b\u3064\u3068"),t.const_set(c[0],"HELP_MESSAGE","\u30fb\u6210\u529f\u5224\u5b9a\uff1anAL[m]\u3000\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAL[m]*p\u3000\u3000\u3000\u30fb\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\uff1anALC[m]*p\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff08\u30ac\u30f3\u30b9\u30ea\u30f3\u30ac\u30fc\u306e\u6839\u6e90\u8a69\uff09\uff1anALG[m]*p\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\nAL\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u300c3\u300d\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\nALC\u30b3\u30de\u30f3\u30c9\u306f\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3067\u3001\u6210\u529f\u6570\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\nALG\u30b3\u30de\u30f3\u30c9\u306f\u300c2\u4ee5\u4e0b\u300d\u3067\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AL \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\n\u30fb5ALC \u2192 5d6\u3067\u76ee\u6a19\u50243\u3002\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u3002\n\u30fb6AL2 \u2192 6d6\u3067\u76ee\u6a19\u50242\u3002\n\u30fb4AL*5 \u2192 4d6\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AL2x10 \u2192 7d6\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8ALC4x5 \u2192 8d6\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b5\u3001\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5\u7121\u3057\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),l.$register_prefix("\\d+AL[CG]?"),t.def(l,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),T(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},o.$$arity=1),t.def(l,"$eval_game_system_specific_command",u=function(t){var e=d,n=d,r=d,a=d,$=d,i=d,o=d;return h(t["$=~"](/(\d+)AL(C|G)?(\d+)?((x|\*)(\d+))?$/i))?(e=p(c,"Regexp").$last_match(1).$to_i(),n=p(c,"Regexp").$last_match(2)["$nil?"](),h(n)?r=1:p(c,"Regexp").$last_match(2)["$=="]("G")?(n=!0,r=2):r=0,a=(h($=p(c,"Regexp").$last_match(3))?$:3).$to_i(),i=(h(o=p(c,"Regexp").$last_match(6))?o:0).$to_i(),this.$checkRoll(e,a,i,n,r)):d},u.$$arity=1),t.def(l,"$checkRoll",s=function(t,a,$,i,o){var u,s,l=d,c=d,_=d,f=d,m=d,p=d,b=d,y=d,T=d,D=d;for(l=0,c=0,_="",f=t;h(e(f,0))&&(p=(m=this.randomizer.$roll_barabara(f,6).$sort()).$join(","),b=0,y=0,S(m,"each",[],((u=function(t){return null==t&&(t=d),h(n(t,a))&&(b=r(b,1)),h(n(t,o))?y=r(y,1):d}).$$s=this,u.$$arity=1,u)),l=r(l,b),y["$=="](0)||(c=r(c,1)),h(_["$empty?"]())||(_=r(_,"+")),_=r(_,b+"["+p+"]"),h(i));)f=y;return s=$["$!="](0),h(s)?(T=function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}(l,$),D="("+t+"D6<="+a+") \uff1e "+_+" \uff1e Hits\uff1a"+l+"*"+$+" \uff1e "+T+"\u30c0\u30e1\u30fc\u30b8"):D="("+t+"D6<="+a+") \uff1e "+_+" \uff1e \u6210\u529f\u6570\uff1a"+l,h(i)&&(D=r(D," / "+c+"\u30c8\u30e9\u30a4\u30a2\u30f3\u30d5")),D},s.$$arity=5)}(Opal)},87665:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D=[],g=t.nil,E=t.$$,R=t.module,A=t.klass,v=t.truthy;r=D,a=S=[R(D[0],"BCDice")].concat(r),$=h=[R(S[0],"GameSystem")].concat(a),y=A(h[0],E(h,"Base"),"AlterRaise"),T=[y].concat($),y.$$prototype.randomizer=g,t.const_set(T[0],"ID","AlterRaise"),t.const_set(T[0],"NAME","\u30a2\u30eb\u30c8\u30ec\u30a4\u30ba"),t.const_set(T[0],"SORT_KEY","\u3042\u308b\u3068\u308c\u3044\u3059"),t.const_set(T[0],"HELP_MESSAGE","\u25c6\u89e3\u653e\u5224\u5b9a\uff1aEMA[x]\n\n[x]\u3067\u9054\u6210\u5024\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u7701\u7565\u6642\u306f\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\n\n\u3010\u5404\u7a2e\u8868\u3011\n\u25c6\u6027\u683c\u50be\u5411\u8868\uff1aPER[n]\u3000\u3000\u3000\u3000\u3000\u3000 \u25c6\u5834\u6240\u8868\uff1aLOC[ab]\n\u25c6\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868\uff1aQUI[ab]\u3000\u3000\u3000\u3000\u3000\u25c6\u559c\u3073\u30fb\u7d4c\u9a13\u8868\uff1aDEL[ab]\n\u25c6\u5fc3\u306e\u50b7\u30fb\u7d4c\u9a13\u8868\uff1aTRA[ab]\u3000\u3000\u3000\u3000\u25c6\u30b7\u30fc\u30f3\u6f14\u51fa\u8868\uff1aSCE[n]\n\u25c6\u30b9\u30bf\u30f3\u30b9\u8868\uff1aSTA[n]\u3000\u3000\u3000\u3000\u3000\u3000 \u25c6\u611f\u60c5\u8868\uff1aEMO[ab]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u3092\u7701\u7565\u3067\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3001\u6307\u5b9a\u3067ROC\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n[n]\u306f\u300c1D6\u300d\u3001[ab]\u306f\u300cD66\u300d\u306e\u51fa\u76ee\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\nPER3\uff1a\u6027\u683c\u50be\u5411\u8868\u306e\u300c3\u300d\u3092ROC\nLOC52\uff1a\u5834\u6240\u8868\u306e\u300c52\u300d\u3092ROC\nQUI\uff1a\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868\u3092\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\n"),y.$register_prefix("EMA","PER","LOC","QUI","DEL","TRA","SCE","STA","EMO"),t.def(y,"$eval_game_system_specific_command",i=function(t){var e,n=this,r=g,a=g,$=g,i=g,o=g,u=g,s=g,l=g,c=g,_=g;return e=t.$upcase(),/EMA(\d+)?$/i["$==="](e)?(r=(v(a=E(T,"Regexp").$last_match(1))?a:0).$to_i(),n.$get_emancipation_table(r)):/PER(\d+)?$/i["$==="](e)?(r=(v($=E(T,"Regexp").$last_match(1))?$:0).$to_i(),n.$get_personality_table(r)):/LOC(\d+)?$/i["$==="](e)?(r=(v(i=E(T,"Regexp").$last_match(1))?i:0).$to_i(),n.$get_location_table(r)):/QUI(\d+)?$/i["$==="](e)?(r=(v(o=E(T,"Regexp").$last_match(1))?o:0).$to_i(),n.$get_quiet_table(r)):/DEL(\d+)?$/i["$==="](e)?(r=(v(u=E(T,"Regexp").$last_match(1))?u:0).$to_i(),n.$get_delight_table(r)):/TRA(\d+)?$/i["$==="](e)?(r=(v(s=E(T,"Regexp").$last_match(1))?s:0).$to_i(),n.$get_trauma_table(r)):/SCE(\d+)?$/i["$==="](e)?(r=(v(l=E(T,"Regexp").$last_match(1))?l:0).$to_i(),n.$get_scene_production_table(r)):/STA(\d+)?$/i["$==="](e)?(r=(v(c=E(T,"Regexp").$last_match(1))?c:0).$to_i(),n.$get_stance_table(r)):/EMO(\d+)?$/i["$==="](e)?(r=(v(_=E(T,"Regexp").$last_match(1))?_:0).$to_i(),n.$get_emotion_table(r)):g},i.$$arity=1),t.def(y,"$get_emancipation_table",o=function(t){var r,a,$=g,i=g,o=g,u=g;return r=[[2,"\u6fc0\u95d8\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u60f3\u5b9a\u3092\u306f\u308b\u304b\u306b\u4e0a\u56de\u308b\u8105\u5a01\u3060\u3063\u305f\u3002\u5e7e\u672c\u3082\u306e\u592a\u5200\u7b4b\u3068\u6c38\u9060\u306e\u3088\u3046\u306a\u6642\u9593\u306e\u679c\u3066\u306b\u3001\u541b\u305f\u3061\u306f\u52dd\u5229\u3057\u305f\u3002\u6df1\u624b\u3092\u8ca0\u3063\u305f\u304c\u3001\u30ae\u30ea\u30ae\u30ea\u81f4\u547d\u50b7\u3067\u306f\u306a\u3044\u3002"],[4,"\u8f9b\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u60f3\u5b9a\u4ee5\u4e0a\u306e\u5927\u7269\u3060\u3063\u305f\u3002\u5203\u3068\u7259\u306e\u305b\u3081\u304e\u5408\u3044\u306e\u679c\u3066\u3001\u541b\u305f\u3061\u306f\u8f9b\u304f\u3082\u52dd\u5229\u3057\u305f\u3002"],[6,"\u52dd\u5229\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u3001\u304a\u304a\u3080\u306d\u60f3\u5b9a\u3055\u308c\u308b\u7a0b\u5ea6\u306e\u500b\u4f53\u3067\u3042\u3063\u305f\u3002\u591a\u5c11\u306e\u50b7\u306f\u8ca0\u3063\u305f\u304c\u3001\u541b\u305f\u3061\u306f\u554f\u984c\u306a\u304f\u52dd\u5229\u3067\u304d\u305f\u3002"],[8,"\u5feb\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306b\u306f\u3001\u5371\u3046\u3052\u3082\u7121\u304f\u52dd\u5229\u3067\u304d\u305f\u3002\u541b\u3068\u30da\u30a2\u306e\u30b3\u30f3\u30d3\u30cd\u30fc\u30b7\u30e7\u30f3\u306e\u8cdc\u7269\u3060\u308d\u3046\u3002\u304b\u3059\u308a\u50b7\u3092\u8ca0\u3063\u305f\u304c\u3001\u52f2\u7ae0\u306e\u3088\u3046\u306a\u3082\u306e\u3060\u3002"],[10,"\u5727\u52dd\u3002\u4eca\u56de\u306e\u7aef\u672b\u306f\u3001\u541b\u305f\u3061\u306e\u6575\u3067\u306f\u306a\u304b\u3063\u305f\u3002\u541b\u3068\u30da\u30a2\u306e\u5263\u6483\u306f\u77ac\u304f\u9593\u306b\u7aef\u672b\u3092\u5bf8\u65ad\u3057\u3001\u7c92\u5b50\u306e\u5149\u306b\u9084\u5143\u3057\u305f\u3002"],[12,"\u5239\u90a3\u3002\u7aef\u672b\u3092\u305d\u306e\u5207\u3063\u5148\u306b\u6349\u3048\u305f\u5239\u90a3\u3001\u541b\u305f\u3061\u306e\u524d\u3067\u7c92\u5b50\u306e\u5149\u304c\u821e\u3046\u3002\u305d\u308c\u4ee5\u4e0a\u4f55\u3082\u8d77\u3053\u308b\u3053\u3068\u306f\u306a\u304f\u3001\u4e16\u754c\u306f\u8272\u3092\u53d6\u308a\u623b\u3057\u305f\u3002"]],v(e(t,1))?(v(e($=t,12))&&($=12),i=""):($=(o=this.randomizer.$roll_barabara(2,6)).$sum(),i="("+o.$join(",")+")"),u=this.$get_table_by_number($,r),v("number"==typeof(a=$)?a>=7:a["$>="](7))&&(u=n(u,"\n\u3010\u9054\u6210\u50247\u4ee5\u4e0a\u3011GM\uff1a\u653b\u6483\u30eb\u30fc\u30c1\u30f31\u3064\u3092\u958b\u793a\uff08\u756a\u53f7\u306f\u30da\u30a2PL\u304c\u6307\u5b9a\uff09\u3000PL\uff1a\u6226\u95d8\u958b\u59cb\u6642\u306e\u30a2\u30af\u30bb\u30eb\u30ec\u30d9\u30eb+1")),"\u89e3\u653e\u5224\u5b9a\u8868 \uff1e "+$+i+"\uff1a"+u},o.$$arity=1),t.def(y,"$get_personality_table",u=function(t){return this.$get_AlterRaise_1d6_table_result("\u6027\u683c\u50be\u5411\u8868",[[1,"\u6311\u6226"],[2,"\u8abf\u548c"],[3,"\u611f\u6027"],[4,"\u4fe1\u5ff5"],[5,"\u8ad6\u7406"],[6,"\u601d\u616e"]],t)},u.$$arity=1),t.def(y,"$get_location_table",s=function(t){return this.$get_AlterRaise_d66_table_result("\u5834\u6240\u8868",[[13,"\u6559\u5ba4"],[16,"\u90e8\u5ba4"],[23,"\u5546\u5e97\u8857"],[26,"\u7530\u820e"],[33,"\u90fd\u4f1a"],[36,"\u99c5"],[43,"\u30d0\u30a4\u30c8"],[46,"\u30b9\u30c6\u30fc\u30b8"],[53,"\u56f3\u66f8\u9928"],[56,"\u75c5\u9662"],[63,"\u81ea\u7136"],[66,"\u5bb6"]],t)},s.$$arity=1),t.def(y,"$get_quiet_table",l=function(t){return this.$get_AlterRaise_d66_table_result("\u5e73\u7a4f\u30fb\u7d4c\u9a13\u8868",[[13,"\u53cb\u9054"],[16,"\u5e7c\u99b4\u67d3\u307f"],[23,"\u4e21\u89aa"],[26,"\u5144\u5f1f"],[33,"\u89aa\u621a"],[36,"\u7406\u89e3\u8005"],[43,"\u53cb\u4eba"],[46,"\u4ef2\u9593"],[53,"\u8da3\u5473"],[56,"\u7df4\u7fd2"],[63,"\u4e00\u4eba"],[66,"\u304a\u6c17\u306b\u5165\u308a"]],t)},l.$$arity=1),t.def(y,"$get_delight_table",c=function(t){return this.$get_AlterRaise_d66_table_result("\u559c\u3073\u30fb\u7d4c\u9a13\u8868",[[13,"\u52dd\u5229"],[16,"\u512a\u52dd"],[23,"\u51fa\u4f1a\u3044"],[26,"\u7406\u89e3"],[33,"\u5e78\u904b"],[36,"\u30d7\u30ec\u30bc\u30f3\u30c8"],[43,"\u6210\u5c31"],[46,"\u6210\u9577"],[53,"\u5275\u9020"],[56,"\u597d\u8ee2"],[63,"\u8a3c\u660e"],[66,"\u751f\u9084"]],t)},c.$$arity=1),t.def(y,"$get_trauma_table",_=function(t){return this.$get_AlterRaise_d66_table_result("\u5fc3\u306e\u50b7\u30fb\u7d4c\u9a13\u8868",[[13,"\u6557\u5317"],[16,"\u4ef2\u9055\u3044"],[23,"\u5931\u604b"],[26,"\u7121\u7406\u89e3"],[33,"\u7121\u529b"],[36,"\u5b64\u72ec"],[43,"\u5225\u96e2"],[46,"\u6b7b\u5225"],[53,"\u640d\u58ca"],[56,"\u55aa\u5931"],[63,"\u75c5"],[66,"\u4e8b\u6545"]],t)},_.$$arity=1),t.def(y,"$get_scene_production_table",f=function(t){return this.$get_AlterRaise_1d6_table_result("\u30b7\u30fc\u30f3\u6f14\u51fa\u8868",[[1,"\u76f8\u8ac7\u3002\u541b\u306f\u76f8\u624b\u306b\u76f8\u8ac7\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002"],[2,"\u904a\u3073\u3002\u541b\u306f\u76f8\u624b\u3068\u904a\u3073\u305f\u304b\u3063\u305f\u3002"],[3,"\u6848\u5185\u3002\u541b\u306f\u81ea\u8eab\u306e\u30a2\u30ea\u30a6\u30b9\u30fb\u30d1\u30fc\u30bd\u30ca\u30eb\u3092\u6848\u5185\u3057\u305f\u304b\u3063\u305f\u3002"],[4,"\u52dd\u8ca0\u3002\u541b\u306f\u76f8\u624b\u3068\u4f55\u3089\u304b\u306e\u52dd\u8ca0\u3092\u3057\u305f\u304b\u3063\u305f\u3002"],[5,"\u304a\u9858\u3044\u3002\u541b\u306f\u76f8\u624b\u306b\u304a\u9858\u3044\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002"],[6,"\u6249\u3092\u958b\u304f\u524d\u306b\u3002\u30a2\u30af\u30bb\u30eb\u30c0\u30a4\u30d6\u30fb\u30b2\u30fc\u30c8\u3092\u304f\u3050\u308b\u524d\u306b\u3001\u541b\u306f\u76f8\u624b\u306b\u8a71\u3057\u305f\u3044\u3053\u3068\u304c\u3042\u3063\u305f\u3002\uff08\uff0a\u30c0\u30a4\u30d6\u3057\u305f\u5f8c\u306e\u30b7\u30fc\u30f3\u3082\u6f14\u51fa\u3059\u308b\u3053\u3068\uff09"]],t)},f.$$arity=1),t.def(y,"$get_stance_table",m=function(t){return this.$get_AlterRaise_1d6_table_result("\u30b9\u30bf\u30f3\u30b9\u8868",[[1,"\u53cb\u4eba"],[2,"\u604b\u611b"],[3,"\u5e2b\u4e8b"],[4,"\u30e9\u30a4\u30d0\u30eb"],[5,"\u5bb6\u65cf"],[6,"\u5b88\u8b77"]],t)},m.$$arity=1),t.def(y,"$get_emotion_table",d=function(t){return this.$get_AlterRaise_d66_table_result("\u611f\u60c5\u8868",[[13,"\u52c7\u6c17"],[16,"\u6012\u308a"],[23,"\u60b2\u3057\u307f"],[26,"\u559c\u3073"],[33,"\u9a5a\u304d"],[36,"\u6050\u308c"],[43,"\u5b89\u3089\u304e"],[46,"\u8aa0\u610f"],[53,"\u5e87\u8b77"],[56,"\u8b1d\u610f"],[63,"\u4fe1\u983c"],[66,"\u597d\u610f"]],t)},d.$$arity=1),t.def(y,"$get_AlterRaise_1d6_table_result",p=function(t,n,r){var a=g;return v(e(r,0))?v(e(a=r,6))&&(a=6):a=this.randomizer.$roll_once(6),t+" \uff1e "+a+"\uff1a"+this.$get_table_by_number(a,n)},p.$$arity=3),t.def(y,"$get_AlterRaise_d66_table_result",b=function(t,r,a){var $,i,o=this,u=g,s=g,l=g;return v(e(a,10))?(s=(u=a.$to_s())["$[]"](0,1).$to_i(),v(e(s,6))&&(s=6),l=u["$[]"](1,1).$to_i(),v("number"==typeof(i=l)?i<1:i["$<"](1))&&(l=1),v(e(l,6))&&(l=6)):v(e(a,0))?(v(e(s=a,6))&&(s=6),l=o.randomizer.$roll_once(6)):(s=o.randomizer.$roll_once(6),l=o.randomizer.$roll_once(6)),$=n(function(t,e){return"number"==typeof t?10*t:t["$*"](10)}(s),l),t+" \uff1e "+(u=s+","+l)+"\uff1a"+o.$get_table_by_number($,r)},b.$$arity=3)}(Opal)},21611:function(t,e,n){n(93683),Opal.modules["bcdice/arithmetic_evaluator"]=function(t){var e,n,r,a,$,i,o,u,s=[],l=t.nil,c=t.$$$,_=t.$$,f=t.module,m=t.hash2,d=t.truthy;return e=s,n=u=[f(s[0],"BCDice")].concat(e),o=[i=f(u[0],"ArithmeticEvaluator")].concat(n),r=t.get_singleton_class(i),$=[r].concat(o),void t.def(r,"$eval",a=function(e,n){var r,a=l;if(null==n)n=m([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(r=n.$$smap.round_type)&&(r=c(_($,"RoundType"),"FLOOR")),d(e)&&d(a=_($,"Arithmetic").$eval(e,r))?a:0},a.$$arity=-2)},Opal.modules["bcdice/format"]=function(t){var e,n,r,a,$,i,o,u=[],s=t.nil,l=t.$$,c=t.module,_=t.truthy;return e=u,n=o=[c(u[0],"BCDice")].concat(e),$=c(o[0],"Format"),i=[$].concat(n),$.$module_function(),t.def($,"$comparison_operator",r=function(t){var e;return"=="["$==="](e=t)?"=":"!="["$==="](e)?"<>":l(i,"Symbol")["$==="](e)?t.$to_s():s},r.$$arity=1),void t.def($,"$modifier",a=function(t){return _(t["$nil?"]())?s:t["$=="](0)?"":_("number"==typeof(e=t)?e>0:e["$>"](0))?"+"+t:t.$to_s();var e},a.$$arity=1)},Opal.modules["bcdice/normalize"]=function(t){var e,n,r,a,$,i,o=[],u=t.nil,s=t.module;return $=o,e=i=[s(o[0],"BCDice")].concat($),[a=s(i[0],"Normalize")].concat(e),a.$module_function(),t.def(a,"$comparison_operator",n=function(t){var e;return/<=|=</["$==="](e=t)?"<=":/>=|=>/["$==="](e)?">=":/<>|!=|=!/["$==="](e)?"!=":/</["$==="](e)?"<":/>/["$==="](e)?">":/=/["$==="](e)?"==":u},n.$$arity=1),void t.def(a,"$target_number",r=function(t){return t["$=="]("?")?t:t.$to_i()},r.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d=t.top,p=[],b=t.nil,y=t.$$$,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.truthy,E=t.send,R=t.hash2;d.$require("bcdice/arithmetic_evaluator"),d.$require("bcdice/format"),d.$require("bcdice/normalize"),n=p,r=m=[h(p[0],"BCDice")].concat(n),a=f=[h(m[0],"GameSystem")].concat(r),c=S(f[0],T(f,"Base"),"Amadeus"),_=[c].concat(a),c.$$prototype.randomizer=b,t.const_set(_[0],"ID","Amadeus"),t.const_set(_[0],"NAME","\u30a2\u30de\u30c7\u30a6\u30b9"),t.const_set(_[0],"SORT_KEY","\u3042\u307e\u3066\u3046\u3059"),t.const_set(_[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a(Rx\xb1y@z>=t)\n\u3000\u80fd\u529b\u5024\u306e\u30c0\u30a4\u30b9\u3054\u3068\u306b\u6210\u529f\u30fb\u5931\u6557\u306e\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000x\uff1a\u80fd\u529b\u30e9\u30f3\u30af(S,A\uff5eD)\u3000y\uff1a\u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n\u3000z\uff1a\u30b9\u30da\u30b7\u30e3\u30eb\u6700\u4f4e\u5024\uff08\u7701\u7565\uff1a6\uff09\u3000t\uff1a\u76ee\u6a19\u5024\uff08\u7701\u7565\uff1a4\uff09\n\u3000\u3000\u4f8b\uff09 RA\u3000RB-1\u3000RC>=5\u3000RD+2\u3000RS-1@5>=6\n\u3000\u51fa\u529b\u66f8\u5f0f\u306f\n\u3000\u3000(\u9054\u6210\u5024)_(\u5224\u5b9a\u7d50\u679c)[(\u51fa\u76ee)(\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac)]\n\u3000C,D\u30e9\u30f3\u30af\u3067\u306f\u5bfe\u5fdc\u3059\u308b\u30a4\u30f3\u30ac\u306f\u51fa\u529b\u3055\u308c\u307e\u305b\u3093\u3002\n\u3000\u3000\u51fa\u529b\u4f8b)\u30002_\u30d5\u30a1\u30f3\u30d6\u30eb\uff01[1\u9ed2] / 3_\u5931\u6557[3\u9752]\n\u30fb\u5404\u7a2e\u8868\n\u3000\u5883\u9047\u8868 ECT\uff0f\u95a2\u4fc2\u8868 RT\uff0f\u89aa\u5fc3\u8868 PRT\uff0f\u6226\u5834\u8868 BST\uff0f\u4f11\u61a9\u8868 BT\uff0f\n\u3000\u30d5\u30a1\u30f3\u30d6\u30eb\u8868 FT\uff0f\u81f4\u547d\u50b7\u8868 FWT\uff0f\u6226\u679c\u8868 BRT\uff0f\u30e9\u30f3\u30c0\u30e0\u30a2\u30a4\u30c6\u30e0\u8868 RIT\uff0f\n\u3000\u640d\u50b7\u8868 WT\uff0f\u60aa\u5922\u8868 NMT\uff0f\u76ee\u6a19\u8868 TGT\uff0f\u5236\u7d04\u8868 CST\uff0f\n\u3000\u30e9\u30f3\u30c0\u30e0\u30ae\u30d5\u30c8\u8868 RGT\uff0f\u6c7a\u6226\u6226\u679c\u8868 FBT\uff0f\n\u3000\u5e97\u5185\u96f0\u56f2\u6c17\u8868 SAT\uff0f\u7279\u6b8a\u30e1\u30cb\u30e5\u30fc\u8868 SMT\n\u30fb\u8a66\u7df4\u8868\uff08\uff5eVT\uff09\n\u3000\u30ae\u30ea\u30b7\u30e3\u795e\u7fa4 GCVT\uff0f\u30e4\u30de\u30c8\u795e\u7fa4 YCVT\uff0f\u30a8\u30b8\u30d7\u30c8\u795e\u7fa4 ECVT\uff0f\n\u3000\u30af\u30c8\u30a5\u30eb\u30d5\u795e\u7fa4 CCVT\uff0f\u5317\u6b27\u795e\u7fa4 NCVT\uff0f\u4e2d\u83ef\u795e\u7fa4 CHVT\uff0f\n  \u30e9\u30b9\u30c8\u30af\u30ed\u30cb\u30af\u30eb\u795e\u7fa4 LCVT\uff0f\u30b1\u30eb\u30c8\u795e\u7fa4 KCVT\uff0f\u30c0\u30f3\u30b8\u30e7\u30f3 DGVT\uff0f\u65e5\u5e38 DAVT\n\u30fb\u6311\u6226\u30c6\u30fc\u30de\u8868\uff08\uff5eCT\uff09\n\u3000\u6b66\u52c7 PRCT\uff0f\u6280\u8853 TCCT\uff0f\u982d\u8133 INCT\uff0f\u970a\u529b PSCT\uff0f\u611b LVCT\uff0f\u65e5\u5e38 DACT\n"),t.def(c,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.enabled_d66=!0,n.d66_sort_type=y(T(_,"D66SortType"),"ASC")},$.$$arity=1),t.def(c,"$eval_game_system_specific_command",i=function(t){var e,n=this;return g(e=n.$roll_amadeus(t))?e:n.$roll_tables(t,y(n.$class(),"TABLES"))},i.$$arity=1),c.$private(),t.def(c,"$roll_amadeus",o=function(n){var r,a,$,i=this,o=b,u=b,s=b,l=b,c=b,f=b,m=b,d=b,p=b,y=b,h=b,S=b,D=b,R=b,A=b,v=b,B=b,x=b,C=b;return o=/^R([A-DS])([+\-\d]*)(@(\d))?((>=?)([+\-\d]*))?(@(\d))?$/i.$match(n),g(o)?(u=o["$[]"](1),s=T(_,"ArithmeticEvaluator").$eval(o["$[]"](2)),l=g(o["$[]"](6))?T(_,"Normalize").$comparison_operator(o["$[]"](6)):">=",c=g(o["$[]"](7))?T(_,"ArithmeticEvaluator").$eval(o["$[]"](7)):4,f=(g(m=g(d=o["$[]"](4))?d:o["$[]"](9))?m:6).$to_i(),p=T(_,"CHECK_DICE_COUNT")["$[]"](u),h=(y=i.randomizer.$roll_barabara(p,6)).$join(","),S=f["$=="](6)?"":"@"+f,u["$=="]("D")&&(y=[y.$min()]),$=y.$size(),D="number"==typeof $?$>1:$["$>"](1),R=i.$translate("Amadeus.inga_table"),A=!1,v=!1,B=!1,x=E(y,"map",[],((r=function(t){var n,a=null==r.$$s?this:r.$$s,$=b;return null==t&&(t=b),$=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(t,s),n=t["$=="](1)?(B=!0,a.$translate("Amadeus.fumble")):g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,f))?(v=!0,A=!0,a.$translate("Amadeus.special")):g($.$send(l,c))?(A=!0,a.$translate("success")):a.$translate("failure"),g(D)?$+"_"+n+"["+t+R["$[]"](e(t,1))+"]":$+"_"+n+"["+t+"]"}).$$s=i,r.$$arity=1,r)),C=["(R"+u+T(_,"Format").$modifier(s)+S+l+c+")","["+h+"]"+T(_,"Format").$modifier(s),x.$join(" / ")],E(T(_,"Result").$new(),"tap",[],((a=function(n){var r=b;return null==n&&(n=b),r=[C.$join(" \uff1e ")],E(n,"text=",t.to_a(r)),e(r.length,1),g(A)?(E(n,"success=",t.to_a(r=[!0])),e(r.length,1),E(n,"critical=",t.to_a(r=[v])),r[e(r.length,1)]):(E(n,"failure=",t.to_a(r=[!0])),e(r.length,1),E(n,"fumble=",t.to_a(r=[B])),r[e(r.length,1)])}).$$s=i,a.$$arity=1,a))):b},o.$$arity=1),t.const_set(_[0],"CHECK_DICE_COUNT",R(["S","A","B","C","D"],{S:4,A:3,B:2,C:1,D:2}).$freeze()),u=t.get_singleton_class(c),l=[u].concat(_),u.$private(),t.def(u,"$translate_tables",s=function(t){return R(["ECT","BST","RT","PRT","FT","BT","FWT","BRT","RIT","WT","NMT","TGT","CST","GCVT","YCVT","ECVT","CCVT","NCVT","DGVT","DAVT","PRCT","TCCT","INCT","PSCT","LVCT","DACT","RGT","FBT","CHVT","LCVT","KCVT","SAT","SMT"],{ECT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.ECT",t),BST:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.BST",t),RT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.RT",t),PRT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.PRT",t),FT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.FT",t),BT:y(T(l,"DiceTable"),"D66Table").$from_i18n("Amadeus.table.BT",t),FWT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.FWT",t),BRT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.BRT",t),RIT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.RIT",t),WT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.WT",t),NMT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.NMT",t),TGT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.TGT",t),CST:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.CST",t),GCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.GCVT",t),YCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.YCVT",t),ECVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.ECVT",t),CCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.CCVT",t),NCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.NCVT",t),DGVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.DGVT",t),DAVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.DAVT",t),PRCT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.PRCT",t),TCCT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.TCCT",t),INCT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.INCT",t),PSCT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.PSCT",t),LVCT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.LVCT",t),DACT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.DACT",t),RGT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.RGT",t),FBT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.FBT",t),CHVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.CHVT",t),LCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.LCVT",t),KCVT:y(T(l,"DiceTable"),"Table").$from_i18n("Amadeus.table.KCVT",t),SAT:y(T(l,"DiceTable"),"D66Table").$from_i18n("Amadeus.table.SAT",t),SMT:y(T(l,"DiceTable"),"D66Table").$from_i18n("Amadeus.table.SMT",t)})},s.$$arity=1),t.const_set(_[0],"TABLES",c.$translate_tables("ja_jp")),c.$register_prefix("R[A-DS]",T(_,"TABLES").$keys())}(Opal)},46791:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,a,$,i,o,u,s,l,c,_,f=[],m=t.nil,d=t.$$$,p=t.$$,b=t.module,y=t.klass,T=t.truthy,h=t.send,S=t.hash2,D=t.range;r=f,a=_=[b(f[0],"BCDice")].concat(r),$=c=[b(_[0],"GameSystem")].concat(a),s=y(c[0],p(c,"Base"),"Aoharubaan"),l=[s].concat($),s.$$prototype.randomizer=m,t.const_set(l[0],"ID","Aoharubaan"),t.const_set(l[0],"NAME","\u3042\u304a\u306f\u308b\u3070\u30fc\u3093\u3063"),t.const_set(l[0],"SORT_KEY","\u3042\u304a\u306f\u308b\u306f\u3042\u3093\u3064"),t.const_set(l[0],"HELP_MESSAGE","\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868\uff08 KR, KReaction \uff09\n"),t.const_set(l[0],"JUDGE_ROLL_REG",/^(1d6?|d6)(\+\d+)?(>=|=>)(\d+)$/i.$freeze()),s.$register_prefix("(1d6?|d6)(\\+\\d+)?(>=|=>)(\\d+)"),t.def(s,"$eval_game_system_specific_command",i=function(t){var e,n=m;return t=T(e=p(l,"ALIAS")["$[]"](t))?e:t,T(n=p(l,"JUDGE_ROLL_REG").$match(t))?this.$roll_judge(n["$[]"](2),n["$[]"](4)):this.$roll_tables(t,p(l,"TABLES"))},i.$$arity=1),s.$private(),t.def(s,"$roll_judge",o=function(r,a){var $,i,o,u,s,c,_,f,b,y=this,S=m,D=m,g=m,E=m;return S=T(r)?p(l,"Arithmetic").$eval(r,d(p(l,"RoundType"),"FLOOR")):m,i=a.$to_i(),o=y.$make_command_text(S,i),D=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(u=y.randomizer.$roll_once(6),S.$to_i()),s=e(D,i),c=T(f=s)?D["$=="](i):f,_=T(b=s)?e(D,7):b,(g=[])["$<<"](T(s)?"\u6210\u529f":"\u5931\u6557"),T(c)&&g["$<<"]("\u30d4\u30bf\u30ea\u8cde"),T(_)&&g["$<<"]("\u9650\u754c\u7a81\u7834"),(E=[])["$<<"](o),T(S)&&E["$<<"](u+"+"+S),E["$<<"](D),E["$<<"](g.$join(" \uff06 ")),h(p(l,"Result").$new(E.$join(" \uff1e ")),"tap",[],(($=function(e){var r,a=m;return null==e&&(e=m),h(e,"condition=",t.to_a(a=[s])),n(a.length,1),a=[T(r=c)?r:_],h(e,"critical=",t.to_a(a)),a[n(a.length,1)]}).$$s=y,$.$$arity=1,$))},o.$$arity=2),t.def(s,"$make_command_text",u=function(t,e){var n=m;return n="1D6",T(t)&&(n=n+"+"+t),"("+(n=n+">="+e)+")"},u.$$arity=2),t.const_set(l[0],"ALIAS",h(h(S(["KR"],{KR:"KReaction"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),t.const_set(l[0],"TABLES",h(S(["KReaction"],{KReaction:d(p(l,"DiceTable"),"RangeTable").$new("\u30ab\u30ec\u30ab\u30ce\u53cd\u5fdc\u8868","1D6",[[D(1,2,!1),"\u4f55\u3068\u306a\u304f\u7d20\u3063\u6c17\u306a\u3044\u6c17\u304c\u3059\u308b\u3002"],[D(3,4,!1),"\u3044\u3064\u3082\u3068\u5909\u308f\u3089\u306a\u3044\u5b89\u5fc3\u611f\u3002"],[D(5,6,!1),"\u4f55\u6545\u3060\u304b\u3059\u3054\u304f\u30c7\u30ec\u3066\u304d\u305f\uff01\u3000\u5b09\u3057\u304f\u3066\u3008\u30c6\u30f3\u30b7\u30e7\u30f3\u3009\uff11\u56de\u5fa9\u3002"]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),s.$register_prefix(p(l,"ALIAS").$keys(),p(l,"TABLES").$keys())}(Opal)},94814:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var n,r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$$,m=t.$$,d=t.module,p=t.klass,b=t.send2,y=t.truthy;n=c,r=l=[d(c[0],"BCDice")].concat(n),a=s=[d(l[0],"GameSystem")].concat(r),o=p(s[0],m(s,"Base"),"Arianrhod"),u=[o].concat(a),t.const_set(u[0],"ID","Arianrhod"),t.const_set(u[0],"NAME","\u30a2\u30ea\u30a2\u30f3\u30ed\u30c3\u30c9RPG"),t.const_set(u[0],"SORT_KEY","\u3042\u308a\u3042\u3093\u308d\u3064\u3068RPG"),t.const_set(u[0],"HELP_MESSAGE","\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6642\u306e\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3082\u8868\u793a\u3055\u308c\u307e\u3059)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(o,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),b(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=f(m(u,"D66SortType"),"NO_SORT")},$.$$arity=1),t.def(o,"$result_nd6",i=function(t,n,r,a,$){var i,o=_;return i=r.$count(6),r.$count(1)["$=="](r.$size())?m(u,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):y(e(i,2))?m(u,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(+"+i+"D6)"):y(y(o=a["$!="](">="))?o:$["$=="]("?"))?_:y(e(t,$))?m(u,"Result").$success("\u6210\u529f"):m(u,"Result").$failure("\u5931\u6557")},i.$$arity=5)}(Opal)},98382:function(t,e,n){n(93683),Opal.modules["bcdice/normalize"]=function(t){var e,n,r,a,$,i,o=[],u=t.nil,s=t.module;return $=o,e=i=[s(o[0],"BCDice")].concat($),[a=s(i[0],"Normalize")].concat(e),a.$module_function(),t.def(a,"$comparison_operator",n=function(t){var e;return/<=|=</["$==="](e=t)?"<=":/>=|=>/["$==="](e)?">=":/<>|!=|=!/["$==="](e)?"!=":/</["$==="](e)?"<":/>/["$==="](e)?">":/=/["$==="](e)?"==":u},n.$$arity=1),void t.def(a,"$target_number",r=function(t){return t["$=="]("?")?t:t.$to_i()},r.$$arity=1)},Opal.modules["bcdice/format"]=function(t){var e,n,r,a,$,i,o,u=[],s=t.nil,l=t.$$,c=t.module,_=t.truthy;return e=u,n=o=[c(u[0],"BCDice")].concat(e),$=c(o[0],"Format"),i=[$].concat(n),$.$module_function(),t.def($,"$comparison_operator",r=function(t){var e;return"=="["$==="](e=t)?"=":"!="["$==="](e)?"<>":l(i,"Symbol")["$==="](e)?t.$to_s():s},r.$$arity=1),void t.def($,"$modifier",a=function(t){return _(t["$nil?"]())?s:t["$=="](0)?"":_("number"==typeof(e=t)?e>0:e["$>"](0))?"+"+t:t.$to_s();var e},a.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i,o,u,s,l,c,_,f,m,d,p,b=t.top,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy,E=t.send;b.$require("bcdice/normalize"),b.$require("bcdice/format"),i=y,o=p=[S(y[0],"BCDice")].concat(i),u=d=[S(p[0],"GameSystem")].concat(o),f=D(d[0],h(d,"Base"),"ArsMagica"),m=[f].concat(u),f.$$prototype.target_numner=f.$$prototype.botch=f.$$prototype.modify_number=f.$$prototype.cmp_op=f.$$prototype.randomizer=T,t.const_set(m[0],"ID","ArsMagica"),t.const_set(m[0],"NAME","\u30a2\u30eb\u30b9\u30de\u30ae\u30ab"),t.const_set(m[0],"SORT_KEY","\u3042\u308b\u3059\u307e\u304d\u304b"),t.const_set(m[0],"HELP_MESSAGE",'\u30fb\u30b9\u30c8\u30ec\u30b9\u30c0\u30a4\u30b9\u3000(ArSx+y)\n\u3000"ArS(\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9)+(\u4fee\u6b63)"\u3067\u3059\u3002\u5224\u5b9a\u306b\u3082\u4f7f\u3048\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(1R10+y[m])\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3068\u4fee\u6b63\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002(\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3092\u7701\u7565\u3059\u308b\u30681\u3068\u3057\u3066\u6271\u3044\u307e\u3059)\n\u3000botch\u30c0\u30a4\u30b9\u306e0\u306e\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306f\u3001\u6570\u3048\u3066\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\uff08\u6ce8\u610f\uff01\uff09 botch\u306e\u5224\u65ad\u304c\u767a\u751f\u3057\u305f\u3068\u304d\u306b\u306f\u3001\u305d\u306e\u30c0\u30a4\u30b9\u3092\u542b\u3081\u3066\u30ed\u30fc\u30eb\u3057\u305f\u5168\u3066\u306e\u30c0\u30a4\u30b9\u3092[]\u306e\u4e2d\u306b\u4e26\u3079\u3066\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b) (1R10[5]) \uff1e 0[0,1,8,0,8,1] \uff1e Botch!\n\u3000\u3000\u6700\u521d\u306e0\u304c\u5224\u65ad\u57fa\u6e96\u3067\u3001\u305d\u306e\u53f3\u50745\u3064\u304c\u30dc\u30c3\u30c1\u30c0\u30a4\u30b9\u3067\u3059\u30021*2,8*2,0*1\u306a\u306e\u30671botch\u3068\u3044\u3046\u8a33\u3067\u3059\u3002\n'),f.$register_prefix("ArS","1R10"),t.def(f,"$eval_game_system_specific_command",s=function(t){var i,o,u,s,l,c,_=this,f=T,m=T,d=T,p=T,b=T,y=T,h=T,S=T;if(!g(g(l=_.$parse_ars(t))?l:_.$parse_1r10(t)))return T;if(o=g(c=_.target_numner)?c:0,u=_.botch,s=_.modify_number,f=1,m=0,d=_.cmp_op,p=e(_.randomizer.$roll_once(10),1),b="("+_.$expr()+") \uff1e ",p["$=="](0))y=0,h=[],E(u,"times",[],((i=function(t){var r=null==i.$$s?this:i.$$s,a=T;return null==r.randomizer&&(r.randomizer=T),null==t&&(t=T),(a=e(r.randomizer.$roll_once(10),1))["$=="](0)&&(y=n(y,1)),h.$push(a)}).$$s=_,i.$$arity=1,i)),b=n(b,"0["+p+","+h.$join(",")+"]"),g(y["$!="](0))?(b=g(r(y,1))?n(b," \uff1e "+y+"Botch!"):n(b," \uff1e Botch!"),d=T):(b=g(r(s,0))?n(b,"+"+s+" \uff1e "+s):g(a(s,0))?n(b,s+" \uff1e "+s):n(b," \uff1e 0"),m=s);else if(p["$=="](1)){for(S="";p["$=="](1);)f=$(f,2),S=n(S,(p=_.randomizer.$roll_once(10))+",");m=$(p,f),S=S.$sub(/,$/,""),b=n(b,m.$to_s()),b=n(b,"[1,"+S+"]"),m=n(m,s),g(r(s,0))?b=n(b,"+"+s+" \uff1e "+m):g(a(s,0))&&(b=n(b,s+" \uff1e "+m))}else m=n(p,s),b=g(r(s,0))?n(b,p+"+"+s+" \uff1e "+m):g(a(s,0))?n(b,""+p+s+" \uff1e "+m):n(b,m.$to_s());return d["$=="](">=")&&(b=n(b,g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(m,o))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),b.$to_s()},s.$$arity=1),f.$private(),t.def(f,"$parse_ars",l=function(t){var e,n,r=this,a=T,$=T,i=T;return a=/^ArS(\d+)?((?:[+-]-?\d+)+)?(?:([>=]+)(\d+))?$/i.$match(t),!!g(a)&&(r.botch=g($=(e=a["$[]"](1))===T||null==e?T:E(e,"to_i",[]))?$:1,r.modify_number=h(m,"ArithmeticEvaluator").$eval(g(i=a["$[]"](2))?i:""),r.cmp_op=h(m,"Normalize").$comparison_operator(a["$[]"](3)),r.target_numner=(n=a["$[]"](4))===T||null==n?T:E(n,"to_i",[]),!0)},l.$$arity=1),t.def(f,"$parse_1r10",c=function(t){var e,n,r=this,a=T,$=T,i=T;return a=/^1R10((?:[+-]-?\d+)+)?(?:\[(\d+)\])?(?:([>=]+)(\d+))?$/i.$match(t),!!g(a)&&(r.modify_number=h(m,"ArithmeticEvaluator").$eval(g($=a["$[]"](1))?$:""),r.botch=g(i=(e=a["$[]"](2))===T||null==e?T:E(e,"to_i",[]))?i:1,r.cmp_op=h(m,"Normalize").$comparison_operator(a["$[]"](3)),r.target_numner=(n=a["$[]"](4))===T||null==n?T:E(n,"to_i",[]),!0)},c.$$arity=1),t.def(f,"$expr",_=function(){var t=this;return"1R10"+h(m,"Format").$modifier(t.modify_number)+"["+t.botch+"]"+t.cmp_op+t.target_numner},_.$$arity=0)}(Opal)},14145:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$$,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.hash2,E=t.truthy,R=t.send;a=p,$=d=[h(p[0],"BCDice")].concat(a),i=m=[h(d[0],"GameSystem")].concat($),_=S(m[0],T(m,"Base"),"AssaultEngine"),f=[_].concat(i),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","AssaultEngine"),t.const_set(f[0],"NAME","\u30a2\u30b5\u30eb\u30c8\u30a8\u30f3\u30b8\u30f3"),t.const_set(f[0],"SORT_KEY","\u3042\u3055\u308b\u3068\u3048\u3093\u3057\u3093"),t.const_set(f[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a AEt (t\u76ee\u6a19\u5024)\n    \u4f8b: AE45 \uff08\u76ee\u6a19\u502445\uff09\n\u30fb\u30ea\u30ed\u30fc\u30eb nAEt (n\u30ed\u30fc\u30eb\u524d\u306e\u5024\u3001t\u76ee\u6a19\u5024)\n    \u4f8b: 76AE45 (\u76ee\u6a19\u502445\u3067\u300176\u3092\u632f\u308a\u76f4\u3059)\n\n\u30fb\u30b9\u30ef\u30c3\u30d7\uff08t\u76ee\u6a19\u5024\uff09 \u30a8\u30cd\u30df\u30fc\u30d6\u30c3\u30afP11\n    \u4f8b: AES45 \uff08\u76ee\u6a19\u502445\u3001\u30b9\u30ef\u30c3\u30d7\u8868\u793a\u3042\u308a\uff09\n"),_.$register_prefix("\\d*AE"),t.def(_,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.round_type=y(T(f,"RoundType"),"FLOOR")},o.$$arity=1),t.def(_,"$eval_game_system_specific_command",u=function(a){var $,i,o=this,u=b,s=b,l=b,c=b,_=b,m=b,d=b,p=b,h=b,S=b,D=b;return u=y(T(f,"Command"),"Parser").$new(/AES?/,g(["round_type"],{round_type:o.$round_type()})).$enable_prefix_number().$has_suffix_number().$parse(a),E(u)?(s=u.$suffix_number(),E("number"==typeof(i=s)?i>=100:i["$>="](100))&&(s=99),E(u.$command()["$include?"]("AES"))?(c=e(n((l=o.randomizer.$roll_once(100)["$%"](100))["$%"](10),10),r(l,10).$floor()),_=o.$judge(s,l),m=o.$judge(s,c),d="(AES"+o.$format00(s)+") \uff1e "+_.$text()+" / \u30b9\u30ef\u30c3\u30d7"+m.$text(),o.$check_result(_,m,d)):E(u.$prefix_number()["$nil?"]())?(l=o.randomizer.$roll_once(100)["$%"](100),R(o.$judge(s,l),"tap",[],(($=function(e){var n;return null==e&&(e=b),n=["(AE"+(null==$.$$s?this:$.$$s).$format00(s)+") \uff1e "+e.$text()],R(e,"text=",t.to_a(n)),n[function(t,e){return"number"==typeof t?t-1:t["$-"](1)}(n.length)]}).$$s=o,$.$$arity=1,$))):(p=u.$prefix_number(),h=o.randomizer.$roll_once(10)["$%"](10),S=o.$judge(s,e(n(r(p,10).$floor(),10),h)),D=o.$judge(s,e(p["$%"](10),n(h,10))),d="("+o.$format00(p)+"AE"+o.$format00(s)+") \uff1e "+h+" \uff1e "+S.$text()+" / "+D.$text(),o.$check_result(S,D,d))):b},u.$$arity=1),t.def(_,"$format00",s=function(t){return this.$format("%02d",t)},s.$$arity=1),t.def(_,"$check_result",l=function(t,e,n){var r,a=b,$=b;return E(E(r=t["$critical?"]())?r:e["$critical?"]())?T(f,"Result").$critical(n):E(E(a=t["$success?"]())?a:e["$success?"]())?T(f,"Result").$success(n):E(E($=t["$fumble?"]())?e["$fumble?"]():$)?T(f,"Result").$fumble(n):T(f,"Result").$failure(n)},l.$$arity=3),t.def(_,"$judge",c=function(t,e){var n,a;return n=r(e,10).$floor()["$=="](e["$%"](10)),a=this.$format00(e),E(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(e,t))?E(n)?T(f,"Result").$critical("("+a+")\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):T(f,"Result").$success("("+a+")\u6210\u529f"):E(n)?T(f,"Result").$fumble("("+a+")\u30d5\u30a1\u30f3\u30d6\u30eb"):T(f,"Result").$failure("("+a+")\u5931\u6557")},c.$$arity=2)}(Opal)},49851:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var $,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$,y=t.module,T=t.klass,h=t.send2,S=t.truthy,D=t.send;$=d,i=m=[y(d[0],"BCDice")].concat($),o=f=[y(m[0],"GameSystem")].concat(i),c=T(f[0],b(f,"Base"),"Avandner"),_=[c].concat(o),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","Avandner"),t.const_set(_[0],"NAME","\u9ed2\u7d62\u306e\u30a2\u30f4\u30a1\u30f3\u30c9\u30ca\u30fc"),t.const_set(_[0],"SORT_KEY","\u3053\u3064\u3051\u3093\u306e\u3042\u3046\u3042\u3093\u3068\u306a\u3042"),t.const_set(_[0],"HELP_MESSAGE","\u30fb\u8abf\u67fb\u5224\u5b9a\uff1anAVm[Cx]\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anAVm*p[+t][Cx]\n[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\n\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30d2\u30c3\u30c8\u306e\u5206\u3060\u3051\u3001\u81ea\u52d5\u3067\u632f\u308a\u8db3\u3057\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u30020\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u300cCx\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3001\u6700\u5927\u5024\u306f\u300c2\u300d\u3001\u300c0\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\u300c+t\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc\u3092\u6307\u5b9a\u3002\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u653b\u6483\u529b\u6307\u5b9a\u3067\u547d\u4e2d\u5224\u5b9a\u3068\u306a\u308a\u3001\u6210\u529f\u6570\u3067\u306f\u306a\u304f\u3001\u30c0\u30e1\u30fc\u30b8\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5AV3 \u2192 5d10\u3067\u76ee\u6a19\u50243\u3002\n\u30fb6AV2C0 \u2192 6d10\u3067\u76ee\u6a19\u50242\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3057\u3002\n\u30fb4AV3*5 \u2192 4d10\u3067\u76ee\u6a19\u50243\u3001\u653b\u6483\u529b5\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb7AV2x10 \u2192 7d10\u3067\u76ee\u6a19\u50242\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\u30fb8av4*7+10 \u2192 8d10\u3067\u76ee\u6a19\u50244\u3001\u653b\u6483\u529b7\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30c8\u30ea\u30ac\u30fc10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n"),c.$register_prefix("\\d+AV"),t.def(c,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),h(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},u.$$arity=1),t.def(c,"$eval_game_system_specific_command",s=function(t){var n=p,r=p,a=p,$=p,i=p,o=p,u=p,s=p;return S(t["$=~"](/(\d+)AV(\d+)((x|\*)(\d+))?(\+(\d+))?(C(\d+))?$/i))?(n=b(_,"Regexp").$last_match(1).$to_i(),r=b(_,"Regexp").$last_match(2).$to_i(),a=(S($=b(_,"Regexp").$last_match(5))?$:0).$to_i(),i=(S(o=b(_,"Regexp").$last_match(7))?o:0).$to_i(),u=(S(s=b(_,"Regexp").$last_match(9))?s:1).$to_i(),S(e(u,3))&&(u=2),this.$checkRoll(n,r,a,i,u)):p},s.$$arity=1),t.def(c,"$checkRoll",l=function(t,$,i,o,u){var s,l,c,_=this,f=p,m=p,d=p,b=p,y=p,T=p,h=p,g=p,E=p,R=p;for(f=0,m=0,d="",b=t;S(e(b,0));)T=(y=_.randomizer.$roll_barabara(b,10).$sort()).$join(","),h=D(y,"count",[],((s=function(t){return null==t&&(t=p),n(t,$)}).$$s=_,s.$$arity=1,s)),g=D(y,"count",[],((l=function(t){return null==t&&(t=p),n(t,u)}).$$s=_,l.$$arity=1,l)),f=r(f,h),m=r(m,g),S(d["$empty?"]())||(d=r(d,"+")),d=r(d,h+"["+T+"]"),b=g;return E="",c=i["$!="](0),S(c)?(R=r(a(f,i),a(m,o)),E=r(E,"("+t+"D10<="+$+") \uff1e "+d+" \uff1e Hits\uff1a"+f+"*"+i),S(e(o,0))&&(E=r(E," + Trigger\uff1a"+m+"*"+o)),E=r(E," \uff1e "+R+"\u30c0\u30e1\u30fc\u30b8")):E=r(E,"("+t+"D10<="+$+") \uff1e "+d+" \uff1e \u6210\u529f\u6570\uff1a"+f),S(e(m,0))&&(E=r(E," / "+m+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),E},l.$$arity=5)}(Opal)},69478:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy,E=t.send;$=y,i=b=[S(y[0],"BCDice")].concat($),o=p=[S(b[0],"GameSystem")].concat(i),d=[m=D(p[0],h(p,"Base"),"BBN")].concat(o),m.$$prototype.randomizer=m.$$prototype.roll_times=m.$$prototype.modify=m.$$prototype.modify_str=m.$$prototype.difficulty=m.$$prototype.critical=m.$$prototype.fumble=T,m.$register_prefix("\\d+BN"),t.const_set(d[0],"ID","BBN"),t.const_set(d[0],"NAME","BBNTRPG"),t.const_set(d[0],"SORT_KEY","\u3072\u3044\u3072\u3044\u3048\u306cTRPG"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a(xBN\xb1y>=z[c,f])\n\u3000xD6\u306e\u5224\u5b9a\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u30001D\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f1\u30022D\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f2\u3002\n\u3000nD\u306e\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u306f n/2 \u306e\u5207\u308a\u4e0a\u3052\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u304c\u540c\u6642\u306b\u767a\u751f\u3057\u305f\u5834\u5408\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3092\u512a\u5148\u3002\n\u3000x\uff1ax\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n\u3000y\uff1ay\u306b\u4fee\u6b63\u5024\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  z\uff1az\u306b\u76ee\u6a19\u5024\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  c\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306b\u5fc5\u8981\u306a\u30c0\u30a4\u30b9\u76ee\u300c6\u300d\u306e\u6570\u306e\u5897\u6e1b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  f\uff1a\u30d5\u30a1\u30f3\u30d6\u30eb\u306b\u5fc5\u8981\u306a\u30c0\u30a4\u30b9\u76ee\u300c1\u300d\u306e\u6570\u306e\u5897\u6e1b\u3002\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u4f8b\uff09 3BN+4\u30003BN>=8\u30003BN+1>=10[-1] 3BN+1>=10[,1] 3BN+1>=10[1,1]\n"),t.def(m,"$eval_game_system_specific_command",u=function(r){var a=this,$=T,i=T,o=T,u=T,s=T;return g(a.$parse(r))?(i=($=a.randomizer.$roll_barabara(a.roll_times,6)).$sum(),o=$.$join(","),u=e(i,a.modify),s=["("+r+")",i+"["+o+"]"+a.modify_str,u],g(a["$critical_?"]($))?E(s,"push",["\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"].concat(t.to_a(a.$additional_roll($.$count(6),u)))):g(a["$fumble_?"]($))?s.$push("\u30d5\u30a1\u30f3\u30d6\u30eb\uff01"):g(a.difficulty)&&s.$push(g(n(u,a.difficulty))?"\u6210\u529f":"\u5931\u6557"),s.$join(" \uff1e ")):T},u.$$arity=1),m.$private(),t.def(m,"$parse",s=function(t){var n=this,r=T,a=T,$=T;return r=/^(\d+)BN([+-]\d+)?(>=(([+-]?\d+)))?(\[([+-]?\d+)?(,([+-]?\d+))?\])?/.$match(t),!!g(r)&&(n.roll_times=r["$[]"](1).$to_i(),n.modify_str=g(a=r["$[]"](2))?a:"",n.modify=r["$[]"](2).$to_i(),n.difficulty=g(r["$[]"](4))?r["$[]"](4).$to_i():T,$=n.$critical_base(n.roll_times),n.critical=e($,r["$[]"](7).$to_i()),n.fumble=e($,r["$[]"](9).$to_i()),!0)},s.$$arity=1),t.def(m,"$critical_base",l=function(t){var e,n;return 1["$==="](e=t)||2["$==="](e)?t:(n=t.$to_f(),"number"==typeof n?n/2:n["$/"](2)).$ceil()},l.$$arity=1),t.def(m,"$critical_?",c=function(t){return n(t.$count(6),this.critical)},c.$$arity=1),t.def(m,"$fumble_?",_=function(t){return n(t.$count(1),this.fumble)},_.$$arity=1),t.def(m,"$additional_roll",f=function(t,$){var i=this,o=T,u=T,s=T,l=T,c=T,_=T;for(o=[],u=0;g(g(s=r(t,0))?a(u,10):s);)u=e(u,1),c=(l=i.randomizer.$roll_barabara(t,6)).$sum(),_=l.$join(","),t=l.$count(6),o.$push($+"+"+c+"["+_+"]"),g(r(t,0))&&o.$push("\u8ffd\u52a0\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"),$=e($,c);return g(r(t,0))&&o.$push("\u7121\u9650\u30eb\u30fc\u30d7\u9632\u6b62\u306e\u305f\u3081\u4e2d\u65ad"),o.$push($),g(i.difficulty)&&o.$push(g(n($,i.difficulty))?"\u6210\u529f":"\u5931\u6557"),o},f.$$arity=2)}(Opal)},30378:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.truthy,R=t.hash2;i=y,o=b=[D(y[0],"BCDice")].concat(i),u=p=[D(b[0],"GameSystem")].concat(o),m=g(p[0],S(p,"Base"),"BadLife"),d=[m].concat(u),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","BadLife"),t.const_set(d[0],"NAME","\u30d0\u30c3\u30c9\u30e9\u30a4\u30d5"),t.const_set(d[0],"SORT_KEY","\u306f\u3064\u3068\u3089\u3044\u3075"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff1anBADm[\xb1a][Cb\xb1c][Fd\xb1e][@X\xb1f][!OP]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u3002\n\u30fbBAD\u30b3\u30de\u30f3\u30c9\u306f\u300cBL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u4ee3\u7528\u53ef\u3002\n\u30fb\u535a\u5f92\u306f\u300cGL\u300d\u30b3\u30de\u30f3\u30c9\u3067\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3092\u9069\u7528\u3002\n\n\u300cn\u300d\u3067\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3001\u300cm\u300d\u3067\u7279\u6027\u5024\u3001\u300c\xb1a\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3001\n\u300cCb\xb1c\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\u300cFd\xb1e\u300d\u3067\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u3078\u306e\u4fee\u6b63\u3001\n\u300c@X\u300d\u3067\u76ee\u6a19\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u3002\n\u300c\xb1a\u300d\u300cCb\xb1c\u300d\u300cFd\xb1e\u300d[@X\xb1f]\u90e8\u5206\u306f\u300c4+1-3\u300d\u306a\u3069\u306e\u8907\u6570\u56de\u6307\u5b9a\u53ef\u3002\n\u300c!OP\u300d\u90e8\u5206\u3067\u3001\u4e00\u90e8\u306e\u30b9\u30ad\u30eb\u3084\u30ac\u30b8\u30a7\u30c3\u30c8\u306e\u8ffd\u52a0\u52b9\u679c\u3092\u6307\u5b9a\u53ef\u3002\n\u4f7f\u7528\u53ef\u80fd\u306a\u30b3\u30de\u30f3\u30c9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u9806\u4e0d\u540c\u3001\u8907\u6570\u540c\u6642\u4f7f\u7528\u3082\u53ef\u3002\nA\uff1a\u3008\u5148\u898b\u306e\u660e\u3009\u3000\u3000H\uff1a\uff3b\u91cd\u6483\uff3d\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\nBAD \u2192 1\u30c0\u30a4\u30b9\u3067\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n3BAD10+2-1 \u2192 3\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+11\u306e\u9054\u6210\u5024\u3092\u8868\u793a\u3002\nBL8@15 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\n2BL8C-1F1@15 \u2192 2\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+8\u3001C\u5024-1\u3001F\u5024+1\u3001\u96e3\u6613\u5ea615\u306e\u5224\u5b9a\u3002\nGL6@20 \u2192 1\u30c0\u30a4\u30b9\u3067\u4fee\u6b63+6\u3001\u96e3\u6613\u5ea620\u306e\u5224\u5b9a\u3002\u3008\u6ce2\u4e71\u4e07\u4e08\u3009\u306e\u52b9\u679c\u3002\nGL6@20!HA \u2192 \u4e0a\u8a18\u306b\u52a0\u3048\u3066\u3008\u5148\u898b\u306e\u660e\u3009\uff3b\u91cd\u6483\uff3d\u306e\u52b9\u679c\u3002\n\n\u30fb\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868\n\u602a\u76d7\uff1aTRN\u3000\u3000\u3000\u95c7\u533b\u8005\uff1aDRN\u3000\u3000\u535a\u5f92\uff1aGRN\n\u6bba\u30b7\u5c4b\uff1aKRN\u3000\u3000\u696d\u5e2b\uff1aSRN\u3000\u3000\u3000\u904a\u30d3\u4eba\uff1aBRN\n\n\u30fb\u30b9\u30ad\u30eb\u8868\uff1aSKL\n"),m.$register_prefix("\\d?(BAD|BL|GL)","[TDGKSB]RN","SKL"),t.def(m,"$eval_game_system_specific_command",s=function(t){var e;return E(e=this.$judgeDice(t))?e:this.$roll_tables(t,S(d,"TABLES"))},s.$$arity=1),t.def(m,"$judgeDice",l=function(r){var a,$,i=this,o=T,u=T,s=T,l=T,c=T,_=T,f=T,m=T,d=T,p=T;return E(o=/(\d+)?(BAD|BL|GL)([-+\d]*)((C|F)([-+\d]*)?)?((C|F)([-+\d]*))?(@([-+\d]*))?(!(\D*))?/i.$match(r))?(u=(E(s=o["$[]"](1))?s:1).$to_i(),l=20,c=1,_=o["$[]"](2)["$=="]("GL"),E(_)&&(l=e(l,3),c=n(c,1)),f=i.$get_value(o["$[]"](3)),$=i.$get_critival_fumble(l,c,o["$[]"](5),o["$[]"](6)),a=t.to_ary($),$=i.$get_critival_fumble(l=null==a[0]?T:a[0],c=null==a[1]?T:a[1],o["$[]"](8),o["$[]"](9)),l=null==(a=t.to_ary($))[0]?T:a[0],c=null==a[1]?T:a[1],m=i.$get_value(o["$[]"](11)),d=E(p=o["$[]"](13))?p:"",i.$checkRoll(u,f,l,c,m,_,d)):T},l.$$arity=1),t.def(m,"$get_critival_fumble",c=function(t,e,r,a){var $;return"C"["$==="]($=r)?t=n(t,this.$get_value(a)):"F"["$==="]($)&&(e=n(e,this.$get_value(a))),[t,e]},c.$$arity=4),t.def(m,"$checkRoll",_=function(t,i,o,u,s,l,c){var _,f,m,d,p,b,y,h,S=T,D=T,g=T,R=T,A=T;return _=c["$include?"]("A"),f=c["$include?"]("H"),m=(S=this.randomizer.$roll_barabara(t,20)).$join(","),D=S.$max(),E(E(b=f)?r(D,5):b)&&(D=5),d=a(D,o),p=r(D,u),E(d)&&(D=20),g=n(D,i),E(E(y=_)?r(D,7):y)&&(g=n(g,5)),E(p)&&(g=0),R=n(R=t+"D20(C:"+o+",F:"+u+") \uff1e ",D+"["+m+"]"),E($(i,0))&&(R=n(R,"+")),E(i["$!="](0))&&(R=n(R,i.$to_s())),E(E(h=_)?r(D,7):h)&&(R=n(R,"+5")),R=n(R," \uff1e \u9054\u6210\u5024\uff1a"+g),E($(s,0))?(R=n(R,">="+s+" \u6210\u529f\u5ea6\uff1a"+e(g,s)+" \uff1e "),E(d)?R=n(R,"\u6210\u529f\uff08\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff09"):E(a(g,s))?R=n(R,"\u6210\u529f"):(R=n(R,"\u5931\u6557"),E(p)&&(R=n(R,"\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\uff09")))):(E(d)&&(R=n(R," \u30af\u30ea\u30c6\u30a3\u30ab\u30eb")),E(p)&&(R=n(R," \u30d5\u30a1\u30f3\u30d6\u30eb"))),A="",E(l)&&(A=n(A,"\u3008\u6ce2\u4e71\u4e07\u4e08\u3009")),E(_)&&(A=n(A,"\u3008\u5148\u898b\u306e\u660e\u3009")),E(f)&&(A=n(A,"\uff3b\u91cd\u6483\uff3d")),E(A["$!="](""))&&(R=n(R," "+A)),R},_.$$arity=7),t.def(m,"$get_value",f=function(t){var e;return t=E(e=t)?e:"",S(d,"ArithmeticEvaluator").$eval(t)},f.$$arity=1),t.const_set(d[0],"TABLES",R(["SKL","TRN","DRN","GRN","KRN","SRN","BRN"],{SKL:h(S(d,"DiceTable"),"Table").$new("\u30b9\u30ad\u30eb\u8868","1D100",["\u4e00\u6483\u96e2\u8131","\u4e00\u6483\u96e2\u8131","\u30c1\u30a7\u30a4\u30b5\u30fc","\u30c1\u30a7\u30a4\u30b5\u30fc","\u5f71\u306e\u5916\u5957","\u5f71\u306e\u5916\u5957","\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7","\u4e8c\u6bb5\u30b8\u30e3\u30f3\u30d7","\u97cb\u99c4\u5929","\u97cb\u99c4\u5929","\u624b\u7df4","\u624b\u7df4","\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8","\u30cf\u30cb\u30fc\u30c6\u30a4\u30b9\u30c8","\u5148\u898b\u306e\u660e","\u5148\u898b\u306e\u660e","\u30d9\u30c6\u30e9\u30f3","\u30d9\u30c6\u30e9\u30f3","\u5fdc\u6025\u624b\u5f53","\u5fdc\u6025\u624b\u5f53","\u30bb\u30e9\u30d4\u30fc","\u30bb\u30e9\u30d4\u30fc","\u7dca\u6025\u6cbb\u7642","\u7dca\u6025\u6cbb\u7642","\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc","\u30b4\u30fc\u30eb\u30c9\u30c7\u30a3\u30ac\u30fc","\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3","\u30c7\u30a4\u30ea\u30fc\u30df\u30c3\u30b7\u30e7\u30f3","\u898b\u5207\u308a","\u898b\u5207\u308a","\u9df9\u306e\u76ee","\u9df9\u306e\u76ee","\u3057\u3073\u308c\u7f60","\u3057\u3073\u308c\u7f60","\u5927\u9006\u8ee2","\u5927\u9006\u8ee2","\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb","\u6b66\u5668\u7fd2\u719f\uff1a\u25cb\u25cb","\u767e\u767a\u767e\u4e2d","\u767e\u767a\u767e\u4e2d","\u5c48\u5f37\u306a\u8089\u4f53","\u5c48\u5f37\u306a\u8089\u4f53","\u4e8c\u5200\u6d41","\u4e8c\u5200\u6d41","\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc","\u30af\u30a4\u30c3\u30af\u30ea\u30ab\u30d0\u30ea\u30fc","\u4f53\u9a13\u4e3b\u7fa9","\u4f53\u9a13\u4e3b\u7fa9","\u7834\u91dc\u6c88\u8239","\u7834\u91dc\u6c88\u8239","\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185","\u60f3\u5b9a\u306e\u7bc4\u56f2\u5185","\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9","\u30bb\u30ab\u30f3\u30c9\u30c1\u30e3\u30f3\u30b9","\u512a\u79c0\u306a\u5b50\u5206","\u512a\u79c0\u306a\u5b50\u5206","\u6642\u9593\u7ba1\u7406\u8853","\u6642\u9593\u7ba1\u7406\u8853","\u9023\u6483\u8853","\u9023\u6483\u8853","\u7f75\u8a48\u96d1\u8a00","\u7f75\u8a48\u96d1\u8a00","\u30b1\u30bb\u30e9\u30bb\u30e9","\u30b1\u30bb\u30e9\u30bb\u30e9","\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af","\u30c0\u30f3\u30b9\uff06\u30df\u30e5\u30fc\u30b8\u30c3\u30af","\u30d5\u30a7\u30a4\u30f3\u30c8","\u30d5\u30a7\u30a4\u30f3\u30c8","\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb","\u30d8\u30a4\u30c8\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb","\u60dc\u5225","\u60dc\u5225","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u6226\u95d8\u30de\u30b7\u30fc\u30f3","\u540d\u533b","\u540d\u533b","\u540d\u533b","\u5fcd\u8005","\u5fcd\u8005","\u5fcd\u8005","\u89b3\u5bdf\u773c","\u89b3\u5bdf\u773c","\u89b3\u5bdf\u773c","\u30af\u30ec\u30d0\u30fc","\u30af\u30ec\u30d0\u30fc","\u30af\u30ec\u30d0\u30fc","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30d5\u30a7\u30a4\u30b9\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u30b9\u30dd\u30fc\u30c4\u30de\u30f3","\u4e0d\u5c48","\u4e0d\u5c48","\u4e0d\u5c48","\u614e\u91cd","\u614e\u91cd","\u614e\u91cd","\u3053\u306e\u8868\u30922\u56de\u632f\u308b"]),TRN:h(S(d,"DiceTable"),"Table").$new("\u602a\u76d7\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30d5\u30a9\u30c3\u30af\u30b9","\u30d5\u30a9\u30c3\u30af\u30b9","\u30e9\u30c3\u30c8","\u30e9\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30ad\u30e3\u30c3\u30c8","\u30bf\u30a4\u30ac\u30fc","\u30bf\u30a4\u30ac\u30fc","\u30b7\u30e3\u30fc\u30af","\u30b7\u30e3\u30fc\u30af","\u30b3\u30f3\u30c9\u30eb","\u30b3\u30f3\u30c9\u30eb","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30b9\u30d1\u30a4\u30c0\u30fc","\u30a6\u30eb\u30d5","\u30a6\u30eb\u30d5","\u30b3\u30e8\u30fc\u30c6","\u30b3\u30e8\u30fc\u30c6","\u30b8\u30e3\u30ac\u30fc","\u30b8\u30e3\u30ac\u30fc"]),DRN:h(S(d,"DiceTable"),"Table").$new("\u95c7\u533b\u8005\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ad\u30e3\u30f3\u30b5\u30fc","\u30ad\u30e3\u30f3\u30b5\u30fc","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d8\u30c3\u30c9\u30a8\u30a4\u30af","\u30d6\u30e9\u30c3\u30c9","\u30d6\u30e9\u30c3\u30c9","\u30a6\u30fc\u30f3\u30ba","\u30a6\u30fc\u30f3\u30ba","\u30dd\u30a4\u30ba\u30f3","\u30dd\u30a4\u30ba\u30f3","\u30da\u30a4\u30f3","\u30da\u30a4\u30f3","\u30b9\u30ea\u30fc\u30d7","\u30b9\u30ea\u30fc\u30d7","\u30ad\u30e5\u30a2","\u30ad\u30e5\u30a2","\u30c7\u30b9","\u30c7\u30b9","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3","\u30ea\u30fc\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3"]),GRN:h(S(d,"DiceTable"),"Table").$new("\u535a\u5f92\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30ea\u30c8\u30eb\u30c0\u30a4\u30b9","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30e9\u30c1\u30ca\u30e0","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30d7\u30ec\u30b8\u30c7\u30f3\u30c8","\u30c9\u30ea\u30fc\u30e0","\u30c9\u30ea\u30fc\u30e0","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30a2\u30af\u30b7\u30c7\u30f3\u30c8","\u30b0\u30ea\u30fc\u30c9","\u30b0\u30ea\u30fc\u30c9","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30d5\u30a9\u30fc\u30c1\u30e5\u30f3","\u30df\u30e9\u30af\u30eb","\u30df\u30e9\u30af\u30eb","\u30db\u30fc\u30d7","\u30db\u30fc\u30d7","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8","\u30d3\u30c3\u30b0\u30d2\u30c3\u30c8"]),KRN:h(S(d,"DiceTable"),"Table").$new("\u6bba\u30b7\u5c4b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30cf\u30f3\u30de\u30fc","\u30cf\u30f3\u30de\u30fc","\u30a2\u30ed\u30fc","\u30a2\u30ed\u30fc","\u30dc\u30de\u30fc","\u30dc\u30de\u30fc","\u30ad\u30e3\u30ce\u30f3","\u30ad\u30e3\u30ce\u30f3","\u30d6\u30ec\u30fc\u30c9","\u30d6\u30ec\u30fc\u30c9","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30b9\u30c6\u30a3\u30f3\u30b0","\u30ac\u30ed\u30c3\u30c8","\u30ac\u30ed\u30c3\u30c8","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30d1\u30a4\u30eb\u30d0\u30f3\u30ab\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ec\u30a4\u30b6\u30fc","\u30ab\u30bf\u30ca","\u30ab\u30bf\u30ca"]),SRN:h(S(d,"DiceTable"),"Table").$new("\u696d\u5e2b\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30ed\u30fc\u30ba","\u30ed\u30fc\u30ba","\u30b5\u30af\u30e9","\u30b5\u30af\u30e9","\u30e9\u30a4\u30e9\u30c3\u30af","\u30e9\u30a4\u30e9\u30c3\u30af","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30c0\u30f3\u30c7\u30e9\u30a4\u30aa\u30f3","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30d5\u30ea\u30fc\u30b8\u30a2","\u30ab\u30af\u30bf\u30b9","\u30ab\u30af\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ed\u30fc\u30bf\u30b9","\u30ea\u30ea\u30a3","\u30ea\u30ea\u30a3","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30e9\u30d5\u30ec\u30b7\u30a2","\u30d2\u30e4\u30b7\u30f3\u30b9","\u30d2\u30e4\u30b7\u30f3\u30b9"]),BRN:h(S(d,"DiceTable"),"Table").$new("\u904a\u30d3\u4eba\u30b3\u30fc\u30c9\u30cd\u30fc\u30e0\u8868","1D20",["\u30e2\u30ce\u30dd\u30ea\u30fc","\u30e2\u30ce\u30dd\u30ea\u30fc","\u30d6\u30ea\u30c3\u30b8","\u30d6\u30ea\u30c3\u30b8","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30c1\u30a7\u30c3\u30ab\u30fc","\u30a2\u30af\u30ef\u30a4\u30a2","\u30a2\u30af\u30ef\u30a4\u30a2","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30b8\u30e3\u30f3\u30b1\u30f3","\u30c8\u30e9\u30f3\u30d7","\u30c8\u30e9\u30f3\u30d7","\u30b1\u30a4\u30c9\u30ed","\u30b1\u30a4\u30c9\u30ed","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30d1\u30f3\u30c7\u30df\u30c3\u30af","\u30b9\u30b4\u30ed\u30af","\u30b9\u30b4\u30ed\u30af","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4","\u30ad\u30e3\u30d9\u30c4\u30ab\u30f3\u30c6\u30a4"])}).$freeze())}(Opal)},28809:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S=[],D=t.nil,g=t.$$,E=t.module,R=t.klass,A=t.send2,v=t.send,B=t.truthy;$=S,i=h=[E(S[0],"BCDice")].concat($),o=T=[E(h[0],"GameSystem")].concat(i),b=R(T[0],g(T,"Base"),"BarnaKronika"),y=[b].concat(o),b.$$prototype.isBattleMode=D,t.const_set(y[0],"ID","BarnaKronika"),t.const_set(y[0],"NAME","\u30d0\u30eb\u30ca\u30fb\u30af\u30ed\u30cb\u30ab"),t.const_set(y[0],"SORT_KEY","\u306f\u308b\u306a\u304f\u308d\u306b\u304b"),t.const_set(y[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000nBK\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30bb\u30c3\u30c8\u6570\u304c1\u4ee5\u4e0a\u306e\u6642\u306f\u30bb\u30c3\u30c8\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000nBA\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u653b\u6483\u5024\u3068\u547d\u4e2d\u90e8\u4f4d\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u3000nBKCt\u3000nBACt\n\u3000\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u306e\u5f8c\u308d\u306b\u300cCt\u300d\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u3067\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u6570n,\u30b3\u30fc\u30eb\u6570t\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u6570n\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u30bb\u30c3\u30c8\u6570\u304c1\u4ee5\u4e0a\u306e\u6642\u306f\u30bb\u30c3\u30c8\u6570\u3082\u8868\u793a\u3057\u3001\u653b\u6483\u5224\u5b9a\u306e\u5834\u5408\u306f\u547d\u4e2d\u90e8\u4f4d\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n"),b.$register_prefix("\\d+BK","\\d+BA","\\d+BKC","\\d+BAC","\\d+R6"),t.def(b,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),A(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0},u.$$arity=1),t.def(b,"$replace_text",s=function(t){var e,n,r,a,$=this;return t=v(t,"gsub",[/(\d+)BKC(\d)/],((e=function(){return g(y,"Regexp").$last_match(1)+"R6[0,"+g(y,"Regexp").$last_match(2)+"]"}).$$s=$,e.$$arity=0,e)),t=v(t,"gsub",[/(\d+)BAC(\d)/],((n=function(){return g(y,"Regexp").$last_match(1)+"R6[1,"+g(y,"Regexp").$last_match(2)+"]"}).$$s=$,n.$$arity=0,n)),t=v(t,"gsub",[/(\d+)BK/],((r=function(){return g(y,"Regexp").$last_match(1)+"R6[0,0]"}).$$s=$,r.$$arity=0,r)),v(t,"gsub",[/(\d+)BA/],((a=function(){return g(y,"Regexp").$last_match(1)+"R6[1,0]"}).$$s=$,a.$$arity=0,a))},s.$$arity=1),t.def(b,"$eval_game_system_specific_command",l=function(r){var a,$,i=this,o=D,u=D,s=D,l=D,c=D,_=D,f=D,m=D;return r=i.$replace_text(r),B(/(^|\s)S?((\d+)[rR]6(\[([,\d]+)\])?)(\s|$)/i["$=~"](r))?(r=g(y,"Regexp").$last_match(2),o=g(y,"Regexp").$last_match(5),u=g(y,"Regexp").$last_match(3),u=B(s=u)?s:1,i.isBattleMode=!1,l=0,B(o)&&($=v(o.$split(","),"map",[],"to_i".$to_proc()),l=null==(a=t.to_ary($))[1]?D:a[1],i.isBattleMode=(null==a[0]?D:a[0])["$=="](1)),i.$debug("@isBattleMode",i.isBattleMode),$=i.$roll_barna_kronika(u,l),c=null==(a=t.to_ary($))[1]?D:a[1],_=null==a[2]?D:a[2],f=null==a[3]?D:a[3],m="("+r+") \uff1e ["+(null==a[0]?D:a[0])+"] \uff1e ",B(i.isBattleMode)?m=e(m,f):(i.$debug("suc",c),m=B(n(c,1))?e(m,"\u6210\u529f\u6570"+c):e(m,"\u5931\u6557"),i.$debug("set",_),B(n(_,0))&&(m=e(m,",\u30bb\u30c3\u30c8"+_))),m):D},l.$$arity=1),t.def(b,"$roll_barna_kronika",c=function($,i){var o,u,s,l,c=this,_=D,f=D,m=D,d=D,p=D,b=D;return $=$.$to_i(),_="",f=0,m=0,d="",p=[0,0,0,0,0,0],v($,"times",[],((o=function(a){var $,i,u=null==o.$$s?this:o.$$s;return null==u.randomizer&&(u.randomizer=D),null==a&&(a=D),i=[$=u.randomizer.$roll_index(6),e(p["$[]"]($),1)],v(p,"[]=",t.to_a(i)),r(i.length,1),B(n(p["$[]"]($),f))?f=p["$[]"]($):D}).$$s=c,o.$$arity=1,o)),v(6,"times",[],((u=function(t){var r,a=null==u.$$s?this:u.$$s,$=D;return null==t&&(t=D),($=p["$[]"](t))["$=="](0)?D:(v($,"times",[],((r=function(n){return null==n&&(n=D),_=e(_,e(t,1)+",")}).$$s=a,r.$$arity=1,r)),B(a.$isCriticalCall(t,i))?(a.$debug("isCriticalCall"),d=e(d,a.$getAttackStringWhenCriticalCall(t,$))):B(a.$isNomalAttack(i,$))&&(a.$debug("isNomalAttack"),d=e(d,a.$getAttackStringWhenNomal(t,$))),B(n($,1))?m=e(m,1):D)}).$$s=c,u.$$arity=1,u)),B(i["$!="](0))&&(b=p["$[]"](r(i,1)),f=a(b,2),m=B(b["$!="](0))?1:0),B(B(s=c.isBattleMode)?"number"==typeof(l=f)?l<2:l["$<"](2):s)&&(d="\u5931\u6557"),_=_.$sub(/,$/,""),d=d.$sub(/,$/,""),[_,f,m,d]},c.$$arity=2),t.def(b,"$isCriticalCall",_=function(t,n){return!(!B(this.isBattleMode)||n["$=="](0))&&n["$=="](e(t,1))},_.$$arity=2),t.def(b,"$isNomalAttack",f=function(t,e){return!(!B(this.isBattleMode)||B(t["$!="](0)))&&n(e,1)},f.$$arity=2),t.def(b,"$getAttackStringWhenCriticalCall",m=function(t,n){var r;return r=this.$getAttackHitLocation(e(t,1)),e(r,":\u653b\u6483\u5024"+a(n,2)+",")},m.$$arity=2),t.def(b,"$getAttackStringWhenNomal",d=function(t,n){var r;return r=this.$getAttackHitLocation(e(t,1)),e(r,":\u653b\u6483\u5024"+n+",")},d.$$arity=2),t.def(b,"$getAttackHitLocation",p=function(t){return this.$get_table_by_number(t,[[1,"\u982d\u90e8"],[2,"\u53f3\u8155"],[3,"\u5de6\u8155"],[4,"\u53f3\u811a"],[5,"\u5de6\u811a"],[6,"\u80f4\u4f53"]])},p.$$arity=1)}(Opal)},68038:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i,o,u,s,l,c,_,f,m,d,p,b=[],y=t.nil,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.truthy,E=t.send;i=b,o=p=[h(b[0],"BCDice")].concat(i),u=d=[h(p[0],"GameSystem")].concat(o),f=S(d[0],T(d,"Base"),"BladeOfArcana"),m=[f].concat(u),f.$$prototype.randomizer=y,t.const_set(m[0],"ID","BladeOfArcana"),t.const_set(m[0],"NAME","\u30d6\u30ec\u30a4\u30c9\u30fb\u30aa\u30d6\u30fb\u30a2\u30eb\u30ab\u30ca"),t.const_set(m[0],"SORT_KEY","\u3075\u308c\u3044\u3068\u304a\u3075\u3042\u308b\u304b\u306a"),t.const_set(m[0],"HELP_MESSAGE","\u25a0\u884c\u70ba\u5224\u5b9a\u3000nA[m][Cx][Fy]\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3000\u3000m\uff1a\u5224\u5b9a\u5024(\u7701\u7565\u6642\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u540c\u3058)\n\u3000x\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024(\u7701\u7565\u6642\u306f1)\u3000\u3000y\uff1a\u30d5\u30a1\u30f3\u30d6\u30eb\u5024(\u7701\u7565\u6642\u306f20)\n\u3000\u6ce8\uff09[m]\u3001[Cx]\u3001[Fy]\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u3000\u4f8b\uff093A12C4F15\u21923\u500b\u632f\u308a12\u4ee5\u4e0b\u3067\u6210\u529f\u3002C\u50244\u3001F\u5024\u306f15\u3002\n\u3000\u3000\u4f8b\uff093A12\u21923\u500b\u632f\u308a12\u4ee5\u4e0b\u3067\u6210\u529f\u3002C\u50241\u3001F\u5024\u306f20\u3002\n\n\u25a0\u5404\u7a2e\u8868\u3000(+\uff1a\u51fa\u76ee2\uff5e21\u306b\u5909\u66f4\u3000-\uff1a\u51fa\u76ee0\uff5e19\u306b\u5909\u66f4)\n\u25cf\u30ea\u30a4\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3\n\u3000\u56e0\u7e01\u8868\u3000CTR[+/-]\u3000\u3000\u524d\u4e16\u9082\u9005\u8868\u3000DJV[-]\n\u3000\u60aa\u5fb3\u30b7\u30fc\u30f3\u8868\u3000AKST[+/-]\n\u25cfThe 3rd\uff08\u7b2c\u4e09\u7248\uff09\n\u3000\u56e0\u7e01\u8868\u3000CT3[+/-]\n\u3000\u6ce8\uff09[]\u5185\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u3000\u3000\u4f8b\uff09CTR\u2192\u56e0\u7e01\u8868\uff08R\u7248\uff09\u3092\u51fa\u76ee1\uff5e20\u3067\u30ed\u30fc\u30eb\u3059\u308b\u3002\n\u3000\u3000\u4f8b\uff09CTR+\u2192\u56e0\u7e01\u8868\uff08R\u7248\uff09\u3092\u51fa\u76ee2\uff5e21\u3067\u30ed\u30fc\u30eb\u3059\u308b\u3002\n"),f.$register_prefix("\\d+A","CT3[\\+\\-]?","CTR[\\+\\-]?","DJV\\-?","AKST[\\+\\-]?"),t.def(f,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},s.$$arity=1),t.def(f,"$eval_game_system_specific_command",l=function(t){var e,n=this,r=y,a=y,$=y,i=y,o=y,u=y,s=y,l=y,c=y,_=y,f=y,d=y;return e=t.$upcase(),/^(\d+)A(\d*)([CF]?)(\d*)([CF]?)(\d*)$/["$==="](e)?(r=T(m,"Regexp").$last_match(1).$to_i(),a=T(m,"Regexp").$last_match(2).$to_i(),$=T(m,"Regexp").$last_match(3),i=T(m,"Regexp").$last_match(4),o=T(m,"Regexp").$last_match(5),u=T(m,"Regexp").$last_match(6),g(g(s=g(l=$["$empty?"]()["$!="](i["$empty?"]()))?l:o["$empty?"]()["$!="](u["$empty?"]()))?s:g(c=o["$empty?"]()["$!"]())?$["$=="](o):c)?y:($["$=="]("C")?(_=i.$to_i(),f=u.$to_i()):(_=u.$to_i(),f=i.$to_i()),n.$rollAct(r,a,_,f))):/^CT3([+\-]?)$/["$==="](e)?(d=T(m,"Regexp").$last_match(1),n.$tableText("\u56e0\u7e01\u8868(The 3rd)\u3000\u300eBoA3\u300fP292",["\u3010\u4ed6\u751f\u3011","\u3010\u5e2b\u5f1f\u3011","\u3010\u5fd8\u5374\u3011","\u3010\u5144\u59c9\u3011","\u3010\u8cb8\u3057\u3011","\u3010\u6155\u60c5\u3011","\u3010\u4e3b\u5f93\u3011","\u3010\u5f37\u6575\u3011","\u3010\u79d8\u5bc6\u3011","\u3010\u6069\u4eba\u3011","\u3010\u544a\u767a\u3011","\u3010\u53cb\u4eba\u3011","\u3010\u4ec7\u6575\u3011","\u3010\u7236\u6bcd\u3011","\u3010\u501f\u308a\u3011","\u3010\u4fe1\u983c\u3011","\u3010\u5e7c\u5b50\u3011","\u3010\u53d6\u5f15\u3011","\u3010\u5730\u7e01\u3011","\u3010\u540c\u5fd7\u3011","\u3010\u4e0d\u5be9\u3011","\u3010\u81ea\u8eab\u3011"],d)):/^CTR([+\-]?)$/["$==="](e)?(d=T(m,"Regexp").$last_match(1),n.$tableText("\u56e0\u7e01\u8868(\u30ea\u30a4\u30f3\u30ab\u30fc\u30cd\u30a4\u30b7\u30e7\u30f3)\u3000\u300eBAR\u300fP51\u3001299",["\u3010\u4ed6\u751f\u3011","\u3010\u5e2b\u5f1f\u3011","\u3010\u5fd8\u5374\u3011","\u3010\u5144\u59c9\u3011","\u3010\u8cb8\u3057\u3011","\u3010\u61a7\u61ac\u3011","\u3010\u4e3b\u5f93\u3011","\u3010\u5f37\u6575\u3011","\u3010\u79d8\u5bc6\u3011","\u3010\u6069\u4eba\u3011","\u3010\u53d6\u5f15\u3011","\u3010\u53cb\u4eba\u3011","\u3010\u6028\u6575\u3011","\u3010\u5f8c\u63f4\u3011","\u3010\u501f\u308a\u3011","\u3010\u4fe1\u983c\u3011","\u3010\u5f1f\u59b9\u3011","\u3010\u5546\u58f2\u3011","\u3010\u5947\u7e01\u3011","\u3010\u540c\u5fd7\u3011","\u3010\u6709\u70ba\u3011","\u3010\u81ea\u8eab\u3011"],d)):/^DJV(-?)$/["$==="](e)?(d=T(m,"Regexp").$last_match(1),n.$tableText("\u524d\u4e16\u9082\u9005\u8868\uff08\u30c7\u30b8\u30e3\u30d6\uff09\u3000\u300eBAR\u300fP235",["\u3010\u9bae\u70c8\u306a\u98a8\u3011\n\u98a8\u306f\u61d0\u304b\u3057\u3044\u5302\u3044\u3092\u3001\u9999\u308a\u3092\u904b\u3093\u3067\u304f\u308b\u3002\u305d\u308c\u306f\u2026\u2026\u3002","\u3010\u8584\u6697\u3044\u5f71\u3011\n\u307e\u308b\u3067\u6642\u304c\u6b62\u307e\u3063\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u3060\u3002","\u3010\u64cd\u308a\u306e\u7cf8\u3011\n\u305d\u308c\u306f\u3042\u306a\u305f\u3092\u5c0e\u304f\u8718\u86db\u306e\u7cf8\u3002","\u3010\u5929\u4e0a\u306e\u5149\u3011\n\u5049\u5927\u306a\u308b\u3082\u306e\u304c\u3082\u305f\u3089\u3059\u3001\u5929\u4e0a\u304b\u3089\u306e\u5fa1\u3057\u308b\u3057\u3002","\u3010\u6e29\u3082\u308a\u3011\n\u6625\u306e\u3072\u306a\u305f\u306e\u3088\u3046\u306a\u6e29\u304b\u3055\u3092\u611f\u3058\u308b\u3002","\u3010\u92ed\u3044\u30ca\u30a4\u30d5\u3011\n\u92ed\u3044\u30ca\u30a4\u30d5\u306e\u3088\u3046\u306a\u8996\u7dda\u3092\u611f\u3058\u308b\u3002\u3053\u308c\u306f\u2026\u2026\u3002","\u3010\u5171\u9cf4\u3011\n\u540c\u3058\u611f\u899a\u3092\u611f\u3058\u308b\u3001\u3075\u305f\u308a\u306f\u901a\u3058\u5408\u3063\u3066\u3044\u308b\u3002","\u3010\u57ce\u58c1\u3011\n\u53b3\u3057\u304f\u9ad8\u3044\u57ce\u58c1\u306e\u3088\u3046\u306b\u91cd\u304f\u5805\u304f\u539a\u3044\u3002","\u3010\u7815\u3051\u308b\u5668\u3011\n\u843d\u3061\u308c\u3070\u7815\u3051\u308b\u3002\u7815\u3051\u308c\u3070\u305d\u308c\u306f\u5668\u3067\u306f\u306a\u3044\u3002","\u3010\u967d\u708e\u3011\n\u6c42\u3081\u308c\u3070\u63fa\u3089\u3044\u3067\u6d88\u3048\u308b\u3002","\u3010\u7d42\u308f\u308a\u306a\u304d\u5186\u74b0\u3011\n\u305d\u308c\u306f\u3042\u306a\u305f\u3092\u6349\u3048\u5de1\u308b\u8f2a\u5efb\u306e\u8f2a\u3002","\u3010\u5929\u79e4\u3011\n\u63fa\u308c\u308b\u30d0\u30e9\u30f3\u30b9\u3001\u63fa\u308c\u7d9a\u3051\u308b\u5b89\u5b9a\u3002","\u3010\u6d41\u308c\u308b\u6c34\u3011\n\u3072\u3068\u3064\u6240\u306b\u3068\u3069\u307e\u3089\u305a\u3001\u59ff\u3092\u56fa\u3081\u308b\u3053\u3068\u306f\u306a\u3044","\u3010\u5149\u308b\u5203\u3011\n\u92ed\u304f\u5149\u308b\u5203\u306e\u3088\u3046\u306a\u3001\u92ed\u3044\u307e\u306a\u3056\u3057\u3002","\u3010\u60aa\u9b54\u3011\n\u3042\u307e\u308a\u306b\u3082\u5371\u967a\u306a\u9b45\u529b\u3001\u305d\u308c\u306f\u60aa\u9b54\u7684\u3060\u3063\u305f\u3002","\u3010\u7259\u3011\n\u7372\u7269\u3092\u5f15\u304d\u88c2\u304f\u92ed\u304f\u9577\u3044\u3001\u7259\u3002","\u3010\u8f1d\u304f\u661f\u3011\n\u661f\u306f\u6697\u304f\u5c0f\u3055\u3044\u3002\u3060\u304c\u305d\u3053\u306b\u8f1d\u304f\u3002","\u3010\u51b4\u3048\u6e21\u308b\u6708\u5149\u3011\n\u51b7\u305f\u3055\u3068\u5b89\u3089\u304b\u3055\u304c\u540c\u5c45\u3057\u3066\u3044\u308b\u3002","\u3010\u7167\u308a\u3064\u3051\u308b\u592a\u967d\u3011\n\u6691\u3044\u3002","\u3010\u71c3\u3048\u3055\u304b\u308b\u708e\u3011\n\u708e\u306f\u3059\u3079\u3066\u3092\u7834\u58ca\u3057\u3001\u3059\u3079\u3066\u3092\u6ec5\u307c\u3059\u3002","\u3010\u4e16\u754c\u3011\n\u3059\u3079\u3066\u306f\u3053\u306e\u4e16\u754c\u306e\u4e2d\u3067\u8d77\u3053\u308a\u3001\u7d42\u308f\u308b\u3002","\u3010\u306a\u3057\u3011"],d)):/^AKST([+\-]?)$/["$==="](e)?(d=T(m,"Regexp").$last_match(1),n.$tableText("\u60aa\u5fb3\u30b7\u30fc\u30f3\u8868\u3000\u300eGoV\u300fP16\u3001164",["\u25bc\u30a6\u30a7\u30f3\u30c8\u30b9\uff0f\u6b62\u307e\u306a\u3044\u98a8\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u72c2\u6c17\u306b\u5f53\u3066\u3089\u308c\u305f\u306e\u304b\u3001\u901a\u308a\u9b54\u7684\u6bba\u4eba\u8005\u304c\u73fe\u308c\u308b\u3002\u5207\u308a\u88c2\u304b\u308c\u305f\u4eba\u3005\u306e\u60b2\u9cf4\u304c\u97ff\u304d\u6e21\u308b\u3002","\u25bc\u30a8\u30d5\u30a7\u30af\u30c8\u30b9\uff0f\u539f\u521d\u306e\u529b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u7121\u6cd5\u3092\u50cd\u304f\u3002\u5e97\u5148\u3067\u91d1\u54c1\u3092\u8981\u6c42\u3057\u305f\u308a\u3001\u66b4\u529b\u3092\u632f\u308b\u3063\u305f\u308a\u3057\u3066\u3044\u308b\u3002","\u25bc\u30af\u30ec\u30a2\u30fc\u30bf\uff0f\u5080\u5121\u4eba\u5f62\u306e\u738b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u4eba\u3005\u306e\u884c\u52d5\u3092\u76e3\u8996\u3057\u3066\u3044\u308b\u3002\u9055\u53cd\u3057\u305f\u8005\u306b\u306f\u5373\u5ea7\u306b\u7f70\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002","\u25bc\u30de\u30fc\u30c6\u30eb\uff0f\u751f\u3051\u308b\u795e\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u4eba\u3005\u306b\u6bba\u622e\u8005\u3078\u306e\u4fe1\u4ef0\u3092\u544a\u767d\u3057\u3001\u5fe0\u8aa0\u3092\u5ba3\u8a93\u3059\u308b\u3088\u3046\u306b\u5f37\u8981\u3057\u3066\u3044\u308b\u3002","\u25bc\u30b3\u30ed\u30ca\uff0f\u7c12\u596a\u8005\n\u3010\u884c\u52d5\u3011\u5606\u304d\u60b2\u3057\u3093\u3067\u3044\u308b\u8005\u304c\u3044\u308b\u3002\u6bba\u622e\u8005\u306b\u3088\u3063\u3066\u3001\u8ca1\u7523\u3001\u5730\u4f4d\u3001\u5bb6\u65cf\u3042\u308b\u3044\u306f\u3001\u604b\u4eba\u3092\u596a\u3044\u53d6\u3089\u308c\u305f\u3068\u3044\u3046\u3002","\u25bc\u30d5\u30a3\u30cb\u30b9\uff0f\u6c38\u9060\u306e\u4eba\n\u3010\u884c\u52d5\u3011\u602a\u7269\u304c\u4eba\u3005\u3092\u8650\u6bba\u3057\u3066\u3044\u308b\u3002\u3053\u306e\u5730\u306b\u306f\u4eba\u9593\u304c\u591a\u3059\u304e\u308b\u306e\u3060\u3068\u3044\u3046\u3002\u305d\u308c\u304c\u5f7c\u3089\u306e\u4e3b\u306e\u6c7a\u5b9a\u3060\u3002","\u25bc\u30a8\u30eb\u30b9\uff0f\u7121\u79c1\u306a\u308b\u611b\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u304c\u7565\u596a\u3092\u50cd\u3044\u3066\u3044\u308b\u3002\u3069\u3046\u3084\u3089\u3001\u6bba\u622e\u8005\u306b\u732e\u4e0a\u3059\u308b\u3082\u306e\u3092\u4e89\u3063\u3066\u3044\u308b\u3088\u3046\u3060\u3002","\u25bc\u30a2\u30c0\u30de\u30b9\uff0f\u4e07\u7269\u306e\u4fdd\u8b77\u8005\n\u3010\u884c\u52d5\u3011\u53cd\u9006\u8005\u3068\u540d\u6307\u3057\u3055\u308c\u308b\u3002\u4eba\u3005\u306f\u541b\u305f\u3061\u306b\u63a5\u89e6\u3057\u3088\u3046\u3068\u3057\u306a\u3044\u3002\u60c5\u5831\u3092\u96c6\u3081\u308b\u306b\u3082\u82e6\u52b4\u3057\u305d\u3046\u3060\u3002","\u25bc\u30a2\u30eb\u30c9\u30fc\u30eb\uff0f\u7d42\u308f\u308a\u306a\u304d\u6226\u3044\n\u3010\u884c\u52d5\u3011\u306a\u3089\u305a\u8005\u306e\u96c6\u56e3\u304c\u4eba\u3005\u3092\u8972\u3063\u3066\u3044\u308b\u3002\u529b\u3092\u793a\u3055\u306a\u3051\u308c\u3070\u5207\u308a\u6368\u3066\u3089\u308c\u308b\u306e\u306f\u5f7c\u3089\u306a\u306e\u3060\u3002","\u25bc\u30d5\u30a1\u30f3\u30bf\u30b9\u30de\uff0f\u8b00\u7565\u306e\u6e26\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u541b\u3092\u898b\u308b\u306a\u308a\u9003\u3052\u51fa\u3057\u305f\u3002\u3069\u3046\u3084\u3089\u6050\u308d\u3057\u3044\u6bba\u4eba\u8005\u3060\u3068\u601d\u308f\u308c\u3066\u3044\u308b\u3088\u3046\u3060\u3002","\u25bc\u30a2\u30af\u30b7\u30b9\uff0f\u771f\u7406\u306e\u63a2\u7a76\u8005\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306e\u914d\u4e0b\u306e\u624b\u306b\u3088\u3063\u3066\u3001\u4eba\u3005\u304c\u9023\u308c\u53bb\u3089\u308c\u3066\u3044\u308b\u3002\u8ab0\u3072\u3068\u308a\u3082\u3069\u3063\u3066\u3053\u306a\u3044\u3002","\u25bc\u30ec\u30af\u30b9\uff0f\u6355\u7e1b\u8005\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u3078\u306e\u6050\u6016\u306b\u99c6\u3089\u308c\u305f\u4eba\u3005\u306f\u305d\u306e\u547d\u4ee4\u306b\u3057\u305f\u304c\u3063\u3066\u5f92\u515a\u3092\u7d44\u307f\u3001PC\u305f\u3061\u3092\u635c\u7d22\u3057\u3066\u3044\u308b\u3002","\u25bc\u30a2\u30af\u30a2\uff0f\u6fb1\u3093\u3060\u6c34\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u7363\u306e\u3088\u3046\u306b\u751f\u304d\u3066\u3044\u308b\u3002\u8a00\u8449\u306f\u901a\u3058\u306a\u3044\u3002\u6709\u52b9\u306a\u306e\u306f\u529b\u3001\u66b4\u529b\u3060\u3051\u3060\u3002","\u25bc\u30b0\u30e9\u30c7\u30a3\u30a6\u30b9\uff0f\u6697\u304d\u6b7b\u306e\u5203\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u3068\u305d\u306e\u914d\u4e0b\u306b\u3088\u3063\u3066\u8650\u6bba\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002\u898b\u6e21\u3059\u9650\u308a\u3001\u6b7b\u8005\u3070\u304b\u308a\u3060\u3002","\u25bc\u30a2\u30f3\u30b0\u30eb\u30b9\uff0f\u7d14\u767d\u306e\u6050\u6016\n\u3010\u884c\u52d5\u3011\u904a\u3073\u3068\u3057\u3066\u4eba\u9593\u72e9\u308a\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002\u4eba\u3005\u306f\u9003\u3052\u60d1\u3044\u3001\u6bba\u622e\u8005\u306f\u6109\u60a6\u306b\u7b11\u3046\u3002","\u25bc\u30c7\u30a3\u30a2\u30dc\u30eb\u30b9\uff0f\u60aa\u9b54\u306e\u56c1\u304d\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306f\u5c11\u5e74\u5c11\u5973\u3092\u53ec\u3057\u4e0a\u3052\u3066\u3044\u308b\u3002\u53ec\u3057\u4e0a\u3052\u3089\u308c\u305f\u8005\u305f\u3061\u306f\u97f3\u4fe1\u4e0d\u901a\u3068\u306a\u3063\u3066\u3057\u307e\u3046\u3002","\u25bc\u30d5\u30eb\u30ad\u30d5\u30a7\u30eb\uff0f\u88cf\u5207\u308a\u8005\n\u3010\u884c\u52d5\u3011\u4eba\u3005\u306f\u731c\u7591\u306e\u76ee\u3067\u541b\u3092\u898b\u308b\u3002\u5618\u3092\u5410\u304f\u306e\u304c\u666e\u901a\u306e\u5834\u6240\u3067\u771f\u5b9f\u3092\u898b\u3044\u3060\u305b\u308b\u3060\u308d\u3046\u304b\u3002","\u25bc\u30b9\u30c6\u30e9\uff0f\u7834\u6ec5\u3078\u306e\u611b\n\u3010\u884c\u52d5\u3011\u8857\u3084\u6751\u843d\u304c\u7834\u58ca\u3055\u308c\u3066\u3044\u308b\u3002\u713c\u3051\u91ce\u539f\u306e\u4e2d\u3001\u4eba\u3005\u306f\u529b\u306a\u304f\u3046\u305a\u304f\u307e\u308b\u3002\u3053\u3053\u306b\u306f\u7d76\u671b\u3060\u3051\u304c\u3042\u3063\u305f\u3002","\u25bc\u30eb\u30ca\uff0f\u596a\u3046\u8005\n\u3010\u884c\u52d5\u3011\u541b\u305f\u3061\u306e\u76ee\u306e\u524d\u306b\u7565\u596a\u304c\u7e70\u308a\u8fd4\u3055\u308c\u308b\u3002\u7565\u596a\u306e\u305f\u3081\u306b\u7565\u596a\u3092\u884c\u306a\u3046\u6bba\u622e\u8005\u306e\u914d\u4e0b\u305f\u3061\u3002","\u25bc\u30c7\u30af\u30b9\u30c8\u30e9\uff0f\u90aa\u60aa\u306a\u6280\n\u3010\u884c\u52d5\u3011\u6bba\u622e\u8005\u306b\u3088\u308b\u975e\u9053\u306a\u4eba\u4f53\u5b9f\u9a13\u304c\u7e70\u308a\u8fd4\u3055\u308c\u3066\u3044\u308b\u3002\u305d\u306e\u305f\u3081\u306e\u5b9f\u9a13\u6750\u6599\u304c\u96c6\u3081\u3089\u308c\u3066\u3044\u308b\u3002","\u25bc\u30a4\u30b0\u30cb\u30b9\uff0f\u6839\u6e90\u305f\u308b\u708e\n\u3010\u884c\u52d5\u3011\u8857\u3084\u96c6\u843d\u3001\u3042\u308b\u3044\u306f\u5e97\u8217\u3084\u4f4f\u5b85\u304c\u713c\u304d\u8a0e\u3061\u306b\u5408\u3046\u3002\u4eba\u3005\u306f\u4e92\u3044\u306b\u9665\u308c\u3001\u78d4\u5211\u304c\u884c\u306a\u308f\u308c\u3066\u3044\u308b\u3002","\u25bc\u30aa\u30fc\u30d3\u30b9\uff0f\u95c7\u306e\u9396\n\u3010\u884c\u52d5\u3011\u4e16\u754c\u306e\u5b8c\u5168\u306a\u308b\u7834\u6ec5\u3001\u4eba\u985e\u306e\u7d76\u6ec5\u3001\u7121\u4f5c\u70ba\u3067\u5e83\u7bc4\u56f2\u306a\u8650\u6bba\u304c\u884c\u306a\u308f\u308c\u308b\u3002"],d)):y},l.$$arity=1),t.def(f,"$rollAct",c=function(t,i,o,u){var s=y,l=y,c=y,_=y;return null==i&&(i=0),null==o&&(o=0),null==u&&(u=0),g(e(o,1))&&(o=1),g(n(i,0))?i=o:g(r(o,i))&&(o=i),g(n(u,0))&&(u=20),g(n(t,0))&&(t=1,u=a(u,5)),g(e(u,2))?u=2:g(r(u,20))&&(u=20),l=(s=this.randomizer.$roll_barabara(t,20).$sort()).$sum(),_="("+t+"A"+i+"C"+o+"F"+u+") \uff1e "+(c=s.$join(","))+" \uff1e ",t["$=="](1)||(_=$(_,(l=E(c.$split(","),"map",[],"to_i".$to_proc()).$min())+" \uff1e ")),g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(l,u))?$(_,"\u30d5\u30a1\u30f3\u30d6\u30eb"):g(n(l,o))?$(_,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):g(r(l,i))?$(_,"\u5931\u6557"):$(_,"\u6210\u529f")},c.$$arity=-2),t.def(f,"$tableText",_=function(t,e,n){var r,i=y,o=y;return null==n&&(n=""),i=r=this.randomizer.$roll_once(20),n["$=="]("+")?i=$(i,1):n["$=="]("-")&&(i=a(i,1)),o=t+" \uff1e "+i,g(n["$empty?"]())||(o=$(o,"["+r+n+"1]")),$($(o," \uff1e "),e["$[]"](i))},_.$$arity=-3)}(Opal)},3125:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var n,r,a,$,i,o,u,s,l,c,_,f=[],m=t.nil,d=t.$$$,p=t.$$,b=t.module,y=t.klass,T=t.send2,h=t.truthy,S=t.hash2;n=f,r=_=[b(f[0],"BCDice")].concat(n),a=c=[b(_[0],"GameSystem")].concat(r),s=y(c[0],p(c,"Base"),"CardRanker"),l=[s].concat(a),s.$$prototype.randomizer=m,t.const_set(l[0],"ID","CardRanker"),t.const_set(l[0],"NAME","\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc"),t.const_set(l[0],"SORT_KEY","\u304b\u3042\u3068\u3089\u3093\u304b\u3042"),t.const_set(l[0],"HELP_MESSAGE","\u30e9\u30f3\u30c0\u30e0\u3067\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3076 (RM) (RTTn n\uff1a\u8272\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868 RCT\n\u7279\u5b9a\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3076 (CMxy\u3000x\uff1a\u8272\u3001y\uff1a\u756a\u53f7\uff09\n\u3000\u767d\uff1aW\u3001\u9752\uff1aU\u3001\u7dd1\uff1aV\u3001\u91d1\uff1aG\u3001\u8d64\uff1aR\u3001\u9ed2\uff1aB\n\u3000\u4f8b\uff09CMW2\u2192\u767d\u306e2\uff1a\u767d\u7adc\u3000CMG12\u2192\u91d1\u306e12\uff1a\u571f\u7cbe\u970a\n\u5834\u6240\u8868 (ST)\n\u8857\u4e2d\u5834\u6240\u8868 (CST)\n\u90ca\u5916\u5834\u6240\u8868 (OST)\n\u5b66\u5712\u5834\u6240\u8868 (GST)\n\u904b\u547d\u8868 (DT)\n\u5927\u4f1a\u904b\u547d\u8868 (TDT)\n\u5b66\u5712\u904b\u547d\u8868 (GDT)\n\u5d29\u58ca\u904b\u547d\u8868 (CDT)\n"),t.def(s,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),T(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=d(p(l,"D66SortType"),"ASC")},$.$$arity=1),t.def(s,"$result_2d6",i=function(t,n,r,a,$){return a["$=="](">=")?h("number"==typeof(i=n)?i<=2:i["$<="](2))?p(l,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):h(e(n,12))?p(l,"Result").$critical(function(t,e){return"\u30b9\u30da\u30b7\u30e3\u30eb \uff1e "["$+"](e)}(0,p(l,"RTT").$roll_command(this.randomizer,"RM"))):$["$=="]("?")?p(l,"Result").$nothing():h(e(t,$))?p(l,"Result").$success("\u6210\u529f"):p(l,"Result").$failure("\u5931\u6557"):m;var i},i.$$arity=5),t.def(s,"$eval_game_system_specific_command",o=function(t){var e,n,r=this;return h(e=h(n=r.$roll_tables(t,p(l,"TABLES")))?n:r.$get_monster(t))?e:p(l,"RTT").$roll_command(r.$randomizer(),t)},o.$$arity=1),t.const_set(l[0],"COLOR_TABLE",["W","U","V","G","R","B"].$freeze()),t.const_set(l[0],"RTT",d(p(l,"DiceTable"),"SaiFicSkillTable").$new([["\u767d",["\u767d\u7adc","\u50e7\u4fb6","\u683c\u95d8\u5bb6","\u65a7\u4f7f\u3044","\u5263\u58eb","\u69cd\u58eb","\u6b69\u5175","\u5f13\u5175","\u7832\u5175","\u5929\u4f7f","\u8ecd\u795e"]],["\u9752",["\u6c34\u7adc","\u9b5a","\u9b5a\u4eba","\u30a4\u30ab","\u87f9","\u63a2\u5075","\u6d77\u8cca","\u9b54\u8853\u5e2b","\u4f7f\u3044\u9b54","\u96f2","\u6c34\u7cbe\u970a"]],["\u7dd1",["\u7dd1\u7adc","\u30ef\u30fc\u30e0","\u9ce5\u4eba","\u9ce5","\u7363","\u7363\u4eba","\u30a8\u30eb\u30d5","\u5996\u7cbe","\u6606\u866b","\u690d\u7269","\u68ee\u7cbe\u970a"]],["\u91d1",["\u91d1\u7adc","\u5b9d\u77f3","\u5ca9\u77f3","\u92fc","\u932c\u91d1\u8853\u5e2b","\u9b54\u6cd5\u751f\u7269","\u30c9\u30ef\u30fc\u30d5","\u6a5f\u68b0","\u904b\u547d","\u5973\u795e","\u571f\u7cbe\u970a"]],["\u8d64",["\u706b\u7adc","\u7adc\u4eba","\u6050\u7adc","\u6226\u8eca","\u86ee\u65cf","\u5c0f\u9b3c","\u5927\u9b3c","\u5de8\u4eba","\u96f7","\u708e","\u706b\u7cbe\u970a"]],["\u9ed2",["\u9ed2\u7adc","\u95c7\u9a0e\u58eb","\u602a\u7269","\u5fcd\u8005","\u5996\u602a","\u8759\u8760","\u5438\u8840\u9b3c","\u4e0d\u6b7b\u8005","\u5e7d\u970a","\u60aa\u9b54","\u90aa\u795e"]]],S(["rtt","rtt_format","s_format"],{rtt:"RM",rtt_format:"\u30e9\u30f3\u30c0\u30e0\u30e2\u30f3\u30b9\u30bf\u30fc\u9078\u629e(%<category_dice>d,%<row_dice>d) \uff1e %<text>s",s_format:"%<category_name>s\u306e%<row_dice>d\uff1a%<skill_name>s"}))),t.def(s,"$get_monster",u=function(t){var e,n=m,r=m,a=m;return n=t.$match(/^CM(\w)(\d+)$/i),h(n)&&(r=p(l,"COLOR_TABLE").$index(n["$[]"](1)),a=n["$[]"](2).$to_i(),h(r))&&h(a["$between?"](2,12))?"\u30e2\u30f3\u30b9\u30bf\u30fc\u9078\u629e \uff1e "+p(l,"RTT").$categories()["$[]"](r).$skills()["$[]"]("number"==typeof(e=a)?e-2:e["$-"](2)):m},u.$$arity=1),t.const_set(l[0],"TABLES",S(["BFT","CDT","CST","DT","GDT","OST","GST","ST","TDT","WT"],{BFT:d(p(l,"DiceTable"),"Table").$new("\u30d0\u30c8\u30eb\u30d5\u30a3\u30fc\u30eb\u30c9\u8868","1D6",["\u30cf\u30a4\u30fb\u30a2\u30f3\u30c6\u30a3/\u6226\u95d8\u30d5\u30a7\u30a4\u30ba\u306e\u7d42\u4e86\u6642\u3001\u52dd\u8005\u306f\u901a\u5e38\u7fd2\u5f97\u3067\u304d\u308b\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u4e00\u3064\u306b\u52a0\u3048\u3066\u3001\u3082\u3046\u4e00\u3064\u6557\u8005\u304b\u3089\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u9078\u3093\u3067\u624b\u306b\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002//\u901a\u5e38\u3088\u308a\u3082\u591a\u304f\u306e\u30ab\u30fc\u30c9\u3092\u8ced\u3051\u306e\u5bfe\u8c61\u306b\u3059\u308b\u30eb\u30fc\u30eb\u3002","\u30d0\u30fc\u30cb\u30f3\u30b0/\u30e9\u30a6\u30f3\u30c9\u306e\u7d42\u4e86\u6642\u3001\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u3010LP\u3011\u73fe\u5728\u5024\u30923\u70b9\u5931\u3046\u3002//\u30de\u30b0\u30de\u306e\u8fd1\u304f\u3084\u6975\u5bd2\u306e\u5730\u306a\u3069\u4f53\u529b\u3092\u524a\u3089\u308c\u308b\u3088\u3046\u306a\u904e\u9177\u306a\u74b0\u5883\u3067\u884c\u308f\u308c\u308b\u30eb\u30fc\u30eb\u3002","\u30ce\u30fc\u30de\u30eb/\u7279\u306b\u5f71\u97ff\u306a\u3057\u3002//\u901a\u5e38\u306e\u30eb\u30fc\u30eb\u3002","\u30cf\u30fc\u30c9/\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u5224\u5b9a\u306b\u30d7\u30e9\u30b91\u306e\u4fee\u6b63\u3092\u52a0\u3048\u308b\u3002\u307e\u305f\u3001\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3059\u3079\u3066\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4e00\u3064\u9078\u3093\u3067\u7834\u58ca\u72b6\u614b\uff08\u30eb\u30fc\u30eb\u30d6\u30c3\u30afP187\u53c2\u7167\uff09\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002//\u98a8\u306e\u5f37\u3044\u5834\u6240\u3084\u6c34\u4e2d\u306a\u3069\u3001\u30ab\u30fc\u30c9\u3092\u6271\u3044\u306b\u304f\u3044\u74b0\u5883\u3067\u306e\u30eb\u30fc\u30eb\u3002","\u30b9\u30d4\u30fc\u30c9/\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u306e\u30ea\u30b9\u30af\u304c1\u9ad8\u3044\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u3002\u307e\u305f\u3001\u5224\u5b9a\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u3001\u901f\u5ea6\u304b\u3089\u632f\u308a\u843d\u3068\u3055\u308c\u30661D6\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002//\u30d0\u30a4\u30af\u3084\u30ed\u30fc\u30e9\u30fc\u30dc\u30fc\u30c9\u306a\u3069\u3092\u4f7f\u3063\u3066\u884c\u308f\u308c\u308b\u9ad8\u901f\u30ab\u30fc\u30c9\u30d0\u30c8\u30eb\u30eb\u30fc\u30eb\u3002","\u30c7\u30b9\u30eb\u30fc\u30eb/\u6226\u95d8\u30d5\u30a7\u30a4\u30ba\u3067\u3082\u6b7b\u4ea1\u5224\u5b9a\u304c\u767a\u58f0\u3059\u308b\u3002\u307e\u305f\u3001\u6226\u95d8\u4e0d\u80fd\u306b\u306a\u3063\u305f\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306f\u5373\u5ea7\u306b\u6b7b\u4ea1\u5224\u5b9a\u3092\u884c\u3046\u3002\u305f\u3060\u3057\u3001\u653b\u6483\u3092\u884c\u3063\u305f\u5074\u304c\u30c7\u30b9\u30eb\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u3092\u9078\u629e\u3059\u308c\u3070\u3001\u6b7b\u4ea1\u5224\u5b9a\u306f\u767a\u751f\u3057\u306a\u3044\u3002//\u30e2\u30f3\u30b9\u30bf\u30fc\u306b\u3088\u3063\u3066\u5b9f\u969b\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b\u3001\u6b7b\u306e\u5371\u967a\u6027\u304c\u3042\u308b\u30eb\u30fc\u30eb\u3002"]),CDT:d(p(l,"DiceTable"),"Table").$new("\u5d29\u58ca\u904b\u547d\u8868","1D6",["\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u3042\u306a\u305f\u3092\u5d29\u58ca\u3059\u308b\u5927\u5730\u306b\u547c\u3073\u5bc4\u305b\u305f\u3002\u66b4\u8650\u306a\u632f\u308b\u821e\u3044\u3092\u3059\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3053\u3068\u3092\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u306f\u671b\u3093\u3067\u3044\u308b\u3002","\u3042\u306a\u305f\u306f\u3072\u3087\u3093\u306a\u3053\u3068\u304b\u3089\u4eba\u3092\u52a9\u3051\u305f\u3002\u3059\u308b\u3068\u3001\u3042\u306a\u305f\u306f\u3044\u3064\u306e\u9593\u306b\u304b\u6551\u4e16\u4e3b\u3068\u547c\u3070\u308c\u308b\u5b58\u5728\u306b\u306a\u3063\u3066\u3044\u305f\u3001\u6551\u4e16\u4e3b\u3067\u3042\u308b\u3042\u306a\u305f\u306b\u4eba\u3005\u306f\u61c7\u9858\u3059\u308b\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3057\u3066\u304f\u308c\u3068\u3002","\u3042\u306a\u305f\u306e\u4f4f\u3080\u3068\u3053\u308d\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u529b\u304c\u53ca\u3070\u306a\u3044\u697d\u5712\u3067\u3042\u3063\u305f\u3002\u3057\u304b\u3057\u3001\u697d\u5712\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u4e00\u5473\u306e\u8972\u6483\u306b\u3042\u3044\u3001\u3042\u306a\u305f\u3060\u3051\u304c\u751f\u304d\u6b8b\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u697d\u5712\u3092\u51fa\u305f\u3042\u306a\u305f\u306f\u6226\u3044\u3092\u6c7a\u610f\u3059\u308b\u3002","\u4e16\u306e\u4e2d\u306f\u5909\u308f\u3063\u305f\u3002\u3060\u304c\u3001\u611b\u3059\u308b\u4eba\uff08\u3082\u3057\u304f\u306f\u611b\u3059\u308b\u7269\u3084\u5bb6\u65cf\uff09\u306f\u5065\u5728\u3060\u3002\u3042\u306a\u305f\u306f\u611b\u3059\u308b\u4eba\u3092\u8b77\u308b\u305f\u3081\u306b\u3082\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3079\u304f\u52d5\u304d\u59cb\u3081\u305f\u3002","\u3042\u306a\u305f\u306f\u3053\u306e\u4e16\u754c\u304c\u597d\u304d\u3060\u3002\u305d\u308c\u306f\u3069\u3093\u306a\u7406\u7531\u3067\u3082\u3088\u3044\u3002\u3057\u304b\u3057\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u6301\u3064\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306f\u3053\u306e\u4e16\u754c\u3092\u58ca\u3059\u3002\u306a\u3089\u3070\u3001\u5012\u3057\u3066\u3053\u306e\u4e16\u754c\u3092\u5b88\u3089\u306d\u3070\u306a\u3089\u306a\u3044\u3002","\u5d29\u58ca\u3057\u3066\u3044\u304f\u5927\u5730\u3002\u6ce3\u304d\u53eb\u3076\u4eba\u3005\u306e\u58f0\u3002\u3042\u306a\u305f\u306f\u3053\u306e\u72b6\u6cc1\u3092\u4f5c\u3063\u305f\u306e\u304c\u3001\u3042\u306a\u305f\u306e\u8eab\u5185\u3067\u3042\u308b\u3068\u77e5\u308b\u3002\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306e\u624b\u304b\u3089\u8eab\u5185\u3092\u6551\u3046\u305f\u3081\u306b\u3082\u3001\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u3092\u624b\u306b\u3068\u3063\u305f\u3002"]),CST:d(p(l,"DiceTable"),"Table").$new("\u8857\u4e2d\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u30b7\u30e7\u30c3\u30d7/\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u904a\u3076\u8005\u305f\u3061\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u30d7\u30ec\u30a4\u30b9\u30da\u30fc\u30b9\u3082\u3042\u308c\u3070\u3001\u30ab\u30fc\u30c9\u306e\u8ca9\u58f2\u3082\u3057\u3066\u3044\u308b\u3002","\u30d3\u30eb\u8857/\u30d3\u30eb\u304c\u7acb\u3061\u4e26\u3076\u8857\u3002\u30d3\u30b8\u30cd\u30b9\u30de\u30f3\u304c\u5fd9\u3057\u306a\u304f\u52d5\u304d\u3001\u30c1\u30a7\u30fc\u30f3\u5e97\u304c\u591a\u304f\u898b\u3089\u308c\u308b\u3002","\u99c5\u524d/\u4eba\u304c\u96c6\u307e\u308b\u99c5\u524d\u3002\u96fb\u8eca\u304b\u3089\u964d\u308a\u3066\u304f\u308b\u4eba\u306f\u591a\u304f\u3001\u4eca\u65e5\u3082\u4eba\u3068\u4eba\u304c\u3059\u308c\u9055\u3046\u3002","\u98df\u4e8b\u51e6/\u30ec\u30b9\u30c8\u30e9\u30f3\u304b\u3089\u5927\u8846\u98df\u5802\u3001\u55ab\u8336\u5e97\u3084\u30d0\u30fc\u306a\u3069\u3001\u98df\u4e8b\u306f\u4eba\u306e\u6d3b\u529b\u3067\u3042\u308a\u3001\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u306b\u3082\u5143\u6c17\u306f\u5fc5\u8981\u3060\u3002","\u9053\u8def/\u9577\u304f\u5e83\u3044\u9053\u8def\u3002\u8eca\u3068\u4eba\u304c\u901a\u904e\u3057\u3066\u3044\u304f\u5834\u6240\u3060\u304c\u3001\u6642\u304a\u308a\u30c8\u30e9\u30d6\u30eb\u3092\u62b1\u3048\u305f\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u540c\u58eb\u304c\u6226\u3063\u3066\u3044\u308b\u3002","\u30d7\u30fc\u30eb/\u90fd\u4f1a\u306b\u3042\u308b\u30d7\u30fc\u30eb\u3002\u90fd\u4f1a\u306e\u751f\u6d3b\u306b\u75b2\u308c\u305f\u4eba\u3005\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u6642\u304a\u308a\u3001\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306e\u6226\u3044\u3082\u898b\u3089\u308c\u308b\u3002"]),DT:d(p(l,"DiceTable"),"Table").$new("\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u304c\u6b32\u3057\u3066\u3044\u308b\u30ab\u30fc\u30c9\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u6301\u3063\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3068\u3044\u3046\u60c5\u5831\u3092\u63b4\u3093\u3060\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3057\u3001\u30a2\u30f3\u30c6\u30a3\u30eb\u30fc\u30eb\u3067\u30ab\u30fc\u30c9\u3092\u624b\u306b\u5165\u308c\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3068\u306a\u3063\u305f\u4eba\u7269\u3068\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u4ef2\u9593\u3067\u3042\u3063\u305f\u304c\u3001\u3042\u308b\u65e5\u898b\u305f\u305d\u306e\u4eba\u7269\u306f\u30c0\u30fc\u30af\u30ab\u30fc\u30c9\u306e\u529b\u306b\u3068\u308a\u6191\u304b\u308c\u3066\u8c79\u5909\u3057\u3066\u3044\u305f\u3002\u3042\u306a\u305f\u306f\u4ef2\u9593\u3092\u30ab\u30fc\u30c9\u306b\u3088\u3063\u3066\u6551\u3046\u305f\u3081\u3001\u6226\u3044\u3092\u6c7a\u610f\u3057\u305f\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u3042\u306a\u305f\u306e\u4ef2\u9593\u3084\u8eab\u5185\u3001\u5927\u5207\u306a\u30e2\u30ce\u3092\u50b7\u3064\u3051\u305f\uff08\u58ca\u3057\u305f\uff09\u3002\u3042\u306a\u305f\u306e\u5927\u5207\u306a\u3082\u306e\u3092\u50b7\u3064\u3051\u305f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3001\u8a31\u3057\u306f\u3057\u306a\u3044\u3002","\u3042\u306a\u305f\u306e\u6301\u3064\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3082\u3057\u304f\u306f\u4ed6\u306e\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u51fa\u73fe\u3059\u308b\u3053\u3068\u3092\u5bdf\u77e5\u3057\u305f\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u306b\u5c0e\u304b\u308c\u308b\u307e\u307e\u3001\u30ad\u30df\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\uff08\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\uff09\u3092\u63a2\u3057\u59cb\u3081\u305f\u3002","\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u306e\u7d44\u7e54\u3084\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306e\u5b89\u5b9a\u3092\u9858\u3046\u4eba\u304b\u3089\u305d\u306e\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3092\u5012\u3059\u3088\u3046\u306b\u4f9d\u983c\u3092\u53d7\u3051\u305f\u3001\u3042\u306a\u305f\u306f\u305d\u306e\u4ed5\u4e8b\u3092\u53d7\u3051\u308b\u4fa1\u5024\u304c\u3042\u308b\u3068\u601d\u3063\u305f\u3002\u305d\u3046\u601d\u3063\u305f\u7406\u7531\u306f\u5831\u916c\u3067\u3082\u3044\u3044\u3057\u3001\u3042\u306a\u305f\u306e\u6d41\u5100\u3067\u3082\u3088\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3068\u3042\u306a\u305f\u306f\u5076\u7136\u306b\u3082\u51fa\u4f1a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u5371\u967a\u306a\u5b58\u5728\u3060\u3002\u898b\u3066\u3057\u307e\u3063\u305f\u4ee5\u4e0a\u3001\u653e\u3063\u3066\u304a\u304f\u308f\u3051\u306b\u306f\u3044\u304b\u306a\u3044\u3002"]),GDT:d(p(l,"DiceTable"),"Table").$new("\u5b66\u5712\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u304c\u904e\u3054\u3057\u3066\u3044\u308b\u30af\u30e9\u30b9\u3084\u5bee\u3001\u90e8\u6d3b\u304c\u6f70\u3055\u308c\u305d\u3046\u306b\u306a\u3063\u305f\u3002\u305d\u306e\u88cf\u306b\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u304c\u3042\u308b\u3089\u3057\u3044\u3002","\u5b66\u5712\u306e\u5049\u3044\u4eba\u304b\u3089\u3001\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u3067\u3042\u308b\u3042\u306a\u305f\u306b\u8abf\u67fb\u4f9d\u983c\u304c\u5165\u3063\u305f\u3002\u3069\u3046\u3084\u3089\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u304c\u5b66\u5712\u306b\u5e72\u6e09\u3057\u3066\u3044\u308b\u3068\u306e\u3053\u3068\u3002","\u5b66\u5712\u5185\u306e\u30ab\u30fc\u30c9\u304c\u596a\u308f\u308c\u305f\u3002\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u3060\u308d\u3046\u3002\u5927\u5207\u306b\u3055\u308c\u3066\u3044\u305f\u30ab\u30fc\u30c9\u3092\u53d6\u308a\u623b\u3059\u305f\u3081\u306b\u3001\u3042\u306a\u305f\u306f\u7acb\u3061\u4e0a\u304c\u3063\u305f\u3002","\u5b66\u5185\u306b\u90aa\u60aa\u306a\u5f71\u97ff\u3092\u53d7\u3051\u305f\u30ab\u30fc\u30c9\u304c\u5165\u308a\u8fbc\u3093\u3067\u3044\u305f\u3002\u304a\u305d\u3089\u304f\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u4ed5\u696d\u306b\u9055\u3044\u306a\u3044\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306b\u3088\u3063\u3066\u88ab\u5bb3\u3092\u53d7\u3051\u305f\u751f\u5f92\u304c\u3042\u306a\u305f\u306b\u76f8\u8ac7\u3057\u3066\u304d\u305f\u3002\u3042\u306a\u305f\u306f\u305d\u306e\u751f\u5f92\u306e\u305f\u3081\u306b\u3082\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u8abf\u67fb\u306b\u4e57\u308a\u51fa\u3057\u305f\u3002","\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u5f71\u97ff\u3092\u53d7\u3051\u3001\u6388\u696d\u3084\u90e8\u6d3b\u52d5\u306f\u307e\u3068\u3082\u306b\u3067\u304d\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3042\u306a\u305f\u306f\u5143\u306e\u5b66\u6821\u751f\u6d3b\u3092\u518d\u958b\u3055\u305b\u308b\u305f\u3081\u306b\u3082\u3001\u8abf\u67fb\u3092\u59cb\u3081\u305f\u3002"]),OST:d(p(l,"DiceTable"),"Table").$new("\u90ca\u5916\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u30b7\u30e7\u30c3\u30d7/\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u904a\u3076\u8005\u305f\u3061\u304c\u96c6\u307e\u308b\u5834\u6240\u3002\u5c11\u3057\u6cbb\u5b89\u3068\u5ba2\u5c64\u304c\u60aa\u3044\u304c\u3001\u8cde\u91d1\u7a3c\u304e\u3082\u96c6\u307e\u308b\u3002","\u8352\u91ce/\u52d5\u690d\u7269\u3082\u5c11\u306a\u304f\u3001\u30d4\u30ea\u30d4\u30ea\u3068\u3057\u305f\u96f0\u56f2\u6c17\u306e\u3042\u308b\u5834\u6240\u3002","\u907a\u8de1/\u53e4\u4ee3\u306e\u907a\u8de1\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u3084\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u306f\u3053\u3046\u3057\u305f\u5834\u6240\u306b\u767a\u751f\u3057\u305f\u308a\u3001\u96a0\u3055\u308c\u3066\u3044\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u3002","\u5e73\u539f/\u3069\u3053\u307e\u3067\u3082\u7d9a\u304f\u5e73\u539f\u3002\u52d5\u7269\u3082\u6e29\u539a\u3067\u3042\u308a\u3001\u751f\u3044\u8302\u308b\u8349\u82b1\u304c\u67d4\u3089\u304b\u306a\u5370\u8c61\u3092\u4e0e\u3048\u308b\u5834\u6240\u3060\u3002","\u5c71\u5cb3/\u967a\u3057\u3044\u9053\u304c\u7d9a\u304f\u5c71\u3002\u30ab\u30fc\u30c9\u306e\u7cbe\u970a\u305f\u3061\u304c\u751f\u606f\u3057\u3066\u3044\u308b\u3053\u3068\u3082\u3042\u308b\u304c\u3001\u30ab\u30fc\u30c9\u5c71\u8cca\u56e3\u306b\u306f\u6c17\u3092\u3064\u3051\u306d\u3070\u306a\u3089\u306a\u3044\u3002","\u6d77\u5ddd/\u6d77\u3084\u5ddd\u3002\u5c71\u3068\u540c\u3058\u304f\u30ab\u30fc\u30c9\u306e\u7cbe\u970a\u305f\u3061\u304c\u4f4f\u3093\u3067\u3044\u308b\u5834\u6240\u3060\u3002\u5b89\u3089\u3052\u308b\u5834\u6240\u3067\u3082\u3042\u308a\u3001\u4f11\u61a9\u3057\u3066\u3044\u308b\u4eba\u304c\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3057\u3066\u3044\u308b\u3002"]),GST:d(p(l,"DiceTable"),"Table").$new("\u5b66\u5712\u5834\u6240\u8868","1D6",["\u8cfc\u8cb7/\u5b66\u751f\u306b\u3068\u3063\u3066\u306f\u5b66\u5712\u5185\u3067\u552f\u4e00\u8cb7\u3044\u7269\u304c\u3067\u304d\u308b\u5834\u6240\u3002\u30d1\u30f3\u306e\u4ed6\u306b\u3001\u30ab\u30fc\u30c9\u30d1\u30c3\u30af\u304c\u58f2\u3063\u3066\u3044\u308b\u3002","\u30b0\u30e9\u30a6\u30f3\u30c9\uff0f\u4f53\u80b2\u9928/\u904b\u52d5\u3059\u308b\u306e\u306b\u9069\u3057\u305f\u5e83\u3044\u7a7a\u9593\u3060\u304c\u3001\u540c\u6642\u306b\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u308b\u306e\u306b\u3082\u3046\u3063\u3066\u3064\u3051\u306e\u5834\u6240\u3067\u3042\u308b\u3002","\u5c4b\u4e0a/\u6821\u820e\u306e\u5c4b\u4e0a\u306f\u4e00\u90e8\u306e\u751f\u5f92\u306b\u306f\u4eba\u6c17\u306e\u30b9\u30dd\u30c3\u30c8\u3060\u3002\u4eca\u65e5\u3082\u5f37\u3044\u98a8\u304c\u5f7c\u3089\u3092\u8fce\u3048\u3066\u3044\u308b\u3002","\u6559\u5ba4/\u65e5\u304c\u6607\u3063\u3066\u3044\u308b\u9593\u306f\u3001\u5b66\u751f\u305f\u3061\u306e\u58f0\u3067\u8cd1\u3084\u304b\u306a\u5834\u6240\u3002\u5915\u66ae\u308c\u304b\u3089\u306f\u5c11\u3057\u7269\u54c0\u3057\u304f\u3001\u5bc2\u3057\u3044\u3002","\u6821\u820e\u88cf/\u5b66\u6821\u306e\u4e2d\u3067\u3082\u73cd\u3057\u304f\u4eba\u76ee\u306b\u3064\u304b\u306a\u3044\u5834\u6240\u3002\u4e0d\u826f\u305f\u3061\u304c\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u3063\u3066\u3044\u308b\u59ff\u304c\u898b\u3089\u308c\u308b\u3002","\u90e8\u6d3b\u68df/\u90e8\u6d3b\u3092\u3084\u308b\u8005\u306e\u305f\u3081\u306b\u7528\u610f\u3055\u308c\u305f\u5834\u6240\u3002\u3057\u304b\u3057\u3001\u30b5\u30dc\u3063\u3066\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u3092\u3084\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u3082\u3002"]),ST:d(p(l,"DiceTable"),"Table").$new("\u5834\u6240\u8868","1D6",["\u30ab\u30fc\u30c9\u7cfb/\u30b7\u30e7\u30c3\u30d7\u3084\u5927\u4f1a\u306e\u4f1a\u5834\u306a\u3069\u3001\u30bd\u30a6\u30eb\u30ab\u30fc\u30c9\u306b\u95a2\u4fc2\u304c\u3042\u308b\u5834\u6240\u3002\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u305f\u3061\u3082\u96c6\u307e\u3063\u3066\u304f\u308b\u3002","\u81ea\u7136/\u516c\u5712\u3084\u5c71\u306a\u3069\u3001\u81ea\u7136\u306e\u606f\u5439\u304c\u611f\u3058\u3089\u308c\u308b\u5834\u6240\u3002\u8033\u3092\u6f84\u307e\u305b\u3070\u30ab\u30fc\u30c9\u306e\u58f0\u3082\u805e\u3053\u3048\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u795e\u79d8/\u53e4\u4ee3\u306e\u65bd\u8a2d\u3084\u3001\u795e\u793e\u30fb\u6559\u4f1a\u306a\u3069\u306e\u795e\u79d8\u7684\u306a\u5834\u6240\u3002\u30ec\u30b8\u30a7\u30f3\u30c9\u30ab\u30fc\u30c9\u304c\u96a0\u3055\u308c\u3066\u3044\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u5b89\u606f/\u81ea\u5b85\u306a\u3069\u3001\u5b89\u3089\u3052\u308b\u7a7a\u9593\u3002\u305d\u3053\u306f\u3042\u306a\u305f\u304c\u5b89\u3089\u3052\u308b\u5834\u6240\u3067\u3042\u308a\u3001\u601d\u3044\u51fa\u306e\u5730\u306a\u306e\u304b\u3082\u3057\u308c\u306a\u3044\u3002","\u8857\u4e2d/\u4eba\u3005\u304c\u4f4f\u3080\u8857\u4e2d\u3002\u4f55\u6c17\u306a\u304f\u843d\u3061\u3066\u3044\u308b\u30ab\u30fc\u30c9\u306e\u4e2d\u306b\u306f\u3001\u4fa1\u5024\u304c\u3042\u308b\u3082\u306e\u3082\u3042\u308b\u304b\u3082\u3002","\u6c34\u8fba/\u30d7\u30fc\u30eb\u3084\u6d77\u5cb8\u306a\u3069\u3001\u6c34\u304c\u8fd1\u304f\u306b\u5b58\u5728\u3059\u308b\u5834\u6240\u3002\u3072\u3068\u307e\u305a\u3001\u3053\u3053\u3067\u3072\u3068\u606f\u3064\u3051\u305d\u3046\u3060\u3002"]),TDT:d(p(l,"DiceTable"),"Table").$new("\u5927\u4f1a\u904b\u547d\u8868","1D6",["\u3042\u306a\u305f\u306f\u53cb\u4eba\u3068\u5171\u306b\u5927\u4f1a\u306b\u51fa\u5834\u3057\u305f\u3002\u3057\u304b\u3057\u3001\u53cb\u4eba\u306f\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306b\u3088\u3063\u3066\u5012\u3055\u308c\u3066\u3057\u307e\u3063\u305f\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u5546\u54c1\u3092\u72d9\u3044\u3001\u5927\u4f1a\u306b\u51fa\u5834\u3057\u305f\u3002\u3060\u304c\u3001\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u3082\u305d\u308c\u3092\u72d9\u3063\u3066\u3044\u308b\u3089\u3057\u3044\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u904b\u55b6\u8005\u304b\u3089\u3001\u5927\u4f1a\u306b\u95a2\u308f\u3063\u3066\u3044\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u6483\u7834\u3092\u4f9d\u983c\u3055\u308c\u305f\u3002","\u3042\u306a\u305f\u306f\u30ab\u30fc\u30c9\u306e\u5c0e\u304f\u307e\u307e\u306b\u3001\u5927\u4f1a\u306b\u95a2\u308f\u3063\u3066\u304f\u308b\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u51fa\u73fe\u3092\u5bdf\u77e5\u3057\u305f\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306e\u4e00\u9078\u624b\u3068\u3057\u3066\u6226\u3063\u3066\u3044\u305f\u3002\u3060\u304c\u3001\u8b0e\u306e\u523a\u5ba2\u306b\u3088\u3063\u3066\u8972\u308f\u308c\u305f\u3002\u304d\u3063\u3068\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306e\u4ed5\u696d\u306b\u9055\u3044\u306a\u3044\u3002","\u3042\u306a\u305f\u306f\u5927\u4f1a\u306b\u51fa\u5834\u3057\u3001\u512a\u52dd\u5019\u88dc\u3068\u8a00\u308f\u308c\u3066\u3044\u308b\u30ab\u30fc\u30c9\u30e9\u30f3\u30ab\u30fc\u3060\u3002\u3060\u304c\u3001\u305d\u3093\u306a\u30ad\u30df\u3092\u30c0\u30fc\u30af\u30e9\u30f3\u30ab\u30fc\u306f\u8972\u3063\u305f\u3002"]),WT:d(p(l,"DiceTable"),"Table").$new("\u5909\u8abf\u8868","1D6",["\u731b\u6bd2/\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3010LP\u3011\u306e\u73fe\u5728\u5024\u30923\u70b9\u5931\u3046\u3002\u307e\u305f\u3010LP\u3011\u306e\u73fe\u5728\u5024\u3092\u56de\u5fa9\u3067\u304d\u306a\u3044\u3002","\u708e\u4e0a/\u30e9\u30a6\u30f3\u30c9\u7d42\u4e86\u6642\u306b\u3001\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4e00\u3064\u9078\u3073\u7834\u58ca\u72b6\u614b\u306b\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u65e2\u306b\u7834\u58ca\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u308b\u3082\u306e\u306f\u9078\u3079\u306a\u3044\u3002","\u59a8\u5bb3/\u653b\u6483\u5224\u5b9a\u306b\u30de\u30a4\u30ca\u30b92\u306e\u4fee\u6b63\u3092\u53d7\u3051\u308b\u3002","\u6355\u7e1b/\u30d6\u30ed\u30c3\u30af\u5224\u5b9a\u306b\u30de\u30a4\u30ca\u30b92\u306e\u4fee\u6b63\u3092\u53d7\u3051\u308b\u3002","\u53ec\u559a\u5236\u9650/\u300c\u30bf\u30a4\u30d7\uff1a\u88dc\u52a9\u300d\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","\u6697\u95c7/\u300c\u30bf\u30a4\u30d7\uff1a\u652f\u63f4\u300d\u306e\u30e2\u30f3\u30b9\u30bf\u30fc\u30ab\u30fc\u30c9\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002"])}).$freeze()),s.$register_prefix(p(l,"RTT").$prefixes(),"CM",p(l,"TABLES").$keys())}(Opal)},21738:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r,a,$,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$$,b=t.$$,y=t.module,T=t.klass,h=t.hash2,S=t.truthy;r=m,a=f=[y(m[0],"BCDice")].concat(r),$=_=[y(f[0],"GameSystem")].concat(a),l=T(_[0],b(_,"Base"),"CastleInGray"),c=[l].concat($),l.$$prototype.randomizer=d,t.const_set(c[0],"ID","CastleInGray".$freeze()),t.const_set(c[0],"NAME","\u7070\u8272\u57ce\u7dba\u8b5a".$freeze()),t.const_set(c[0],"SORT_KEY","\u306f\u3044\u3044\u308d\u3057\u3088\u3046\u304d\u305f\u3093".$freeze()),t.const_set(c[0],"HELP_MESSAGE","\u25a0 \u8272\u5360\u3044 (BnWm)\nn: \u9ed2\nm: \u767d\nn, m \u306f1\uff5e12\u306e\u7570\u306a\u308b\u6574\u6570\n\n\u4f8b) B12W7\n\u4f8b) B5W12\n\n\u25a0 \u60aa\u610f\u306e\u6e26\u306b\u3088\u308b\u5360\u3044 (MALn)\nn: \u60aa\u610f\u306e\u6e26\nn \u306f1\uff5e12\u306e\u6574\u6570\n\n\u25a0 \u305d\u306e\u4ed6\n\u30fb\u611f\u60c5\u8868 ET\n\u30fb\u6697\u793a\u8868(\u9ed2) BIT\n\u30fb\u6697\u793a\u8868(\u767d) WIT\n".$freeze()),t.const_set(c[0],"TABLES",h(["ET","BIT","WIT"],{ET:p(b(c,"DiceTable"),"Table").$new("\u611f\u60c5\u8868","1D12",["\u53cb\u60c5(\u767d)\uff0f\u6575\u8996(\u9ed2)","\u604b\u6155(\u767d)\uff0f\u5acc\u60aa(\u9ed2)","\u4fe1\u983c(\u767d)\uff0f\u4e0d\u4fe1(\u9ed2)","\u540c\u60c5(\u767d)\uff0f\u6190\u61ab(\u9ed2)","\u61a7\u61ac(\u767d)\uff0f\u52a3\u7b49\u611f(\u9ed2)","\u5c0a\u656c(\u767d)\uff0f\u8511\u8996(\u9ed2)","\u5fe0\u8aa0(\u767d)\uff0f\u57f7\u7740(\u9ed2)","\u6709\u7528(\u767d)\uff0f\u90aa\u9b54(\u9ed2)","\u8a31\u5bb9(\u767d)\uff0f\u7f6a\u60aa\u611f(\u9ed2)","\u7fa8\u671b(\u767d)\uff0f\u5ac9\u59ac(\u9ed2)","\u5171\u611f(\u767d)\uff0f\u62d2\u7d76(\u9ed2)","\u611b\u60c5(\u767d)\uff0f\u72c2\u4fe1(\u9ed2)"]),BIT:p(b(c,"DiceTable"),"Table").$new("\u6697\u793a\u8868(\u9ed2)","1D12",["\u7d42\u308f\u308a\u306a\u304d\u591c\u306b\u751f\u307e\u308c\u3064\u304f\u8005\u3082\u3042\u308a","\u60aa\u610f\u3082\u3066\u771f\u5b9f\u3092\u8a9e\u3089\u3070","\u7b11\u3048\u3069\u3082\u7b11\u307f\u306f\u306a\u3057","\u5f71\u3088\u308a\u629c\u3051\u51fa\u308b\u3053\u3068\u3042\u305f\u308f\u3058","\u5fc3\u306e\u8d74\u304f\u307e\u307e\u306b\u624b\u3092\u3068\u308c","\u6642\u306a\u3089\u306c\u5d50\u306e\u904e\u304e\u53bb\u308b\u3092\u5f85\u3064","\u8d66\u3055\u308c\u306c\u3068\u77e5\u308b\u304c\u3086\u3048\u306b","\u898b\u5f35\u308a\u306f\u6301\u3061\u5834\u3092\u96e2\u308c\u308b","\u8ab0\u3082\u304c\u76f2\u3044\u305f\u308b\u5f77\u5fa8\u3044\u4eba\u306a\u308a","\u843d\u3061\u308b\u65e5\u3092\u773a\u3081\u308b\u304c\u3054\u3068\u304f","\u51b7\u305f\u304f\u96e8\u305e\u964d\u308a\u3057\u304d\u308b","\u4eca\u65e5\u306f\u7b11\u3080\u82b1\u3082\u660e\u65e5\u306b\u306f\u67af\u308c\u3086\u304f"]),WIT:p(b(c,"DiceTable"),"Table").$new("\u6697\u793a\u8868(\u767d)","1D12",["\u7121\u57a2\u306a\u308b\u8005\u306e\u307f\u304c\u771f\u5b9f\u3092\u5f97\u308b","\u3052\u306b\u6148\u60b2\u6df1\u304d\u306f\u6c88\u9ed9\u306a\u308a","\u61d0\u304b\u3057\u304d\u65e5\u3005\u306f\u53bb\u308a\u306c","\u675f\u306e\u9593\u306b\u5149\u3055\u3059","\u8ff7\u3048\u308b\u8005\u306b\u624b\u3092\u5dee\u3057\u4f38\u3079\u3088","\u5d50\u306e\u524d\u306b\u306f\u9759\u3051\u3055\u304c\u3042\u308b","\u3069\u3046\u304b\u8cac\u3081\u306a\u3044\u3067","\u706f\u3057\u305f\u660e\u304b\u308a\u3092\u7d76\u3084\u3055\u306c\u3088\u3046\u306b","\u76ee\u3092\u958b\u3051\u3066\u898b\u3088","\u6dd1\u3084\u304b\u306b\u8a2a\u308c\u308b","\u4eca\u3053\u305d\u6ce3\u3051\u3001\u3055\u3082\u306a\u304f\u3070\u4e8c\u5ea6\u3068\u6ce3\u304f\u306a","\u6642\u304c\u8a31\u3059\u9593\u306b\u8594\u8587\u3092\u6458\u3081"])}).$freeze()),l.$register_prefix("B","MAL",b(c,"TABLES").$keys()),t.def(l,"$eval_game_system_specific_command",i=function(t){var e,n,r=this;return S(e=S(n=r.$roll_color(t))?n:r.$roll_mal(t))?e:r.$roll_tables(t,b(c,"TABLES"))},i.$$arity=1),t.def(l,"$roll_color",o=function(t){var r=this,a=d,$=d,i=d,o=d,u=d,s=d,l=d;return a=/^B(\d{1,2})W(\d{1,2})$/.$match(t),S(a)&&($=a["$[]"](1).$to_i(),i=a["$[]"](2).$to_i(),S(S(o=$["$between?"](1,12))?i["$between?"](1,12):o))?(u=r.randomizer.$roll_once(12),$["$=="](i)?r.$color_text($,i,u,"\u767d\u3068\u9ed2\u306f\u91cd\u306d\u3089\u308c\u307e\u305b\u3093"):S(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(i,$))?r.$color_text($,i,u,S(S(s=e($,u))?n(u,i):s)?"\u9ed2":"\u767d"):r.$color_text($,i,u,S(S(l=e(i,u))?n(u,$):l)?"\u767d":"\u9ed2")):d},o.$$arity=1),t.def(l,"$color_text",u=function(t,e,n,r){return"\u8272\u5360\u3044(\u9ed2"+t+"\u767d"+e+") \uff1e ["+n+"] \uff1e "+r},u.$$arity=4),t.def(l,"$roll_mal",s=function(t){var n=d,r=d,a=d;return n=/^MAL(\d{1,2})$/i.$match(t),S(n)&&(r=n["$[]"](1).$to_i(),S(r["$between?"](1,12)))?"\u60aa\u610f\u306e\u6e26("+r+") \uff1e ["+(a=this.randomizer.$roll_once(12))+"] \uff1e "+(S(e(a,r))?"\u9ed2":"\u767d"):d},s.$$arity=1)}(Opal)},49962:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.truthy,R=t.send,A=t.range,v=t.hash2;i=y,o=b=[D(y[0],"BCDice")].concat(i),u=p=[D(b[0],"GameSystem")].concat(o),m=g(p[0],S(p,"Base"),"ChaosFlare"),d=[m].concat(u),m.$$prototype.randomizer=m.$$prototype.cmd=T,t.const_set(d[0],"ID","ChaosFlare"),t.const_set(d[0],"NAME","\u30ab\u30aa\u30b9\u30d5\u30ec\u30a2"),t.const_set(d[0],"SORT_KEY","\u304b\u304a\u3059\u3075\u308c\u3042"),t.const_set(d[0],"HELP_MESSAGE","\u5224\u5b9a\nCF\n  \u66f8\u5f0f: [\u30c0\u30a4\u30b9\u306e\u6570]CF[\u4fee\u6b63\u5024][@\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024][#\u30d5\u30a1\u30f3\u30d6\u30eb\u5024][>=\u76ee\u6a19\u5024]\n    CF\u4ee5\u5916\u306f\u5168\u3066\u7701\u7565\u53ef\u80fd\n  \u4f8b:\n  - CF 2D6,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502412,\u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\n  - CF+10@10 \u4fee\u6b63\u5024+10,\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u502410\u3067\u5224\u5b9a\n  - CF+10#3 \u4fee\u6b63\u5024+10,\u30d5\u30a1\u30f3\u30d6\u30eb\u50243\u3067\u5224\u5b9a\n  - CF+10>=10 \u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001\u5dee\u5206\u5024\u3082\u51fa\u529b\u3059\u308b\n  - 3CF+10@10#3>=10 3D6\u3067\u306e\u5224\u5b9a\n  - CF@9#3+8>=10\n\n2D6\n  \u30d5\u30a1\u30f3\u30d6\u30eb\u50242\u3067\u5224\u5b9a\u3059\u308b\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u5224\u5b9a\u306f\u884c\u308f\u308c\u306a\u3044\u3002\n  \u76ee\u6a19\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u5dee\u5206\u5024\u3092\u51fa\u529b\u3059\u308b\u3002\n  - 2D6+4>=10\n\n\u5404\u7a2e\u8868\n  FT: \u56e0\u7e01\u8868\n  FTx: \u6570\u5024\u3092\u6307\u5b9a\u3059\u308b\u3068\u56e0\u679c\u8868\u306e\u5024\u3092\u51fa\u529b\u3059\u308b\n  - FT -> 11\u304b\u308966\u306e\u9593\u3067\u30e9\u30f3\u30c0\u30e0\u6c7a\u5b9a\n  - FT23 -> 23\u306e\u9805\u76ee\u3092\u51fa\u529b\n  - FT0\n  - FT7\n"),m.$register_prefix("\\d*CF","FT"),t.def(m,"$result_2d6",s=function(a,$,i,o,u){var s=T,l=T,c=T;return o["$=="](">=")?(s=[],l=S(d,"Result").$new(),E(e($,2))&&(a=n(a,20),s.$push("\u30d5\u30a1\u30f3\u30d6\u30eb(-20)"),R(l,"fumble=",t.to_a(c=[!0])),n(c.length,1)),E(u["$!="]("?"))&&(E(r(a,u))?(s.$push("\u6210\u529f"),R(l,"success=",t.to_a(c=[!0])),n(c.length,1)):(s.$push("\u5931\u6557"),R(l,"failure=",t.to_a(c=[!0])),n(c.length,1)),E(n(a,u)["$!="](0))&&s.$push("\u5dee\u5206\u5024"+n(a,u))),E(s["$empty?"]())?S(d,"Result").$nothing():(c=[s.$join(" \uff1e ")],R(l,"text=",t.to_a(c)),n(c.length,1),l)):T},s.$$arity=5),t.def(m,"$eval_game_system_specific_command",l=function(t){return E(t["$start_with?"]("FT"))?this.$roll_fate_table(t):this.$cf_roll(t)},l.$$arity=1),m.$private(),t.def(m,"$roll_fate_table",c=function(t){var e,r,$=T,i=T,o=T,u=T,s=T;if($=/^FT(\d+)?/.$match(t),E($["$[]"](1))){if(i=$["$[]"](1).$to_i(),E([0,7]["$include?"](i)))return"\u56e0\u679c\u8868("+i+") \uff1e "+S(d,"FATE_TABLE")["$[]"](i)["$[]"](0);if(o=a(i,10).$to_i(),u=i["$%"](10),E(E(s=A(1,6,!1)["$include?"](o)["$!"]())?s:A(1,6,!1)["$include?"](u)["$!"]()))return T}else o=this.randomizer.$roll_once(6),u=this.randomizer.$roll_once(6);return e=o,r=n(a(u,2).$to_i(),1),"\u56e0\u679c\u8868("+o+u+") \uff1e "+S(d,"FATE_TABLE")["$[]"](e)["$[]"](r)},c.$$arity=1),t.def(m,"$cf_roll",_=function(a){var i=this,o=T,u=T,s=T,l=T,c=T,_=T,f=T,m=T,p=T,b=T,y=T,D=T,g=T,A=T;return o=h(S(d,"Command"),"Parser").$new(/\d*CF/,v(["round_type"],{round_type:i.$round_type()})).$enable_critical().$enable_fumble(),i.cmd=o.$parse(a),!E(i.cmd)||(u=i.cmd.$command()["$=="]("CF")?2:i.cmd.$command().$to_i(),s=E(l=i.cmd.$critical())?l:12,c=E(_=i.cmd.$fumble())?_:2,R(i.cmd,"dollar=",t.to_a(f=[T])),n(f.length,1),E(E(m=$(u,0))?m:[">=",T]["$include?"](i.cmd.$cmp_op())["$!"]()))?T:(b=(p=i.randomizer.$roll_barabara(u,6)).$sum(),y=p.$join(","),D=r(b,s),g=e(b,c),A=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(A=E(D)?30:E(g)?-20:b,i.cmd.$modify_number()),["("+i.cmd.$to_s("after_modify_number")+")",b+"["+y+"]",A.$to_s(),E($(A,0))?"0":T,E(D)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":T,E(g)?"\u30d5\u30a1\u30f3\u30d6\u30eb":T,E(i.cmd.$target_number())?"\u5dee\u5206\u5024 "+i.$difference(A):T].$compact().$join(" \uff1e "))},_.$$arity=1),t.def(m,"$difference",f=function(t){return E($(t,0))?this.cmd.$target_number()["$-@"]():n(t,this.cmd.$target_number())},f.$$arity=1),t.const_set(d[0],"FATE_TABLE",[["\u8150\u308c\u7e01"],["\u7d14\u611b","\u89aa\u8fd1\u611f","\u5e87\u8b77"],["\u4fe1\u983c","\u611f\u670d","\u5171\u611f"],["\u53cb\u60c5","\u5c0a\u656c","\u6155\u60c5"],["\u597d\u6575\u624b","\u671f\u5f85","\u501f\u308a"],["\u8208\u5473","\u618e\u60aa","\u60b2\u3057\u307f"],["\u6050\u6016","\u57f7\u7740","\u5229\u7528"],["\u4efb\u610f"]].$freeze())}(Opal)},29670:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy;o=y,u=b=[S(y[0],"BCDice")].concat(o),s=p=[S(b[0],"GameSystem")].concat(u),m=D(p[0],h(p,"Base"),"Chill"),d=[m].concat(s),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","Chill"),t.const_set(d[0],"NAME","Chill"),t.const_set(d[0],"SORT_KEY","\u3061\u308b"),t.const_set(d[0],"HELP_MESSAGE",'\u30fb\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af\u3000(SRx)\n\u3000"SR\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af"\u306e\u5f62\u3067\u8a18\u5165\u3057\u307e\u3059\u3002\n\u3000\u30b9\u30c8\u30e9\u30a4\u30af\u30fb\u30e9\u30f3\u30af\u30fb\u30c1\u30e3\u30fc\u30c8\u306b\u5f93\u3063\u3066\u81ea\u52d5\u3067\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\n\u3000\u8ca0\u50b7\u3068\u30b9\u30bf\u30df\u30ca\u30ed\u30b9\u3092\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u3000\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3068\u540c\u69d8\u306b\u3001\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u96a0\u308c\u3066\u30ed\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u3000\u4f8b\uff09SR7\u3000\u3000\u3000sr13\u3000\u3000\u3000SR(7+4)\u3000\u3000\u3000Ssr10\n'),m.$register_prefix("SR"),t.def(m,"$result_1d100",l=function(t,a,$,i){return i["$=="]("?")||g($["$!="]("<="))?T:g(e(t,100))?h(d,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(t,i))?h(d,"Result").$failure("\u5931\u6557"):g(e(t,n(i,.9)))?h(d,"Result").$success("\uff2c\u6210\u529f"):g(e(t,r(i,2).$to_i()))?h(d,"Result").$success("\uff2d\u6210\u529f"):g(e(t,r(i,10).$to_i()))?h(d,"Result").$success("\uff28\u6210\u529f"):h(d,"Result").$critical("\uff23\u6210\u529f")},l.$$arity=4),t.def(m,"$eval_game_system_specific_command",c=function(t){return this.$roll_strike_rank_result(t)},c.$$arity=1),t.def(m,"$roll_strike_rank_result",_=function(e){var r,o,u=this,s=T,l=T,c=T,_=T,f=T,m=T,p=T,b=T,y=T,S=T,D=T,E=T;return u.$debug("strike_rank begin string",e),s=0,l=0,c="",_="",f="",g(/(^|\s)[sS]?(SR|sr)(\d+)($|\s)/["$=~"](e))?(m=h(d,"Regexp").$last_match(3).$to_i(),g(a(m,14))?(o=u.$check_strike_rank(m),l=null==(r=t.to_ary(o))[0]?T:r[0],c=null==r[1]?T:r[1],_=null==r[2]?T:r[2],f=null==r[3]?T:r[3],o=u.$check_strike_rank($(m,3)),s=null==(r=t.to_ary(o))[0]?T:r[0],p=null==r[1]?T:r[1],b=null==r[2]?T:r[2],y=null==r[3]?T:r[3],c=i(i(c,", "),p),_=i(_,i(", ",b)),f=i(i(f,", "),y)):(o=u.$check_strike_rank(13),l=null==(r=t.to_ary(o))[0]?T:r[0],_=null==r[2]?T:r[2],f=null==r[3]?T:r[3],s=(S=u.randomizer.$roll_barabara(4,10)).$sum(),y=S.$join(","),c=i(i("5d10*3, 4d10+",n($(m,13),2).$to_s()),"d10"),_=i(_,i(", ",s.$to_s())),f=f+", "+y,D=(S=u.randomizer.$roll_barabara(n($(m,13),2),10)).$sum(),f=i(f,"+"+(y=S.$join(","))),_=i(_,"+"+D),s=i(s,D)),E=f+" \uff1e "+_+" \uff1e \u30b9\u30bf\u30df\u30ca\u640d\u5931"+l+", \u8ca0\u50b7"+s,e=i(e,i(":",c)),g(E["$empty?"]())?"1":(u.$debug("strike_rank end output",E="("+e+") \uff1e "+E),E)):(u.$debug("invalid string",e),"1")},_.$$arity=1),t.def(m,"$check_strike_rank",f=function(t){var e=this,r=T,o=T,u=T,s=T,l=T,c=T;return t=t.$to_i(),r="",o="",u="",s=0,g(a(t,1))?(s=0,u="-",o="-",r="-"):g(a(t,2))?(r="0or1",u=(s=e.randomizer.$roll_once(2)).$to_s(),o=(s=$(s,1)).$to_s()):g(a(t,3))?(r="1or2",u=(s=e.randomizer.$roll_once(2)).$to_s(),o=s.$to_s()):g(a(t,4))?(r="1d5",u=(s=e.randomizer.$roll_once(5)).$to_s(),o=s.$to_s()):g(a(t,10))?(r=i($(t,3).$to_s(),"d10"),o=(s=(l=e.randomizer.$roll_barabara($(t,3),10)).$sum()).$to_s(),u=l.$join(",")):g(a(t,13))?(r=i($(t,6).$to_s(),"d10*2"),o=(c=(l=e.randomizer.$roll_barabara($(t,6),10)).$sum())+"*2",s=n(c,2),u="("+l.$join(",")+")*2"):(r="5d10*3",o=(c=(l=e.randomizer.$roll_barabara(5,10)).$sum())+"*3",s=n(c,3),u="("+l.$join(",")+")*3"),[s,r,o,u]},f.$$arity=1)}(Opal)},80460:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.truthy;a=_,$=c=[d(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"Chill3"),s=[u].concat(i),t.const_set(s[0],"ID","Chill3"),t.const_set(s[0],"NAME","Chill 3rd Edition"),t.const_set(s[0],"SORT_KEY","\u3061\u308b3"),t.const_set(s[0],"HELP_MESSAGE","\u30fb1D100\u3067\u5224\u5b9a\u6642\u306b\u6210\u5426\u3001Botch\u3092\u5224\u5b9a\n\u3000\u4f8b\uff091D100<=50\n\u3000\u3000\u3000Chill3 : (1D100<=50) \uff1e 55 \uff1e Botch\n"),t.def(u,"$result_1d100",o=function(t,a,$,i){var o=f,u=f,l=f,c=f;return i["$=="]("?")||!$["$=="]("<=")?f:(o=e(a,10).$to_i()["$%"](10),u=a["$%"](10),o["$=="](u)?b(b(l=n(t,i))?l:a["$=="](100))?b(n(i,100))?m(s,"Result").$failure("\u5931\u6557"):m(s,"Result").$fumble("Botch"):m(s,"Result").$critical("\uff23\u6210\u529f"):b(b(c=r(t,i))?c:a["$=="](1))?b(r(t,e(i,2).$to_i()))?m(s,"Result").$success("\uff28\u6210\u529f"):m(s,"Result").$success("\uff2c\u6210\u529f"):m(s,"Result").$failure("\u5931\u6557"))},o.$$arity=4)}(Opal)},65129:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$,y=t.module,T=t.klass,h=t.send2,S=t.truthy,D=t.send;$=d,i=m=[y(d[0],"BCDice")].concat($),o=f=[y(m[0],"GameSystem")].concat(i),c=T(f[0],b(f,"Base"),"CodeLayerd"),_=[c].concat(o),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","CodeLayerd"),t.const_set(_[0],"NAME","\u30b3\u30fc\u30c9\uff1a\u30ec\u30a4\u30e4\u30fc\u30c9"),t.const_set(_[0],"SORT_KEY","\u3053\u304a\u3068\u308c\u3044\u3084\u3042\u3068"),t.const_set(_[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nCL@m[c]+x \u307e\u305f\u306f nCL+x@m[c]\uff09 \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5224\u5b9a\u3042\u308a\n  (\u30c0\u30a4\u30b9\u6570)CL+(\u4fee\u6b63\u5024)@(\u5224\u5b9a\u5024)[(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024)]+(\u4fee\u6b63\u50242)\n\n  @m,[c],+x\u306f\u7701\u7565\u53ef\u80fd\u3002(@6[1]\u3068\u3057\u3066\u51e6\u7406)\n  n\u500b\u306eD10\u3067m\u3092\u5224\u5b9a\u5024\u3001c\u3092\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u3068\u3057\u305f\u884c\u70ba\u5224\u5b9a\u3092\u884c\u3046\u3002\n  n\u304c0\u4ee5\u4e0b\u306e\u3068\u304d\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3057\u306a\u30441CL\u5224\u5b9a\u3092\u884c\u3046\u3002(1CL[0]\u3068\u540c\u4e00)\n  \u4f8b\uff09\n  7CL>=5 \uff1a\u30b5\u30a4\u30b3\u30ed7\u500b\u3067\u5224\u5b9a\u50246\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u76ee\u6a19\u50245\u306b\u5bfe\u3057\u3066\u5224\u5b9a\n  4CL@7  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3059\n  4CL+2@7 \u307e\u305f\u306f 4CL@7+2  \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u5224\u5b9a\u50247\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3044\u9054\u6210\u5024\u3092\u51fa\u3057\u3001\u4fee\u6b63\u50242\u3092\u8db3\u3059\u3002\n  4CL[2] \uff1a\u30b5\u30a4\u30b3\u30ed4\u500b\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u50242\u306e\u30ed\u30fc\u30eb\u3092\u884c\u3046\u3002\n  0CL : 1CL[0]\u3068\u540c\u3058\u5224\u5b9a\n\n  \u30c7\u30d5\u30a9\u30eb\u30c8\u30c0\u30a4\u30b9\uff1a10\u9762\n"),c.$register_prefix("[+-]?\\d*CL"),t.def(c,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),h(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sides_implicit_d=10},u.$$arity=1),t.def(c,"$eval_game_system_specific_command",s=function(t){var n=p,r=p,a=p,$=p,i=p,o=p,u=p,s=p,l=p,c=p;return this.$debug("eval_game_system_specific_command command",t),n=/([+-]?\d+)?CL([+-]\d+)?(@(\d))?(\[(\d+)\])?([+-]\d+)?(>=(\d+))?/i.$match(t),S(n)?(r=(S(a=n["$[]"](1))?a:1).$to_i(),$=n["$[]"](2).$to_i(),i=(S(o=n["$[]"](4))?o:6).$to_i(),u=(S(s=n["$[]"](6))?s:1).$to_i(),l=n["$[]"](7).$to_i(),S(n["$[]"](9))&&(c=n["$[]"](9).$to_i()),this.$check_roll(t,r,i,u,c,e($,l))):p},s.$$arity=1),t.def(c,"$check_roll",l=function($,i,o,u,s,l){var c,f,m,d,y,T,h=this,g=p,E=p,R=p,A=p,v=p;return S(n(i,0))&&(u=0,i=1),g=b(_,"Result").$new(),S(r(o,10))&&(o=10),E=h.randomizer.$roll_barabara(i,10).$sort(),m=D(E,"count",[],((c=function(t){return null==t&&(t=p),n(t,o)}).$$s=h,c.$$arity=1,c)),R=[r(d=D(E,"count",[],((f=function(t){return null==t&&(t=p),n(t,u)}).$$s=h,f.$$arity=1,f)),0)],D(g,"critical=",t.to_a(R)),a(R.length,1),y=e(e(m,d),l),A=$+" \uff1e ("+i+"d10"+(T=b(_,"Format").$modifier(l))+") \uff1e ["+E.$join(",")+"]"+T+" \uff1e ",o["$=="](6)||(A=e(A,"\u5224\u5b9a\u5024["+o+"] ")),u["$=="](1)||(A=e(A,"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024["+u+"] ")),A=e(A,"\u9054\u6210\u5024["+m+"]"),S(n(m,0))?(D(g,"fumble=",t.to_a(R=[!0])),a(R.length,1),D(g,"failure=",t.to_a(R=[!0])),a(R.length,1),D(g,"text=",t.to_a(R=[A+" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb\uff01"])),a(R.length,1),g):(S(g["$critical?"]())&&(A=e(A,"+\u30af\u30ea\u30c6\u30a3\u30ab\u30eb["+d+"]")),A=e(A,T),S(S(v=g["$critical?"]())?v:l["$!="](0))&&(A=e(A,"=["+y+"]")),S(s["$nil?"]())?(D(g,"text=",t.to_a(R=[A+" \uff1e "+y])),a(R.length,1)):S(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(y,s))?(D(g,"text=",t.to_a(R=[A+" \uff1e \u6210\u529f"])),a(R.length,1),D(g,"success=",t.to_a(R=[!0])),a(R.length,1)):(D(g,"text=",t.to_a(R=[A+" \uff1e \u5931\u6557"])),a(R.length,1),D(g,"failure=",t.to_a(R=[!0])),a(R.length,1)),g)},l.$$arity=6)}(Opal)},75624:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T;n(93683),r=Opal,m=r.$$$,d=r.$$,b=r.klass,y=r.send2,T=r.hash2,a=f=[],$=_=[(p=r.module)(f[0],"BCDice")].concat(a),i=c=[p(_[0],"GameSystem")].concat($),s=b(c[0],d(c,"Base"),"Comes"),l=[s].concat(i),r.const_set(l[0],"ID","Comes"),r.const_set(l[0],"NAME","\u30ab\u30e0\u30ba"),r.const_set(l[0],"SORT_KEY","\u304b\u3080\u3059"),r.const_set(l[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n\u3000\u5224\u5b9a\u30da\u30ca\u30eb\u30c6\u30a3\u8868 PT\n"),r.def(s,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),y(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0,e.d66_sort_type=m(d(l,"D66SortType"),"ASC")},o.$$arity=1),r.def(s,"$eval_game_system_specific_command",u=function(t){return this.$roll_tables(t,m(this.$class(),"TABLES"))},u.$$arity=1),r.const_set(l[0],"TABLES",T(["PT"],{PT:m(d(l,"DiceTable"),"Table").$new("\u5224\u5b9a\u30da\u30ca\u30eb\u30c6\u30a3\u8868","1D6",["\u6050\u308d\u3057\u3044\u76ee\u306b\u5408\u3046\u3002\u300e\u6050\u6016\u300f\u3092\u4e0e\u3048\u308b\u3002","\u4eca\u898b\u3066\u3044\u308b\u3082\u306e\u3092\u7406\u89e3\u3067\u304d\u306a\u3044\u3002\u300e\u6df7\u4e71\u300f\u3092\u4e0e\u3048\u308b\u3002","\u6211\u3092\u5fd8\u308c\u3066\u898b\u3068\u308c\u3066\u3057\u307e\u3046\u3002\u300e\u9b45\u4e86\u300f\u3092\u4e0e\u3048\u308b\u3002","\u601d\u308f\u306c\u9060\u56de\u308a\u3092\u3057\u3066\u3057\u307e\u3046\u3002\u300e\u75b2\u52b4\u300f\u3092\u4e0e\u3048\u308b\u3002","\u5927\u304d\u306a\u5931\u614b\u3092\u6f14\u3058\u3066\u3057\u307e\u3046\u3002\u300e\u8ca0\u50b7\u300f\u3092\u4e0e\u3048\u308b\u3002","\u5225\u306e\u56f0\u96e3\u304c\u7acb\u3061\u306f\u3060\u304b\u308b\u3002\u65b0\u305f\u306b\u5224\u5b9a\u3092\u884c\u308f\u305b\u308b\u3002"])}).$freeze()),s.$register_prefix(d(l,"TABLES").$keys())},20469:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.truthy;r=_,a=c=[d(_[0],"BCDice")].concat(r),$=l=[d(c[0],"GameSystem")].concat(a),u=p(l[0],m(l,"Base"),"CrashWorld"),s=[u].concat($),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","CrashWorld"),t.const_set(s[0],"NAME","\u589c\u843d\u4e16\u754c"),t.const_set(s[0],"SORT_KEY","\u3064\u3044\u3089\u304f\u305b\u304b\u3044"),t.const_set(s[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a CWn\n\u521d\u671f\u76ee\u6a19\u5024n (\u5fc5\u9808)\n\u4f8b\u30fbCW8\n"),u.$register_prefix("CW"),t.def(u,"$eval_game_system_specific_command",i=function(t){var e=f;return e=f,/CW(\d+)/i["$==="](t)&&(e=this.$getCrashWorldRoll(m(s,"Regexp").$last_match(1).$to_i())),e},i.$$arity=1),t.def(u,"$getCrashWorldRoll",o=function(t){var r=f,a=f,$=f,i=f,o=f;for(this.$debug("target",t),r="(",a=!1,$=0,i=0;b(a["$!"]());)i=this.randomizer.$roll_once(12),r=r["$=="]("(")?"("+i:r+", "+i,b(b(o=e(i,t))?o:i["$=="](11))?(t=i,$=n($,1)):(i["$=="](12),a=!0);return i["$=="](12)&&($=0),r=r+")  \u6210\u529f\u5ea6 : "+$,i["$=="](12)&&(r+=" \u30d5\u30a1\u30f3\u30d6\u30eb"),r},o.$$arity=1)}(Opal)},98492:function(t,e,n){n(93683),Opal.modules["bcdice/arithmetic_evaluator"]=function(t){var e,n,r,a,$,i,o,u,s=[],l=t.nil,c=t.$$$,_=t.$$,f=t.module,m=t.hash2,d=t.truthy;return e=s,n=u=[f(s[0],"BCDice")].concat(e),o=[i=f(u[0],"ArithmeticEvaluator")].concat(n),r=t.get_singleton_class(i),$=[r].concat(o),void t.def(r,"$eval",a=function(e,n){var r,a=l;if(null==n)n=m([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(r=n.$$smap.round_type)&&(r=c(_($,"RoundType"),"FLOOR")),d(e)&&d(a=_($,"Arithmetic").$eval(e,r))?a:0},a.$$arity=-2)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g,E,R,A,v,B=[],x=t.nil,C=t.$$$,M=t.$$,z=t.module,k=t.klass,G=t.truthy,L=t.send,I=t.send2;t.top.$require("bcdice/arithmetic_evaluator"),i=B,o=v=[z(B[0],"BCDice")].concat(i),u=(A=[z(v[0],"GameSystem")].concat(o))[0],s=M(A,"Base"),l=A,E=k(u,s,"CthulhuTech"),R=[E].concat(l),E.$$prototype.randomizer=x,E.$register_prefix("\\d+D10"),t.const_set(R[0],"ID","CthulhuTech"),t.const_set(R[0],"NAME","\u30af\u30c8\u30a5\u30eb\u30d5\u30c6\u30c3\u30af"),t.const_set(R[0],"SORT_KEY","\u304f\u3068\u3046\u308b\u3075\u3066\u3064\u304f"),t.const_set(R[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08test\uff09\uff1anD10+m>=d\n\u3000n\u500b\u306e\u30c0\u30a4\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3001\u4fee\u6b63\u5024m\u3001\u96e3\u6613\u5ea6d\u3067\u884c\u70ba\u5224\u5b9a\uff08test\uff09\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u5024m\u306f\u7701\u7565\u53ef\u80fd\u3001\u8907\u6570\u6307\u5b9a\u53ef\u80fd\uff08\u4f8b\uff1a+2-4\uff09\u3067\u3059\u3002\n\u3000\u6210\u529f\u3001\u5931\u6557\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff092D10>=12\u30004D10+2>=28\u30005D10+2-4>=32\n\n\u30fb\u5bfe\u6297\u5224\u5b9a\uff08contest\uff09\uff1anD10+m>d\n\u3000\u884c\u70ba\u5224\u5b9a\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u9632\u5fa1\u5074\u6709\u5229\u306e\u305f\u3081\u300c>=\u300d\u3067\u306f\u306a\u304f\u300c>\u300d\u3092\u5165\u529b\u3057\u307e\u3059\u3002\n\u3000\u30c0\u30e1\u30fc\u30b8\u30c0\u30a4\u30b9\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n"),m=R,D=k(R[0],null,"Test"),g=[D].concat(m),D.$$prototype.num=D.$$prototype.modifier=D.$$prototype.difficulty=x,t.const_set(g[0],"COMPARE_OP",">="),t.def(D,"$initialize",d=function(t,e,n){var r=this;return r.num=t,r.modifier=e,r.difficulty=n},d.$$arity=3),t.def(D,"$execute",p=function(t){var $,i,o,u,s,l,c=this,_=x,f=x,m=x;return f=e((_=t.$roll_barabara(c.num,10)).$count(1),n(r(_.$length(),1),2).$to_i()),$=_.$sort(),m=a(o=r(i=c.$calculate_roll_result($),c.modifier),c.difficulty),u=G(l=f["$!"]())?m.$send(C(c.$class(),"COMPARE_OP"),0):l,s=e(m,10),["("+c.$expression()+")",c.$test_value_expression($,i),o,c.$result_str(u,f,s,m)].$join(" \uff1e ")},p.$$arity=1),D.$private(),t.def(D,"$expression",b=function(){var t,e=this;return t=M(g,"Format").$modifier(e.modifier),e.num+"D10"+t+C(e.$class(),"COMPARE_OP")+e.difficulty},b.$$arity=0),t.def(D,"$test_value_expression",y=function(t,e){return e+"["+t.$join(",")+"]"+M(g,"Format").$modifier(this.modifier)},y.$$arity=2),t.def(D,"$result_str",T=function(t,e,n,r){return G(e)?"\u30d5\u30a1\u30f3\u30d6\u30eb":G(n)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":G(t)?"\u6210\u529f":"\u5931\u6557"},T.$$arity=4),t.def(D,"$calculate_roll_result",h=function(t){return[t.$last(),L(L(t,"group_by",[],"itself".$to_proc()).$values(),"map",[],"sum".$to_proc()).$max(),this.$sum_of_largest_straight(t)].$max()},h.$$arity=1),t.def(D,"$sum_of_largest_straight",S=function(t){var n,i,o=x,u=x,s=x,l=x;return G("number"==typeof(i=t.$length())?i<3:i["$<"](3))?0:(o=0,u=0,s=0,l=-1,L(t.$uniq(),"each",[],((n=function(t){var n=x;return null==t&&(t=x),G($(a(t,l),1))?(u=1,s=t,l=t,x):(u=r(u,1),s=r(s,t),l=t,G(G(n=e(u,3))?$(s,o):n)?o=s:x)}).$$s=this,n.$$arity=1,n)),o)},S.$$arity=1),function(e,r,a){var $,i=k(e,r,"Contest"),o=[i].concat(a);t.const_set(o[0],"COMPARE_OP",">"),t.def(i,"$result_str",$=function(e,r,a,i){var o=$.$$p,u=this,s=x,l=x,c=x,_=x;for(o&&($.$$p=null),c=0,_=arguments.length,l=new Array(_);c<_;c++)l[c]=arguments[c];return s=I(u,t.find_super_dispatcher(u,"result_str",$,!1,!0),"result_str",l,o),G(e)?s+"\uff08\u30c0\u30e1\u30fc\u30b8\uff1a"+n(i,5).$ceil()+"D10\uff09":s},$.$$arity=4)}(R[0],M(R,"Test"),R),t.def(E,"$initialize",c=function(e){var n=this;return c.$$p&&(c.$$p=null),I(n,t.find_super_dispatcher(n,"initialize",c,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},c.$$arity=1),t.def(E,"$eval_game_system_specific_command",_=function(t){var e=x;return e=this.$parse(t),G(e)?e.$execute(this.randomizer):x},_.$$arity=1),E.$private(),t.const_set(R[0],"TEST_RE",/^(\d+)D10((?:[-+]\d+)+)?(>=?)(\d+)$/.$freeze()),t.def(E,"$parse",f=function(t){var e=x,n=x,r=x,a=x,$=x;return e=M(R,"TEST_RE").$match(t),G(e)?(n=e["$[]"](1).$to_i(),r=G(e["$[]"](2))?M(R,"ArithmeticEvaluator").$eval(e["$[]"](2)):0,a=e["$[]"](3)["$=="](">")?M(R,"Contest"):M(R,"Test"),$=e["$[]"](4).$to_i(),a.$new(n,r,$)):x},f.$$arity=1)}(Opal)},90699:function(t,e,n){n(93683),Opal.modules["bcdice/normalize"]=function(t){var e,n,r,a,$,i,o=[],u=t.nil,s=t.module;return $=o,e=i=[s(o[0],"BCDice")].concat($),[a=s(i[0],"Normalize")].concat(e),a.$module_function(),t.def(a,"$comparison_operator",n=function(t){var e;return/<=|=</["$==="](e=t)?"<=":/>=|=>/["$==="](e)?">=":/<>|!=|=!/["$==="](e)?"!=":/</["$==="](e)?"<":/>/["$==="](e)?">":/=/["$==="](e)?"==":u},n.$$arity=1),void t.def(a,"$target_number",r=function(t){return t["$=="]("?")?t:t.$to_i()},r.$$arity=1)},Opal.modules["bcdice/format"]=function(t){var e,n,r,a,$,i,o,u=[],s=t.nil,l=t.$$,c=t.module,_=t.truthy;return e=u,n=o=[c(u[0],"BCDice")].concat(e),$=c(o[0],"Format"),i=[$].concat(n),$.$module_function(),t.def($,"$comparison_operator",r=function(t){var e;return"=="["$==="](e=t)?"=":"!="["$==="](e)?"<>":l(i,"Symbol")["$==="](e)?t.$to_s():s},r.$$arity=1),void t.def($,"$modifier",a=function(t){return _(t["$nil?"]())?s:t["$=="](0)?"":_("number"==typeof(e=t)?e>0:e["$>"](0))?"+"+t:t.$to_s();var e},a.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b=t.top,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy,E=t.send;b.$require("bcdice/normalize"),b.$require("bcdice/format"),$=y,i=p=[S(y[0],"BCDice")].concat($),o=d=[S(p[0],"GameSystem")].concat(i),f=D(d[0],h(d,"Base"),"DarkBlaze"),m=[f].concat(o),f.$$prototype.randomizer=T,t.const_set(m[0],"ID","DarkBlaze"),t.const_set(m[0],"NAME","\u30c0\u30fc\u30af\u30d6\u30ec\u30a4\u30ba"),t.const_set(m[0],"SORT_KEY","\u305f\u3042\u304f\u3075\u308c\u3044\u3059"),t.const_set(m[0],"HELP_MESSAGE",'\u30fb\u884c\u70ba\u5224\u5b9a\u3000(DBxy#n)\n\u3000\u884c\u70ba\u5224\u5b9a\u5c02\u7528\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"DB(\u80fd\u529b)(\u6280\u80fd)#(\u4fee\u6b63)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9(3R6+n[x,y]>=m m\u306f\u96e3\u6613\u5ea6)\u306b\u8aad\u66ff\u3092\u3057\u307e\u3059\u3002\n\u3000\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3068\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u81ea\u52d5\u3067\u51e6\u7406\u3055\u308c\u307e\u3059\u3002\n\u3000DB@x@y#m \u3068 DBx,y#m \u306b\u3082\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002\n\u3000\u4f8b\uff09DB33\u3000\u3000\u3000DB32#-1\u3000\u3000\u3000DB@3@1#1\u3000\u3000\u3000DB3,2\u3000\u3000\u3000DB23#1>=4\u3000\u3000\u30003R6+1[3,3]>=4\n\n\u30fb\u6398\u308a\u51fa\u3057\u888b\u8868\u3000(BTx)\n\u3000"BT(\u30c0\u30a4\u30b9\u6570)"\u3067\u6398\u308a\u51fa\u3057\u888b\u8868\u3092\u81ea\u52d5\u3067\u632f\u308a\u3001\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09BT1\u3000\u3000\u3000BT2\u3000\u3000\u3000BT[1...3]\n'),f.$register_prefix("DB","BT","3R6"),t.def(f,"$replace_text",u=function(t){var e,n,r,a,$,i=this;return g(t["$=~"](/DB/i))&&(t=E(t,"gsub",[/DB(\d),(\d)/],((e=function(){return"DB"+h(m,"Regexp").$last_match(1)+h(m,"Regexp").$last_match(2)}).$$s=i,e.$$arity=0,e)),t=E(t,"gsub",[/DB@(\d)@(\d)/],((n=function(){return"DB"+h(m,"Regexp").$last_match(1)+h(m,"Regexp").$last_match(2)}).$$s=i,n.$$arity=0,n)),t=E(t,"gsub",[/DB(\d)(\d)(#(\d[+\-\d]*))/],((r=function(){return"3R6+"+h(m,"Regexp").$last_match(4)+"["+h(m,"Regexp").$last_match(1)+","+h(m,"Regexp").$last_match(2)+"]"}).$$s=i,r.$$arity=0,r)),t=E(t,"gsub",[/DB(\d)(\d)(#([+\-\d]*))/],((a=function(){return"3R6"+h(m,"Regexp").$last_match(4)+"["+h(m,"Regexp").$last_match(1)+","+h(m,"Regexp").$last_match(2)+"]"}).$$s=i,a.$$arity=0,a)),t=E(t,"gsub",[/DB(\d)(\d)/],(($=function(){return"3R6["+h(m,"Regexp").$last_match(1)+","+h(m,"Regexp").$last_match(2)+"]"}).$$s=i,$.$$arity=0,$))),t},u.$$arity=1),t.def(f,"$check_roll",s=function(n){var r,a,$=T,i=T,o=T,u=T,s=T,l=T,c=T,_=T,f=T;return n=this.$replace_text(n),g($=/(^|\s)S?(3[rR]6([+\-\d]+)?(\[(\d+),(\d+)\])(([>=]+)(\d+))?)(\s|$)/i.$match(n))?(n=$["$[]"](2),i=0,o=1,u=1,s="",l=0,g($["$[]"](3))&&(i=h(m,"ArithmeticEvaluator").$eval($["$[]"](3))),g($["$[]"](4))&&(o=$["$[]"](5).$to_i(),u=$["$[]"](6).$to_i()),g($["$[]"](7))&&(c=h(m,"Normalize").$comparison_operator($["$[]"](8)),s=h(m,"Format").$comparison_operator(c),l=$["$[]"](9).$to_i()),a=this.$get_dice(i,o,u),_=null==(r=t.to_ary(a))[0]?T:r[0],f="("+n+") \uff1e "+(null==r[1]?T:r[1]),g(s["$!="](""))&&(c=h(m,"Normalize").$comparison_operator(s),f=e(f,g(_.$send(c,l))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),f):T},s.$$arity=1),t.def(f,"$get_dice",l=function(t,$,i){var o,u,s,l=T,c=T,_=T,f=T,m=T;return l=0,c=0,_=0,u=e(3,t.$abs()),s=(f=this.randomizer.$roll_barabara(u,6).$sort()).$join(","),E(3,"times",[],((o=function(o){var s,m=T;return null==o&&(o=T),m=f["$[]"](o),g("number"==typeof(s=t)?s<0:s["$<"](0))&&(m=f["$[]"](n(n(u,o),1))),g(r(m,$))&&(l=e(l,1)),g(r(m,i))&&(l=e(l,1)),g(r(m,2))&&(c=e(c,1)),g(a(m,5))?_=e(_,1):T}).$$s=this,o.$$arity=1,o)),m="",g(a(c,3))&&(m=" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb",l=e(6,i)),g(a(_,3))&&(m=" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb",l=0),[l,l+"["+s+"]"+m]},l.$$arity=3),t.def(f,"$eval_game_system_specific_command",c=function(t){var e,n=T,r=T,a=T;return g(n=/^BT(\d)?$/i.$match(t))?(r=g(a=(e=n["$[]"](1))===T||null==e?T:E(e,"to_i",[]))?a:1,this.$get_horidasibukuro_table(r)):this.$check_roll(t)},c.$$arity=1),t.def(f,"$get_horidasibukuro_table",_=function(t){var e,a=this,$=T,i=T,o=T,u=T,s=T,l=T;return $="1",i=["\u87f2\u7532","\u91d1\u5c5e","\u91d1\u8ca8","\u690d\u7269","\u7363\u76ae","\u7adc\u9c57","\u30ec\u30a2\u30e2\u30ce","\u30ec\u30a2\u30e2\u30ce"],o=["\u706b\u708e\u77f3","\u96f7\u6483\u77f3","\u6c37\u7d50\u77f3"],u=a.randomizer.$roll_sum(2,6),s=a.randomizer.$roll_sum(t,6),a.$debug("dice",t),a.$debug("num1",u),a.$debug("num2",s),g(r(u,4))?(s=a.randomizer.$roll_once(6),$="\u300a"+o["$[]"](n((e=s,"number"==typeof e?e/2:e["$/"](2)).$to_i(),1))+"\u300b\u3092"+t+"\u500b\u7372\u5f97"):u["$=="](7)?$="\u300a\u91d1\u8ca8\u300b\u3092"+s+"\u679a\u7372\u5f97":(l=i["$[]"](n(u,5)),$=g(r(s,3))?"\u300a"+l+" I\u300b\u30921\u500b\u7372\u5f97":g(r(s,5))?"\u300a"+l+" I\u300b\u30922\u500b\u7372\u5f97":g(r(s,7))?"\u300a"+l+" I\u300b\u30923\u500b\u7372\u5f97":g(r(s,9))?"\u300a"+l+" II\u300b\u30921\u500b\u7372\u5f97":g(r(s,11))?"\u300a"+l+" I\u300b\u30922\u500b\u300a"+l+" II\u300b\u30921\u500b\u7372\u5f97":g(r(s,13))?"\u300a"+l+" I\u300b\u30922\u500b\u300a"+l+" II\u300b\u30922\u500b\u7372\u5f97":g(r(s,15))?"\u300a"+l+" III\u300b\u30921\u500b\u7372\u5f97":g(r(s,17))?"\u300a"+l+" II\u300b\u30922\u500b\u300a"+l+" III\u300b\u30921\u500b\u7372\u5f97":"\u300a"+l+" II\u300b\u30922\u500b\u300a"+l+" III\u300b\u30922\u500b\u7372\u5f97"),g($["$!="]("1"))&&($="\u6398\u308a\u51fa\u3057\u888b\u8868["+u+","+s+"] \uff1e "+$),$},_.$$arity=1)}(Opal)},92838:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$$,d=t.$$,p=t.module,b=t.klass,y=t.send2,T=t.truthy,h=t.hash2,S=t.hash;n=_,r=c=[p(_[0],"BCDice")].concat(n),a=l=[p(c[0],"GameSystem")].concat(r),u=b(l[0],d(l,"Base"),"DarkDaysDrive"),s=[u].concat(a),t.const_set(s[0],"ID","DarkDaysDrive"),t.const_set(s[0],"NAME","\u30c0\u30fc\u30af\u30c7\u30a4\u30ba\u30c9\u30e9\u30a4\u30d6"),t.const_set(s[0],"SORT_KEY","\u305f\u3042\u304f\u3066\u3044\u3059\u3068\u3089\u3044\u3075"),t.const_set(s[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\n\u30fb\u5404\u7a2e\u8868\nRTTn \u30e9\u30f3\u30c0\u30e0\u7279\u6280\u6c7a\u5b9a\u8868(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\nRCT  \u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u6c7a\u5b9a\u8868\nABRT \u30a2\u30d3\u30ea\u30c6\u30a3\u6c7a\u5b9a\u8868\nDT \u30c0\u30e1\u30fc\u30b8\u8868\nFT \u5931\u6557\u8868\nGJT \u5927\u6210\u529f\u8868\nITT \u79fb\u52d5\u30c8\u30e9\u30d6\u30eb\u8868\nNTT \u4efb\u52d9\u30c8\u30e9\u30d6\u30eb\u8868\nSTT \u8972\u6483\u30c8\u30e9\u30d6\u30eb\u8868\nHTT \u5909\u8eab\u30c8\u30e9\u30d6\u30eb\u8868\nDET \u30c9\u30e9\u30a4\u30d6\u30a4\u30d9\u30f3\u30c8\u8868\nBET \u30d6\u30ec\u30a4\u30af\u30a4\u30d9\u30f3\u30c8\u8868\nCT \u30ad\u30e3\u30f3\u30d7\u8868\nKZT \u95a2\u4fc2\u5c5e\u6027\u8868\nIA \u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6c7a\u5b9a\u8868\n IAA \u9060\u8ddd\u96e2\n IAB \u79fb\u52d5\n IAC \u8fd1\u8ddd\u96e2\n IAD \u5584\u4eba\n IAE \u60aa\u4eba\n IAF \u5e7c\u3044\n IAG \u30d0\u30ab\n IAH \u6e0b\u3044\n IAI \u8ce2\u3044\n IAJ \u8d85\u81ea\u7136\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(u,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),y(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.d66_sort_type=m(d(s,"D66SortType"),"ASC")},$.$$arity=1),t.def(u,"$result_2d6",i=function(t,n,r,a,$){return a["$=="](">=")?T("number"==typeof(i=n)?i<=2:i["$<="](2))?d(s,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb(\u5224\u5b9a\u5931\u6557\u3002\u5931\u6557\u8868(FT)\u3092\u8ffd\u52a0\u3067\uff11\u56de\u632f\u308b)"):T(e(n,12))?d(s,"Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb(\u5224\u5b9a\u6210\u529f\u3002\u5927\u6210\u529f\u8868(GJT)\u3092\uff11\u56de\u4f7f\u7528\u53ef\u80fd)"):$["$=="]("?")?d(s,"Result").$nothing():T(e(t,$))?d(s,"Result").$success("\u6210\u529f"):d(s,"Result").$failure("\u5931\u6557"):f;var i},i.$$arity=5),t.def(u,"$eval_game_system_specific_command",o=function(t){var e;return T(e=this.$roll_tables(t,d(s,"TABLES")))?e:d(s,"RTT").$roll_command(this.$randomizer(),t)},o.$$arity=1),t.const_set(s[0],"RTT",m(d(s,"DiceTable"),"SaiFicSkillTable").$new([["\u80cc\u666f",["\u546a\u3044","\u7d76\u671b","\u5b64\u5150","\u6b7b\u5225","\u4e00\u822c\u4eba","\u7372\u7269","\u61a7\u308c","\u53cb\u4eba","\u6311\u6226\u8005","\u8840\u7e01","\u6c38\u9060"]],["\u4ed5\u4e8b",["\u8105\u8feb","\u6368\u3066\u308b","\u62c9\u81f4","\u76d7\u3080","\u30cf\u30c3\u30ad\u30f3\u30b0","\u4fb5\u5165","\u5909\u88c5","\u3060\u307e\u3059","\u96a0\u3059","\u306e\u305e\u304f","\u805e\u304d\u51fa\u3059"]],["\u635c\u7d22",["\u30c8\u30a4\u30ec","\u98df\u4e8b","\u81ea\u7136","\u904b\u52d5\u65bd\u8a2d","\u8857","\u53cb\u611b\u4f1a","\u6697\u90e8","\u53f2\u8de1","\u6587\u5316\u65bd\u8a2d","\u6e29\u6cc9","\u5bbf\u6cca"]],["\u8da3\u5473",["\u304a\u9152","\u30b0\u30eb\u30e1","\u30c0\u30f3\u30b9","\u30b9\u30dd\u30fc\u30c4","\u5065\u5eb7","\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3","\u604b\u611b","\u30d5\u30a7\u30b9","\u97f3\u697d","\u7269\u8a9e","\u5b66\u554f"]],["\u96f0\u56f2\u6c17",["\u3060\u3089\u3057\u306a\u3044","\u306e\u3093\u3073\u308a","\u6696\u304b\u3044","\u660e\u308b\u3044","\u7518\u3044","\u666e\u901a","\u6d17\u7df4","\u6e0b\u3044","\u9759\u304b","\u771f\u9762\u76ee","\u51b7\u305f\u3044"]],["\u6226\u95d8\u6cd5",["\u5fcd\u8853","\u53e4\u6b66\u8853","\u5263\u8853","\u68d2\u8853","\u62f3\u6cd5","\u30b1\u30f3\u30ab","\u7dcf\u5408\u683c\u95d8\u6280","\u30ec\u30b9\u30ea\u30f3\u30b0","\u8ecd\u968a\u683c\u95d8\u8853","\u5c04\u6483","\u5f13\u8853"]]],h(["rtt_format"],{rtt_format:"\u30e9\u30f3\u30c0\u30e0\u6307\u5b9a\u7279\u6280\u8868(%<category_dice>d,%<row_dice>d) \uff1e %<category_name>s\u300a%<skill_name>s\u300b"}))),t.const_set(s[0],"TABLES",h(["ABRT","DT","FT","GJT","ITT","NTT","STT","HTT","DET","BET","CT","KZT","IA","IAA","IAB","IAC","IAD","IAE","IAF","IAG","IAH","IAI","IAJ"],{ABRT:m(d(s,"DiceTable"),"D66Table").$new("\u30a2\u30d3\u30ea\u30c6\u30a3\u6c7a\u5b9a\u8868",m(d(s,"D66SortType"),"ASC"),S(11,"\u30a4\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u30fc(P155)",12,"\u904b\u9001\u696d(P155)",13,"\u904b\u8ee2\u624b(P155)",14,"\u30ab\u30d5\u30a7\u5e97\u54e1(P155)",15,"\u8da3\u5473\u4eba(P155)",16,"\u30b7\u30e7\u30c3\u30d7\u5e97\u54e1(P155)",22,"\u6b63\u793e\u54e1(P156)",23,"\u5927\u5de5(P156)",24,"\u63a2\u5075(P156)",25,"\u30d0\u30a4\u30e4\u30fc(P156)",26,"\u4ff3\u512a(P156)",33,"\u6d3e\u9063\u793e\u54e1(P156)",34,"\u72af\u7f6a\u8005(P157)",35,"\u30d0\u30f3\u30c9\u30de\u30f3(P157)",36,"\u30d0\u30fc\u30c6\u30f3\u30c0\u30fc(P157)",44,"\u30d2\u30e2(P157)",45,"\u30db\u30b9\u30c8(P157)",46,"\u30db\u30c6\u30eb\u30de\u30f3(P157)",55,"\u7121\u8077(P158)",56,"\u7528\u5fc3\u68d2(P158)",66,"\u6599\u7406\u4eba(P158)")),DT:m(d(s,"DiceTable"),"Table").$new("\u30c0\u30e1\u30fc\u30b8\u8868","1D6",["\u75b2\u308c","\u75db\u307f","\u7126\u308a","\u4e0d\u8abf","\u30b7\u30e7\u30c3\u30af","\u30b1\u30ac"]),FT:m(d(s,"DiceTable"),"Table").$new("\u5931\u6557\u8868","1D6",["\u4efb\u610f\u306e\u30a2\u30a4\u30c6\u30e0\u3092\u4e00\u3064\u5931\u3046","\uff11\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff11\u6e1b\u5c11\u3059\u308b\uff08\u6700\u4f4e\uff10\uff09","\uff12\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff12\u6e1b\u5c11\u3059\u308b\uff08\u6700\u4f4e\uff10\uff09","\u6a19\u7684\u30ec\u30d9\u30eb\u304c\uff11\u5897\u52a0\u3059\u308b"]),GJT:m(d(s,"DiceTable"),"Table").$new("\u5927\u6210\u529f\u8868","1D6",["\u4e3b\u4eba\u304b\u3089\u304a\u8912\u3081\u306e\u8a00\u8449\u3092\u3044\u305f\u3060\u304f","\u30c0\u30e1\u30fc\u30b8\u3092\uff11\u56de\u5fa9\u3059\u308b","\u30c0\u30e1\u30fc\u30b8\u3092\uff11\u56de\u5fa9\u3059\u308b","\u95a2\u4fc2\u306e\u30c1\u30a7\u30c3\u30af\u3092\u4e00\u3064\u6d88\u3059","\u30c0\u30e1\u30fc\u30b8\u3092\uff12\u56de\u5fa9\u3059\u308b","\u3010\u6240\u6301\u91d1\u30e9\u30f3\u30af\u3011\u304c\uff11\u5897\u52a0\u3059\u308b"]),ITT:m(d(s,"DiceTable"),"Table").$new("\u79fb\u52d5\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u691c\u554f\uff08P220)","\u6025\u306a\u8179\u75db\uff08P220)","\u9ed2\u7159\uff08P221)","\u868a\uff08P221)","\u843d\u3068\u3057\u7269\uff08P222)","\u7a7a\u8179\uff08P222)"]),NTT:m(d(s,"DiceTable"),"Table").$new("\u4efb\u52d9\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u901a\u5831\uff08P223)","\u30d7\u30ec\u30c3\u30b7\u30e3\u30fc\uff08P223)","\u30de\u30ca\u30fc\u9055\u53cd\uff08P224)","\u5fd7\u9858\u8005\uff08P224)","\u4ef2\u9593\u5272\u308c\uff08P225)","\u72e9\u4eba\u306e\u5642\uff08P225)"]),STT:m(d(s,"DiceTable"),"Table").$new("\u8972\u6483\u30c8\u30e9\u30d6\u30eb\u8868","1D6",["\u5b64\u72ec\u306a\u8ffd\u8de1\u8005\uff08P226)","\u5730\u5143\u306e\u82e5\u8005\u305f\u3061\uff08P226)","V-FILES\uff08P227)","\u30c1\u30f3\u30d4\u30e9\u306e\u7fa4\u308c\uff08P227)","\u5b64\u72ec\u306a\u72e9\u4eba\uff08P228)","\u72e9\u4eba\u306e\u7fa4\u308c\uff08P228)"]),HTT:m(d(s,"DiceTable"),"D66Table").$new("\u5909\u8eab\u30c8\u30e9\u30d6\u30eb\u8868",m(d(s,"D66SortType"),"NO_SORT"),S(11,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",12,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",13,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",14,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",15,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",16,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",21,"\u5f37\u596a(P217)",22,"\u66b4\u884c(P217)",23,"\u8650\u6bba(P218)",24,"\u8a98\u62d0(P218)",25,"\u7121\u7cbe(P219)",26,"\u5931\u8e2a(P219)",31,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",32,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",33,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",34,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",35,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",36,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",41,"\u5f37\u596a(P217)",42,"\u66b4\u884c(P217)",43,"\u8650\u6bba(P218)",44,"\u8a98\u62d0(P218)",45,"\u7121\u7cbe(P219)",46,"\u5931\u8e2a(P219)",51,"\u3042\u308c\u3092\u98df\u3079\u305f\u3044(P214)",52,"\u3042\u308c\u3092\u7740\u305f\u3044(P214)",53,"\u3042\u308c\u3092\u898b\u305f\u3044(P215)",54,"\u3042\u308c\u3092\u72e9\u308a\u305f\u3044(P215)",55,"\u3042\u308c\u3092\u8e0a\u308a\u305f\u3044(P216)",56,"\u3042\u308c\u306b\u5165\u308a\u305f\u3044(P216)",61,"\u5f37\u596a(P217)",62,"\u66b4\u884c(P217)",63,"\u8650\u6bba(P218)",64,"\u8a98\u62d0(P218)",65,"\u7121\u7cbe(P219)",66,"\u5931\u8e2a(P219)")),DET:m(d(s,"DiceTable"),"Table").$new("\u30c9\u30e9\u30a4\u30d6\u30a4\u30d9\u30f3\u30c8\u8868","1D6",["\u8eab\u306e\u4e0a\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u80cc\u666f\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u30b9\u30ad\u30eb\u81ea\u6162\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u4ed5\u4e8b\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u3080\u304b\u3057\u884c\u3063\u305f\u5834\u6240\u306e\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u635c\u7d22\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u8da3\u5473\u306e\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u8da3\u5473\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u30c6\u30fc\u30de\u304c\u306a\u3044\u96d1\u8ac7\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u96f0\u56f2\u6c17\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002","\u7269\u9a12\u306a\u8a71\u3092\u3059\u308b\u3002\u76ee\u6a19\u304c\u6226\u95d8\u6cd5\u5206\u91ce\u3067\u9078\u629e\u3057\u3066\u3044\u308b\u7279\u6280\u304c\u30c9\u30e9\u30a4\u30d6\u5224\u5b9a\u306e\u6307\u5b9a\u7279\u6280\u306b\u306a\u308b\u3002"]),BET:m(d(s,"DiceTable"),"Table").$new("\u30d6\u30ec\u30a4\u30af\u30a4\u30d9\u30f3\u30c8\u8868","1D6",["\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u98a8\u5149\u660e\u7f8e\u306a\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002197\u30da\u30fc\u30b8\u306e\u300c\u89b3\u5149\u5730\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u660e\u308b\u3044\u5149\u306b\u7167\u3089\u3055\u308c\u305f\u5c0f\u3055\u306a\u5e97\u306b\u5230\u7740\u3059\u308b\u3002197\u30da\u30fc\u30b8\u306e\u300c\u30b3\u30f3\u30d3\u30cb\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u5de8\u5927\u304b\u3064\u4f55\u3067\u3082\u58f2\u3063\u3066\u3044\u308b\u5e97\u306b\u5230\u7740\u3059\u308b\u3002198\u30da\u30fc\u30b8\u306e\u300c\u30db\u30fc\u30e0\u30bb\u30f3\u30bf\u30fc\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u30c9\u30e9\u30a4\u30d0\u30fc\u305f\u3061\u306e\u61a9\u3044\u306e\u5730\u306b\u5230\u7740\u3059\u308b\u3002198\u30da\u30fc\u30b8\u306e\u300c\u30b5\u30fc\u30d3\u30b9\u30a8\u30ea\u30a2\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u5927\u304d\u306a\u30b5\u30fc\u30d3\u30b9\u30a8\u30ea\u30a2\u306e\u3088\u3046\u306a\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002199\u30da\u30fc\u30b8\u306e\u300c\u9053\u306e\u99c5\u300d\u3092\u53c2\u7167\u3002","\u30a4\u30b1\u30e1\u30f3\u306e\u8eca\u306f\u95c7\u306e\u5e95\u306b\u96a0\u3055\u308c\u305f\u79d8\u5bc6\u306e\u5834\u6240\u306b\u5230\u7740\u3059\u308b\u3002199\u30da\u30fc\u30b8\u306e\u300c\u53cb\u611b\u4f1a\u652f\u90e8\u300d\u3092\u53c2\u7167\u3002"]),CT:m(d(s,"DiceTable"),"Table").$new("\u30ad\u30e3\u30f3\u30d7\u8868","1D6",["\u7121\u6599\u4eee\u7720\u6240\u30fb\u3044\u3044\u611f\u3058\u306e\u7a7a\u304d\u5730\uff1a\u5b9a\u54e1\u7121\u5236\u9650\uff0f\u5c45\u4f4f\u6027-2\uff0f\u4fa1\u683c0\uff0f\u767a\u898b\u73872","\u30ab\u30d7\u30bb\u30eb\u30db\u30c6\u30eb\uff1a\u5b9a\u54e11\uff0f\u5c45\u4f4f\u6027-1\uff0f\u4fa1\u683c3\uff0f\u767a\u898b\u73872","\u30e9\u30d6\u30db\u30c6\u30eb\uff1a\u5b9a\u54e12\uff0f\u5c45\u4f4f\u60270\uff0f\u4fa1\u683c4\uff0f\u767a\u898b\u73871","\u30d3\u30b8\u30cd\u30b9\u30db\u30c6\u30eb\uff1a\u5b9a\u54e12\uff0f\u5c45\u4f4f\u60270\uff0f\u4fa1\u683c4\uff0f\u767a\u898b\u73871","\u89b3\u5149\u30db\u30c6\u30eb\uff1a\u5b9a\u54e14\uff0f\u5c45\u4f4f\u60271\uff0f\u4fa1\u683c5\uff0f\u767a\u898b\u73871","\u9ad8\u7d1a\u30db\u30c6\u30eb\uff1a\u5b9a\u54e14\uff0f\u5c45\u4f4f\u60272\uff0f\u4fa1\u683c6\uff0f\u767a\u898b\u73870"]),KZT:m(d(s,"DiceTable"),"Table").$new("\u95a2\u4fc2\u5c5e\u6027\u8868","1D6",["\u8efd\u8511","\u53cd\u611f","\u6df7\u4e71","\u8208\u5473","\u5171\u611f","\u61a7\u308c"]),IA:m(d(s,"DiceTable"),"D66Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\u6c7a\u5b9a\u8868",m(d(s,"D66SortType"),"ASC"),S(11,"\u9060\u8ddd\u96e2",12,"\u9060\u8ddd\u96e2",13,"\u79fb\u52d5",14,"\u79fb\u52d5",15,"\u8fd1\u8ddd\u96e2",16,"\u8fd1\u8ddd\u96e2",22,"\u5584\u4eba",23,"\u5584\u4eba",24,"\u60aa\u4eba",25,"\u60aa\u4eba",26,"\u5e7c\u3044",33,"\u5e7c\u3044",34,"\u30d0\u30ab",35,"\u30d0\u30ab",36,"\u6e0b\u3044",44,"\u6e0b\u3044",45,"\u8ce2\u3044",46,"\u8ce2\u3044",55,"\u8d85\u81ea\u7136",56,"\u8d85\u81ea\u7136",66,"\u632f\u308a\u76f4\u3057or\u81ea\u7531\u9078\u629e")),IAA:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u9060\u8ddd\u96e2\uff09\u8868","1D6",["\u76ee\u3092\u5408\u308f\u305b\u3066\u5fae\u7b11\u3080\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5834\u6240\u3092\u8b72\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u9aea\u3092\u304b\u304d\u3042\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u8907\u96d1\u306a\u30dd\u30fc\u30ba\u3067\u5ea7\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u7269\u6182\u3052\u306a\u8868\u60c5\u3067\u632f\u308a\u8fd4\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u3082\u306e\u3092\u4e0a\u306b\u6301\u3064\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAB:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u79fb\u52d5\uff09\u8868","1D6",["\u8eca\u9053\u5074\u3092\u6b69\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u4e57\u308a\u7269\u304b\u3089\u964d\u308a\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u771f\u5263\u306a\u8868\u60c5\u3067\u8fd1\u3065\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u99ac\u306b\u4e57\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u3064\u3064\u79fb\u52d5\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u77ac\u9593\u79fb\u52d5\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAC:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8fd1\u8ddd\u96e2\uff09\u8868","1D6",["\u9ed9\u3063\u3066\u898b\u3064\u3081\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u3061\u3087\u3063\u3068\u3057\u305f\u30d7\u30ec\u30bc\u30f3\u30c8\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u984e\u30af\u30a4\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u58c1\u30c9\u30f3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u304a\u59eb\u69d8\u62b1\u3063\u3053\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u5e8a\u30c9\u30f3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAD:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u5584\u4eba\uff09\u8868","1D6",["\u624b\u3092\u5f15\u3044\u3066\u9003\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6bdb\u5e03\u3092\u639b\u3051\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5b88\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u7b11\u3063\u3066\u53bb\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u5168\u3066\u3092\u6367\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u60aa\u5815\u3061\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAE:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u60aa\u4eba\uff09\u8868","1D6",["\u653b\u6483\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6697\u304f\u7b11\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u596a\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u76ee\u8ad6\u898b\u3092\u53e3\u306b\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u7f60\u306b\u304b\u3051\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u6539\u5fc3\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAF:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u5e7c\u3044\uff09\u8868","1D6",["\u7518\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u75b2\u308c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u7121\u90aa\u6c17\u306a\u767a\u8a00\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u304a\u306d\u3060\u308a\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u4e0a\u76ee\u9063\u3044\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u62b1\u304d\u3064\u304f\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAG:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u30d0\u30ab\uff09\u8868","1D6",["\u82e6\u60a9\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5c48\u8a17\u306e\u306a\u3044\u7b11\u9854\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u8ee2\u3076\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u53eb\u3076\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u9593\u9055\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u6016\u304c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAH:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u6e0b\u3044\uff09\u8868","1D6",["\u8aac\u6559\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u6c17\u3065\u304b\u305b\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u898b\u5b88\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u6b8b\u5fc3\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u79f0\u3048\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u3044\u3044\u4f4d\u7f6e\u3092\u53d6\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"]),IAI:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8ce2\u3044\uff09\u8868","1D6",["\u96e3\u3057\u3044\u672c\u3092\u8aad\u3080\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u30a2\u30c9\u30d0\u30a4\u30b9\u3092\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a3\uff09","\u773c\u93e1\u3092\u6301\u3061\u4e0a\u3052\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u72b6\u6cc1\u3092\u89e3\u8aac\u3059\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u8a08\u7b97\u3067\u304d\u306a\u304f\u306a\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09","\u5927\u4e08\u592b\u3060\u3068\u8a00\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a7\uff09"]),IAJ:m(d(s,"DiceTable"),"Table").$new("\u30a4\u30b1\u30e1\u30f3\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u8d85\u81ea\u7136\uff09\u8868","1D6",["\u6c34\u306b\u6fe1\u308c\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u98a8\u3092\u7e8f\u3046\uff08\u304b\u3063\u3053\u3088\u3055\uff1a4\uff09","\u5730\u5272\u308c\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u706b\u3092\u653e\u3064\uff08\u304b\u3063\u3053\u3088\u3055\uff1a5\uff09","\u95c7\u3092\u751f\u307f\u51fa\u3059\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09","\u5149\u308b\uff08\u304b\u3063\u3053\u3088\u3055\uff1a6\uff09"])}).$freeze()),u.$register_prefix(d(s,"RTT").$prefixes(),d(s,"TABLES").$keys())}(Opal)},32478:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r,a,$,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$,b=t.module,y=t.klass,T=t.truthy,h=t.send;r=m,a=f=[b(m[0],"BCDice")].concat(r),$=_=[b(f[0],"GameSystem")].concat(a),l=y(_[0],p(_,"Base"),"DarkSouls"),c=[l].concat($),l.$$prototype.randomizer=d,t.const_set(c[0],"ID","DarkSouls"),t.const_set(c[0],"NAME","\u30c0\u30fc\u30af\u30bd\u30a6\u30ebTRPG"),t.const_set(c[0],"SORT_KEY","\u305f\u3042\u304f\u305d\u3046\u308bTRPG"),t.const_set(c[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff1a[n]DS[a\xb1b][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\n\u30fb\u80fd\u52d5\u5224\u5b9a\uff1a[n]ADS[a\xb1b][@t]\u3000\u3000FP\u6d88\u8cbb\u3092\u5224\u5b9a\n\u3000n\uff1a\u30c0\u30a4\u30b9\u6570\u3002\u7701\u7565\u6642\u306f\u300c2\u300d\n\u3000a\xb1b\uff1a\u4fee\u6b63\u5024\u3002\u300c1+2-1\u300d\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u5b9a\u53ef\n\u3000@t\uff1a\u76ee\u6a19\u5024\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u3092\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8868\u793a\n\u4f8b\uff09DS \u2192 2D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u30001DS \u2192 1D6\u306e\u9054\u6210\u5024\u3092\u8868\u793a\n\u3000\u3000ADS+2-2 \u2192 2D6+2\u306e\u9054\u6210\u5024\u3092\u8868\u793a\uff08\u80fd\u52d5\u5224\u5b9a\uff09\n\u3000\u3000DS+2@10 \u2192 2D6+2\u3067\u76ee\u6a19\u502410\u306e\u5224\u5b9a\n"),l.$register_prefix("(\\d+)?(A)?DS([-+\\d]*)(@\\d+)?"),t.def(l,"$eval_game_system_specific_command",i=function(t){var e=d,n=d,r=d,a=d,$=d,i=d,o=d;return T(e=/(\d+)?(A)?DS([-+\d]*)(@(\d+))?$/i.$match(t.$upcase()))?(n=(T(r=e["$[]"](1))?r:2).$to_i(),a=e["$[]"](2)["$nil?"]()["$!"](),$=this.$getValue(e["$[]"](3)),i=(T(o=e["$[]"](5))?o:0).$to_i(),this.$checkRoll(n,a,$,i)):d},i.$$arity=1),t.def(l,"$checkRoll",o=function(t,r,a,$){var i,o,u,s,l,c=this,_=d,f=d,m=d,p=d,b=d,y=d;return o=(_=c.randomizer.$roll_barabara(t,6)).$sum(),f=_.$join(","),u=e(o,a),s=c.$getValueText(a),l=$["$=="](0)?"":">="+$,T(r)&&(m=h(f.$split(/,/),"map",[],"to_i".$to_proc()),p=h(m,"count",[],((i=function(t){return null==t&&(t=d),t["$=="](1)}).$$s=c,i.$$arity=1,i)),T(n(p,0))&&(b="\uff08FP"+(b=function(t,e){return"\u25a0"["$*"](e)}(0,p))+"\u6d88\u8cbb\uff09")),y=e(y="("+t+"D6"+s+l+")"," \uff1e "+o+"("+f+")"+s),y=e(y," \uff1e "+u+l),T(n($,0))&&(y=T(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(u,$))?e(y," \uff1e \u3010\u6210\u529f\u3011"):e(y," \uff1e \u3010\u5931\u6557\u3011")),e(y,b.$to_s())},o.$$arity=4),t.def(l,"$getValue",u=function(t){var e;return t=T(e=t)?e:"",p(c,"ArithmeticEvaluator").$eval(t)},u.$$arity=1),t.def(l,"$getValueText",s=function(t){return t["$=="](0)?"":T("number"==typeof(e=t)?e<0:e["$<"](0))?t.$to_s():"+"+t;var e},s.$$arity=1)}(Opal)},66682:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g=[],E=t.nil,R=t.$$$,A=t.$$,v=t.module,B=t.klass,x=t.send2,C=t.truthy,M=t.send,z=t.hash2;a=g,$=D=[v(g[0],"BCDice")].concat(a),i=S=[v(D[0],"GameSystem")].concat($),T=B(S[0],A(S,"Base"),"DetatokoSaga"),h=[T].concat(i),T.$$prototype.randomizer=E,t.const_set(h[0],"ID","DetatokoSaga"),t.const_set(h[0],"NAME","\u3067\u305f\u3068\u3053\u30b5\u30fc\u30ac"),t.const_set(h[0],"SORT_KEY","\u3066\u305f\u3068\u3053\u3055\u3042\u304b"),t.const_set(h[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10)\u3001t\uff1d\u76ee\u6a19\u5024(\u7701\u7565\u6642\uff18))\n\u3000\u4f8b\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\u5224\u5b9a\u5024\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10))\n\u3000\u4f8b\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\u4f53\u529b\u70d9\u5370\u8868\u3000SST (StrengthStigmaTable)\n\u30fb\u6c17\u529b\u70d9\u5370\u8868\u3000WST (WillStigmaTable)\n\u30fb\u4f53\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000SBET (StrengthBadEndTable)\n\u30fb\u6c17\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000WBET (WillBadEndTable)\n"),T.$register_prefix("\\d+DS","\\d+JD"),t.def(T,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),x(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=R(A(h,"D66SortType"),"ASC")},o.$$arity=1),t.def(T,"$eval_game_system_specific_command",u=function(t){var e=this,n=E,r=E;return e.$debug("eval_game_system_specific_command begin string",t),n=e.$checkRoll(t),C(n)||(n=e.$checkJudgeValue(t),C(n))?n:(e.$debug("\u5404\u7a2e\u8868\u3068\u3057\u3066\u51e6\u7406"),e.$roll_tables(C(r=A(h,"ALIAS")["$[]"](t))?r:t,R(e.$class(),"TABLES")))},u.$$arity=1),t.def(T,"$checkRoll",s=function(r){var a,$,i,o=this,u=E,s=E,l=E,c=E,_=E,f=E,m=E,d=E,p=E,b=E,y=E;return o.$debug("checkRoll begin string",r),u=/^(\d+)DS(\d+)?(([+-\/])(\d+))?(?:>=(\d+))?$/i.$match(r),C(u)?(s=u["$[]"](1).$to_i(),l=u["$[]"](2).$to_i(),c=u["$[]"](4),_=u["$[]"](5).$to_i(),f=C(m=(a=u["$[]"](6))===E||null==a?E:M(a,"to_i",[]))?m:8,d=o.$translate("DetatokoSaga.DS.input_options",z(["skill","flag","target"],{skill:s,flag:l,target:f})),p=o.$getModifyText(c,_),C(p["$empty?"]())||(d=e(d,o.$translate("DetatokoSaga.DS.modifier",z(["modifier"],{modifier:p})))),i=o.$getRollResult(s),d=e(d," \uff1e "+(b=null==($=t.to_ary(i))[0]?E:$[0])+"["+(null==$[1]?E:$[1])+"]"+p),d=e(d," \uff1e "+o.$getTotalResultValue(b,_,c)),C(p["$empty?"]())||("+"["$==="](y=c)?b=e(b,_):"-"["$==="](y)&&(b=n(b,_))),d=e(d," \uff1e "+o.$getSuccess(b,f)),d=e(d,o.$getCheckFlagResult(b,l))):E},s.$$arity=1),t.def(T,"$getRollResult",l=function(t){var n,r=E,a=E;return r=e(t,1),t["$=="](0)&&(r=3),n=(a=this.randomizer.$roll_barabara(r,6)).$join(","),a=a.$sort(),C(t["$!="](0))&&(a=a.$reverse()),[e(a["$[]"](0),a["$[]"](1)),n]},l.$$arity=1),t.def(T,"$getSuccess",c=function(t,e){return C(r(t,e))?this.$translate("DetatokoSaga.DS.success"):this.$translate("DetatokoSaga.DS.failure")},c.$$arity=2),t.def(T,"$getCheckFlagResult",_=function(t,e){var n=E;return C(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(t,e))?"":(n=this.$getDownWill(e),this.$translate("DetatokoSaga.less_than_flag",z(["will"],{will:n})))},_.$$arity=2),t.def(T,"$getDownWill",f=function(t){return C(r(t,10))?"6":"1D6->"+this.randomizer.$roll_once(6)},f.$$arity=1),t.def(T,"$checkJudgeValue",m=function(n){var r,a,$=this,i=E,o=E,u=E,s=E,l=E,c=E,_=E,f=E;return $.$debug("checkJudgeValue begin string",n),i=/^(\d+)JD(\d+)?(([+-\/])(\d+))?$/i.$match(n),C(i)?(o=i["$[]"](1).$to_i(),u=i["$[]"](2).$to_i(),s=i["$[]"](4),l=i["$[]"](5).$to_i(),c=$.$translate("DetatokoSaga.JD.input_options",z(["skill","flag"],{skill:o,flag:u})),_=$.$getModifyText(s,l),C(_["$empty?"]())||(c=e(c,$.$translate("DetatokoSaga.JD.modifier",z(["modifier"],{modifier:_})))),a=$.$getRollResult(o),c=e(c," \uff1e "+(f=null==(r=t.to_ary(a))[0]?E:r[0])+"["+(null==r[1]?E:r[1])+"]"+_),c=e(c," \uff1e "+$.$getTotalResultValue(f,l,s)),c=e(c,$.$getCheckFlagResult(f,u))):E},m.$$arity=1),t.def(T,"$getModifyText",d=function(t,e){var n=E;return e["$=="](0)?"":("+"["$==="](n=t)?"\uff0b":"-"["$==="](n)?"\uff0d":"/"["$==="](n)?"\xf7":"")+e},d.$$arity=2),t.def(T,"$getTotalResultValue",p=function(t,r,a){var $,i=this;return"+"["$==="]($=a)?e(t+"+"+r+" \uff1e ",i.$translate("DetatokoSaga.total_value",z(["total"],{total:e(t,r)}))):"-"["$==="]($)?e(t+"-"+r+" \uff1e ",i.$translate("DetatokoSaga.total_value",z(["total"],{total:n(t,r)}))):"/"["$==="]($)?i.$getTotalResultValueWhenSlash(t,r):i.$translate("DetatokoSaga.total_value",z(["total"],{total:t}))},p.$$arity=3),t.def(T,"$getTotalResultValueWhenSlash",b=function(t,n){var r=E;return n["$=="](0)?this.$translate("DetatokoSaga.division_by_zero_error"):(r=function(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}(function(t,e){return"number"==typeof e?1*e:1["$*"](e)}(0,t),n).$ceil(),e(t+"\xf7"+n+" \uff1e ",this.$translate("DetatokoSaga.total_value",z(["total"],{total:r}))))},b.$$arity=2),t.const_set(h[0],"ALIAS",M(z(["StrengthStigmaTable","WillStigmaTable","StrengthBadEndTable","WillBadEndTable"],{StrengthStigmaTable:"SST",WillStigmaTable:"WST",StrengthBadEndTable:"SBET",WillBadEndTable:"WBET"}),"transform_keys",[],"upcase".$to_proc()).$freeze()),t.defs(T,"$translate_tables",y=function(t){return z(["SST","WST","SBET","WBET"],{SST:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SST",t),WST:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WST",t),SBET:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SBET",t),WBET:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WBET",t)})},y.$$arity=1),t.const_set(h[0],"TABLES",T.$translate_tables("ja_jp").$freeze()),T.$register_prefix(A(h,"TABLES").$keys(),A(h,"ALIAS").$keys())}(Opal)},20368:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/DetatokoSaga"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g=[],E=t.nil,R=t.$$$,A=t.$$,v=t.module,B=t.klass,x=t.send2,C=t.truthy,M=t.send,z=t.hash2;return a=g,$=D=[v(g[0],"BCDice")].concat(a),i=S=[v(D[0],"GameSystem")].concat($),T=B(S[0],A(S,"Base"),"DetatokoSaga"),h=[T].concat(i),T.$$prototype.randomizer=E,t.const_set(h[0],"ID","DetatokoSaga"),t.const_set(h[0],"NAME","\u3067\u305f\u3068\u3053\u30b5\u30fc\u30ac"),t.const_set(h[0],"SORT_KEY","\u3066\u305f\u3068\u3053\u3055\u3042\u304b"),t.const_set(h[0],"HELP_MESSAGE","\u30fb\u901a\u5e38\u5224\u5b9a\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10)\u3001t\uff1d\u76ee\u6a19\u5024(\u7701\u7565\u6642\uff18))\n\u3000\u4f8b\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\u5224\u5b9a\u5024\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\u30b9\u30ad\u30eb\u30e9\u30f3\u30af\u3001y\uff1d\u73fe\u5728\u30d5\u30e9\u30b0\u5024(\u7701\u7565\u66420)\u3001z\uff1d\u4fee\u6b63\u5024(\u7701\u7565\u6642\uff10))\n\u3000\u4f8b\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\u4f53\u529b\u70d9\u5370\u8868\u3000SST (StrengthStigmaTable)\n\u30fb\u6c17\u529b\u70d9\u5370\u8868\u3000WST (WillStigmaTable)\n\u30fb\u4f53\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000SBET (StrengthBadEndTable)\n\u30fb\u6c17\u529b\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000WBET (WillBadEndTable)\n"),T.$register_prefix("\\d+DS","\\d+JD"),t.def(T,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),x(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=R(A(h,"D66SortType"),"ASC")},o.$$arity=1),t.def(T,"$eval_game_system_specific_command",u=function(t){var e=this,n=E,r=E;return e.$debug("eval_game_system_specific_command begin string",t),n=e.$checkRoll(t),C(n)||(n=e.$checkJudgeValue(t),C(n))?n:(e.$debug("\u5404\u7a2e\u8868\u3068\u3057\u3066\u51e6\u7406"),e.$roll_tables(C(r=A(h,"ALIAS")["$[]"](t))?r:t,R(e.$class(),"TABLES")))},u.$$arity=1),t.def(T,"$checkRoll",s=function(r){var a,$,i,o=this,u=E,s=E,l=E,c=E,_=E,f=E,m=E,d=E,p=E,b=E,y=E;return o.$debug("checkRoll begin string",r),u=/^(\d+)DS(\d+)?(([+-\/])(\d+))?(?:>=(\d+))?$/i.$match(r),C(u)?(s=u["$[]"](1).$to_i(),l=u["$[]"](2).$to_i(),c=u["$[]"](4),_=u["$[]"](5).$to_i(),f=C(m=(a=u["$[]"](6))===E||null==a?E:M(a,"to_i",[]))?m:8,d=o.$translate("DetatokoSaga.DS.input_options",z(["skill","flag","target"],{skill:s,flag:l,target:f})),p=o.$getModifyText(c,_),C(p["$empty?"]())||(d=e(d,o.$translate("DetatokoSaga.DS.modifier",z(["modifier"],{modifier:p})))),i=o.$getRollResult(s),d=e(d," \uff1e "+(b=null==($=t.to_ary(i))[0]?E:$[0])+"["+(null==$[1]?E:$[1])+"]"+p),d=e(d," \uff1e "+o.$getTotalResultValue(b,_,c)),C(p["$empty?"]())||("+"["$==="](y=c)?b=e(b,_):"-"["$==="](y)&&(b=n(b,_))),d=e(d," \uff1e "+o.$getSuccess(b,f)),d=e(d,o.$getCheckFlagResult(b,l))):E},s.$$arity=1),t.def(T,"$getRollResult",l=function(t){var n,r=E,a=E;return r=e(t,1),t["$=="](0)&&(r=3),n=(a=this.randomizer.$roll_barabara(r,6)).$join(","),a=a.$sort(),C(t["$!="](0))&&(a=a.$reverse()),[e(a["$[]"](0),a["$[]"](1)),n]},l.$$arity=1),t.def(T,"$getSuccess",c=function(t,e){return C(r(t,e))?this.$translate("DetatokoSaga.DS.success"):this.$translate("DetatokoSaga.DS.failure")},c.$$arity=2),t.def(T,"$getCheckFlagResult",_=function(t,e){var n=E;return C(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(t,e))?"":(n=this.$getDownWill(e),this.$translate("DetatokoSaga.less_than_flag",z(["will"],{will:n})))},_.$$arity=2),t.def(T,"$getDownWill",f=function(t){return C(r(t,10))?"6":"1D6->"+this.randomizer.$roll_once(6)},f.$$arity=1),t.def(T,"$checkJudgeValue",m=function(n){var r,a,$=this,i=E,o=E,u=E,s=E,l=E,c=E,_=E,f=E;return $.$debug("checkJudgeValue begin string",n),i=/^(\d+)JD(\d+)?(([+-\/])(\d+))?$/i.$match(n),C(i)?(o=i["$[]"](1).$to_i(),u=i["$[]"](2).$to_i(),s=i["$[]"](4),l=i["$[]"](5).$to_i(),c=$.$translate("DetatokoSaga.JD.input_options",z(["skill","flag"],{skill:o,flag:u})),_=$.$getModifyText(s,l),C(_["$empty?"]())||(c=e(c,$.$translate("DetatokoSaga.JD.modifier",z(["modifier"],{modifier:_})))),a=$.$getRollResult(o),c=e(c," \uff1e "+(f=null==(r=t.to_ary(a))[0]?E:r[0])+"["+(null==r[1]?E:r[1])+"]"+_),c=e(c," \uff1e "+$.$getTotalResultValue(f,l,s)),c=e(c,$.$getCheckFlagResult(f,u))):E},m.$$arity=1),t.def(T,"$getModifyText",d=function(t,e){var n=E;return e["$=="](0)?"":("+"["$==="](n=t)?"\uff0b":"-"["$==="](n)?"\uff0d":"/"["$==="](n)?"\xf7":"")+e},d.$$arity=2),t.def(T,"$getTotalResultValue",p=function(t,r,a){var $,i=this;return"+"["$==="]($=a)?e(t+"+"+r+" \uff1e ",i.$translate("DetatokoSaga.total_value",z(["total"],{total:e(t,r)}))):"-"["$==="]($)?e(t+"-"+r+" \uff1e ",i.$translate("DetatokoSaga.total_value",z(["total"],{total:n(t,r)}))):"/"["$==="]($)?i.$getTotalResultValueWhenSlash(t,r):i.$translate("DetatokoSaga.total_value",z(["total"],{total:t}))},p.$$arity=3),t.def(T,"$getTotalResultValueWhenSlash",b=function(t,n){var r=E;return n["$=="](0)?this.$translate("DetatokoSaga.division_by_zero_error"):(r=function(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}(function(t,e){return"number"==typeof e?1*e:1["$*"](e)}(0,t),n).$ceil(),e(t+"\xf7"+n+" \uff1e ",this.$translate("DetatokoSaga.total_value",z(["total"],{total:r}))))},b.$$arity=2),t.const_set(h[0],"ALIAS",M(z(["StrengthStigmaTable","WillStigmaTable","StrengthBadEndTable","WillBadEndTable"],{StrengthStigmaTable:"SST",WillStigmaTable:"WST",StrengthBadEndTable:"SBET",WillBadEndTable:"WBET"}),"transform_keys",[],"upcase".$to_proc()).$freeze()),t.defs(T,"$translate_tables",y=function(t){return z(["SST","WST","SBET","WBET"],{SST:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SST",t),WST:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WST",t),SBET:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.SBET",t),WBET:R(A(h,"DiceTable"),"Table").$from_i18n("DetatokoSaga.table.WBET",t)})},y.$$arity=1),t.const_set(h[0],"TABLES",T.$translate_tables("ja_jp").$freeze()),void T.$register_prefix(A(h,"TABLES").$keys(),A(h,"ALIAS").$keys())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/DetatokoSaga"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"DetatokoSaga"),"DetatokoSaga_Korean")].concat(i),r.const_set(s[0],"ID","DetatokoSaga:Korean"),r.const_set(s[0],"NAME","\ub370\ud0c0\ud1a0\ucf54 \uc0ac\uac00"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub370\ud0c0\ud1a0\ucf54 \uc0ac\uac00"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\ud1b5\uc0c1\ud310\uc815\u3000xDS or xDSy or xDS>=t or xDSy>=t or xDS+z>=t or xDSy+z>=t\n\u3000(x\uff1d\uc2a4\ud0ac\ub808\ubca8, y\uff1d\ud604\uc7ac \ud50c\ub798\uadf8(\uc0dd\ub7b5=0), z\uff1d\uc218\uc815\uce58(\uc0dd\ub7b5=\uff10), t\uff1d\ubaa9\ud45c\uce58(\uc0dd\ub7b5=\uff18))\n\u3000\uc608\uff093DS\u30002DS5\u30000DS\u30003DS>=10\u30003DS7>=12 2DS3+1 3DS2+1>=10\n\u30fb\ud310\uc815\uce58\u3000xJD or xJDy or xJDy+z or xJDy-z or xJDy/z\n\u3000(x\uff1d\uc2a4\ud0ac\ub808\ubca8, y\uff1d\ud604\uc7ac \ud50c\ub798\uadf8(\uc0dd\ub7b5=0), z\uff1d\uc218\uc815\uce58(\uc0dd\ub7b5=\uff10))\n\u3000\uc608\uff093JD\u30002JD5\u30003JD7+1\u30004JD/3\n\u30fb\uccb4\ub825 \ub099\uc778\ud45c\u3000SST (StrengthStigmaTable)\n\u30fb\uae30\ub825 \ub099\uc778\ud45c\u3000WST (WillStigmaTable)\n\u30fb\uccb4\ub825 \ubc30\ub4dc\uc5d4\ub529\ud45c\u3000SBET (StrengthBadEndTable)\n\u30fb\uae30\ub825 \ubc30\ub4dc\uc5d4\ub529\ud45c\u3000WBET (WillBadEndTable)\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr"))},21488:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f;n(93683),c=(r=Opal).$$,f=r.klass,a=l=[],$=s=[(_=r.module)(l[0],"BCDice")].concat(a),i=u=[_(s[0],"GameSystem")].concat($),o=[f(u[0],c(u,"Base"),"DiceBot")].concat(i),r.const_set(o[0],"ID","DiceBot"),r.const_set(o[0],"NAME","DiceBot"),r.const_set(o[0],"SORT_KEY","*\u305f\u3044\u3059\u307b\u3064\u3068"),r.const_set(o[0],"HELP_MESSAGE","3D6+1>=9 \uff1a3d6+1\u3067\u76ee\u6a19\u50249\u4ee5\u4e0a\u304b\u306e\u5224\u5b9a\n1D100<=50 \uff1aD100\u306750\uff05\u76ee\u6a19\u306e\u4e0b\u65b9\u30ed\u30fc\u30eb\u306e\u4f8b\n3U6[5] \uff1a3d6\u306e\u30c0\u30a4\u30b9\u76ee\u304c5\u4ee5\u4e0a\u306e\u5834\u5408\u306b\u632f\u308a\u8db3\u3057\u3057\u3066\u5408\u8a08\u3059\u308b(\u4e0a\u65b9\u7121\u9650)\n3B6 \uff1a3d6\u306e\u30c0\u30a4\u30b9\u76ee\u3092\u30d0\u30e9\u30d0\u30e9\u306e\u307e\u307e\u51fa\u529b\u3059\u308b\uff08\u5408\u8a08\u3057\u306a\u3044\uff09\n10B6>=4 \uff1a10d6\u3092\u632f\u308a4\u4ee5\u4e0a\u306e\u30c0\u30a4\u30b9\u76ee\u306e\u500b\u6570\u3092\u6570\u3048\u308b\n2R6[>3]>=5 \uff1a2D6\u306e\u30c0\u30a4\u30b9\u76ee\u304c3\u3088\u308a\u5927\u304d\u3044\u5834\u5408\u306b\u632f\u308a\u8db3\u3057\u3066\u30015\u4ee5\u4e0a\u306e\u30c0\u30a4\u30b9\u76ee\u306e\u500b\u6570\u3092\u6570\u3048\u308b\n(8/2)D(4+6)<=(5*3)\uff1a\u500b\u6570\u30fb\u30c0\u30a4\u30b9\u30fb\u9054\u6210\u5024\u306b\u306f\u56db\u5247\u6f14\u7b97\u3082\u4f7f\u7528\u53ef\u80fd\nc(10-4*3/2+2)\uff1ac(\u8a08\u7b97\u5f0f\uff09\u3067\u8a08\u7b97\u3060\u3051\u306e\u5b9f\u884c\u3082\u53ef\u80fd\nchoice[a,b,c]\uff1a\u5217\u6319\u3057\u305f\u8981\u7d20\u304b\u3089\u4e00\u3064\u3092\u9078\u629e\u8868\u793a\u3002\u30e9\u30f3\u30c0\u30e0\u653b\u6483\u5bfe\u8c61\u6c7a\u5b9a\u306a\u3069\u306b\nS3d6 \uff1a \u5404\u30b3\u30de\u30f3\u30c9\u306e\u5148\u982d\u306b\u300cS\u300d\u3092\u4ed8\u3051\u308b\u3068\u4ed6\u4eba\u7d50\u679c\u306e\u898b\u3048\u306a\u3044\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ed\u30fc\u30eb\n3d6/2 \uff1a \u30c0\u30a4\u30b9\u51fa\u76ee\u3092\u5272\u308a\u7b97\uff08\u7aef\u6570\u51e6\u7406\u306f\u30b2\u30fc\u30e0\u30b7\u30b9\u30c6\u30e0\u4f9d\u5b58\uff09\u3002\u5207\u308a\u4e0a\u3052\u306f /2C\u3001\u56db\u6368\u4e94\u5165\u306f /2R\u3001\u5207\u308a\u6368\u3066\u306f /2F\nD66 \uff1a D66\u30c0\u30a4\u30b9\u3002\u9806\u5e8f\u306f\u30b2\u30fc\u30e0\u306b\u4f9d\u5b58\u3002D66N\uff1a\u305d\u306e\u307e\u307e\u3001D66A\uff1a\u6607\u9806\u3001D66D\uff1a\u964d\u9806\n\n\u8a73\u7d30\u306f\u4e0b\u8a18URL\u306e\u30b3\u30de\u30f3\u30c9\u30ac\u30a4\u30c9\u3092\u53c2\u7167\nhttps://docs.bcdice.org/\n")},86787:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var a,$,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$$,y=t.$$,T=t.module,h=t.klass,S=t.send2,D=t.truthy,g=t.send;a=d,$=m=[T(d[0],"BCDice")].concat(a),i=f=[T(m[0],"GameSystem")].concat($),c=h(f[0],y(f,"Base"),"DiceOfTheDead"),_=[c].concat(i),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","DiceOfTheDead"),t.const_set(_[0],"NAME","\u30c0\u30a4\u30b9\u30fb\u30aa\u30d6\u30fb\u30b6\u30fb\u30c7\u30c3\u30c9"),t.const_set(_[0],"SORT_KEY","\u305f\u3044\u3059\u304a\u3075\u3055\u3066\u3064\u3068"),t.const_set(_[0],"HELP_MESSAGE","\u30fb\u30be\u30f3\u30d3\u5316\u8868\u3000ZMB+x\n\uff08x=\u30aa\u30fc\u30d7\u30f3\u4e2d\u306e\u611f\u67d3\u5ea6\u30de\u30b9\u306e\u6570\u3002+x\u306f\u7701\u7565\u53ef\u80fd\u3001\u7701\u7565\u6642\u306f0\uff09\n\u30fb\u611f\u67d3\u5ea6\u8868\u3000BIOx\n\uff08x\u306f\u88ab\u5f3e\u56de\u6570\u3002x\u306f\u7701\u7565\u53ef\u80fd\u3001\u7701\u7565\u6642\u306f1\uff09\n\uff08\u4e0a\u8a18\u4e8c\u3064\u306f\u6700\u521d\u304b\u3089\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30c0\u30a4\u30b9\u3067\u884c\u308f\u308c\u307e\u3059\uff09\n"),c.$register_prefix("ZMB","BIO"),t.def(c,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),S(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=b(y(_,"D66SortType"),"ASC")},o.$$arity=1),t.def(c,"$eval_game_system_specific_command",u=function(n){var r,a,$,i=p,o=p,u=p;return/^BIO(\d+)?$/["$==="]($=n)?(i=(D(o=y(_,"Regexp").$last_match(1))?o:1).$to_i(),g(y(_,"Result").$new(),"tap",[],((r=function(n){var a=null==r.$$s?this:r.$$s,$=p;return null==n&&(n=p),g(n,"secret=",t.to_a($=[!0])),e($.length,1),$=[a.$checkInfection(i)],g(n,"text=",t.to_a($)),$[e($.length,1)]}).$$s=this,r.$$arity=1,r))):/^ZMB(\+(\d+))?$/["$==="]($)?(u=y(_,"Regexp").$last_match(2).$to_i(),g(y(_,"Result").$new(),"tap",[],((a=function(n){var r=null==a.$$s?this:a.$$s,$=p;return null==n&&(n=p),g(n,"secret=",t.to_a($=[!0])),e($.length,1),$=[r.$rollZombie(u)],g(n,"text=",t.to_a($)),$[e($.length,1)]}).$$s=this,a.$$arity=1,a))):p},u.$$arity=1),t.def(c,"$checkInfection",s=function(t){var a,$=p;return $="\u611f\u67d3\u5ea6\u8868",g(t,"times",[],((a=function(){var t,i,o,u,s=null==a.$$s?this:a.$$s;return null==s.randomizer&&(s.randomizer=p),t=s.randomizer.$roll_once(6),i=s.randomizer.$roll_once(6),$=n($,"\u3000\uff1e\u3000\u51fa\u76ee\uff1a"+t+"\u3001"+i+"\u3000"),o=e(r(t,2).$ceil(),1),u=e(r(i,2).$ceil(),1),$=n($,[["\u300c\u53f3\u4e0b\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d","\u300c\u53f3\u4e2d\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d","\u300c\u53f3\u4e0a\uff08\u3010\u8db3\u3011\uff0b\uff11\uff09\u300d"],["\u300c\u4e2d\u4e0b\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d","\u300c\u771f\u4e2d\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d","\u300c\u4e2d\u4e0a\uff08\u3010\u8155\u3011\uff0b\uff11\uff09\u300d"],["\u300c\u5de6\u4e0b\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d","\u300c\u5de6\u4e2d\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d","\u300c\u5de6\u4e0a\uff08\u3010\u982d\u3011\uff0b\uff11\uff09\u300d"]]["$[]"](o)["$[]"](u))}).$$s=this,a.$$arity=0,a)),$},s.$$arity=1),t.def(c,"$rollZombie",l=function(e){var r,a,$,i,o,u=p,s=p,l=p,c=p;return o=n(n($=this.randomizer.$roll_once(6),i=this.randomizer.$roll_once(6)),e),s=(u=[[5,"\uff15\u4ee5\u4e0b\uff1a\u5f71\u97ff\u306a\u3057"],[6,"\uff16\uff1a\u4efb\u610f\u306e\u90e8\u4f4d\u3092\uff11\u70b9\u56de\u5fa9"],[7,"\uff17\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u6b66\u5668\u3092\uff11\u3064\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[8,"\uff18\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u4fbf\u5229\u9053\u5177\uff11\u3064\u3092\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[9,"\uff19\uff1a\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u6d88\u8017\u54c1\uff11\u3064\u3092\u305d\u306e\u5834\u306b\u843d\u3068\u3059"],[10,"\uff11\uff10\uff1a\u8155\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u8155\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[11,"\uff11\uff11\uff1a\u8db3\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u8db3\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[12,"\uff11\uff12\uff1a\u982d\u306e\u50b7\u304c\u5e83\u304c\u308b\u3002\u300c\u90e8\u4f4d\uff1a\u3010\u982d\u3011\u300d\uff11\u70b9\u30c0\u30e1\u30fc\u30b8"],[13,"\uff11\uff13\uff1a\u3010\u30be\u30f3\u30d3\u5316\u8868\u3011\u304c\u65b0\u305f\u306b\u9069\u7528\u3055\u308c\u308b\u307e\u3067\u300c\u3010\u611f\u67d3\u5ea6\u3011\uff0b\uff11\u30de\u30b9\u300d\u306e\u52b9\u679c\u3092\u53d7\u3051\u308b"],[14,"\uff11\uff14\uff1a\u5373\u5ea7\u306b\u81ea\u5206\u4ee5\u5916\u306e\u5473\u65b9\uff11\u4eba\u306e\u30b9\u30ed\u30c3\u30c8\u5185\u306e\u3008\u30a2\u30a4\u30c6\u30e0\u3009\uff11\u3064\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6368\u3066\u3055\u305b\u308b"],[15,"\uff11\uff15\uff1a\u5473\u65b9\uff11\u4eba\u306b\u7d20\u624b\u3067\u653b\u6483\u3092\u884c\u3046"],[16,"\uff11\uff16\uff1a\u5373\u5ea7\u306b\u611f\u67d3\u5ea6\u304c\uff11\u4e0a\u6607\u3059\u308b"],[17,"\uff11\uff17\uff1a\u6b21\u306e\u30bf\u30fc\u30f3\u306e\u307f\u3001\u3059\u3079\u3066\u306e\u3010\u80fd\u529b\u5024\u3011\u3092\uff12\u500d\u306b\u3059\u308b"],[18,"\uff11\uff18\u4ee5\u4e0a\uff1a\u81ea\u5206\u4ee5\u5916\u306e\u5473\u65b9\uff11\u4eba\u306b\u3067\u304d\u308b\u9650\u308a\u5168\u529b\u3067\u653b\u6483\u3092\u884c\u3046\u3002\u3008\u30a2\u30a4\u30c6\u30e0\u3009\u3082\u53ef\u80fd\u306a\u9650\u308a\u4f7f\u7528\u3059\u308b"]]).$first().$first(),l=u.$last().$first(),c=[c=[s,c=o].$max(),l].$min(),a=u.$assoc(c),"\u30be\u30f3\u30d3\u5316\u8868\u3000\uff1e\u3000\u51fa\u76ee\uff1a"+$+"\uff0b"+i+"\u3000\u611f\u67d3\u5ea6\uff1a"+e+"\u3000\u5408\u8a08\u5024\uff1a"+o+"\u3000\uff1e\u3000"+(null==(r=t.to_ary(a))[1]?p:r[1])},l.$$arity=1)}(Opal)},94737:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f;n(93683),c=(r=Opal).$$,f=r.klass,a=l=[],$=s=[(_=r.module)(l[0],"BCDice")].concat(a),i=u=[_(s[0],"GameSystem")].concat($),o=[f(u[0],c(u,"Base"),"DungeonsAndDragons")].concat(i),r.const_set(o[0],"ID","DungeonsAndDragons"),r.const_set(o[0],"NAME","\u30c0\u30f3\u30b8\u30e7\u30f3\u30ba\uff06\u30c9\u30e9\u30b4\u30f3\u30ba"),r.const_set(o[0],"SORT_KEY","\u305f\u3093\u3057\u3088\u3093\u3059\u3042\u3093\u3068\u3068\u3089\u3053\u3093\u3059"),r.const_set(o[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")},45588:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T=[],h=t.nil,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send;i=T,o=y=[D(T[0],"BCDice")].concat(i),u=b=[D(y[0],"GameSystem")].concat(o),d=g(b[0],S(b,"Base"),"EarthDawn"),p=[d].concat(u),d.$$prototype.string=d.$$prototype.isFailed=h,t.const_set(p[0],"ID","EarthDawn"),t.const_set(p[0],"NAME","\u30a2\u30fc\u30b9\u30c9\u30fc\u30f3"),t.const_set(p[0],"SORT_KEY","\u3042\u3042\u3059\u3068\u304a\u3093"),t.const_set(p[0],"HELP_MESSAGE","\u30b9\u30c6\u30c3\u30d7\u30c0\u30a4\u30b9\u3000(xEn+k)\n\u30b9\u30c6\u30c3\u30d7x\u3001\u76ee\u6a19\u5024n(\u7701\u7565\u53ef\u80fd\uff09\u3001\u30ab\u30eb\u30de\u30c0\u30a4\u30b9k(D2-D20)\u3067\u30b9\u30c6\u30c3\u30d7\u30c0\u30a4\u30b9\u3092\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002\n\u632f\u308a\u8db3\u3057\u3082\u81ea\u52d5\u3002\n\u4f8b\uff099E\u300010E8\u300010E+D12\n"),d.$register_prefix("\\d+e"),t.def(d,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},s.$$arity=1),t.def(d,"$eval_game_system_specific_command",l=function(t){return this.$ed_step(t)},l.$$arity=1),t.def(d,"$ed_step",c=function(t){return this.$getStepResult(t)},c.$$arity=1),t.def(d,"$getStepResult",_=function(t){var i=this,o=h,u=h,s=h,l=h,c=h,_=h,f=h,m=h,d=h,b=h,y=h,T=h,D=h,g=h,E=h,A=h,v=h,B=h,x=h,C=h;return!R(/(\d+)E(\d+)?(\+)?(\d+)?(d\d+)?/i["$=~"](t))||(o=0,i.isFailed=!0,u=S(p,"Regexp").$last_match(1).$to_i(),s=0,l=!1,c=0,_=0,R(e(u,40))&&(u=40),R(S(p,"Regexp").$last_match(2))&&(s=S(p,"Regexp").$last_match(2).$to_i(),R(e(s,43))&&(s=42)),R(S(p,"Regexp").$last_match(3))&&(l=S(p,"Regexp").$last_match(3).$to_i()),R(S(p,"Regexp").$last_match(4))&&(c=S(p,"Regexp").$last_match(4).$to_i()),R(S(p,"Regexp").$last_match(5))&&(_=S(p,"Regexp").$last_match(5)),R(n(s,0)))?h:(m=(f=i.$getStepTable())["$[]"](0)["$[]"](r(u,1)),d=f["$[]"](1)["$[]"](r(u,1)),b=f["$[]"](2)["$[]"](r(u,1)),y=f["$[]"](3)["$[]"](r(u,1)),T=f["$[]"](4)["$[]"](r(u,1)),D=f["$[]"](5)["$[]"](r(u,1)),g=f["$[]"](6)["$[]"](r(u,1)),R(l)&&(/d20/i["$==="](E=_)?d=a(d,c):/d12/i["$==="](E)?b=a(b,c):/d10/i["$==="](E)?y=a(y,c):/d8/i["$==="](E)?T=a(T,c):/d6/i["$==="](E)?D=a(D,c):/d4/i["$==="](E)?g=a(g,c):m=a(m,c)),i.string="",i.$debug("d20step, d12step, d10step, d8step, d6step, d4step",d,b,y,T,D,g),o=a(o,i.$rollStep(20,d)),o=a(o,i.$rollStep(12,b)),o=a(o,i.$rollStep(10,y)),o=a(o,i.$rollStep(8,T)),o=a(o,i.$rollStep(6,D)),o=a(o,i.$rollStep(4,g)),R(e(m,0))&&(i.string=a(i.string,"+")),R(m["$!="](0))&&(i.string=a(i.string,m.$to_s()),o=a(o,m)),i.string=a(i.string," \uff1e "+o),A="\u30b9\u30c6\u30c3\u30d7"+u+" \uff1e "+i.string,s["$=="](0)||(i.string=a(i.string," \uff1e "),v=f["$[]"](7)["$[]"](r(s,1)),B=f["$[]"](8)["$[]"](r(s,1)),x=f["$[]"](9)["$[]"](r(s,1)),C=f["$[]"](11)["$[]"](r(s,1)),i.string=R(i.isFailed)?a(i.string,"\u81ea\u52d5\u5931\u6557"):R($(o,v))?a(i.string,"\u6700\u826f\u6210\u529f"):R($(o,B))?a(i.string,"\u512a\u6210\u529f"):R($(o,x))?a(i.string,"\u826f\u6210\u529f"):R($(o,s))?a(i.string,"\u6210\u529f"):R(n(o,C))?a(i.string,"\u5927\u5931\u6557"):a(i.string,"\u5931\u6557"),A="\u30b9\u30c6\u30c3\u30d7"+u+">="+s+" \uff1e "+i.string),A)},_.$$arity=1),t.def(d,"$getStepTable",f=function(){return[[-2,-1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],[0,0,0,0,0,1,0,0,0,1,1,2,1,0,0,0,1,0,0,0,1,1,2,1,1,1,1,2,1,1,1,2,3,2,1,1,1,2,1,1,0,0,1,0,0,0,1,0,0,0,1,1,2,1],[0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1,0,1,0,0,1,1,2,1,1,1,2,2,1,1,1,1,2,1,1,1,0,0,1,0,0,1,0,0,0,1,0,1,0,0],[0,0,0,1,0,0,0,2,1,1,0,0,0,0,1,0,0,0,2,1,1,0,0,0,0,1,0,0,0,2,1,0,0,0,0,1,0,0,0,2,0,0,0,0,1,0,0,0,2,1,1,0,0,0],[1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[6,8,10,12,14,17,19,20,22,24,25,27,29,32,33,35,37,38,39,41,42,44,45,47,48,49,51,52,54,55,56,58,59,60,62,64,65,67,68,70,71,72],[4,6,8,10,11,13,15,16,18,19,21,22,24,26,27,29,30,32,33,34,35,37,38,40,41,42,43,45,46,47,48,49,51,52,53,55,56,58,59,60,61,62],[2,4,6,7,9,10,12,13,14,15,17,18,20,21,22,24,25,26,27,28,29,31,32,33,34,35,36,38,39,40,41,42,43,45,46,47,48,50,51,52,53,54],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],[0,1,1,1,1,2,2,3,4,5,5,6,6,7,8,8,9,10,11,12,13,13,14,15,16,17,18,18,18,20,21,22,23,23,24,25,26,26,27,28,29,30]]},f.$$arity=0),t.def(d,"$rollStep",m=function(t,n){var r,$=this,i=h;return $.$debug("rollStep diceType, diceCount, @string",t,n,$.string),i=0,R(e(n,0))&&(R($.string["$empty?"]())||($.string=a($.string,"+")),$.string=a($.string,n+"d"+t+"["),$.$debug("rollStep @string",$.string),A(n,"times",[],((r=function(e){var n=null==r.$$s?this:r.$$s,$=h,o=h;for(null==n.randomizer&&(n.randomizer=h),null==n.string&&(n.string=h),null==e&&(e=h),$=n.randomizer.$roll_once(t),R($["$!="](1))&&(n.isFailed=!1),o=$;$["$=="](t);)o=a(o,$=n.randomizer.$roll_once(t));return i=a(i,o),R(e["$!="](0))&&(n.string=a(n.string,",")),n.string=a(n.string,o.$to_s())}).$$s=$,r.$$arity=1,r)),$.string=a($.string,"]")),i},m.$$arity=2)}(Opal)},49468:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy;r=c,a=l=[m(c[0],"BCDice")].concat(r),$=s=[m(l[0],"GameSystem")].concat(a),o=d(s[0],f(s,"Base"),"EclipsePhase"),u=[o].concat($),t.const_set(u[0],"ID","EclipsePhase"),t.const_set(u[0],"NAME","\u30a8\u30af\u30ea\u30d7\u30b9\u30fb\u30d5\u30a7\u30a4\u30ba"),t.const_set(u[0],"SORT_KEY","\u3048\u304f\u308a\u3075\u3059\u3075\u3048\u3044\u3059"),t.const_set(u[0],"HELP_MESSAGE","1D100<=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u81ea\u52d5\u5224\u5b9a"),t.def(o,"$result_1d100",i=function(t,r,a,$){var i,o=_,s=_,l=_,c=_;return $["$=="]("?")||!a["$=="]("<=")?_:(s=(i=o=t["$%"](100),"number"==typeof i?i/10:i["$/"](10)).$to_i(),l=o["$%"](10),s["$=="](l)?o["$=="](99)?f(u,"Result").$fumble("\u6c7a\u5b9a\u7684\u5931\u6557"):o["$=="](0)?f(u,"Result").$critical("00 \uff1e \u6c7a\u5b9a\u7684\u6210\u529f"):p(e(t,$))?f(u,"Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):f(u,"Result").$fumble("\u6c7a\u5b9a\u7684\u5931\u6557"):(c=30,p(e(t,$))?p(n(t,c))?f(u,"Result").$success("\u30a8\u30af\u30bb\u30ec\u30f3\u30c8"):f(u,"Result").$success("\u6210\u529f"):p(n(function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,$),c))?f(u,"Result").$failure("\u30b7\u30d3\u30a2"):f(u,"Result").$failure("\u5931\u6557")))},i.$$arity=4)}(Opal)},96782:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy;r=c,a=l=[m(c[0],"BCDice")].concat(r),$=s=[m(l[0],"GameSystem")].concat(a),o=d(s[0],f(s,"Base"),"Elric"),u=[o].concat($),t.const_set(u[0],"ID","Elric"),t.const_set(u[0],"NAME","\u30a8\u30eb\u30ea\u30c3\u30af\uff01"),t.const_set(u[0],"SORT_KEY","\u3048\u308b\u308a\u3064\u304f"),t.const_set(u[0],"HELP_MESSAGE","\u8cab\u901a\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),t.def(o,"$result_1d100",i=function(t,r,a,$){var i,o=_;return a["$=="]("<=")?p(e(t,1))?f(u,"Result").$critical("\u8cab\u901a"):p(n(t,100))?f(u,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):$["$=="]("?")?f(u,"Result").$nothing():p(e(t,(i=$,"number"==typeof i?i/5:i["$/"](5)).$ceil()))?f(u,"Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):p(e(t,$))?f(u,"Result").$success("\u6210\u529f"):p(p(o=n(t,99))?function(t,e){return"number"==typeof t?t<100:t["$<"](100)}($):o)?f(u,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):f(u,"Result").$failure("\u5931\u6557"):_},i.$$arity=4)}(Opal)},79009:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S=[],D=t.nil,g=t.$$,E=t.module,R=t.klass,A=t.send2,v=t.send,B=t.truthy;$=S,i=h=[E(S[0],"BCDice")].concat($),o=T=[E(h[0],"GameSystem")].concat(i),b=R(T[0],g(T,"Base"),"EmbryoMachine"),y=[b].concat(o),b.$$prototype.randomizer=D,t.const_set(y[0],"ID","EmbryoMachine"),t.const_set(y[0],"NAME","\u30a8\u30e0\u30d6\u30ea\u30aa\u30de\u30b7\u30f3RPG"),t.const_set(y[0],"SORT_KEY","\u3048\u3080\u3075\u308a\u304a\u307e\u3057\u3093RPG"),t.const_set(y[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30ed\u30fc\u30eb(EMt+m@c#f)\n\u3000\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024c(\u7701\u7565\u6642\u306f20)\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u5024f(\u7701\u7565\u6642\u306f2)\u3067\u653b\u6483\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u547d\u4e2d\u3057\u305f\u5834\u5408\u306f\u547d\u4e2d\u30ec\u30d9\u30eb\u3068\u547d\u4e2d\u90e8\u4f4d\u3082\u81ea\u52d5\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000R\u30b3\u30de\u30f3\u30c9\u306b\u8aad\u307f\u66ff\u3048\u3055\u308c\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u547d\u4e2d\u90e8\u4f4d\u8868\u3000HLT\n\u3000\u30fb\u767d\u5175\u653b\u6483\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000MFT\n\u3000\u30fb\u5c04\u6483\u653b\u6483\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000SFT\n"),b.$register_prefix("EM","HLT","MFT","SFT","2R10"),t.def(b,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),A(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},u.$$arity=1),t.def(b,"$replace_text",s=function(t){var e,n,r,a,$,i,o,u,s=this;return v(v(v(v(v(v(v(v(t,"gsub",[/EM(\d+)([+\-][+\-\d]+)(@(\d+))(\#(\d+))/i],((e=function(){return"2R10"+g(y,"Regexp").$last_match(2)+">="+g(y,"Regexp").$last_match(1)+"["+g(y,"Regexp").$last_match(4)+","+g(y,"Regexp").$last_match(6)+"]"}).$$s=s,e.$$arity=0,e)),"gsub",[/EM(\d+)([+\-][+\-\d]+)(\#(\d+))/i],((n=function(){return"2R10"+g(y,"Regexp").$last_match(2)+">="+g(y,"Regexp").$last_match(1)+"[20,"+g(y,"Regexp").$last_match(4)+"]"}).$$s=s,n.$$arity=0,n)),"gsub",[/EM(\d+)([+\-][+\-\d]+)(@(\d+))/i],((r=function(){return"2R10"+g(y,"Regexp").$last_match(2)+">="+g(y,"Regexp").$last_match(1)+"["+g(y,"Regexp").$last_match(4)+",2]"}).$$s=s,r.$$arity=0,r)),"gsub",[/EM(\d+)([+\-][+\-\d]+)/i],((a=function(){return"2R10"+g(y,"Regexp").$last_match(2)+">="+g(y,"Regexp").$last_match(1)+"[20,2]"}).$$s=s,a.$$arity=0,a)),"gsub",[/EM(\d+)(@(\d+))(\#(\d+))/i],(($=function(){return"2R10>="+g(y,"Regexp").$last_match(1)+"["+g(y,"Regexp").$last_match(3)+","+g(y,"Regexp").$last_match(5)+"]"}).$$s=s,$.$$arity=0,$)),"gsub",[/EM(\d+)(\#(\d+))/i],((i=function(){return"2R10>="+g(y,"Regexp").$last_match(1)+"[20,"+g(y,"Regexp").$last_match(3)+"]"}).$$s=s,i.$$arity=0,i)),"gsub",[/EM(\d+)(@(\d+))/i],((o=function(){return"2R10>="+g(y,"Regexp").$last_match(1)+"["+g(y,"Regexp").$last_match(3)+",2]"}).$$s=s,o.$$arity=0,o)),"gsub",[/EM(\d+)/i],((u=function(){return"2R10>="+g(y,"Regexp").$last_match(1)+"[20,2]"}).$$s=s,u.$$arity=0,u))},s.$$arity=1),t.def(b,"$result_nd10",l=function(t,r,a,$,i){return $["$=="](">=")?B(e(r,2))?g(y,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):B(n(r,20))?g(y,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):i["$=="]("?")?g(y,"Result").$nothing():B(n(t,i))?g(y,"Result").$success("\u6210\u529f"):g(y,"Result").$failure("\u5931\u6557"):D},l.$$arity=5),t.def(b,"$checkRoll",c=function(t){var a,$=this,i=D,o=D,u=D,s=D,l=D,c=D,_=D,f=D,m=D,d=D,p=D,b=D;return t=$.$replace_text(t),B(/(^|\s)S?(2[rR]10([+\-\d]+)?([>=]+(\d+))(\[(\d+),(\d+)\]))(\s|$)/i["$=~"](t))?(t=g(y,"Regexp").$last_match(2),i=0,o=20,u=2,s=0,l=g(y,"Regexp").$last_match(3),B(g(y,"Regexp").$last_match(5))&&(i=g(y,"Regexp").$last_match(5).$to_i()),B(g(y,"Regexp").$last_match(7))&&(o=g(y,"Regexp").$last_match(7).$to_i()),B(g(y,"Regexp").$last_match(8))&&(u=g(y,"Regexp").$last_match(8).$to_i()),B(l)&&(s=g(y,"ArithmeticEvaluator").$eval(l)),_=(c=$.randomizer.$roll_barabara(2,10).$sort()).$sum(),f=c.$join(","),m=$.randomizer.$roll_sum(2,10),d=c["$[]"](1),p=_+"["+f+"]",b=r(_,s),B("number"==typeof(a=s)?a>0:a["$>"](0))?p=r(p,"+"+s):B(function(t,e){return"number"==typeof t?t<0:t["$<"](0)}(s))&&(p=r(p,s.$to_s())),p=B(p["$=~"](/[^\d\[\]]+/))?"("+t+") \uff1e "+p+" \uff1e "+b:"("+t+") \uff1e "+p,p=B(e(_,u))?r(p," \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb"):B(n(_,o))?r(p,r(r(" \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb \uff1e ",$.$get_hit_level_table(d)),"(\u30c0\u30e1\u30fc\u30b8+10) \uff1e ["+m+"]"+$.$get_hit_location_table(m))):B(n(b,i))?r(p,r(r(" \uff1e \u6210\u529f \uff1e ",$.$get_hit_level_table(d))," \uff1e ["+m+"]"+$.$get_hit_location_table(m))):r(p," \uff1e \u5931\u6557")):D},c.$$arity=1),t.def(b,"$eval_game_system_specific_command",_=function(t){var e,n=this,r=D,a=D,$=D,i=D;return n.$debug("eval_game_system_specific_command command",t),B(e=n.$checkRoll(t))?e:(r="1",a="",$=0,/HLT/i["$==="](i=t)?(a="\u547d\u4e2d\u90e8\u4f4d",$=n.randomizer.$roll_sum(2,10),r=n.$get_hit_location_table($)):/SFT/i["$==="](i)?(a="\u5c04\u6483\u30d5\u30a1\u30f3\u30d6\u30eb",$=n.randomizer.$roll_sum(2,10),r=n.$get_shoot_fumble_table($)):/MFT/i["$==="](i)&&(a="\u767d\u5175\u30d5\u30a1\u30f3\u30d6\u30eb",$=n.randomizer.$roll_sum(2,10),r=n.$get_melee_fumble_table($)),B(r["$!="]("1"))&&(r=a+"\u8868("+$+") \uff1e "+r),r)},_.$$arity=1),t.def(b,"$get_hit_location_table",f=function(t){return this.$get_table_by_number(t,[[4,"\u982d"],[7,"\u5de6\u811a"],[9,"\u5de6\u8155"],[12,"\u80f4"],[14,"\u53f3\u8155"],[17,"\u53f3\u811a"],[20,"\u982d"]])},f.$$arity=1),t.def(b,"$get_shoot_fumble_table",m=function(t){var e=D,n=D;return e="1",B((n=["\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u3042\u307e\u308a\u306b\u7121\u69d8\u306a\u8aa4\u5c04\u3092\u3057\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u7cbe\u795e\u7684\u8ca0\u50b7\u304c2\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u81ea\u6a5f\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u5bfe\u8c61\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6b66\u88c5\u304c\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u7834\u640d\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u3057\u306a\u3044\u3002","\u8ee2\u5012\u3057\u305f\u3002\u6b21\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5f85\u6a5f\u306b\u5909\u66f4\u3055\u308c\u308b\u3002","\u5f3e\u8a70\u307e\u308a\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306f\u6226\u95d8\u7d42\u4e86\u307e\u3067\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u3002","\u7832\u8eab\u304c\u5927\u304d\u304f\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-3\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u6fc0\u3057\u304f\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+3\u3055\u308c\u308b\u3002","\u66b4\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u5f3e\u85ac\u304c\u52a3\u5316\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u7121\u69d8\u306a\u8aa4\u5c04\u3092\u3057\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u7cbe\u795e\u7684\u8ca0\u50b7\u304c1\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u5bfe\u8c61\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u8aa4\u5c04\u3092\u3057\u305f\u3002\u81ea\u6a5f\u306b\u6700\u3082\u8fd1\u3044\u5473\u65b9\u6a5f\u4f53\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u7832\u8eab\u304c\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+2\u3055\u308c\u308b\u3002","\u7832\u8eab\u304c\u308f\u305a\u304b\u306b\u6b6a\u3093\u3060\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306b\u3088\u308b\u5c04\u6483\u653b\u6483\u306e\u547d\u4e2d\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-1\u3055\u308c\u308b\u3002","\u71b1\u91cf\u304c\u3084\u3084\u5897\u5927\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u5c04\u6483\u6b66\u5668\u306e\u6d88\u8cbb\u5f3e\u85ac\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067+1\u3055\u308c\u308b\u3002","\u4f55\u3082\u8d77\u304d\u306a\u304b\u3063\u305f\u3002"])["$[]"](a(t,2)))&&(e=n["$[]"](a(t,2))),e},m.$$arity=1),t.def(b,"$get_melee_fumble_table",d=function(t){var e=D,n=D;return e="1",B((n=["\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebA\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6fc0\u3057\u304f\u982d\u3092\u6253\u3063\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u8089\u4f53\u7684\u8ca0\u50b7\u304c2\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u904e\u8ca0\u8377\u3067\u90e8\u4f4d\u304c\u7206\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u304c\u5168\u58ca\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u305b\u305a\u3001\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u6b66\u88c5\u3082\u7834\u640d\u3057\u306a\u3044\u3002","\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebB\u3067\u547d\u4e2d\u3059\u308b\u3002","\u6b66\u88c5\u304c\u7206\u767a\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u7834\u640d\u3059\u308b\u3002\u30c0\u30e1\u30fc\u30b8\u306f\u767a\u751f\u3057\u306a\u3044\u3002","\u90e8\u5206\u7684\u306b\u6a5f\u80fd\u505c\u6b62\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306f\u6226\u95d8\u7d42\u4e86\u307e\u3067\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u3002","\u8ee2\u5012\u3057\u305f\u3002\u6b21\u306e\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u304c\u5f85\u6a5f\u306b\u5909\u66f4\u3055\u308c\u308b\u3002","\u6fc0\u3057\u3044\u5203\u3053\u307c\u308c\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-3\u3055\u308c\u308b\u3002","\u5730\u9762\u306e\u51f9\u51f8\u306b\u306f\u307e\u3063\u305f\u3002\u6b21\u306e2\u30bb\u30b0\u30e1\u30f3\u30c8\u306f\u79fb\u52d5\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002","\u5203\u3053\u307c\u308c\u3092\u8d77\u3053\u3057\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u306e\u5168\u3066\u306e\u30c0\u30e1\u30fc\u30b8\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b\u3002","\u5927\u632f\u308a\u3057\u3059\u304e\u305f\u3002\u4f7f\u7528\u3057\u305f\u767d\u5175\u6b66\u5668\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u90e8\u4f4d\u306e\u53cd\u5bfe\u306e\u90e8\u4f4d(\u53f3\u8155\u306b\u642d\u8f09\u3055\u308c\u3066\u3044\u308b\u306a\u3089\u5de6\u5074)\u306b\u547d\u4e2d\u30ec\u30d9\u30ebC\u3067\u547d\u4e2d\u3059\u308b\u3002","\u982d\u3092\u6253\u3063\u305f\u3002\u30d1\u30a4\u30ed\u30c3\u30c8\u306e\u8089\u4f53\u7684\u8ca0\u50b7\u304c1\u6bb5\u968e\u4e0a\u6607\u3059\u308b\u3002","\u99c6\u52d5\u7cfb\u304c\u640d\u50b7\u3057\u305f\u3002\u79fb\u52d5\u529b\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-2\u3055\u308c\u308b(\u6700\u4f4e1)\u3002","\u9593\u5408\u3044\u3092\u53d6\u308a\u640d\u306d\u305f\u3002\u96a3\u63a5\u3057\u3066\u3044\u308b\u6a5f\u4f53(\u8907\u6570\u306e\u5834\u5408\u306f1\u6a5f\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u6c7a\u5b9a)\u306b\u6fc0\u7a81\u3059\u308b\u3002","\u6a5f\u4f53\u3054\u3068\u7a81\u3063\u8fbc\u3093\u3060\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u3078\u79fb\u52d5\u529b\u3092\u3059\u3079\u3066\u6d88\u8cbb\u3059\u308b\u307e\u3067\u79fb\u52d5\u3059\u308b\u3002","\u5236\u5fa1\u7cfb\u304c\u640d\u50b7\u3057\u305f\u3002\u56de\u907f\u5024\u304c\u6226\u95d8\u7d42\u4e86\u307e\u3067-1\u3055\u308c\u308b(\u6700\u4f4e1)\u3002","\u8e0f\u307f\u8aa4\u3063\u305f\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u3078\u79fb\u52d5\u529b\u306e\u534a\u5206\u3092\u6d88\u8cbb\u3059\u308b\u307e\u3067\u79fb\u52d5\u3059\u308b\u3002","\u305f\u305f\u3089\u3092\u8e0f\u3093\u3060\u3002\u6a5f\u4f53\u304c\u5411\u3044\u3066\u3044\u308b\u65b9\u89d2\u30781\u306e\u79fb\u52d5\u529b\u3067\u79fb\u52d5\u3059\u308b\u3002","\u4f55\u3082\u8d77\u304d\u306a\u304b\u3063\u305f\u3002"])["$[]"](a(t,2)))&&(e=n["$[]"](a(t,2))),e},d.$$arity=1),t.def(b,"$get_hit_level_table",p=function(t){return this.$get_table_by_number(t,[[6,"\u547d\u4e2d\u30ec\u30d9\u30ebC"],[9,"\u547d\u4e2d\u30ec\u30d9\u30ebB"],[10,"\u547d\u4e2d\u30ec\u30d9\u30ebA"]])},p.$$arity=1)}(Opal)},4053:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$,T=t.module,h=t.klass,S=t.send,D=t.truthy;a=p,$=d=[T(p[0],"BCDice")].concat(a),i=m=[T(d[0],"GameSystem")].concat($),_=h(m[0],y(m,"Base"),"Emoklore"),f=[_].concat(i),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","Emoklore"),t.const_set(f[0],"NAME","\u30a8\u30e2\u30af\u30ed\u30a2TRPG"),t.const_set(f[0],"SORT_KEY","\u3048\u3082\u304f\u308d\u3042TRPG"),t.const_set(f[0],"HELP_MESSAGE",'\u30fb\u6280\u80fd\u5024\u5224\u5b9a\uff08xDM<=y\uff09\n  "(\u500b\u6570)DM<=(\u5224\u5b9a\u5024)"\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u54081\u500b\u306b\u306a\u308a\u307e\u3059\u3002\n  \u4f8b\uff092DM<=5 DM<=8\n\u30fb\u6280\u80fd\u5024\u5224\u5b9a\uff08sDAa+z)\n  "(\u6280\u80fd\u30ec\u30d9\u30eb)DA(\u80fd\u529b\u5024)+(\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9)"\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\n  \u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u7701\u7565\u53ef\u80fd\u3067\u3001\u7701\u7565\u3057\u305f\u5834\u54080\u306b\u306a\u308a\u307e\u3059\u3002\n  \u6280\u80fd\u30ec\u30d9\u30eb\u306f1\uff5e3\u306e\u6570\u5024\u3001\u307e\u305f\u306f\u30d9\u30fc\u30b9\u6280\u80fd\u306e\u5834\u5408"b"\u304c\u5165\u308a\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u306e\u500b\u6570\u306f\u6280\u80fd\u30ec\u30d9\u30eb\u3068\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u306e\u500b\u6570\u306b\u3088\u308a\u6c7a\u5b9a\u3057\u3001s+z\u500b\u306e\u30c0\u30a4\u30b9\u3092\u632f\u308a\u307e\u3059\u3002\uff08s="b"\u306e\u5834\u5408\u306fs=1\uff09\n  \u5224\u5b9a\u5024\u306fs+a\u3068\u306a\u308a\u307e\u3059\u3002\uff08s="b"\u306e\u5834\u5408\u306fs=0\uff09\n'),_.$register_prefix("\\d*DM<=","(B|\\d*)DA"),t.const_set(f[0],"CRITICAL_VALUE",1),t.const_set(f[0],"FUMBLE_VALUE",10),t.def(_,"$eval_game_system_specific_command",o=function(t){var e;return/^\d*DM<=\d/["$==="](e=t)?this.$roll_dm(t):/^(B|\d*)DA\d+(\+)?\d*/["$==="](e)?this.$roll_da(t):b},o.$$arity=1),_.$private(),t.def(_,"$dice_roll",u=function(a,$){var i,o,u,s,l,c,_,m,d=this,p=b,T=b,h=b;return p=d.randomizer.$roll_barabara(a,10),T=S(p,"reject",[],((i=function(t){return null==t&&(t=b),e(t,y(f,"CRITICAL_VALUE"))}).$$s=d,i.$$arity=1,i)),s=n(p.$size(),T.$size()),l=S(T,"count",[],((o=function(t){return null==t&&(t=b),e(t,$)}).$$s=d,o.$$arity=1,o)),c=S(T,"count",[],((u=function(t){return null==t&&(t=b),function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,y(f,"FUMBLE_VALUE"))}).$$s=d,u.$$arity=1,u)),_=n(r(function(t,e){return"number"==typeof e?2*e:2["$*"](e)}(0,s),l),c),h=d.$compare_result(_),m=["["+p.$join(", ")+"] \uff1e "+_+" \uff1e \u6210\u529f\u6570"+_+" "+h.$text()],S(h,"text=",t.to_a(m)),n(m.length,1),h},u.$$arity=2),t.def(_,"$compare_result",s=function(t){return D("number"==typeof(n=t)?n<0:n["$<"](0))?y(f,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb!"):t["$=="](0)?y(f,"Result").$failure("\u5931\u6557!"):t["$=="](1)?y(f,"Result").$success("\u6210\u529f!"):t["$=="](2)?y(f,"Result").$critical("\u30c0\u30d6\u30eb!"):t["$=="](3)?y(f,"Result").$critical("\u30c8\u30ea\u30d7\u30eb!"):D(e(t,9))?y(f,"Result").$critical("\u30df\u30e9\u30af\u30eb!"):y(f,"Result").$critical("\u30ab\u30bf\u30b9\u30c8\u30ed\u30d5!");var n},s.$$arity=1),t.def(_,"$roll_dm",l=function(r){var a,$=b,i=b,o=b,u=b,s=b,l=b;return $=/^(\d+)?DM<=(\d+)$/.$match(r),!D($)||(i=D(o=(a=$["$[]"](1))===b||null==a?b:S(a,"to_i",[]))?o:1,u=$["$[]"](2).$to_i(),D(e(i,0)))?b:(l=["("+i+"DM<="+u+") \uff1e "+(s=this.$dice_roll(i,u)).$text()],S(s,"text=",t.to_a(l)),n(l.length,1),s)},l.$$arity=1),t.def(_,"$roll_da",c=function(e){var a,$=b,i=b,o=b,u=b,s=b,l=b,c=b;return $=/^(B|\d+)?DA(\d+)(\+\d+)?$/.$match(e),D($)?(i=$["$[]"](3).$to_i(),c=["("+e+") \uff1e ("+(o=r($["$[]"](1)["$=="]("B")?1:D((a=$["$[]"](1),u=a===b||null==a?b:S(a,"to_i",[])))?u:1,i))+"DM<="+(s=r($["$[]"](1).$to_i(),$["$[]"](2).$to_i()))+") \uff1e "+(l=this.$dice_roll(o,s)).$text()],S(l,"text=",t.to_a(c)),n(c.length,1),l):b},c.$$arity=1)}(Opal)},57877:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var a,$,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$$,y=t.$$,T=t.module,h=t.klass,S=t.send2,D=t.truthy,g=t.send,E=t.range;a=d,$=m=[T(d[0],"BCDice")].concat(a),i=f=[T(m[0],"GameSystem")].concat($),c=h(f[0],y(f,"Base"),"EndBreaker"),_=[c].concat(i),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","EndBreaker"),t.const_set(_[0],"NAME","\u30a8\u30f3\u30c9\u30d6\u30ec\u30a4\u30ab\u30fc\uff01"),t.const_set(_[0],"SORT_KEY","\u3048\u3093\u3068\u3075\u308c\u3044\u304b\u3042"),t.const_set(_[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a (nEB)\n  n\u500b\u306eD6\u3092\u632f\u308b\u5224\u5b9a\u3002\u30c0\u30d6\u30eb\u30c8\u30ea\u30ac\u30fc\u767a\u52d5\u3067\u81ea\u52d5\u632f\u308a\u8db3\u3057\u3002\n\u30fb\u5404\u7a2e\u8868\n  \u30fb\u751f\u6b7b\u4e0d\u660e\u8868 (LDUT)\n"),c.$register_prefix("\\d+EB","LDUT"),t.def(c,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),S(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.d66_sort_type=b(y(_,"D66SortType"),"NO_SORT")},o.$$arity=1),t.def(c,"$eval_game_system_specific_command",u=function(e){var n,r,a=p,$=p,i=p;return D(e["$=~"](/(\d+)EB/i))?(a=y(_,"Regexp").$last_match(1).$to_i(),this.$checkRoll(a)):($="",i="","LDUT"["$==="](e)?($="\u751f\u6b7b\u4e0d\u660e\u8868",r=this.$getLifeAndDeathUnknownResult(),i=null==(n=t.to_ary(r))[0]?p:n[0],$+"("+(null==n[1]?p:n[1])+"):"+i):p)},u.$$arity=1),t.def(c,"$checkRoll",s=function(t){var a,$,i=this,o=p,u=p,s=p,l=p;for(i.$debug("EndBreaker diceCount",t),o=t,u="",s=[];D(o["$!="](0));)l=i.randomizer.$roll_barabara(o,6).$sort(),s.$concat(l),o=e(g(l,"select",[],(a=function(t){return null==t&&(t=p),t["$=="](1)},a.$$s=i,a.$$arity=1,a)).$size(),2),u=n(u,"["+l.$join()+"]"),D(r(o,0))&&(u=n(u," \u30c0\u30d6\u30eb\u30c8\u30ea\u30ac\u30fc! "));return u=n(u," \uff1e"),g(E(2,6,!1),"each",[],(($=function(t){var e,r=p;return null==t&&(t=p),(r=g(s,"select",[],(e=function(e){return null==e&&(e=p),e["$=="](t)},e.$$s=null==$.$$s?this:$.$$s,e.$$arity=1,e)).$size())["$=="](0)?p:u=n(u," ["+t+":"+r+"\u500b]")}).$$s=i,$.$$arity=1,$)),u},s.$$arity=1),t.def(c,"$getLifeAndDeathUnknownResult",l=function(){return this.$get_table_by_d66([" 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 1\u65e5\uff1a\u751f\u9084\uff01"," 5\u65e5\uff1a\u6575\u306b\u6355\u3089\u308f\u308c\u3001\u3072\u3069\u3044\u66b4\u884c\u3068\u62f7\u554f\u3092\u53d7\u3051\u305f\u3002"," 2\u65e5\uff1a\u8b0e\u306e\u4eba\u7269\u306b\u547d\u3092\u6551\u308f\u308c\u305f\u3002","10\u65e5\uff1a\u5974\u96b7\u3068\u3057\u3066\u58f2\u308a\u98db\u3070\u3055\u308c\u305f\u3002"," 8\u65e5\uff1a\u304a\u305e\u307e\u3057\u3044\u5100\u5f0f\u306e\u751f\u8d04\u3068\u3057\u3066\u9023\u308c\u53bb\u3089\u308c\u305f\u3002"," 9\u65e5\uff1a\u5e7d\u9589\u30fb\u6295\u7344\u3055\u308c\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 7\u65e5\uff1a\u30e2\u30f3\u30b9\u30bf\u30fc\u8822\u304f\u5730\u4e0b\u8ff7\u5bae\u306b\u6ed1\u843d\u3057\u305f\u3002","12\u65e5\u5f37\u529b\u306a\u30de\u30b9\u30ab\u30ec\u30a4\u30c9\u306b\u3068\u3089\u308f\u308c\u3001\u5b9f\u9a13\u53f0\u306b\u3055\u308c\u305f\u3002"," 8\u65e5\uff1a\u653e\u6d6a\u4e2d\u306b\u906d\u9047\u3057\u305f\u4e8b\u4ef6\u3092\u3001\u98af\u723d\u3068\u89e3\u6c7a\u3057\u3066\u3044\u305f\u3002"," 5\u65e5\uff1a\u98e2\u9913\u72b6\u614b\u306b\u8ffd\u3044\u8fbc\u307e\u308c\u305f\u3002","15\u65e5\uff1a\u8a18\u61b6\u3092\u5931\u3044\u653e\u6d6a\u3057\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01","10\u65e5\uff1a\u7570\u6027\u306b\u547d\u3092\u6551\u308f\u308c\u3066\u3001\u624b\u539a\u3044\u770b\u75c5\u3092\u53d7\u3051\u305f\u3002"," 3\u65e5\uff1a\u8ca0\u50b7\u304b\u3089\u304f\u308b\u71b1\u75c5\u3067\u3001\u751f\u6b7b\u306e\u5883\u3092\u5f77\u5fa8\u3063\u305f\u3002","11\u65e5\uff1a\u95d8\u5974\u306b\u3055\u308c\u305f\u304c\u3001\u6226\u3044\u3068\u53cb\u60c5\u306e\u672b\u306b\u81ea\u7531\u3092\u7372\u5f97\u3057\u305f\u3002"," 6\u65e5\uff1a\u8ca0\u50b7\u3057\u305f\u307e\u307e\u5ddd\u306b\u843d\u3061\u3001\u9065\u304b\u4e0b\u6d41\u307e\u3067\u6d41\u3055\u308c\u305f\u3002"," 9\u65e5\uff1a\u6575\u306b\u9023\u308c\u53bb\u3089\u308c\u3001\u57f7\u62d7\u306a\u62f7\u554f\u3092\u53d7\u3051\u7d9a\u3051\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 4\u65e5\uff1a\u7e70\u308a\u8fd4\u3059\u300c\u6b7b\u306e\u60aa\u5922\u300d\u306b\u82db\u307e\u308c\u305f\u3002"," 3\u65e5\uff1a\u5de8\u7363\u306e\u5de3\u306b\u9023\u308c\u53bb\u3089\u308c\u305f\u3002","10\u65e5\uff1a\u8b0e\u306e\u96c6\u56e3\u306b\u6551\u308f\u308c\u3066\u3001\u624b\u539a\u3044\u770b\u75c5\u3092\u53d7\u3051\u305f\u3002"," 3\u65e5\uff1a\u30c1\u30c3\u30bf\u30cb\u30a2\u30f3\u306e\u96c6\u843d\u306b\u8ff7\u3044\u8fbc\u307f\u3001\u3082\u3066\u306a\u3057\u3092\u53d7\u3051\u305f\u3002"," 7\u65e5\uff1a\u30d4\u30e5\u30a2\u30ea\u30a3\u306e\u7fa4\u308c\u306b\u3068\u3089\u308f\u308c\u3001\u5f04\u3070\u308c\u305f\u3002"," 1\u65e5\uff1a\u751f\u9084\uff01"," 6\u65e5\uff1a\u697d\u5712\u306e\u3088\u3046\u306a\u5834\u6240\u3092\u767a\u898b\u3057\u3001\u3057\u3070\u3089\u304f\u9017\u7559\u3057\u305f\u3002"," 9\u65e5\uff1a\u76d7\u8cca\u56e3\u306b\u6551\u308f\u308c\u3001\u6069\u8fd4\u3057\u3068\u3057\u3066\u5c11\u3057\u7528\u5fc3\u68d2\u3092\u3057\u305f\u3002","10\u65e5\uff1a\u71b1\u75c5\u306e\u898b\u305b\u308b\u5b98\u80fd\u7684\u306a\u5e7b\u5f71\u306b\u3068\u3089\u308f\u308c\u3001\u5f77\u5fa8\u3063\u305f\u3002"," 5\u65e5\uff1a\u8b0e\u306e\u8cde\u91d1\u9996\u306b\u72d9\u308f\u308c\u3001\u50b7\u3081\u3064\u3051\u3089\u308c\u3066\u3044\u305f\u3002"," - \uff1a\u300c\u4e94\u5206\u4e94\u5206\u300d\u306e\u4e00\u822c\u5224\u5b9a\u3002\u5931\u6557\u3059\u308b\u3068\u6b7b\u4ea1\u3002"])},l.$$arity=0)}(Opal)},34119:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$$,T=t.$$,h=t.module,S=t.klass,D=t.hash2,g=t.truthy,E=t.send;a=p,$=d=[h(p[0],"BCDice")].concat(a),i=m=[h(d[0],"GameSystem")].concat($),_=S(m[0],T(m,"Base"),"FateCoreSystem"),f=[_].concat(i),_.$$prototype.round_type=_.$$prototype.randomizer=b,t.const_set(f[0],"ID","FateCoreSystem"),t.const_set(f[0],"NAME","Fate Core System"),t.const_set(f[0],"SORT_KEY","\u3075\u3048\u3044\u3068\u3053\u3042\u3057\u3059\u3066\u3080"),t.const_set(f[0],"HELP_MESSAGE","\u25a0 \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u306b\u3088\u308b\u5224\u5b9a (xDF+y>=t)\n  \u30d5\u30a1\u30c3\u30b8\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u7d50\u679c\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff094DF, 4DF>=3, 4DF+1>=3\n"),_.$register_prefix("\\d+DF"),t.def(_,"$eval_game_system_specific_command",o=function(t){return this.$roll_df(t)},o.$$arity=1),_.$private(),t.def(_,"$roll_df",u=function(r){var a,$=this,i=b,o=b,u=b,s=b,l=b,c=b;return i=y(T(f,"Command"),"Parser").$new("DF",D(["round_type"],{round_type:$.round_type})).$enable_prefix_number().$restrict_cmp_op_to(">=",b).$parse(r),g(i)?(u=e((o=$.$roll_fate_dice(i.$prefix_number())).$sum(),i.$modify_number()),s=E(o,"map",[],((a=function(t){return null==t&&(t=b),g(t["$zero?"]())?"[ ]":g(t["$positive?"]())?"[+]":"[-]"}).$$s=$,a.$$arity=1,a)),l=$.$outcome(u,i.$target_number()),c=[["("+i+")",""+s.$join()+T(f,"Format").$modifier(i.$modify_number()),$.$result_ladder(u),l.$text()].$compact().$join(" \uff1e ")],E(l,"text=",t.to_a(c)),n(c.length,1),l):b},u.$$arity=1),t.def(_,"$roll_fate_dice",s=function(t){var e;return E(this.randomizer.$roll_barabara(t,3),"map",[],((e=function(t){return null==t&&(t=b),n(t,2)}).$$s=this,e.$$arity=1,e))},s.$$arity=1),t.def(_,"$result_ladder",l=function(t){var e;return e=t.$clamp(-2,8),(8["$==="](e)?"Legendary":7["$==="](e)?"Epic":6["$==="](e)?"Fantastic":5["$==="](e)?"Superb":4["$==="](e)?"Great":3["$==="](e)?"Good":2["$==="](e)?"Fair":1["$==="](e)?"Average":(0)["$==="](e)?"Mediocre":(-1)["$==="](e)?"Poor":"Terrible")+"("+this.$format("%+d",t)+")"},l.$$arity=1),t.def(_,"$outcome",c=function(t,n){return g(n["$nil?"]())?T(f,"Result").$new():t["$=="](n)?T(f,"Result").$success("Tie"):g(r(t,e(n,3)))?T(f,"Result").$critical("Succeed with Style"):g(r(t,n))?T(f,"Result").$success("Succeed"):T(f,"Result").$failure("Fail")},c.$$arity=2)}(Opal)},63423:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$,g=t.module,E=t.klass,R=t.truthy,A=t.send,v=t.hash2;r=h,a=T=[g(h[0],"BCDice")].concat(r),l=y=[g(T[0],"GameSystem")].concat(a),p=E(y[0],D(y,"Base"),"Fiasco"),b=[p].concat(l),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","Fiasco"),t.const_set(b[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),t.const_set(b[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),t.const_set(b[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),p.$register_prefix("FS","W","B"),t.def(p,"$eval_game_system_specific_command",c=function(t){var e,n,r=this;return R(e=R(n=r.$roll_fs(t))?n:r.$roll_white_black(t))?e:r.$roll_white_black_single(t)},c.$$arity=1),p.$private(),t.def(p,"$roll_fs",_=function(r){var a,$,i=this,o=S,u=S,s=S,l=S;return o=/^FS(\d+)$/.$match(r),R(o)?(u=o["$[]"](1).$to_i(),s=i.randomizer.$roll_barabara(u,6),l=[S,0,0,0,0,0,0],A(s,"each",[],((a=function(r){var a;return null==r&&(r=S),a=[r,e(l["$[]"](r),1)],A(l,"[]=",t.to_a(a)),a[n(a.length,1)]}).$$s=i,a.$$arity=1,a)),A(l,"map!",[],(($=function(t){return null==t&&(t=S),(null==$.$$s?this:$.$$s).$translate("Fiasco.fs.count",v(["count"],{count:t}))}).$$s=i,$.$$arity=1,$)),"1 => "+l["$[]"](1)+", 2 => "+l["$[]"](2)+", 3 => "+l["$[]"](3)+", 4 => "+l["$[]"](4)+", 5 => "+l["$[]"](5)+", 6 => "+l["$[]"](6)):S},_.$$arity=1),t.def(p,"$roll_white_black_single",f=function(t){var e=S,n=S;return e=/^([WB])(\d+)$/.$match(t),R(e)?(n=D(b,"Side").$new(this.$color(e["$[]"](1)),e["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+n.$color()+n.$total():S},f.$$arity=1),t.def(p,"$roll_white_black",m=function(t){var e=this,n=S,r=S,a=S,$=S;return n=/^([WB])(\d+)([WB])(\d+)$/.$match(t),R(n)?/^W\d+W\d+$/["$==="](r=t)?t+"\uff1a"+e.$translate("Fiasco.wb.duplicate_error.white"):/^B\d+B\d+$/["$==="](r)?t+"\uff1a"+e.$translate("Fiasco.wb.duplicate_error.black"):(a=D(b,"Side").$new(e.$color(n["$[]"](1)),n["$[]"](2).$to_i())).$roll(e.randomizer)+" "+($=D(b,"Side").$new(e.$color(n["$[]"](3)),n["$[]"](4).$to_i())).$roll(e.randomizer)+" \uff1e "+a.$diff($):S},m.$$arity=1),t.def(p,"$color",d=function(t){return t["$=="]("W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")},d.$$arity=1),$=b,[s=E(b[0],null,"Side")].concat($),s.$$prototype.count=s.$$prototype.dice_list=s.$$prototype.color=s.$$prototype.total=S,t.def(s,"$initialize",i=function(t,e){return this.color=t,this.count=e},i.$$arity=2),t.def(s,"$roll",o=function(t){var e=this;return e.dice_list=e.count["$=="](0)?[0]:t.$roll_barabara(e.count,6),e.total=e.dice_list.$sum(),""+e.color+e.total+"["+e.dice_list.$join(",")+"]"},o.$$arity=1),t.def(s,"$diff",u=function(t){var e=this;return e.total["$=="](t.$total())?"0":R(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(e.total,t.$total()))?""+e.color+n(e.total,t.$total()):""+t.$color()+n(t.$total(),e.total)},u.$$arity=1),s.$attr_reader("color","total")}(Opal)},94978:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/Fiasco"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$,g=t.module,E=t.klass,R=t.truthy,A=t.send,v=t.hash2;return r=h,a=T=[g(h[0],"BCDice")].concat(r),l=y=[g(T[0],"GameSystem")].concat(a),p=E(y[0],D(y,"Base"),"Fiasco"),b=[p].concat(l),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","Fiasco"),t.const_set(b[0],"NAME","\u30d5\u30a3\u30a2\u30b9\u30b3"),t.const_set(b[0],"SORT_KEY","\u3075\u3044\u3042\u3059\u3053"),t.const_set(b[0],"HELP_MESSAGE","  \u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(FSx, WxBx)\n    \u76f8\u95a2\u56f3\u30fb\u8ee2\u843d\u8981\u7d20\u7528(FSx)\uff1a\u76f8\u95a2\u56f3\u3084\u8ee2\u843d\u8981\u7d20\u306e\u305f\u3081\u306bx\u500b\u30c0\u30a4\u30b9\u3092\u632f\u308a\u3001\u51fa\u76ee\u3054\u3068\u306b\u5206\u985e\u3059\u308b\n    \u9ed2\u767d\u5dee\u5206\u5224\u5b9a\u7528(WxBx)  \uff1a\u8ee2\u843d\u3001\u6b8b\u97ff\u306e\u305f\u3081\u306b\u767d\u30c0\u30a4\u30b9(W\u6307\u5b9a)\u3068\u9ed2\u30c0\u30a4\u30b9(B\u6307\u5b9a)\u3067\u5dee\u5206\u3092\u6c42\u3081\u308b\n      \u203b W\u3068B\u306f\u7247\u65b9\u6307\u5b9a(Bx, Wx)\u3001\u5165\u66ff\u6307\u5b9a(WxBx,BxWx)\u53ef\u80fd\n"),p.$register_prefix("FS","W","B"),t.def(p,"$eval_game_system_specific_command",c=function(t){var e,n,r=this;return R(e=R(n=r.$roll_fs(t))?n:r.$roll_white_black(t))?e:r.$roll_white_black_single(t)},c.$$arity=1),p.$private(),t.def(p,"$roll_fs",_=function(r){var a,$,i=this,o=S,u=S,s=S,l=S;return o=/^FS(\d+)$/.$match(r),R(o)?(u=o["$[]"](1).$to_i(),s=i.randomizer.$roll_barabara(u,6),l=[S,0,0,0,0,0,0],A(s,"each",[],((a=function(r){var a;return null==r&&(r=S),a=[r,e(l["$[]"](r),1)],A(l,"[]=",t.to_a(a)),a[n(a.length,1)]}).$$s=i,a.$$arity=1,a)),A(l,"map!",[],(($=function(t){return null==t&&(t=S),(null==$.$$s?this:$.$$s).$translate("Fiasco.fs.count",v(["count"],{count:t}))}).$$s=i,$.$$arity=1,$)),"1 => "+l["$[]"](1)+", 2 => "+l["$[]"](2)+", 3 => "+l["$[]"](3)+", 4 => "+l["$[]"](4)+", 5 => "+l["$[]"](5)+", 6 => "+l["$[]"](6)):S},_.$$arity=1),t.def(p,"$roll_white_black_single",f=function(t){var e=S,n=S;return e=/^([WB])(\d+)$/.$match(t),R(e)?(n=D(b,"Side").$new(this.$color(e["$[]"](1)),e["$[]"](2).$to_i())).$roll(this.randomizer)+" \uff1e "+n.$color()+n.$total():S},f.$$arity=1),t.def(p,"$roll_white_black",m=function(t){var e=this,n=S,r=S,a=S,$=S;return n=/^([WB])(\d+)([WB])(\d+)$/.$match(t),R(n)?/^W\d+W\d+$/["$==="](r=t)?t+"\uff1a"+e.$translate("Fiasco.wb.duplicate_error.white"):/^B\d+B\d+$/["$==="](r)?t+"\uff1a"+e.$translate("Fiasco.wb.duplicate_error.black"):(a=D(b,"Side").$new(e.$color(n["$[]"](1)),n["$[]"](2).$to_i())).$roll(e.randomizer)+" "+($=D(b,"Side").$new(e.$color(n["$[]"](3)),n["$[]"](4).$to_i())).$roll(e.randomizer)+" \uff1e "+a.$diff($):S},m.$$arity=1),t.def(p,"$color",d=function(t){return t["$=="]("W")?this.$translate("Fiasco.white"):this.$translate("Fiasco.black")},d.$$arity=1),$=b,[s=E(b[0],null,"Side")].concat($),s.$$prototype.count=s.$$prototype.dice_list=s.$$prototype.color=s.$$prototype.total=S,t.def(s,"$initialize",i=function(t,e){return this.color=t,this.count=e},i.$$arity=2),t.def(s,"$roll",o=function(t){var e=this;return e.dice_list=e.count["$=="](0)?[0]:t.$roll_barabara(e.count,6),e.total=e.dice_list.$sum(),""+e.color+e.total+"["+e.dice_list.$join(",")+"]"},o.$$arity=1),t.def(s,"$diff",u=function(t){var e=this;return e.total["$=="](t.$total())?"0":R(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(e.total,t.$total()))?""+e.color+n(e.total,t.$total()):""+t.$color()+n(t.$total(),e.total)},u.$$arity=1),void s.$attr_reader("color","total")},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/Fiasco"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Fiasco"),"Fiasco_Korean")].concat(i),r.const_set(s[0],"ID","Fiasco:Korean"),r.const_set(s[0],"NAME","\ud53c\uc544\uc2a4\ucf54"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ud53c\uc544\uc2a4\ucf54"),r.const_set(s[0],"HELP_MESSAGE","  \u30fb\ud310\uc815 \ucee4\ub9e8\ub4dc(FSx, WxBx)\n    \uad00\uacc4, \ube44\ud2c0\uae30 \uc694\uc18c\uc6a9(FSx)\uff1a\uad00\uacc4\ub098 \ube44\ud2c0\uae30 \uc694\uc18c\ub97c \uc704\ud574 x\uac1c\uc758 \ub2e4\uc774\uc2a4\ub97c \uad74\ub824 \ub098\uc628 \uac12\ubcc4\ub85c \ubd84\ub958\ud55c\ub2e4.\n    \ud751\ubc31\ucc28\uc774\ud310\uc815\uc6a9(WxBx)    \uff1a\ube44\ud2c0\uae30, \ud6c4\uae30\ub97c \uc704\ud574 \ud770 \ub2e4\uc774\uc2a4(W\uc9c0\uc815)\uacfc \uac80\uc740 \ub2e4\uc774\uc2a4(B\uc9c0\uc815)\uc73c\ub85c \ucc28\uc774\ub97c \uad6c\ud55c\ub2e4.\n      \u203b W\uc640B\ub294 \ud55c \ucabd\ub9cc \uc9c0\uc815(Bx, Wx), \uc55e\ub4a4 \ubc14\uafd4 \uc9c0\uc815(WxBx,BxWx)\ub3c4 \uac00\ub2a5\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1)},42870:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send,v=t.hash2;a=y,$=b=[D(y[0],"BCDice")].concat(a),i=p=[D(b[0],"GameSystem")].concat($),m=g(p[0],S(p,"Base"),"FutariSousa"),d=[m].concat(i),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","FutariSousa"),t.const_set(d[0],"NAME","\u30d5\u30bf\u30ea\u30bd\u30a6\u30b5"),t.const_set(d[0],"SORT_KEY","\u3075\u305f\u308a\u305d\u3046\u3055"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\n\u63a2\u5075\u7528\uff1a\u3010DT\u3011\u202610\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103DT\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101DT\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u52a9\u624b\u7528\uff1a\u3010AS\u3011\u20266\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AS\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AS\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3010\u8abf\u67fb\u6642\u3011\n\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868 SHRD\n\u3000\u53e3\u304b\u3089\u51fa\u308b\u8868 SHFM\uff0f\u5f37\u5f15\u306a\u635c\u67fb\u8868\u3000\u3000\u3000 SHBT\uff0f\u3059\u3063\u3068\u307c\u3051\u8868\u3000 SHPI\n\u3000\u4e8b\u4ef6\u306b\u5922\u4e2d\u8868 SHEG\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3068\u2026\u2026\u8868 SHWP\uff0f\u4f55\u304b\u3057\u3066\u3044\u308b\u8868 SHDS\n\u3000\u5947\u60f3\u5929\u5916\u8868\u3000 SHFT\uff0f\u6025\u306a\u3072\u3089\u3081\u304d\u8868\u3000\u3000 SHIN\uff0f\u559c\u6012\u54c0\u697d\u8868\u3000\u3000 SHEM\n\u30a4\u30d9\u30f3\u30c8\u8868\n\u3000\u73fe\u5834\u306b\u3066\u3000 EVS\uff0f\u306a\u305c\uff1f\u3000 EVW\uff0f\u5354\u529b\u8005\u3068\u5171\u306b EVN\n\u3000\u5411\u3053\u3046\u304b\u3089 EVC\uff0fVS\u5bb9\u7591\u8005 EVV\n\u8abf\u67fb\u306e\u969c\u5bb3\u8868 OBT\u3000\u3000\u5909\u8abf\u8868 ACT\u3000\u3000\u76ee\u6483\u8005\u8868 EWT\u3000\u3000\u8ff7\u5bae\u5165\u308a\u8868 WMT\n\u3010\u8a2d\u5b9a\u6642\u3011\n\u80cc\u666f\u8868\n\u3000\u63a2\u5075\u3000\u904b\u547d\u306e\u8840\u7d71 BGDD\uff0f\u5929\u6027\u306e\u624d\u80fd BGDG\uff0f\u30de\u30cb\u30a2\u3000\u3000\u3000\u3000 BGDM\n\u3000\u52a9\u624b\u3000\u6b63\u7fa9\u306e\u4eba\u3000 BGAJ\uff0f\u60c5\u71b1\u306e\u4eba\u3000 BGAP\uff0f\u5dfb\u304d\u8fbc\u307e\u308c\u306e\u4eba BGAI\n\u8eab\u9577\u8868 HT\u3000\u3000\u305f\u307e\u308a\u5834\u8868 BT\u3000\u3000\u95a2\u4fc2\u8868 GRT\u3000\u3000\u601d\u3044\u51fa\u306e\u54c1\u6c7a\u5b9a\u8868 MIT\n\u8077\u696d\u8868A\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3\u7279\u5fb4\u8868A\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\u611f\u60c5\u8868A\uff0fB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\u597d\u304d\u306a\u3082\u306e\uff0f\u5acc\u3044\u306a\u3082\u306e\u8868A\u30fbB\u3000LDT66\u30fbLDT10\n\u547c\u3073\u540d\u8868A\u30fbB\u3000NCT66\u30fbNCT10\n"),t.def(m,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.d66_sort_type=h(S(d,"D66SortType"),"ASC")},o.$$arity=1),m.$register_prefix("(\\d+)?DT","(\\d+)?AS"),t.def(m,"$eval_game_system_specific_command",u=function(t){var e,n,r=this,a=T,$=T,i=T,o=T;return R(a=/^(\d+)?DT$/i.$match(t))?($=R(i=(e=a["$[]"](1))===T||null==e?T:A(e,"to_i",[]))?i:2,r.$roll_dt(t,$)):R(a=/^(\d+)?AS$/i.$match(t))?($=R(o=(n=a["$[]"](1))===T||null==n?T:A(n,"to_i",[]))?o:2,r.$roll_as(t,$)):r.$roll_tables(t,h(r.$class(),"TABLES"))},u.$$arity=1),m.$private(),t.const_set(d[0],"SUCCESS_THRESHOLD",4),t.const_set(d[0],"SPECIAL_DICE",6),t.def(m,"$roll_dt",s=function(a,$){var i,o,u=this,s=T,l=T;return i=(s=u.randomizer.$roll_barabara($,10)).$max(),l=R(e(i,1))?S(d,"Result").$fumble(u.$translate("FutariSousa.DT.fumble")):R(s["$include?"](S(d,"SPECIAL_DICE")))?S(d,"Result").$critical(u.$translate("FutariSousa.DT.special")):R(n(i,S(d,"SUCCESS_THRESHOLD")))?S(d,"Result").$success(u.$translate("success")):S(d,"Result").$failure(u.$translate("failure")),o=[a+"("+s.$join(",")+") \uff1e "+l.$text()],A(l,"text=",t.to_a(o)),r(o.length,1),l},s.$$arity=2),t.def(m,"$roll_as",l=function(a,$){var i,o,u=this,s=T,l=T;return i=(s=u.randomizer.$roll_barabara($,6)).$max(),l=R(e(i,1))?S(d,"Result").$fumble(u.$translate("FutariSousa.AS.fumble")):R(s["$include?"](S(d,"SPECIAL_DICE")))?S(d,"Result").$critical(u.$translate("FutariSousa.AS.special")):R(n(i,S(d,"SUCCESS_THRESHOLD")))?S(d,"Result").$success(u.$translate("FutariSousa.AS.success")):S(d,"Result").$failure(u.$translate("failure")),o=[a+"("+s.$join(",")+") \uff1e "+l.$text()],A(l,"text=",t.to_a(o)),r(o.length,1),l},l.$$arity=2),c=t.get_singleton_class(m),f=[c].concat(d),c.$private(),t.def(c,"$translate_tables",_=function(t){return v(["SHRD","SHFM","SHBT","SHPI","SHEG","SHWP","SHDS","SHFT","SHIN","SHEM","EVS","EVW","EVN","EVC","EVV","OBT","ACT","EWT","WMT","BGDD","BGDG","BGDM","BGAJ","BGAP","BGAI","HT","BT","GRT","MIT","JBT66","JBT10","FST66","FST10","LDT66","LDT10","FLT66","FLT10","NCT66","NCT10"],{SHRD:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRD",t),SHFM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFM",t),SHBT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHBT",t),SHPI:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHPI",t),SHEG:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEG",t),SHWP:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHWP",t),SHDS:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHDS",t),SHFT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFT",t),SHIN:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIN",t),SHEM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEM",t),EVS:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVS",t),EVW:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVW",t),EVN:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVN",t),EVC:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVC",t),EVV:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVV",t),OBT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.OBT",t),ACT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.ACT",t),EWT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EWT",t),WMT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.WMT",t),BGDD:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDD",t),BGDG:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDG",t),BGDM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDM",t),BGAJ:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAJ",t),BGAP:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAP",t),BGAI:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAI",t),HT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.HT",t),BT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BT",t),GRT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.GRT",t),MIT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.MIT",t),JBT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.JBT66",t),JBT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.JBT10",t),FST66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FST66",t),FST10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.FST10",t),LDT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.LDT66",t),LDT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.LDT10",t),FLT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FLT66",t),FLT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.FLT10",t),NCT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.NCT66",t),NCT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.NCT10",t)})},_.$$arity=1),t.const_set(d[0],"TABLES",m.$translate_tables("ja_jp")),m.$register_prefix(S(d,"TABLES").$keys())}(Opal)},49194:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/FutariSousa"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send,v=t.hash2;return a=y,$=b=[D(y[0],"BCDice")].concat(a),i=p=[D(b[0],"GameSystem")].concat($),m=g(p[0],S(p,"Base"),"FutariSousa"),d=[m].concat(i),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","FutariSousa"),t.const_set(d[0],"NAME","\u30d5\u30bf\u30ea\u30bd\u30a6\u30b5"),t.const_set(d[0],"SORT_KEY","\u3075\u305f\u308a\u305d\u3046\u3055"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u7528\u30b3\u30de\u30f3\u30c9\n\u63a2\u5075\u7528\uff1a\u3010DT\u3011\u202610\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103DT\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101DT\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u52a9\u624b\u7528\uff1a\u3010AS\u3011\u20266\u9762\u30c0\u30a4\u30b9\u30922\u3064\u632f\u3063\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002\u300e\u6709\u5229\u300f\u306a\u3089\u30103AS\u3011\u3001\u300e\u4e0d\u5229\u300f\u306a\u3089\u30101AS\u3011\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\n\u3010\u8abf\u67fb\u6642\u3011\n\u7570\u5e38\u306a\u7656\u6c7a\u5b9a\u8868 SHRD\n\u3000\u53e3\u304b\u3089\u51fa\u308b\u8868 SHFM\uff0f\u5f37\u5f15\u306a\u635c\u67fb\u8868\u3000\u3000\u3000 SHBT\uff0f\u3059\u3063\u3068\u307c\u3051\u8868\u3000 SHPI\n\u3000\u4e8b\u4ef6\u306b\u5922\u4e2d\u8868 SHEG\uff0f\u30d1\u30fc\u30c8\u30ca\u30fc\u3068\u2026\u2026\u8868 SHWP\uff0f\u4f55\u304b\u3057\u3066\u3044\u308b\u8868 SHDS\n\u3000\u5947\u60f3\u5929\u5916\u8868\u3000 SHFT\uff0f\u6025\u306a\u3072\u3089\u3081\u304d\u8868\u3000\u3000 SHIN\uff0f\u559c\u6012\u54c0\u697d\u8868\u3000\u3000 SHEM\n\u30a4\u30d9\u30f3\u30c8\u8868\n\u3000\u73fe\u5834\u306b\u3066\u3000 EVS\uff0f\u306a\u305c\uff1f\u3000 EVW\uff0f\u5354\u529b\u8005\u3068\u5171\u306b EVN\n\u3000\u5411\u3053\u3046\u304b\u3089 EVC\uff0fVS\u5bb9\u7591\u8005 EVV\n\u8abf\u67fb\u306e\u969c\u5bb3\u8868 OBT\u3000\u3000\u5909\u8abf\u8868 ACT\u3000\u3000\u76ee\u6483\u8005\u8868 EWT\u3000\u3000\u8ff7\u5bae\u5165\u308a\u8868 WMT\n\u3010\u8a2d\u5b9a\u6642\u3011\n\u80cc\u666f\u8868\n\u3000\u63a2\u5075\u3000\u904b\u547d\u306e\u8840\u7d71 BGDD\uff0f\u5929\u6027\u306e\u624d\u80fd BGDG\uff0f\u30de\u30cb\u30a2\u3000\u3000\u3000\u3000 BGDM\n\u3000\u52a9\u624b\u3000\u6b63\u7fa9\u306e\u4eba\u3000 BGAJ\uff0f\u60c5\u71b1\u306e\u4eba\u3000 BGAP\uff0f\u5dfb\u304d\u8fbc\u307e\u308c\u306e\u4eba BGAI\n\u8eab\u9577\u8868 HT\u3000\u3000\u305f\u307e\u308a\u5834\u8868 BT\u3000\u3000\u95a2\u4fc2\u8868 GRT\u3000\u3000\u601d\u3044\u51fa\u306e\u54c1\u6c7a\u5b9a\u8868 MIT\n\u8077\u696d\u8868A\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3\u7279\u5fb4\u8868A\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\u611f\u60c5\u8868A\uff0fB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\u597d\u304d\u306a\u3082\u306e\uff0f\u5acc\u3044\u306a\u3082\u306e\u8868A\u30fbB\u3000LDT66\u30fbLDT10\n\u547c\u3073\u540d\u8868A\u30fbB\u3000NCT66\u30fbNCT10\n"),t.def(m,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.d66_sort_type=h(S(d,"D66SortType"),"ASC")},o.$$arity=1),m.$register_prefix("(\\d+)?DT","(\\d+)?AS"),t.def(m,"$eval_game_system_specific_command",u=function(t){var e,n,r=this,a=T,$=T,i=T,o=T;return R(a=/^(\d+)?DT$/i.$match(t))?($=R(i=(e=a["$[]"](1))===T||null==e?T:A(e,"to_i",[]))?i:2,r.$roll_dt(t,$)):R(a=/^(\d+)?AS$/i.$match(t))?($=R(o=(n=a["$[]"](1))===T||null==n?T:A(n,"to_i",[]))?o:2,r.$roll_as(t,$)):r.$roll_tables(t,h(r.$class(),"TABLES"))},u.$$arity=1),m.$private(),t.const_set(d[0],"SUCCESS_THRESHOLD",4),t.const_set(d[0],"SPECIAL_DICE",6),t.def(m,"$roll_dt",s=function(a,$){var i,o,u=this,s=T,l=T;return i=(s=u.randomizer.$roll_barabara($,10)).$max(),l=R(e(i,1))?S(d,"Result").$fumble(u.$translate("FutariSousa.DT.fumble")):R(s["$include?"](S(d,"SPECIAL_DICE")))?S(d,"Result").$critical(u.$translate("FutariSousa.DT.special")):R(n(i,S(d,"SUCCESS_THRESHOLD")))?S(d,"Result").$success(u.$translate("success")):S(d,"Result").$failure(u.$translate("failure")),o=[a+"("+s.$join(",")+") \uff1e "+l.$text()],A(l,"text=",t.to_a(o)),r(o.length,1),l},s.$$arity=2),t.def(m,"$roll_as",l=function(a,$){var i,o,u=this,s=T,l=T;return i=(s=u.randomizer.$roll_barabara($,6)).$max(),l=R(e(i,1))?S(d,"Result").$fumble(u.$translate("FutariSousa.AS.fumble")):R(s["$include?"](S(d,"SPECIAL_DICE")))?S(d,"Result").$critical(u.$translate("FutariSousa.AS.special")):R(n(i,S(d,"SUCCESS_THRESHOLD")))?S(d,"Result").$success(u.$translate("FutariSousa.AS.success")):S(d,"Result").$failure(u.$translate("failure")),o=[a+"("+s.$join(",")+") \uff1e "+l.$text()],A(l,"text=",t.to_a(o)),r(o.length,1),l},l.$$arity=2),c=t.get_singleton_class(m),f=[c].concat(d),c.$private(),t.def(c,"$translate_tables",_=function(t){return v(["SHRD","SHFM","SHBT","SHPI","SHEG","SHWP","SHDS","SHFT","SHIN","SHEM","EVS","EVW","EVN","EVC","EVV","OBT","ACT","EWT","WMT","BGDD","BGDG","BGDM","BGAJ","BGAP","BGAI","HT","BT","GRT","MIT","JBT66","JBT10","FST66","FST10","LDT66","LDT10","FLT66","FLT10","NCT66","NCT10"],{SHRD:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHRD",t),SHFM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFM",t),SHBT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHBT",t),SHPI:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHPI",t),SHEG:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEG",t),SHWP:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHWP",t),SHDS:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHDS",t),SHFT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHFT",t),SHIN:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHIN",t),SHEM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.SHEM",t),EVS:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVS",t),EVW:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVW",t),EVN:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVN",t),EVC:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVC",t),EVV:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EVV",t),OBT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.OBT",t),ACT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.ACT",t),EWT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.EWT",t),WMT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.WMT",t),BGDD:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDD",t),BGDG:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDG",t),BGDM:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGDM",t),BGAJ:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAJ",t),BGAP:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAP",t),BGAI:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BGAI",t),HT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.HT",t),BT:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.BT",t),GRT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.GRT",t),MIT:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.MIT",t),JBT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.JBT66",t),JBT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.JBT10",t),FST66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FST66",t),FST10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.FST10",t),LDT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.LDT66",t),LDT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.LDT10",t),FLT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.FLT66",t),FLT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.FLT10",t),NCT66:h(S(f,"DiceTable"),"D66Table").$from_i18n("FutariSousa.table.NCT66",t),NCT10:h(S(f,"DiceTable"),"Table").$from_i18n("FutariSousa.table.NCT10",t)})},_.$$arity=1),t.const_set(d[0],"TABLES",m.$translate_tables("ja_jp")),void m.$register_prefix(S(d,"TABLES").$keys())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/FutariSousa"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"FutariSousa"),"FutariSousa_Korean")].concat(i),r.const_set(s[0],"ID","FutariSousa:Korean"),r.const_set(s[0],"NAME","\ub458\uc774\uc11c \uc218\uc0ac(\ud6c4\ud0c0\ub9ac\uc18c\uc6b0\uc0ac)"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub458\uc774\uc11c \uc218\uc0ac"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\ud310\uc815\uc6a9 \ucee4\ub9e8\ub4dc\n\ud0d0\uc815\uc6a9\uff1a\u3010DT\u3011\u202610\uba74\uccb4 \uc8fc\uc0ac\uc704\ub97c 2\uac1c \uad74\ub824 \ud310\uc815\ud569\ub2c8\ub2e4.\u300e\uc720\ub9ac\u300f\ub77c\uba74\u30103DT\u3011, \u300e\ubd88\ub9ac\u300f\ub77c\uba74\u30101DT\u3011\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\uc870\uc218\uc6a9\uff1a\u3010AS\u3011\u20266\uba74\uccb4 \uc8fc\uc0ac\uc704\ub97c 2\uac1c \uad74\ub824 \ud310\uc815\ud569\ub2c8\ub2e4. \u300e\uc720\ub9ac\u300f\ub77c\uba74\u30103AS\u3011, \u300e\ubd88\ub9ac\u300f\ub77c\uba74\u30101AS\u3011\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\u30fb\uac01\uc885\ud45c\n\u3010\uc870\uc0ac\u3011\n\uc774\uc0c1\ud55c \ubc84\ub987 \uacb0\uc815\ud45c SHRD\n\u3000\uc9c0\uaec4\uc774\ub2e4\ud45c  \u3000SHFM\uff0f\uac15\uc555\uc801\uc778 \uc218\uc0ac\ud45c \u3000SHBT\uff0f\uc2dc\uce58\ubbf8 \ub5bc\uae30\ud45c\u3000\u3000\u3000SHPI\n\u3000\uc0ac\uac74\uc5d0 \ubab0\ub450\ud45c SHEG\uff0f\ud30c\ud2b8\ub108\uc640\u2026\u2026\ud45c\u3000\u3000SHWP\uff0f\ubb34\uc5b8\uac00 \ud558\uace0 \uc788\ub2e4\ud45c SHDS\n\u3000\uae30\uc0c1\ucc9c\uc678\ud45c\u3000\u3000SHFT\uff0f\uac11\uc791\uc2a4\ub7f0 \ubc88\ub729\uc784\ud45c SHIN\uff0f\ud76c\ub178\uc560\ub77d\ud45c \u3000\u3000\u3000\u3000SHEM\n\uc774\ubca4\ud2b8\ud45c\n\u3000\ud604\uc7a5\uc5d0\uc11c\u3000 EVS\uff0f\uc5b4\uc9f8\uc11c?\u3000EVW\uff0f\ud611\ub825\uc790\uc640 \ud568\uaed8 EVN\n\u3000\uc0c1\ub300\ucabd\uc5d0\uc11c EVC\uff0fVS\uc6a9\uc758\uc790 EVV\n\uc870\uc0ac\uc758 \uc7a5\uc560\ud45c OBT\u3000\u3000\ubcc0\uc870\ud45c ACT\u3000\u3000\ubaa9\uaca9\uc790\ud45c EWT\u3000\u3000\ubbf8\uc81c\uc0ac\uac74\ud45c WMT\n\u3010\uc124\uc815\u3011\n\ubc30\uacbd\ud45c\n\u3000\ud0d0\uc815\u3000\uc6b4\uba85\uc758 \ud608\ud1b5 \u3000BGDD\uff0f\ucc9c\uc0c1\uc758 \uc7ac\ub2a5 \u3000BGDG\uff0f\ub9c8\ub2c8\uc544 \u3000\u3000 BGDM\n\u3000\uc870\uc218\u3000\uc815\uc758\ub85c\uc6b4 \uc0ac\ub78c BGAJ\uff0f\uc815\ub82c\uc801\uc778 \uc0ac\ub78c BGAP\uff0f\ub9d0\ub824\ub4e0 \uc0ac\ub78c BGAI\n\uc2e0\uc7a5\ud45c HT\u3000\u3000\uc544\uc9c0\ud2b8\ud45c BT\u3000\u3000\uad00\uacc4\ud45c GRT\u3000\u3000\ucd94\uc5b5\uc758 \ubb3c\uac74 \uacb0\uc815\ud45c MIT\n\uc9c1\uc5c5\ud45cA\u30fbB\u3000\u3000JBT66\u30fbJBT10\u3000\u3000\ud328\uc158 \ud2b9\uc9d5\ud45cA\u30fbB\u3000\u3000\u3000\u3000FST66\u30fbFST10\n\uac10\uc815\ud45cA\u30fbB\u3000\u3000FLT66\u30fbFLT10\u3000\u3000\uc88b\uc544\ud558\ub294 \uac83\uff0f\uc2eb\uc5b4\ud558\ub294 \uac83\ud45cA\u30fbB\u3000LDT66\u30fbLDT10\n\ud638\uce6d\ud45cA\u30fbB\u3000NCT66\u30fbNCT10\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr"))},84529:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b=[],y=t.nil,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.send,E=t.truthy;$=b,i=p=[h(b[0],"BCDice")].concat($),o=d=[h(p[0],"GameSystem")].concat(i),f=S(d[0],T(d,"Base"),"GehennaAn"),m=[f].concat(o),f.$$prototype.randomizer=y,t.const_set(m[0],"ID","GehennaAn"),t.const_set(m[0],"NAME","\u30b2\u30d8\u30ca\u30fb\u30a2\u30ca\u30b9\u30bf\u30b7\u30b9"),t.const_set(m[0],"SORT_KEY","\u3051\u3078\u306a\u3042\u306a\u3059\u305f\u3057\u3059"),t.const_set(m[0],"HELP_MESSAGE","\u6226\u95d8\u5224\u5b9a\u3068\u901a\u5e38\u5224\u5b9a\u306b\u5bfe\u5fdc\u3002\u5e78\u904b\u306e\u52a9\u3051\u3001\u9023\u6483\u5897\u52a0\u5024(\u6226\u95d8\u5224\u5b9a)\u3001\u95d8\u6280\u30c1\u30c3\u30c8(\u6226\u95d8\u5224\u5b9a)\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u6226\u95d8\u5224\u5b9a\u3000(nGAt+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3067\u6226\u95d8\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u5e78\u904b\u306e\u52a9\u3051\u3001\u9023\u6483\u5897\u52a0\u5024\u3001\u95d8\u6280\u30c1\u30c3\u30c8\u3092\u81ea\u52d5\u51e6\u7406\u3057\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u5224\u5b9a\u3000(nGt+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u76ee\u6a19\u5024t\u3001\u4fee\u6b63\u5024m\u3067\u901a\u5e38\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u5e78\u904b\u306e\u52a9\u3051\u3092\u81ea\u52d5\u51e6\u7406\u3057\u307e\u3059\u3002(\u9023\u6483\u5897\u52a0\u5024\u3001\u95d8\u6280\u30c1\u30c3\u30c8\u3092\u8868\u793a\u6291\u5236\u3057\u307e\u3059)\n"),f.$register_prefix("\\d+G\\d+","\\d+GA\\d+","\\d+R6"),t.def(f,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0},u.$$arity=1),f.$private(),t.def(f,"$replace_text",s=function(t){var e,n,r,a,$=this;return g(g(g(g(t,"gsub",[/(\d+)GA(\d+)([+\-][+\-\d]+)/],((e=function(){return T(m,"Regexp").$last_match(1)+"R6"+T(m,"Regexp").$last_match(3)+">="+T(m,"Regexp").$last_match(2)+"[1]"}).$$s=$,e.$$arity=0,e)),"gsub",[/(\d+)GA(\d+)/],((n=function(){return T(m,"Regexp").$last_match(1)+"R6>="+T(m,"Regexp").$last_match(2)+"[1]"}).$$s=$,n.$$arity=0,n)),"gsub",[/(\d+)G(\d+)([+\-][+\-\d]+)/],((r=function(){return T(m,"Regexp").$last_match(1)+"R6"+T(m,"Regexp").$last_match(3)+">="+T(m,"Regexp").$last_match(2)+"[0]"}).$$s=$,r.$$arity=0,r)),"gsub",[/(\d+)G(\d+)/],((a=function(){return T(m,"Regexp").$last_match(1)+"R6>="+T(m,"Regexp").$last_match(2)+"[0]"}).$$s=$,a.$$arity=0,a))},s.$$arity=1),f.$public(),t.def(f,"$eval_game_system_specific_command",l=function(t){var $,i,o=this,u=y,s=y,l=y,c=y,_=y,f=y,d=y,p=y,b=y,h=y,S=y,D=y,R=y,A=y;return t=o.$replace_text(t),E(/(^|\s)S?((\d+)[rR]6([+\-\d]+)?([>=]+(\d+))(\[(\d)\]))(\s|$)/i["$=~"](t))?(t=T(m,"Regexp").$last_match(2),u=T(m,"Regexp").$last_match(3).$to_i(),s=T(m,"Regexp").$last_match(4),l=T(m,"Regexp").$last_match(6).$to_i(),c=T(m,"Regexp").$last_match(8).$to_i(),_=T(m,"ArithmeticEvaluator").$eval(s),f=o.randomizer.$roll_barabara(u,6).$sort(),d=f.$sum(),p=f.$join(","),b="",h=!0,d=0,g(f,"each",[],(($=function(t){var r=y;return null==t&&(t=y),E(b["$!="](""))?E(E(r=b["$!="](t))?r:e(t,l))&&(h=!1):b=t,E(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,l))?d=n(d,1):y}).$$s=o,$.$$arity=1,$)),E(E(S=h)?r(u,1):S)&&(d="number"==typeof(i=d)?2*i:i["$*"](2)),D=d+"["+p+"]",R=n(d,_),E(e(R,0))&&(R=0),A=a(u,d),E(e(A,0))&&(A=0),E(r(_,0))?D=n(D,"+"+_):E(e(_,0))&&(D=n(D,_.$to_s())),D=n(D=E(/[^\d\[\]]+/["$=~"](D))?"("+t+") \uff1e "+D+" \uff1e \u6210\u529f"+R+"\u3001\u5931\u6557"+A:"("+t+") \uff1e "+D,o.$getAnastasisBonusText(c,R))):y},l.$$arity=1),f.$private(),t.def(f,"$getAnastasisBonusText",c=function(t,e){var $,i=y,o=y;return t["$=="](0)?"":(i=($=a(e,1),"number"==typeof $?$/2:$["$/"](2)).$to_i(),E(r(i,7))&&(i=7),o="",E(r(i,0))&&(o=n(o,"\u9023\u6483[+"+i+"]/"))," \uff1e "+(o=n(o,"\u95d8\u6280["+this.$getTougiBonus(e)+"]")))},c.$$arity=2),t.def(f,"$getTougiBonus",_=function(t){return this.$get_table_by_number(t,[[6,"1"],[13,"2"],[18,"3"],[22,"4"],[99,"5"]])},_.$$arity=1)}(Opal)},68818:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g,E;n(93683),r=Opal,T=r.nil,h=r.$$,D=r.klass,g=r.truthy,E=r.hash,a=y=[],$=b=[(S=r.module)(y[0],"BCDice")].concat(a),i=p=[S(b[0],"GameSystem")].concat($),m=D(p[0],h(p,"Base"),"GeishaGirlwithKatana"),d=[m].concat(i),m.$$prototype.randomizer=T,r.const_set(d[0],"ID","GeishaGirlwithKatana"),r.const_set(d[0],"NAME","\u30b2\u30a4\u30b7\u30e3\u30fb\u30ac\u30fc\u30eb\u30fb\u30a6\u30a3\u30ba\u30fb\u30ab\u30bf\u30ca"),r.const_set(d[0],"SORT_KEY","\u3051\u3044\u3057\u3084\u304b\u3042\u308b\u3046\u3044\u3059\u304b\u305f\u306a"),r.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a (GK#n)\n  \u5f79\u3084\u30c1\u30e7\u30e0\u30d0\u3092\u542b\u3081\u30661\u56de\u5206\u306e\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u5f79\u306f\u3000\uff08\u901a\u5e38\u5224\u5b9a\uff09\uff0f\uff08\u6226\u95d8\u6642\uff09\u3000\u306e\u9806\u3067\u4e21\u65b9\u51fa\u529b\u3055\u308c\u307e\u3059\u3002\n  GK \u306e\u307f\u306e\u5834\u54085%\u306e\u78ba\u7387\u3067\u30c1\u30e7\u30e0\u30d0\u307e\u3059\u3002\n  GK#3 \u306e\u69d8\u306b #n \u3092\u3064\u3051\u308b\u3053\u3068\u306b\u3088\u3063\u3066\u30c1\u30e7\u30e0\u30d0\u306e\u78ba\u7387\u3092n%\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u3000\u4f8b\uff09GK\u3000GK#10\n\u30fb\u96a0\u3057\u30b3\u30de\u30f3\u30c9 (GL)\n  \u5fc5\u305a\u30c1\u30e7\u30e0\u30d0\u3057\u307e\u3059\u3002GM\u304c\u7a7a\u6c17\u3092\u8aad\u3093\u3067\u30c1\u30e7\u30e0\u30d0\u3055\u305b\u305f\u3044\u3068\u304d\u3084\u3001\n  GK\u30b3\u30de\u30f3\u30c9\u3092\u6253\u3061\u9593\u9055\u3048\u3066\u30c1\u30e7\u30e0\u30d0\u3059\u308b\u3092\u60f3\u5b9a\u3057\u3066\u307e\u3059\u3002\n\u3000\u4f8b\uff09GL\n"),m.$register_prefix("GK","GL"),r.def(m,"$eval_game_system_specific_command",o=function(t){var e,n,a=this,$=T,i=T,o=T,u=T,s=T,l=T,c=T;return $=T,g(/^GL$/i["$=~"](t))?a.$getChombaResultText():g(/^GK(#(\d+))?$/i["$=~"](t))?(i=h(d,"Regexp").$last_match(2),g(a.$isChomba(i))?a.$getChombaResultText():(o=a.randomizer.$roll_barabara(3,6).$sort(),u=a.$getYaku(o),g(u["$nil?"]())?(n=a.$getDemeZorome(o),l=null==(e=r.to_ary(n))[1]?T:e[1],(s=null==e[0]?T:e[0])["$=="](0)?a.$getResultTextByDice(o,"\u5931\u6557"):(c=l["$=="](1)?" YP\u304c1\u5897\u52a0":"",$=a.$getResultTextByDice(o,"\u9054\u6210\u5024"+s+c),a.$debug("getGGwKResult(command) result",$),$)):a.$getResultTextByDice(o,"\u3010\u5f79\u3011"+u))):$},o.$$arity=1),r.def(m,"$isChomba",u=function(t){var e;return t=(t=g(e=t)?e:5).$to_i(),function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(this.randomizer.$roll_once(100),t)},u.$$arity=1),r.def(m,"$getChombaResultText",s=function(){return this.$getResultText("\u30c1\u30e7\u30e0\u30d0\uff01\uff01")},s.$$arity=0),r.def(m,"$getYaku",l=function(t){return E([1,2,3],"\u81ea\u52d5\u5931\u6557\uff0f\u81ea\u5206\u306e\u88c5\u7532\u52b9\u679c\u7121\u3057\u3067\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u3066\u3057\u307e\u3046",[4,5,6],"\u81ea\u52d5\u6210\u529f\uff0f\u6575\u306e\u88c5\u7532\u3092\u7121\u8996\u3057\u3066\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u308b",[1,1,1],"10\u500d\u6210\u529f YP\u304c10\u5897\u52a0\uff0f10\u500d\u30c0\u30e1\u30fc\u30b8 YP\u304c10\u5897\u52a0",[2,2,2],"2\u500d\u6210\u529f\uff0f2\u500d\u30c0\u30e1\u30fc\u30b8",[3,3,3],"3\u500d\u6210\u529f\uff0f3\u500d\u30c0\u30e1\u30fc\u30b8",[4,4,4],"4\u500d\u6210\u529f\uff0f4\u500d\u30c0\u30e1\u30fc\u30b8",[5,5,5],"5\u500d\u6210\u529f\uff0f5\u500d\u30c0\u30e1\u30fc\u30b8",[6,6,6],"6\u500d\u6210\u529f\uff0f6\u500d\u30c0\u30e1\u30fc\u30b8")["$[]"](t)},l.$$arity=1),r.def(m,"$getDemeZorome",c=function(t){var e=T,n=T;return e=0,n=0,t["$[]"](0)["$=="](t["$[]"](1))?(e=t["$[]"](2),n=t["$[]"](0)):t["$[]"](1)["$=="](t["$[]"](2))&&(e=t["$[]"](0),n=t["$[]"](1)),[e,n]},c.$$arity=1),r.def(m,"$getResultTextByDice",_=function(t,e){return this.$getResultText(t.$join(",")+" \uff1e "+e)},_.$$arity=2),r.def(m,"$getResultText",f=function(t){return"(3B6) \uff1e "+t},f.$$arity=1)},42585:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$$,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.truthy;r=p,a=d=[h(p[0],"BCDice")].concat(r),$=m=[h(d[0],"GameSystem")].concat(a),_=S(m[0],T(m,"Base"),"GoblinSlayer"),f=[_].concat($),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","GoblinSlayer"),t.const_set(f[0],"NAME","\u30b4\u30d6\u30ea\u30f3\u30b9\u30ec\u30a4\u30e4\u30fcTRPG"),t.const_set(f[0],"SORT_KEY","\u3053\u3075\u308a\u3093\u3059\u308c\u3044\u3084\u3042TRPG"),t.const_set(f[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000GS(x)>=y\n\u30002d6\u306e\u5224\u5b9a\u3092\u884c\u3044\u3001\u9054\u6210\u5024\u3092\u51fa\u529b\u3057\u307e\u3059\u3002\n\u3000x\u306f\u57fa\u6e96\u5024\u3001y\u306f\u76ee\u6a19\u5024\u3067\u3059\u3002\u3044\u305a\u308c\u3082\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000y\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u5927\u6210\u529f/\u6210\u529f/\u5931\u6557/\u5927\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09GS>=12\u3000GS>10\u3000GS(10)>14\u3000GS+10>=15\u3000GS10>=15\u3000GS(10)\u3000GS+10\u3000GS10\u3000GS\n\n\u30fb\u7948\u5ff5\u3000MCPI(n)$m\n\u3000\u7948\u5ff5\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000n\u306f\u3010\u5e78\u904b\u3011\u306a\u3069\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3067\u3059\u3002\u3053\u306e\u5024\u306f\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002\n\u3000m\u306f\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3067\u3059\u3002\n\u3000\u56e0\u679c\u70b9\u306e\u73fe\u5728\u5024\u3092\u4f7f\u7528\u3057\u3066\u7948\u5ff5\u3092\u884c\u3044\u3001\u6210\u529f/\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n\u3000\u4f8b\uff09MCPI$3\u3000MCPI(1)$4\u3000MCPI+2$5\u3000MCPI2$6\n\n\u30fb\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9\u3000DB(n)\n\u3000\u30c0\u30e1\u30fc\u30b8\u52b9\u529b\u8868\u306b\u3088\u308b\u5a01\u529b\u3078\u306e\u30dc\u30fc\u30ca\u30b9\u3092\u81ea\u52d5\u3067\u6c42\u3081\u307e\u3059\u3002\n\u3000n\u306f\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u3067\u3059\u3002\n\u3000\u4f8b\uff09DB(15)\u3000DB12\n\n\u203b\u4e0a\u8a18\u30b3\u30de\u30f3\u30c9\u306e\u8a08\u7b97\u5185\u3067\u5272\u308a\u7b97\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u4e0a\u3052\u3055\u308c\u307e\u3059\u3002\n\u3000\u305f\u3060\u3057\u30c0\u30a4\u30b9\u51fa\u76ee\u3092\u5272\u308a\u7b97\u3057\u305f\u5834\u5408\u3001\u5c0f\u6570\u70b9\u4ee5\u4e0b\u306f\u5207\u308a\u6368\u3066\u3055\u308c\u307e\u3059\u3002\n\u3000\u4f8b\uff09\u5165\u529b\uff1aGS(8+3/2)\u3000\u5b9f\u884c\u7d50\u679c\uff1a(GS10) \uff1e 10 + 3[1,2] \uff1e 13\n\u3000\u3000\u3000\u5165\u529b\uff1a2d6/2    \u3000\u5b9f\u884c\u7d50\u679c\uff1a(2D6/2) \uff1e 3[1,2]/2 \uff1e 1\n\n\u203bMCPI\u3067\u306f\u3001\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30c0\u30a4\u30b9\u3092\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\n"),_.$register_prefix("GS","^MCPI.*$","DB"),t.def(_,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.round_type=y(T(f,"RoundType"),"CEIL")},i.$$arity=1),t.def(_,"$eval_game_system_specific_command",o=function(t){var e,n=this;return/^GS/i["$==="](e=t)?n.$getCheckResult(t):/^MCPI/i["$==="](e)?n.$murmurChantPrayInvoke(t):/^DB/i["$==="](e)?n.$damageBonus(t):b},o.$$arity=1),t.def(_,"$getCheckResult",u=function(t){var n,r=b,a=b,$=b,i=b,o=b,u=b,s=b,l=b,c=b,_=b,f=b,m=b,d=b,p=b,y=b;return r=/^GS([-+]?\d+)?((>=?)(\d+))?$/i.$match(t),g(r)?(a=r["$[]"](1).$to_i(),$=r["$[]"](4).$to_i(),i=g(o=r["$[]"](2)["$nil?"]())?o:"number"==typeof(n=$)?n<=0:n["$<="](0),u=r["$[]"](3),l=(s=this.randomizer.$roll_barabara(2,6)).$sum(),c=s.$join(","),_=e(a,l),f=c["$=="]("1,1"),m=c["$=="]("6,6"),d=" \uff1e "+this.$resultStr(_,$,u,f,m),g(g(p=g(y=i)?f["$!"]():y)?m["$!"]():p)&&(d=""),"("+t+") \uff1e "+(a["$=="](0)?"":a+" + ")+l+"["+c+"] \uff1e "+_+d):b},u.$$arity=1),t.def(_,"$murmurChantPrayInvoke",s=function(t){var r=b,a=b,$=b,i=b,o=b,u=b,s=b,l=b,c=b;return r=/^MCPI(\+?\d+)?\$(\d+)$/i.$match(t),g(r)?(a=r["$[]"](1).$to_i(),$=r["$[]"](2).$to_i(),g(n($,12))?"\u56e0\u679c\u70b9\u304c12\u70b9\u4ee5\u4e0a\u306e\u5834\u5408\u3001\u56e0\u679c\u70b9\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002":(o=(i=this.randomizer.$roll_barabara(2,6)).$sum(),u=i.$join(","),s=e(o,a),l=" \uff1e "+this.$resultStr(s,$,">=",!1,!1),"\u7948\u5ff5(2d6"+(c=a["$=="](0)?"":"+"+a)+") \uff1e "+o+"["+u+"]"+c+" \uff1e "+s+l+", \u56e0\u679c\u70b9\uff1a"+$+"\u70b9 \u2192 "+e($,1)+"\u70b9")):b},s.$$arity=1),t.def(_,"$damageBonus",l=function(t){var r,a=b,$=b,i=b,o=b,u=b,s=b;return a=/^DB(\d+)$/i.$match(t),g(a)?($=a["$[]"](1).$to_i(),i="\u547d\u4e2d\u5224\u5b9a\u306e\u52b9\u529b\u5024\u306b\u3088\u308b\u30dc\u30fc\u30ca\u30b9 \uff1e ",g("number"==typeof(r=$)?r<15:r["$<"](15))?e(i,"\u306a\u3057"):(o=g(n($,40))?5:g(n($,30))?4:g(n($,25))?3:g(n($,20))?2:1,e(i,(s=(u=this.randomizer.$roll_barabara(o,6)).$sum())+"["+u.$join(",")+"] \uff1e "+s))):b},l.$$arity=1),t.def(_,"$resultStr",c=function(t,e,r,a,$){return g(a)?"\u5927\u5931\u6557":g($)?"\u5927\u6210\u529f":r["$=="](">=")?g(n(t,e))?"\u6210\u529f":"\u5931\u6557":g(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(t,e))?"\u6210\u529f":"\u5931\u6557"},c.$$arity=5)}(Opal)},80892:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.send2,y=t.truthy;n=_,r=c=[d(_[0],"BCDice")].concat(n),a=l=[d(c[0],"GameSystem")].concat(r),s=[u=p(l[0],m(l,"Base"),"GoldenSkyStories")].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","GoldenSkyStories"),t.const_set(s[0],"NAME","\u3086\u3046\u3084\u3051\u3053\u3084\u3051"),t.const_set(s[0],"SORT_KEY","\u3086\u3046\u3084\u3051\u3053\u3084\u3051"),t.const_set(s[0],"HELP_MESSAGE","\u203b\u300c\u3086\u3046\u3084\u3051\u3053\u3084\u3051\u300d\u306f\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u306a\u3044\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002\n\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u30fb\u4e0b\u99c4\u5360\u3044 (GETA)\n  \u3042\u30fc\u3057\u305f\u3066\u3093\u304d\u306b\u306a\u30fc\u308c\n"),u.$register_prefix("geta"),t.def(u,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),b(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.enabled_upcase_input=!1},$.$$arity=1),t.def(u,"$eval_game_system_specific_command",i=function(t){var e=f;return this.$debug("eval_game_system_specific_command command",t),e="",/geta/i["$==="](t)&&(e=this.$getaRoll()),y(e["$empty?"]())?f:t+" \uff1e "+e},i.$$arity=1),t.def(u,"$getaRoll",o=function(){var t,n,r=f,a=f;return r="",t=this.randomizer.$roll_once(7),r=e(r,"\u4e0b\u99c4\u5360\u3044 \uff1e "),a="",1["$==="](n=t)?a="\u88cf\uff1a\u3042\u3081":2["$==="](n)?a="\u8868\uff1a\u306f\u308c":3["$==="](n)?a="\u88cf\uff1a\u3042\u3081":4["$==="](n)?a="\u8868\uff1a\u306f\u308c":5["$==="](n)?a="\u88cf\uff1a\u3042\u3081":6["$==="](n)?a="\u8868\uff1a\u306f\u308c":7["$==="](n)&&(a="\u6a2a\uff1a\u304f\u3082\u308a"),e(r,a)},o.$$arity=0)}(Opal)},19297:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y;n(93683),r=Opal,m=r.nil,d=r.$$,b=r.klass,y=r.send,a=f=[],$=_=[(p=r.module)(f[0],"BCDice")].concat(a),i=c=[p(_[0],"GameSystem")].concat($),s=b(c[0],d(c,"Base"),"Gorilla"),l=[s].concat(i),r.const_set(l[0],"ID","Gorilla"),r.const_set(l[0],"NAME","\u30b4\u30ea\u30e9TRPG"),r.const_set(l[0],"SORT_KEY","\u3053\u308a\u3089TRPG"),r.const_set(l[0],"HELP_MESSAGE","2D6\u30ed\u30fc\u30eb\u6642\u306e\u30b4\u30ea\u30c6\u30a3\u30ab\u30eb\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\nG = 2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\n\n\u4f8b) G>=7 : 2D6\u3057\u30667\u4ee5\u4e0a\u306a\u3089\u6210\u529f\n"),s.$register_prefix("G"),r.def(s,"$change_text",o=function(t){var e;return y(t,"gsub",[/^(S)?G/i],((e=function(){return d(l,"Regexp").$last_match(1)+"2D6"}).$$s=this,e.$$arity=0,e))},o.$$arity=1),r.def(s,"$result_2d6",u=function(t,e,n,r,a){return n["$=="]([5,5])?d(l,"Result").$critical("\u30b4\u30ea\u30c6\u30a3\u30ab\u30eb\uff08\u81ea\u52d5\u7684\u6210\u529f\uff09"):m},u.$$arity=5)},84854:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.send2,y=t.truthy;r=_,a=c=[d(_[0],"BCDice")].concat(r),$=l=[d(c[0],"GameSystem")].concat(a),u=p(l[0],m(l,"Base"),"Gundog"),s=[u].concat($),t.const_set(s[0],"ID","Gundog"),t.const_set(s[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0"),t.const_set(s[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f"),t.const_set(s[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n"),t.def(u,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),b(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.enabled_d9=!0},i.$$arity=1),t.def(u,"$result_1d100",o=function(t,r,a,$){var i,o=f,u=f;return a["$=="]("<=")?y(e(t,100))?m(s,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):y(n(t,1))?m(s,"Result").$critical("\u7d76\u5bfe\u6210\u529f(\u9054\u6210\u50241+SL)"):$["$=="]("?")?m(s,"Result").$nothing():y(n(t,$))?(u=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,function(t,e){return"number"==typeof t?10*t:t["$*"](10)}(o=(i=t,"number"==typeof i?i/10:i["$/"](10)).$to_i())),y(e(o,10))&&(o=0),y(e(u,10))&&(u=0),y(n(u,0))?m(s,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):m(s,"Result").$success("\u6210\u529f(\u9054\u6210\u5024"+function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(o,u)+"+SL)")):m(s,"Result").$failure("\u5931\u6557"):f},o.$$arity=4)}(Opal)},83493:function(t,e,n){n(93683),Opal.modules["bcdice/game_system/Gundog"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.send2,y=t.truthy;return r=_,a=c=[d(_[0],"BCDice")].concat(r),$=l=[d(c[0],"GameSystem")].concat(a),u=p(l[0],m(l,"Base"),"Gundog"),s=[u].concat($),t.const_set(s[0],"ID","Gundog"),t.const_set(s[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0"),t.const_set(s[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f"),t.const_set(s[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n"),t.def(u,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),b(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.enabled_d9=!0},i.$$arity=1),void t.def(u,"$result_1d100",o=function(t,r,a,$){var i,o=f,u=f;return a["$=="]("<=")?y(e(t,100))?m(s,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):y(n(t,1))?m(s,"Result").$critical("\u7d76\u5bfe\u6210\u529f(\u9054\u6210\u50241+SL)"):$["$=="]("?")?m(s,"Result").$nothing():y(n(t,$))?(u=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,function(t,e){return"number"==typeof t?10*t:t["$*"](10)}(o=(i=t,"number"==typeof i?i/10:i["$/"](10)).$to_i())),y(e(o,10))&&(o=0),y(e(u,10))&&(u=0),y(n(u,0))?m(s,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(\u9054\u6210\u502420+SL)"):m(s,"Result").$success("\u6210\u529f(\u9054\u6210\u5024"+function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(o,u)+"+SL)")):m(s,"Result").$failure("\u5931\u6557"):f},o.$$arity=4)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.truthy;t.top.$require("bcdice/game_system/Gundog"),n=_,r=c=[d(_[0],"BCDice")].concat(n),a=l=[d(c[0],"GameSystem")].concat(r),u=p(l[0],m(l,"Gundog"),"GundogZero"),s=[u].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","GundogZero"),t.const_set(s[0],"NAME","\u30ac\u30f3\u30c9\u30c3\u30b0\u30bc\u30ed"),t.const_set(s[0],"SORT_KEY","\u304b\u3093\u3068\u3064\u304f\u305b\u308d"),t.const_set(s[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3068\u30ed\u30fc\u30eb\u306e\u9054\u6210\u5024\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\nnD9\u30ed\u30fc\u30eb\u3082\u5bfe\u5fdc\u3002\n\u30fb\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u8868\u3000\u3000(\u301cDPTx) (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SDPT)\u3001\u683c\u95d8(MDPT)\u3001\u8eca\u4e21(VDPT)\u3001\u6c4e\u7528(GDPT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\u3000\u3000\u3000\u3000\u3000\u3000(\u301cFTx)  (x:\u4fee\u6b63)\n\u3000\u5c04\u6483(SFT)\u3001\u683c\u95d8(MFT)\u3001\u6295\u64f2(TFT)\u306e\u5404\u8868\u3092\u5f15\u304f\u3053\u3068\u304c\u51fa\u6765\u307e\u3059\u3002\n\u3000\u4fee\u6b63\u3092\u5f8c\u308d\u306b\u66f8\u304f\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002\n"),u.$register_prefix(".DPT",".FT"),t.def(u,"$eval_game_system_specific_command",$=function(n){var r,a,$,i,o=this,u=f,l=f,c=f,_=f,d=f,p=f,y=f;return $=n.$upcase(),u=[],l="",c="",_=0,b(/(\w)DPT([+\-\d]*)/i["$=~"]($))&&(l="\u30c0\u30e1\u30fc\u30b8\u30da\u30ca\u30eb\u30c6\u30a3\u30fc",d=m(s,"Regexp").$last_match(1),b(m(s,"Regexp").$last_match(2))&&(_=m(s,"ArithmeticEvaluator").$eval(m(s,"Regexp").$last_match(2))),a=o.$getDamageTypeAndTable(d),c=null==(r=t.to_ary(a))[0]?f:r[0],u=null==r[1]?f:r[1]),b(/(\w)FT([+\-\d]*)/i["$=~"]($))&&(l="\u30d5\u30a1\u30f3\u30d6\u30eb",d=m(s,"Regexp").$last_match(1),b(m(s,"Regexp").$last_match(2))&&(_=m(s,"ArithmeticEvaluator").$eval(m(s,"Regexp").$last_match(2))),a=o.$getFumbleTypeAndTable(d),c=null==(r=t.to_ary(a))[0]?f:r[0],u=null==r[1]?f:r[1]),b(c["$empty?"]())?"1":(y=p=e(e(o.randomizer.$roll_index(10),o.randomizer.$roll_index(10)),_),b("number"==typeof(i=p)?i<0:i["$<"](0))&&(p=0),b(function(t,e){return"number"==typeof t?t>18:t["$>"](18)}(p))&&(p=18),""+c+l+"\u8868["+y+"] \uff1e "+u["$[]"](p))},$.$$arity=1),t.def(u,"$getDamageTypeAndTable",i=function(e){var n,r,a,$=f,i=f;return"S"["$==="](a=e)?($="\u5c04\u6483",i=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-10\uff05","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):"M"["$==="](a)?($="\u683c\u95d8",i=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]15","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-10\uff05","\u624b\u306b\u6301\u3063\u305f\u6b66\u5668\u3092\u843d\u3068\u3059","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):"V"["$==="](a)?($="\u8eca\u4e21",i=["[\u30af\u30e9\u30c3\u30b7\u30e5]\u3059\u308b\u3002[\u30c1\u30a7\u30a4\u30b9]\u304b\u3089\u9664\u5916","[\u4e57\u54e1D]3D6/[\u64cd\u7e26\u6027]-20\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u64cd\u7e26\u6027]-20\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u6027]-10\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u6027]-10\uff05/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]3D6/[\u30b9\u30d4\u30fc\u30c9]-2/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-1/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u30b9\u30d4\u30fc\u30c9]-1/[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20\uff05","[\u4e57\u54e1D]2D6/[\u64cd\u7e26\u5224\u5b9a]-20\uff05","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-10\uff05","[\u4e57\u54e1D]1D6/[\u64cd\u7e26\u5224\u5b9a]-10\uff05","[\u30b9\u30d4\u30f3\u5224\u5b9a]","[\u30b9\u30d4\u30f3\u5224\u5b9a]","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u4e57\u54e1\u306b[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):"G"["$==="](a)?($="\u6c4e\u7528",i=["\u5bfe\u8c61\u306f[\u6b7b\u4ea1]","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]18","[\u8ffd\u52a0D]4D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]16","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]2D6/[\u91cd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]14","[\u8ffd\u52a0D]3D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u51fa\u8840]1D6/[\u91cd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]12","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]10","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-30\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]8","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]2D6/[\u8efd\u50b7]-10\uff05/[\u6726\u6727\u5224\u5b9a]6","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05/[\u6726\u6727\u5224\u5b9a]4","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-20\uff05","[\u8ffd\u52a0D]1D6/[\u8efd\u50b7]-10\uff05","[\u8efd\u50b7]-20\uff05","[\u8efd\u50b7]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(r=this.$getDamageTypeAndTable(e="S"),$=null==(n=t.to_ary(r))[0]?f:n[0],i=null==n[1]?f:n[1]),[$,i]},i.$$arity=1),t.def(u,"$getFumbleTypeAndTable",o=function(e){var n,r,a,$=f,i=f;return"S"["$==="](a=e)?($="\u5c04\u6483",i=["\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u9283\u5668\u304c\u66b4\u767a\u3001\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u8aa4\u5c04\u3002\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u8aa4\u5c04\u3002\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u9283\u5668\u304c\u5b8c\u5168\u306b\u6545\u969c","\u9283\u5668\u304c\u5b8c\u5168\u306b\u6545\u969c","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u6545\u969c\u3002\u3008\u30e1\u30ab\u30cb\u30c3\u30af\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u30922\u56de\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u30922\u56de\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u4f5c\u52d5\u4e0d\u826f\u3002[\u30a2\u30a4\u30c6\u30e0\u4f7f\u7528]\u3092\u884c\u3063\u3066\u4fee\u7406\u3059\u308b\u307e\u3067\u5c04\u6483\u4e0d\u53ef","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):"M"["$==="](a)?($="\u683c\u95d8",i=["\u907f\u3051\u3089\u308c\u3066[\u8ee2\u5012]\u3001[\u6726\u6727]\u72b6\u614b","\u30e9\u30f3\u30c0\u30e0\u306b[\u81f3\u8fd1\u8ddd\u96e2]\u306e\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b[\u81f3\u8fd1\u8ddd\u96e2]\u306e\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u6b66\u5668\u304c\u30ac\u30bf\u3064\u304f\u3002\u3008\u624b\u5148\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef","\u6b66\u5668\u304c\u30ac\u30bf\u3064\u304f\u3002\u3008\u624b\u5148\u3009\u5224\u5b9a\u306b\u6210\u529f\u3059\u308b\u307e\u3067\u4f7f\u7528\u4e0d\u53ef","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-30\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-30\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-20\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-10\uff05","\u7121\u7406\u306a\u59ff\u52e2\u3067\u7b4b\u3092\u4f38\u3070\u3059\u3002[\u8efd\u50b7]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):"T"["$==="](a)?($="\u6295\u64f2",i=["[\u8ee2\u5012]\u3001[\u6726\u6727]\u72b6\u614b","\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u8cab\u901aD]","\u81ea\u5206\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u30e9\u30f3\u30c0\u30e0\u306b\u5473\u65b9(\u5c45\u306a\u3051\u308c\u3070\u81ea\u5206)\u306b\u547d\u4e2d\u3002[\u975e\u8cab\u901aD]","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u6b66\u5668\u304c\u5b8c\u5168\u306b\u58ca\u308c\u308b","\u8170\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-30\uff05","\u80a9\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u80a9\u3092\u75db\u3081\u308b\u3002[\u8efd\u50b7]-20\uff05","\u8098\u306b\u9055\u548c\u611f\u3002[\u8efd\u50b7]-10\uff05","\u8098\u306b\u9055\u548c\u611f\u3002[\u8efd\u50b7]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u4e0d\u5b89\u5b9a]","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-20\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u59ff\u52e2\u3092\u5d29\u3059\u3002[\u30b7\u30e7\u30c3\u30af]-10\uff05","\u30da\u30ca\u30eb\u30c6\u30a3\u30fc\u7121\u3057"]):(r=this.$getFumbleTypeAndTable(e="S"),$=null==(n=t.to_ary(r))[0]?f:n[0],i=null==n[1]?f:n[1]),[$,i]},o.$$arity=1)}(Opal)},76629:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy;n=y,r=b=[S(y[0],"BCDice")].concat(n),a=p=[S(b[0],"GameSystem")].concat(r),m=D(p[0],h(p,"Base"),"HarnMaster"),d=[m].concat(a),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","HarnMaster"),t.const_set(d[0],"NAME","\u30cf\u30fc\u30f3\u30de\u30b9\u30bf\u30fc"),t.const_set(d[0],"SORT_KEY","\u306f\u3042\u3093\u307e\u3059\u305f\u3042"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u30001D100<=XX \u306e\u5224\u5b9a\u6642\u306b\u81f4\u547d\u7684\u5931\u6557\u30fb\u6c7a\u5b9a\u7684\u6210\u529f\u3092\u5224\u5b9a\n\u30fb\u30b7\u30e7\u30c3\u30af\u5224\u5b9a\uff08SHKx\uff09\n\u3000\u4f8b\uff09SHK13,3\n\u30fb\u4eba\u578b\u7528\u3000\u4e2d\u6bb5\u547d\u4e2d\u90e8\u4f4d\u8868 (SLH)\uff0f\u4e0a\u6bb5\u547d\u4e2d\u90e8\u4f4d (SLHU)\uff0f\u4e0a\u6bb5\u547d\u4e2d\u90e8\u4f4d (SLHD)\n"),m.$register_prefix("SHK","SLH","SLHU","SLHD"),t.def(m,"$result_1d100",$=function(t,n,r,a){return a["$=="]("?")?h(d,"Result").$nothing():r["$=="]("<=")?g(e(t,a))?t["$%"](5)["$=="](0)?h(d,"Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):h(d,"Result").$success("\u6210\u529f"):t["$%"](5)["$=="](0)?h(d,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):h(d,"Result").$failure("\u5931\u6557"):T},$.$$arity=4),t.def(m,"$eval_game_system_specific_command",i=function(e){var n=T,r=T,a=T,$=T,i=T,o=T;try{return n=T,/^SHK(\d*),(\d+)/i["$==="](r=e)?(a=h(d,"Regexp").$last_match(1).$to_i(),$=h(d,"Regexp").$last_match(2).$to_i(),n=this.$getCheckShockResult($,a)):/SLH(U|D)?/i["$==="](r)?(i=h(d,"Regexp").$last_match(1),n=this.$getStrikeLocationHuman(i)):n=T,n}catch(u){if(!t.rescue(u,[h(d,"StandardError")]))throw u;o=u;try{return o.$message()}finally{t.pop_exception()}}},i.$$arity=1),t.def(m,"$getCheckShockResult",o=function(t,n){var r,a=T;return"\u30b7\u30e7\u30c3\u30af\u5224\u5b9a(\u30c0\u30e1\u30fc\u30b8:"+t+", \u8010\u4e45\u529b:"+n+") \uff1e ("+(r=(a=this.randomizer.$roll_barabara(t,6)).$sum())+"["+a.$join(",")+"]) \uff1e "+(g(e(r,n))?"\u6210\u529f":"\u5931\u6557")},o.$$arity=2),t.def(m,"$getStrikeLocationHuman",u=function(t){var e,n,r=this,a=T,$=T,i=T;return a="",$=T,"U"["$==="](e=t)?(a="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e0a\u6bb5)",$=r.$getStrikeLocationHumanUpperTable()):"D"["$==="](e)?(a="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e0b\u6bb5)",$=r.$getStrikeLocationHumanDownTable()):T["$==="](e)?(a="\u547d\u4e2d\u90e8\u4f4d(\u4eba\u578b \u4e2d\u6bb5)",$=r.$getStrikeLocationHumanNormalTable()):r.$raise("unknow atak type "+t),n=r.randomizer.$roll_once(100),i=r.$get_table_by_number(n,$),i=r.$getLocationSide(i,n),a+" \uff1e ("+n+")"+r.$getFaceLocation(i)},u.$$arity=1),t.def(m,"$getLocationSide",s=function(t,e){var n=T;return g(t["$=~"](/^\*/))?(this.$debug("part has side",t),n=g(e["$odd?"]())?"\u5de6":"\u53f3",t.$sub(/\*/,n)):(this.$debug("part has NO side",t),t)},s.$$arity=2),t.def(m,"$getFaceLocation",l=function(t){var e=this,n=T,r=T,a=T;return e.$debug("getFaceLocation part",t),g(t["$=~"](/\+$/))?(e.$debug("is Face"),n=[[15,"\u984e"],[30,"*\u76ee"],[64,"*\u982c"],[80,"\u9f3b"],[90,"*\u8033"],[100,"\u53e3"]],r=e.randomizer.$roll_once(100),a=e.$get_table_by_number(r,n),e.$debug("faceLocation",a),e.$debug("number",r),a=e.$getLocationSide(a,r),t.$sub(/\+$/," \uff1e ("+r+")"+a)):(e.$debug("is NOT Face"),t)},l.$$arity=1),t.def(m,"$getStrikeLocationHumanUpperTable",c=function(){return[[15,"\u982d\u90e8"],[30,"\u9854+"],[45,"\u9996"],[57,"*\u80a9"],[69,"*\u4e0a\u8155"],[73,"*\u8098"],[81,"*\u524d\u8155"],[85,"*\u624b"],[95,"\u80f8\u90e8"],[100,"\u8179\u90e8"]]},c.$$arity=0),t.def(m,"$getStrikeLocationHumanNormalTable",_=function(){return[[5,"\u982d\u90e8"],[10,"\u9854+"],[15,"\u9996"],[27,"*\u80a9"],[33,"*\u4e0a\u8155"],[35,"*\u8098"],[39,"*\u524d\u8155"],[43,"*\u624b"],[60,"\u80f8\u90e8"],[70,"\u8179\u90e8"],[74,"\u80a1\u9593"],[80,"*\u81c0\u90e8"],[88,"*\u817f"],[90,"*\u819d"],[96,"*\u811b"],[100,"*\u8db3"]]},_.$$arity=0),t.def(m,"$getStrikeLocationHumanDownTable",f=function(){return[[6,"*\u524d\u8155"],[12,"*\u624b"],[19,"\u80f8\u90e8"],[29,"\u8179\u90e8"],[35,"\u80a1\u9593"],[49,"*\u81c0\u90e8"],[70,"*\u817f"],[78,"*\u819d"],[92,"*\u811b"],[100,"*\u8db3"]]},f.$$arity=0)}(Opal)},56190:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy;r=c,a=l=[m(c[0],"BCDice")].concat(r),$=s=[m(l[0],"GameSystem")].concat(a),o=d(s[0],f(s,"Base"),"Hieizan"),u=[o].concat($),t.const_set(u[0],"ID","Hieizan"),t.const_set(u[0],"NAME","\u6bd4\u53e1\u5c71\u708e\u4e0a"),t.const_set(u[0],"SORT_KEY","\u3072\u3048\u3044\u3055\u3093\u3048\u3093\u3057\u3088\u3046"),t.const_set(u[0],"HELP_MESSAGE","\u5927\u6210\u529f\u3001\u81ea\u52d5\u6210\u529f\u3001\u5931\u6557\u3001\u81ea\u52d5\u5931\u6557\u3001\u5927\u5931\u6557\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),t.def(o,"$result_1d100",i=function(t,r,a,$){return $["$=="]("?")?f(u,"Result").$nothing():a["$=="]("<=")?p(e(t,100))?f(u,"Result").$fumble("\u5927\u5931\u6557"):p(e(t,96))?f(u,"Result").$failure("\u81ea\u52d5\u5931\u6557"):p(n(t,(i=$,"number"==typeof i?i/5:i["$/"](5)).$to_i()))?f(u,"Result").$critical("\u5927\u6210\u529f"):p(n(t,1))?f(u,"Result").$success("\u81ea\u52d5\u6210\u529f"):p(n(t,$))?f(u,"Result").$success("\u6210\u529f"):f(u,"Result").$failure("\u5931\u6557"):_;var i},i.$$arity=4)}(Opal)},39876:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g,E,R=[],A=t.nil,v=t.$$,B=t.module,x=t.klass,C=t.truthy,M=t.send;r=R,a=E=[B(R[0],"BCDice")].concat(r),$=g=[B(E[0],"GameSystem")].concat(a),S=x(g[0],v(g,"Base"),"HouraiGakuen"),D=[S].concat($),S.$$prototype.randomizer=A,t.const_set(D[0],"ID","HouraiGakuen"),t.const_set(D[0],"NAME","\u84ec\u83b1\u5b66\u5712\u306e\u5192\u967a!!"),t.const_set(D[0],"SORT_KEY","\u307b\u3046\u3089\u3044\u304b\u304f\u3048\u3093\u306e\u307b\u3046\u3051\u3093"),t.const_set(D[0],"HELP_MESSAGE","\u30fb\u57fa\u672c\u30ed\u30fc\u30eb\uff1aROL(x+n)\n  ROLL(\u81ea\u5206\u306e\u80fd\u529b\u5024 + \u7c21\u5358\u5024 + \u5fdc\u77f3 or \u84ec\u83b1\u30d1\u30ef\u30fc)\u3068\u8a18\u8ff0\u3057\u307e\u3059\u30023D6\u3092\u30ed\u30fc\u30eb\u3057\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09ROL(4+6)\n\u30fb\u5bfe\u4eba\u5224\u5b9a\uff1aMED(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u30ed\u30fc\u30eb\u3092\u884c\u3044\u3001\u6210\u529f\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n  \u4f8b\uff09MED(5,2)\n\u30fb\u5bfe\u6297\u5224\u5b9a\uff1aRES(x,y)\n  \u81ea\u5206\u306e\u80fd\u529b\u5024 x \u3068 \u76f8\u624b\u306e\u80fd\u529b\u5024 y \u3067\u76f8\u4e92\u306b\u30ed\u30fc\u30eb\u3057\u3001\u3069\u3061\u3089\u304c\u6210\u529f\u3057\u305f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u4e21\u8005\u3068\u3082\u6210\u529f or \u5931\u6557\u306e\u5834\u5408\u306f\u5f15\u304d\u5206\u3051\u3068\u306a\u308a\u307e\u3059\u3002\n  \u4f8b\uff09RES(6,4)\n\u30fb\u9670\u967d\u30b3\u30de\u30f3\u30c9 INY\n  \u4f8b\uff09Hourai : \u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09\n\u30fb\u4e94\u884c\u30b3\u30de\u30f3\u30c9\uff1aGOG\n  \u4f8b\uff09Hourai : \u4e94\u884c\u8868(3) \u2192 \u4e94\u884c\u3010\u571f\u3011\n\u30fb\u516b\u5fb3\u30b3\u30de\u30f3\u30c9\uff1aHTK\n  \u4f8b\uff09Hourai : \u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011(\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570)\n"),S.$register_prefix("ROL","MED","RES","INY","HTK","GOG"),t.def(S,"$eval_game_system_specific_command",i=function(t){var e,n=this;return/^ROL/i["$==="](e=t)?n.$getRollResult(t):/^MED/i["$==="](e)?n.$getMedResult(t):/^RES/i["$==="](e)?n.$getResResult(t):/^INY/i["$==="](e)?n.$getInnyouResult(t):/^HTK/i["$==="](e)?n.$getHattokuResult(t):/^GOG$/i["$==="](e)?n.$getGogyouResult(t):A},i.$$arity=1),t.const_set(D[0],"CRITICAL","\u5927\u6210\u529f"),t.const_set(D[0],"SUCCESS","\u6210\u529f"),t.const_set(D[0],"FAILURE","\u5931\u6557"),t.const_set(D[0],"FUMBLE","\u5927\u5931\u6557"),t.def(S,"$getRollResult",o=function(t){var e=A,n=A,r=A;return C(/rol([-\d]+)/i["$=~"](t))?(e=v(D,"Regexp").$last_match(1).$to_i(),r=(n=this.randomizer.$roll_barabara(3,6)).$sum(),"(3d6<="+e+") \uff1e \u51fa\u76ee"+n.$join(",")+"\uff1d\u5408\u8a08"+r+" \uff1e "+this.$getCheckResult(n,r,e)):A},o.$$arity=1),t.def(S,"$getCheckResult",u=function(t,e,n){return t=t.$sort(),C(this.$isFamble(t))?v(D,"FUMBLE"):C(this.$isCritical(t))?v(D,"CRITICAL"):C(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(e,n))?v(D,"SUCCESS"):v(D,"FAILURE")},u.$$arity=3),t.def(S,"$isFamble",s=function(t){return t["$=="]([6,6,6])},s.$$arity=1),t.def(S,"$isCritical",l=function(t){return t["$=="]([1,2,3])},l.$$arity=1),t.def(S,"$getMedResult",c=function(t){var e=this,n=A,r=A,a=A,$=A,i=A;return C(/med\((\d+),(\d+)\)/i["$=~"](t))?(n=v(D,"Regexp").$last_match(1).$to_i(),r=v(D,"Regexp").$last_match(2).$to_i(),a=e.$getTargetFromValue(n,r),i=($=e.randomizer.$roll_barabara(3,6)).$sum(),"(\u3042\u306a\u305f\u306e\u5024"+n+"\u3001\u76f8\u624b\u306e\u5024"+r+"\u30013d6<="+a+") \uff1e \u51fa\u76ee"+$.$join(",")+"\uff1d\u5408\u8a08"+i+" \uff1e "+e.$getCheckResult($,i,a)):A},c.$$arity=1),t.def(S,"$getTargetFromValue",_=function(t,n){return e(t,function(t,e){return"number"==typeof e?10-e:10["$-"](e)}(0,n))},_.$$arity=2),t.def(S,"$getResResult",f=function(t){var e=this,n=A,r=A,a=A,$=A,i=A,o=A,u=A,s=A,l=A,c=A,_=A,f=A;return C(/res\((\d+),(\d+)\)/i["$=~"](t))?(n=v(D,"Regexp").$last_match(1).$to_i(),r=v(D,"Regexp").$last_match(2).$to_i(),a=e.$getTargetFromValue(n,r),$=e.$getTargetFromValue(r,n),o=(i=e.randomizer.$roll_barabara(3,6)).$sum(),u=i.$join(","),l=(s=e.randomizer.$roll_barabara(3,6)).$sum(),c=s.$join(","),"\u3042\u306a\u305f\u306e\u5024"+n+"\u3001\u76f8\u624b\u306e\u5024"+r+"\n(\u3042\u306a\u305f\u306e\u30ed\u30fc\u30eb 3d6<="+a+") \uff1e "+u+"="+o+" \uff1e "+(_=e.$getCheckResult(i,o,a))+"\n(\u76f8\u624b\u306e\u30ed\u30fc\u30eb 3d6<="+$+") \uff1e "+c+"="+l+" \uff1e "+(f=e.$getCheckResult(s,l,$))+"\n\uff1e"+e.$getResistCheckResult(_,f)):A},f.$$arity=1),t.def(S,"$getResistCheckResult",m=function(t,e){var r,a;return r=this.$getResultRank(t),a=this.$getResultRank(e),C(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(r,a))?"\u3042\u306a\u305f\u304c\u52dd\u5229":C(n(r,a))?"\u76f8\u624b\u304c\u52dd\u5229":"\u5f15\u304d\u5206\u3051"},m.$$arity=2),t.def(S,"$getResultRank",d=function(t){return[v(D,"FUMBLE"),v(D,"FAILURE"),v(D,"SUCCESS"),v(D,"CRITICAL")].$index(t)},d.$$arity=1),t.def(S,"$getInnyouResult",p=function(t){var r,a=A,$=A;return a=0,$=0,M(3,"times",[],((r=function(){var t=null==r.$$s?this:r.$$s,n=A;return null==t.randomizer&&(t.randomizer=A),n=t.randomizer.$roll_once(6),C(n["$even?"]())?$=e($,1):a=e(a,1)}).$$s=this,r.$$arity=0,r)),C(n($,a))?"\u967d\uff08\u5947\u6570\u306e\u65b9\u304c\u591a\u3044\uff09":"\u9670\uff08\u5076\u6570\u306e\u65b9\u304c\u591a\u3044\uff09"},p.$$arity=1),t.def(S,"$getHattokuResult",b=function(t){var e,n,r,a=A;return a=[],M(3,"times",[],((e=function(){return a["$<<"]((null==e.$$s?this:e.$$s).$getOddEven())}).$$s=this,e.$$arity=0,e)),n=a.$join("\u3001"),"\u5947\u6570\u3001\u5947\u6570\u3001\u5947\u6570"["$==="](r=n)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4ec1\u3011("+n+")":"\u5947\u6570\u3001\u5947\u6570\u3001\u5076\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u7fa9\u3011("+n+")":"\u5947\u6570\u3001\u5076\u6570\u3001\u5947\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u793c\u3011("+n+")":"\u5947\u6570\u3001\u5076\u6570\u3001\u5076\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u667a\u3011("+n+")":"\u5076\u6570\u3001\u5947\u6570\u3001\u5947\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5fe0\u3011("+n+")":"\u5076\u6570\u3001\u5947\u6570\u3001\u5076\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u4fe1\u3011("+n+")":"\u5076\u6570\u3001\u5076\u6570\u3001\u5947\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u5b5d\u3011("+n+")":"\u5076\u6570\u3001\u5076\u6570\u3001\u5076\u6570"["$==="](r)?"\u4ec1\u7fa9\u516b\u5fb3\u306f\u3001\u3010\u608c\u3011("+n+")":"\u7570\u5e38\u7d42\u4e86"},b.$$arity=1),t.def(S,"$getOddEven",y=function(){var t=A;return t=this.randomizer.$roll_once(6),C(t["$even?"]())?"\u5076\u6570":"\u5947\u6570"},y.$$arity=0),t.def(S,"$getGogyouResult",T=function(e){var n,r,a;return a=this.$getGogyouTable(),r=this.$get_table_by_1d6(a),"\u4e94\u884c\u8868("+(null==(n=t.to_ary(r))[1]?A:n[1])+") \uff1e "+(null==n[0]?A:n[0])},T.$$arity=1),t.def(S,"$getGogyouTable",h=function(){return["\u4e94\u884c\u3010\u6728\u3011","\u4e94\u884c\u3010\u706b\u3011","\u4e94\u884c\u3010\u571f\u3011","\u4e94\u884c\u3010\u91d1\u3011","\u4e94\u884c\u3010\u6c34\u3011","\u4e94\u884c\u306f\u3010\u4efb\u610f\u9078\u629e\u3011"]},h.$$arity=0)}(Opal)},3333:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S;n(93683),r=Opal,d=r.nil,p=r.$$,y=r.klass,T=r.send2,h=r.truthy,S=r.send,a=m=[],$=f=[(b=r.module)(m[0],"BCDice")].concat(a),i=_=[b(f[0],"GameSystem")].concat($),c=[l=y(_[0],p(_,"Base"),"Illusio")].concat(i),l.$$prototype.randomizer=d,r.const_set(c[0],"ID","Illusio"),r.const_set(c[0],"NAME","\u6643\u5929\u306e\u30a4\u30eb\u30fc\u30b8\u30aa"),r.const_set(c[0],"SORT_KEY","\u3053\u3046\u3066\u3093\u306e\u3044\u308b\u3046\u3057\u304a"),r.const_set(c[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[n]IL(BNo)[P]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n(BNo)\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u3092\u6307\u5b9a\u3002\u300c236\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3002\u9806\u4e0d\u540c\u53ef\u3002\n\u30b3\u30de\u30f3\u30c9\u672b\u306b\u300cP\u300d\u3092\u6307\u5b9a\u3067\u3001(BNo)\u306e\u30d1\u30ea\u30a3\u5224\u5b9a\u3002\uff08\u4e00\u5fdc\u3001\u8907\u6570\u6307\u5b9a\u53ef\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb6IL236 \u2192 6d\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u300c2,3,6\u300d\u306e\u5224\u5b9a\u3002\n\u30fbIL4512 \u2192 1d\u3067\u30d6\u30ed\u30c3\u30af\u30ca\u30f3\u30d0\u30fc\u300c1,2,4,5\u300d\u306e\u5224\u5b9a\u3002\n\u30fb2IL1P \u2192 2d\u3067\u30d1\u30ea\u30a3\u30ca\u30f3\u30d0\u30fc\u300c1\u300d\u306e\u5224\u5b9a\u3002\n"),r.def(l,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),T(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0},o.$$arity=1),l.$register_prefix("(\\d+)?IL([1-6]{0,6})(P)?"),r.def(l,"$eval_game_system_specific_command",u=function(t){var e=d,n=d,r=d,a=d,$=d,i=d;return e=t.$match(/(\d+)?IL([1-6]{0,6})(P)?$/i),h(e)?(n=(h(r=e["$[]"](1))?r:1).$to_i(),a=S((h($=e["$[]"](2))?$:"").$each_char(),"map",[],"to_i".$to_proc()).$uniq().$sort(),i=e["$[]"](3)["$nil?"]()["$!"](),this.$check_roll(n,a,i)):d},u.$$arity=1),r.def(l,"$check_roll",s=function(t,e,n){var r,a,$,i,o=d,u=d,s=d;return a=(o=this.randomizer.$roll_barabara(t,6).$sort()).$join(","),u=[],s=0,S(o,"each",[],((r=function(t){return null==t&&(t=d),h("number"==typeof(n=e.$count(t))?n>0:n["$>"](0))?u.$push("\xd7"):(u.$push(t),s=function(t,e){return"number"==typeof t?t+1:t["$+"](1)}(s));var n}).$$s=this,r.$$arity=1,r)),$=e.$join(","),i=t+"D6("+(h(n)?"Parry":"Block")+":"+$+") \uff1e "+a+" \uff1e "+u.$join(",")+" \uff1e ",h(n)?h(function(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}(s,t))?i+"\u30d1\u30ea\u30a3\u6210\u7acb\uff01\u3000\u6b21\u306e\u975e\u30c0\u30e1\u30fc\u30b82\u500d\u3002":i+"\u6210\u529f\u6570\uff1a"+s+"\u3000\u30d1\u30ea\u30a3\u5931\u6557":i+"\u6210\u529f\u6570\uff1a"+s},s.$$arity=3)},62841:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $,i,o,u,s,l,c,_,f=[],m=t.nil,d=t.$$,p=t.module,b=t.klass,y=t.truthy,T=t.send;$=f,i=_=[p(f[0],"BCDice")].concat($),o=c=[p(_[0],"GameSystem")].concat(i),s=b(c[0],d(c,"Base"),"InfiniteFantasia"),l=[s].concat(o),t.const_set(l[0],"ID","InfiniteFantasia"),t.const_set(l[0],"NAME","\u7121\u9650\u306e\u30d5\u30a1\u30f3\u30bf\u30b8\u30a2"),t.const_set(l[0],"SORT_KEY","\u3080\u3051\u3093\u306e\u3075\u3042\u3093\u305f\u3057\u3042"),t.const_set(l[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u30ec\u30d9\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002"),t.def(s,"$result_1d20",u=function($,i,o,u){var s,c=m;return u["$=="]("?")?d(l,"Result").$nothing():o["$=="]("<=")?y(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}($,u))?d(l,"Result").$failure("\u5931\u6557"):(c=y(e($,n(u,32).$to_i()))?"32\u30ec\u30d9\u30eb\u6210\u529f(32Lv+)":y(e($,n(u,16).$to_i()))?"16\u30ec\u30d9\u30eb\u6210\u529f(16Lv+)":y(e($,n(u,8).$to_i()))?"8\u30ec\u30d9\u30eb\u6210\u529f":y(e($,n(u,4).$to_i()))?"4\u30ec\u30d9\u30eb\u6210\u529f":y(e($,n(u,2).$to_i()))?"2\u30ec\u30d9\u30eb\u6210\u529f":"1\u30ec\u30d9\u30eb\u6210\u529f",T(d(l,"Result").$new(),"tap",[],((s=function(n){var i=m;return null==n&&(n=m),T(n,"text=",t.to_a(i=[c])),r(i.length,1),T(n,"success=",t.to_a(i=[!0])),r(i.length,1),y(e($,1))?(T(n,"critical=",t.to_a(i=[!0])),r(i.length,1),i=[a(n.$text(),"/\u30af\u30ea\u30c6\u30a3\u30ab\u30eb")],T(n,"text=",t.to_a(i)),i[r(i.length,1)]):m}).$$s=this,s.$$arity=1,s))):m},u.$$arity=4)}(Opal)},7555:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$$,g=t.$$,E=t.module,R=t.klass,A=t.send2,v=t.truthy,B=t.send,x=t.hash2;a=h,$=T=[E(h[0],"BCDice")].concat(a),i=y=[E(T[0],"GameSystem")].concat($),p=R(y[0],g(y,"Base"),"Insane"),b=[p].concat(i),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","Insane"),t.const_set(b[0],"NAME","\u30a4\u30f3\u30bb\u30a4\u30f3"),t.const_set(b[0],"SORT_KEY","\u3044\u3093\u305b\u3044\u3093"),t.const_set(b[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff08\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\uff09\n\u30fb\u5404\u7a2e\u8868\n\u30b7\u30fc\u30f3\u8868\u3000ST\n\u3000\u672c\u5f53\u306f\u6016\u3044\u73fe\u4ee3\u65e5\u672c\u30b7\u30fc\u30f3\u8868 HJST\uff0f\u72c2\u9a12\u306e\u4e8c\u3007\u5e74\u4ee3\u30b7\u30fc\u30f3\u8868 MTST\n\u3000\u6697\u9ed2\u306e\u30f4\u30a3\u30af\u30c8\u30ea\u30a2\u30b7\u30fc\u30f3\u8868 DVST\n\u5f62\u5bb9\u8868 DT\uff0f\u672c\u4f53\u8868 BT\uff0f\u90e8\u4f4d\u8868 PT\n\u611f\u60c5\u8868\u3000\u3000\u3000\u3000\u3000\u3000FT\n\u8077\u696d\u8868\u3000\u3000\u3000\u3000\u3000\u3000JT\n\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000\u3000BET\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868\u3000\u3000RCT\n\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868\u3000\u3000RTTn(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n  1\u66b4\u529b(TVT)\u30012\u60c5\u52d5(TET)\u30013\u77e5\u899a(TPT)\n  4\u6280\u8853(TST)\u30015\u77e5\u8b58(TKT)\u30016\u602a\u7570(TMT)\n\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868\n  \u4f1a\u8a71(CHT)    \uff0f\u8857\u4e2d(VHT)\u3000\u3000\uff0f\u4e0d\u610f\u8a2a\u554f(IHT)\n  \u5ec3\u589f\u906d\u9047(RHT)\uff0f\u91ce\u5916\u906d\u9047(MHT)\uff0f\u60c5\u5831\u6f5c\u5728(LHT)\n\u906d\u9047\u8868\u3000\u90fd\u5e02(ECT)\uff0f\u5c71\u6797(EMT)\uff0f\u6d77\u8fba(EAT)\uff0f\u53cd\u5fdc\u8868\u3000RET\n\u6b8b\u696d\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868(OHT)\u3000 \uff0f\u6b8b\u696d\u96fb\u8a71\u8868(OPT)\uff0f\u6b8b\u696d\u30b7\u30fc\u30f3\u8868(OWT)\n\u793e\u540d\u6c7a\u5b9a\u88681(CNT1)\uff0f\u793e\u540d\u6c7a\u5b9a\u88682(CNT2)\uff0f\u793e\u540d\u6c7a\u5b9a\u88683(CNT3)\n\u66ab\u5b9a\u6574\u7406\u756a\u53f7\u4f5c\u6210\u8868(IRN)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(p,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),A(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.d66_sort_type=D(g(b,"D66SortType"),"ASC")},o.$$arity=1),t.def(p,"$result_2d6",u=function(t,r,a,$,i){var o=this;return $["$=="](">=")?v(e(r,2))?g(b,"Result").$fumble(o.$translate("Insane.fumble")):v(n(r,12))?g(b,"Result").$critical(o.$translate("Insane.special")):i["$=="]("?")?g(b,"Result").$nothing():v(n(t,i))?g(b,"Result").$success(o.$translate("success")):g(b,"Result").$failure(o.$translate("failure")):S},u.$$arity=5),t.def(p,"$eval_game_system_specific_command",s=function(e){var n,r,a,$=this,i=S,o=S,u=S,s=S;if("BET"["$==="](a=e))i=$.$translate("Insane.BET.name"),r=$.$get_badend_table(),o=null==(n=t.to_ary(r))[0]?S:n[0],u=null==n[1]?S:n[1];else{if(!"IRN"["$==="](a))return v(s=D($.$class(),"RTT").$roll_command($.randomizer,e))?s:$.$roll_tables(e,D($.$class(),"TABLES"));i=$.$translate("Insane.IRN.name"),r=$.$get_interim_reference_number(),o=null==(n=t.to_ary(r))[0]?S:n[0],u=null==n[1]?S:n[1]}return i+"("+u+") \uff1e "+o},s.$$arity=1),p.$private(),t.def(p,"$get_badend_table",l=function(){var t,e=this;return t=[e.$translate("Insane.BET.items.2"),B(e,"lambda",[],($$5=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=null==$$5.$$s?this:$$5.$$s;return null==t.randomizer&&(t.randomizer=S),t.$translate("Insane.BET.items.3",x(["skill"],{skill:D(t.$class(),"RTT").$roll_skill(t.randomizer)}))}),$$5.$$s=e,$$5.$$arity=0,$$5)),e.$translate("Insane.BET.items.4"),e.$translate("Insane.BET.items.5"),e.$translate("Insane.BET.items.6"),e.$translate("Insane.BET.items.7"),e.$translate("Insane.BET.items.8"),e.$translate("Insane.BET.items.9"),e.$translate("Insane.BET.items.10"),B(e,"lambda",[],($$6=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=null==$$6.$$s?this:$$6.$$s;return null==t.randomizer&&(t.randomizer=S),t.$translate("Insane.BET.items.11",x(["skill"],{skill:D(t.$class(),"RTT").$roll_skill(t.randomizer)}))}),$$6.$$s=e,$$6.$$arity=0,$$6)),e.$translate("Insane.BET.items.12")],e.$get_table_by_2d6(t)},l.$$arity=0),t.def(p,"$get_interim_reference_number",c=function(){var n,a,$=S,i=S,o=S,u=S;return a=[[11,"1"],[12,"2"],[13,"3"],[14,"4"],[15,"5"],[16,"6"],[22,"G"],[23,"I"],[24,"J"],[25,"K"],[26,"O"],[33,"P"],[34,"Q"],[35,"S"],[36,"T"],[44,"U"],[45,"V"],[46,"X"],[55,"Y"],[56,"Z"],[66,"-"]],$=this.randomizer.$roll_once(6),i=$.$to_s(),o=3,v(e($,4))?o=r($,5):$["$=="](5)&&(o=4),u="",B(o,"times",[],((n=function(){var e,o;return o=(null==n.$$s?this:n.$$s).$get_table_by_d66_swap(a),e=t.to_ary(o),$=null==e[1]?S:e[1],u=r(u,null==e[0]?S:e[0]),i=r(i,","+$)}).$$s=this,n.$$arity=0,n)),[u,i]},c.$$arity=0),_=t.get_singleton_class(p),d=[_].concat(b),_.$private(),t.def(_,"$translate_tables",f=function(t){return x(["ST","HJST","MTST","DVST","DT","BT","PT","FT","JT","CHT","VHT","IHT","RHT","MHT","LHT","ECT","EMT","EAT","OHT","OPT","OWT","CNT1","CNT2","CNT3","RET"],{ST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.ST",t),HJST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.HJST",t),MTST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.MTST",t),DVST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.DVST",t),DT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.DT",t),BT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.BT",t),PT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.PT",t),FT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.FT",t),JT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.JT",t),CHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CHT",t),VHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.VHT",t),IHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.IHT",t),RHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.RHT",t),MHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.MHT",t),LHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.LHT",t),ECT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.ECT",t),EMT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.EMT",t),EAT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.EAT",t),OHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OHT",t),OPT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OPT",t),OWT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OWT",t),CNT1:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT1",t),CNT2:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT2",t),CNT3:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT3",t),RET:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.RET",t)})},f.$$arity=1),t.def(_,"$translate_rtt",m=function(t){return D(g(d,"DiceTable"),"SaiFicSkillTable").$from_i18n("Insane.RTT",t,x(["rttn"],{rttn:["TVT","TET","TPT","TST","TKT","TMT"]}))},m.$$arity=1),t.const_set(b[0],"TABLES",p.$translate_tables("ja_jp")),t.const_set(b[0],"RTT",p.$translate_rtt("ja_jp")),p.$register_prefix("BET","IRN",g(b,"RTT").$prefixes(),g(b,"TABLES").$keys())}(Opal)},61170:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/Insane"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$$,g=t.$$,E=t.module,R=t.klass,A=t.send2,v=t.truthy,B=t.send,x=t.hash2;return a=h,$=T=[E(h[0],"BCDice")].concat(a),i=y=[E(T[0],"GameSystem")].concat($),p=R(y[0],g(y,"Base"),"Insane"),b=[p].concat(i),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","Insane"),t.const_set(b[0],"NAME","\u30a4\u30f3\u30bb\u30a4\u30f3"),t.const_set(b[0],"SORT_KEY","\u3044\u3093\u305b\u3044\u3093"),t.const_set(b[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\uff08\u30b9\u30da\u30b7\u30e3\u30eb\uff0f\u30d5\u30a1\u30f3\u30d6\u30eb\uff0f\u6210\u529f\uff0f\u5931\u6557\u3092\u5224\u5b9a\uff09\n\u30fb\u5404\u7a2e\u8868\n\u30b7\u30fc\u30f3\u8868\u3000ST\n\u3000\u672c\u5f53\u306f\u6016\u3044\u73fe\u4ee3\u65e5\u672c\u30b7\u30fc\u30f3\u8868 HJST\uff0f\u72c2\u9a12\u306e\u4e8c\u3007\u5e74\u4ee3\u30b7\u30fc\u30f3\u8868 MTST\n\u3000\u6697\u9ed2\u306e\u30f4\u30a3\u30af\u30c8\u30ea\u30a2\u30b7\u30fc\u30f3\u8868 DVST\n\u5f62\u5bb9\u8868 DT\uff0f\u672c\u4f53\u8868 BT\uff0f\u90e8\u4f4d\u8868 PT\n\u611f\u60c5\u8868\u3000\u3000\u3000\u3000\u3000\u3000FT\n\u8077\u696d\u8868\u3000\u3000\u3000\u3000\u3000\u3000JT\n\u30d0\u30c3\u30c9\u30a8\u30f3\u30c9\u8868\u3000\u3000BET\n\u30e9\u30f3\u30c0\u30e0\u5206\u91ce\u8868\u3000\u3000RCT\n\u30e9\u30f3\u30c0\u30e0\u7279\u6280\u8868\u3000\u3000RTTn(n\uff1a\u5206\u91ce\u756a\u53f7\u3001\u7701\u7565\u53ef\u80fd)\n  1\u66b4\u529b(TVT)\u30012\u60c5\u52d5(TET)\u30013\u77e5\u899a(TPT)\n  4\u6280\u8853(TST)\u30015\u77e5\u8b58(TKT)\u30016\u602a\u7570(TMT)\n\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868\n  \u4f1a\u8a71(CHT)    \uff0f\u8857\u4e2d(VHT)\u3000\u3000\uff0f\u4e0d\u610f\u8a2a\u554f(IHT)\n  \u5ec3\u589f\u906d\u9047(RHT)\uff0f\u91ce\u5916\u906d\u9047(MHT)\uff0f\u60c5\u5831\u6f5c\u5728(LHT)\n\u906d\u9047\u8868\u3000\u90fd\u5e02(ECT)\uff0f\u5c71\u6797(EMT)\uff0f\u6d77\u8fba(EAT)\uff0f\u53cd\u5fdc\u8868\u3000RET\n\u6b8b\u696d\u30db\u30e9\u30fc\u30b9\u30b1\u30fc\u30d7\u8868(OHT)\u3000 \uff0f\u6b8b\u696d\u96fb\u8a71\u8868(OPT)\uff0f\u6b8b\u696d\u30b7\u30fc\u30f3\u8868(OWT)\n\u793e\u540d\u6c7a\u5b9a\u88681(CNT1)\uff0f\u793e\u540d\u6c7a\u5b9a\u88682(CNT2)\uff0f\u793e\u540d\u6c7a\u5b9a\u88683(CNT3)\n\u66ab\u5b9a\u6574\u7406\u756a\u53f7\u4f5c\u6210\u8868(IRN)\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(p,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),A(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.d66_sort_type=D(g(b,"D66SortType"),"ASC")},o.$$arity=1),t.def(p,"$result_2d6",u=function(t,r,a,$,i){var o=this;return $["$=="](">=")?v(e(r,2))?g(b,"Result").$fumble(o.$translate("Insane.fumble")):v(n(r,12))?g(b,"Result").$critical(o.$translate("Insane.special")):i["$=="]("?")?g(b,"Result").$nothing():v(n(t,i))?g(b,"Result").$success(o.$translate("success")):g(b,"Result").$failure(o.$translate("failure")):S},u.$$arity=5),t.def(p,"$eval_game_system_specific_command",s=function(e){var n,r,a,$=this,i=S,o=S,u=S,s=S;if("BET"["$==="](a=e))i=$.$translate("Insane.BET.name"),r=$.$get_badend_table(),o=null==(n=t.to_ary(r))[0]?S:n[0],u=null==n[1]?S:n[1];else{if(!"IRN"["$==="](a))return v(s=D($.$class(),"RTT").$roll_command($.randomizer,e))?s:$.$roll_tables(e,D($.$class(),"TABLES"));i=$.$translate("Insane.IRN.name"),r=$.$get_interim_reference_number(),o=null==(n=t.to_ary(r))[0]?S:n[0],u=null==n[1]?S:n[1]}return i+"("+u+") \uff1e "+o},s.$$arity=1),p.$private(),t.def(p,"$get_badend_table",l=function(){var t,e=this;return t=[e.$translate("Insane.BET.items.2"),B(e,"lambda",[],($$5=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=null==$$5.$$s?this:$$5.$$s;return null==t.randomizer&&(t.randomizer=S),t.$translate("Insane.BET.items.3",x(["skill"],{skill:D(t.$class(),"RTT").$roll_skill(t.randomizer)}))}),$$5.$$s=e,$$5.$$arity=0,$$5)),e.$translate("Insane.BET.items.4"),e.$translate("Insane.BET.items.5"),e.$translate("Insane.BET.items.6"),e.$translate("Insane.BET.items.7"),e.$translate("Insane.BET.items.8"),e.$translate("Insane.BET.items.9"),e.$translate("Insane.BET.items.10"),B(e,"lambda",[],($$6=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=null==$$6.$$s?this:$$6.$$s;return null==t.randomizer&&(t.randomizer=S),t.$translate("Insane.BET.items.11",x(["skill"],{skill:D(t.$class(),"RTT").$roll_skill(t.randomizer)}))}),$$6.$$s=e,$$6.$$arity=0,$$6)),e.$translate("Insane.BET.items.12")],e.$get_table_by_2d6(t)},l.$$arity=0),t.def(p,"$get_interim_reference_number",c=function(){var n,a,$=S,i=S,o=S,u=S;return a=[[11,"1"],[12,"2"],[13,"3"],[14,"4"],[15,"5"],[16,"6"],[22,"G"],[23,"I"],[24,"J"],[25,"K"],[26,"O"],[33,"P"],[34,"Q"],[35,"S"],[36,"T"],[44,"U"],[45,"V"],[46,"X"],[55,"Y"],[56,"Z"],[66,"-"]],$=this.randomizer.$roll_once(6),i=$.$to_s(),o=3,v(e($,4))?o=r($,5):$["$=="](5)&&(o=4),u="",B(o,"times",[],((n=function(){var e,o;return o=(null==n.$$s?this:n.$$s).$get_table_by_d66_swap(a),e=t.to_ary(o),$=null==e[1]?S:e[1],u=r(u,null==e[0]?S:e[0]),i=r(i,","+$)}).$$s=this,n.$$arity=0,n)),[u,i]},c.$$arity=0),_=t.get_singleton_class(p),d=[_].concat(b),_.$private(),t.def(_,"$translate_tables",f=function(t){return x(["ST","HJST","MTST","DVST","DT","BT","PT","FT","JT","CHT","VHT","IHT","RHT","MHT","LHT","ECT","EMT","EAT","OHT","OPT","OWT","CNT1","CNT2","CNT3","RET"],{ST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.ST",t),HJST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.HJST",t),MTST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.MTST",t),DVST:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.DVST",t),DT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.DT",t),BT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.BT",t),PT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.PT",t),FT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.FT",t),JT:D(g(d,"DiceTable"),"D66Table").$from_i18n("Insane.table.JT",t),CHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CHT",t),VHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.VHT",t),IHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.IHT",t),RHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.RHT",t),MHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.MHT",t),LHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.LHT",t),ECT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.ECT",t),EMT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.EMT",t),EAT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.EAT",t),OHT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OHT",t),OPT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OPT",t),OWT:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.OWT",t),CNT1:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT1",t),CNT2:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT2",t),CNT3:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.CNT3",t),RET:D(g(d,"DiceTable"),"Table").$from_i18n("Insane.table.RET",t)})},f.$$arity=1),t.def(_,"$translate_rtt",m=function(t){return D(g(d,"DiceTable"),"SaiFicSkillTable").$from_i18n("Insane.RTT",t,x(["rttn"],{rttn:["TVT","TET","TPT","TST","TKT","TMT"]}))},m.$$arity=1),t.const_set(b[0],"TABLES",p.$translate_tables("ja_jp")),t.const_set(b[0],"RTT",p.$translate_rtt("ja_jp")),void p.$register_prefix("BET","IRN",g(b,"RTT").$prefixes(),g(b,"TABLES").$keys())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/Insane"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Insane"),"Insane_Korean")].concat(i),r.const_set(s[0],"ID","Insane:Korean"),r.const_set(s[0],"NAME","\uc778\uc138\uc778"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc778\uc138\uc778"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\ud310\uc815\n\uc2a4\ud398\uc15c\uff0f\ud38c\ube14\uff0f\uc131\uacf5\uff0f\uc2e4\ud328\ub97c \ud310\uc815\n\u30fb\uac01\uc885\ud45c\n\uc52c\ud45c\u3000\u3000\u3000ST\n\u3000\uc0ac\uc2e4\uc740 \ubb34\uc11c\uc6b4 \ud604\ub300 \uc77c\ubcf8 \uc52c\ud45c HJST\uff0f\uad11\uc870\uc758 20\ub144\ub300 \uc52c\ud45c MTST\n\u3000\uc554\ud751\uc758 \ube45\ud1a0\ub9ac\uc544 \uc52c\ud45c DVST\n\uc218\uc2dd\ud45c\u3000\u3000\u3000\u3000DT\n\u3000\ubcf8\uccb4\ud45c BT\uff0f\ubd80\uc704\ud45c PT\n\uac10\uc815\ud45c\u3000\u3000\u3000\u3000\u3000\u3000FT\n\uc9c1\uc5c5\ud45c\u3000\u3000\u3000\u3000\u3000\u3000JT\n\ubc30\ub4dc\uc5d4\ub529\ud45c\u3000\u3000BET\n\ub79c\ub364 \ud2b9\uae30 \uacb0\uc815\ud45c\u3000RTT\n\uc9c0\uc815\ud2b9\uae30(\ud3ed\ub825)\ud45c\u3000\u3000(TVT)\n\uc9c0\uc815\ud2b9\uae30(\uac10\uc815)\ud45c\u3000\u3000(TET)\n\uc9c0\uc815\ud2b9\uae30(\uc9c0\uac01)\ud45c\u3000\u3000(TPT)\n\uc9c0\uc815\ud2b9\uae30(\uae30\uc220)\ud45c\u3000\u3000(TST)\n\uc9c0\uc815\ud2b9\uae30(\uc9c0\uc2dd)\ud45c\u3000\u3000(TKT)\n\uc9c0\uc815\ud2b9\uae30(\uad34\uc774)\ud45c\u3000\u3000(TMT)\n\ud68c\ud654 \uc911\uc5d0 \ubc1c\uc0dd\ud558\ub294 \uacf5\ud3ec\ud45c(CHT)\n\uac70\ub9ac\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(VHT)\n\uac11\uc790\uae30 \ucc3e\uc544\uc624\ub294 \uacf5\ud3ec\ud45c(IHT)\n\ud3d0\ud5c8\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(RHT)\n\uc57c\uc678\uc5d0\uc11c \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c(MHT)\n\uc815\ubcf4 \uc18d\uc5d0 \uc228\uc5b4 \uc788\ub294 \uacf5\ud3ec\ud45c(LHT)\n\uc870\uc6b0\ud45c\u3000\ub3c4\uc2dc\u3000(ECT)\u3000\uc0b0\ub9bc\u3000(EMT)\u3000\ud574\ubcc0\u3000(EAT)/\ubc18\uc751\ud45c\u3000RET\n\uc57c\uadfc \uc2dc \uc870\uc6b0\ud558\ub294 \uacf5\ud3ec\ud45c\u3000OHT/\uc57c\uadfc \uc2dc \uc804\ud654\ud45c\u3000OPT/\uc57c\uadfc \uc52c\ud45c\u3000OWT\n\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c1\u3000CNT1/\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c2\u3000CNT2/\ud68c\uc0ac\uba85 \uacb0\uc815\ud45c3\u3000CNT3\n\u30fbD66 \ub2e4\uc774\uc2a4 \uc788\uc74c.\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr")),r.const_set(s[0],"RTT",u.$translate_rtt("ko_kr"))},97200:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send,v=t.hash2,B=t.range;i=y,o=b=[D(y[0],"BCDice")].concat(i),u=p=[D(b[0],"GameSystem")].concat(o),m=g(p[0],S(p,"Base"),"Irisbane"),d=[m].concat(u),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","Irisbane"),t.const_set(d[0],"NAME","\u77b3\u9038\u3089\u3055\u306c\u30a4\u30ea\u30b9\u30d9\u30a4\u30f3"),t.const_set(d[0],"SORT_KEY","\u3072\u3068\u307f\u305d\u3089\u3055\u306c\u3044\u308a\u3059\u3078\u3044\u3093"),t.const_set(d[0],"HELP_MESSAGE","\u25a0\u653b\u6483\u5224\u5b9a\uff08 ATTACKx@y<=z \uff09\nx: \u653b\u6483\u529b\ny: \u5224\u5b9a\u6570\nz: \u76ee\u6a19\u5024\n\uff08\u203b ATTACK \u306f ATK \u307e\u305f\u306f AT \u3068\u7c21\u7565\u5316\u53ef\u80fd\uff09\n\u4f8b\uff09 ATTACK2@3<=5\n\u4f8b\uff09 ATK10@2<=4\n\u4f8b\uff09 AT8@3<=2\n\n\u4e0a\u8a18 x y z \u306b\u306f\u305d\u308c\u305e\u308c\u56db\u5247\u6f14\u7b97\u3092\u6307\u5b9a\u53ef\u80fd\u3002\n\u4f8b\uff09 ATTACK2+7@3*2<=5-1\n\n\u25a1\u653b\u6483\u5224\u5b9a\u306e\u30c0\u30e1\u30fc\u30b8\u5897\u6e1b\uff08 ATTACKx@y<=z[+a]  ATTACKx@y<=z[-a]\uff09\n\u672b\u5c3e\u306b [+a] \u307e\u305f\u306f [-a] \u3068\u6307\u5b9a\u3059\u308b\u3068\u3001\u6700\u7d42\u7684\u306a\u30c0\u30e1\u30fc\u30b8\u3092\u5897\u6e1b\u3067\u304d\u308b\u3002\na: \u5897\u6e1b\u91cf\n\u4f8b\uff09 ATTACK2@3<=5[+10]\n\u4f8b\uff09 ATK10@2<=4[-8]\n\u4f8b\uff09 AT8@3<=2[-8+5]\n\n\u25a0\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\uff08p115\uff09\nSceneSituation, SSi\n"),t.const_set(d[0],"ATTACK_ROLL_REG",/^AT(TACK|K)?([+\-*\/()\d]+)@([+\-*\/()\d]+)<=([+\-*\/()\d]+)(\[([+\-])([+\-*\/()\d]+)\])?/i.$freeze()),m.$register_prefix("AT(TACK|K)?"),t.def(m,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_barabara_dice=!0,n.round_type=h(S(d,"RoundType"),"CEIL")},s.$$arity=1),t.def(m,"$eval_game_system_specific_command",l=function(t){var e,n=T;return t=R(e=S(d,"ALIAS")["$[]"](t))?e:t,R(n=S(d,"ATTACK_ROLL_REG").$match(t))?this.$roll_attack(n["$[]"](2),n["$[]"](3),n["$[]"](4),n["$[]"](6),n["$[]"](7)):this.$roll_tables(t,S(d,"TABLES"))},l.$$arity=1),m.$private(),t.def(m,"$roll_attack",c=function($,i,o,u,s){var l,c,_,f,m=this,p=T,b=T,y=T,D=T,g=T,E=T,v=T,B=T,x=T,C=T,M=T;return p=S(d,"Arithmetic").$eval($,h(S(d,"RoundType"),"CEIL")),b=S(d,"Arithmetic").$eval(i,h(S(d,"RoundType"),"CEIL")),y=S(d,"Arithmetic").$eval(o,h(S(d,"RoundType"),"CEIL")),D=R(s["$nil?"]())?T:S(d,"Arithmetic").$eval(s,h(S(d,"RoundType"),"CEIL")),R(R(_=R(f=p["$nil?"]())?f:b["$nil?"]())?_:y["$nil?"]())||R(R(g=u)?D["$nil?"]():g)?T:(R(e(p,0))&&(p=0),y=y.$clamp(1,6),E=m.$make_command_text(p,b,y,u,D),R(n(b,0))?E+" \uff1e \u5224\u5b9a\u6570\u304c 0 \u3067\u3059":(v=m.randomizer.$roll_barabara(b,6).$sort(),x=function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}(B=A(v,"count",[],((l=function(t){return null==t&&(t=T),n(t,y)}).$$s=m,l.$$arity=1,l)),p),(C=[])["$<<"](E),C["$<<"](v.$join(",")),C["$<<"]("\u6210\u529f\u30c0\u30a4\u30b9\u6570 "+B),R(r(B,0))&&C["$<<"]("\xd7 \u653b\u6483\u529b "+p),R(r(B,0))&&(R(R(M=u)?D:M)?(C["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+x+u+D),x=m.$parse_operator(u).$call(x,D),R(e(x,0))&&(x=0),C["$<<"](x.$to_s())):C["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+x)),A(S(d,"Result").$new(C.$join(" \uff1e ")),"tap",[],((c=function(e){var n;return null==e&&(e=T),n=[r(B,0)],A(e,"condition=",t.to_a(n)),n[a(n.length,1)]}).$$s=m,c.$$arity=1,c))))},c.$$arity=5),t.def(m,"$make_command_text",_=function(t,e,n,r,a){var i=T;return i="(ATTACK"+t+"@"+e+"<="+n,R(r)&&(i=$(i,"["+r+a+"]")),$(i,")")},_.$$arity=5),t.def(m,"$parse_operator",f=function(t){var e,n=this;return"+"["$==="](e=t)?A(n,"lambda",[],($$8=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return null==$$8.$$s||$$8,null==t&&(t=T),null==e&&(e=T),$(t,e)}),$$8.$$s=n,$$8.$$arity=2,$$8)):"-"["$==="](e)?A(n,"lambda",[],($$9=function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return null==$$9.$$s||$$9,null==t&&(t=T),null==e&&(e=T),a(t,e)}),$$9.$$s=n,$$9.$$arity=2,$$9)):T},f.$$arity=1),t.const_set(d[0],"TABLES",A(v(["SceneSituation"],{SceneSituation:h(S(d,"DiceTable"),"D66LeftRangeTable").$new("\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3",h(h(S(d,"BCDice"),"D66SortType"),"NO_SORT"),[[B(1,3,!1),["\u3010\u65e5\u5e38\u3011\u4f55\u4e00\u3064\u5909\u308f\u308b\u3053\u3068\u306e\u7121\u3044\u65e5\u3005\u306e\u4e00\u5e55\u3002\u79fb\u308d\u3044\u6613\u3044\u4e16\u754c\u3067\u306f\u3001\u305d\u308c\u306f\u3068\u3066\u3082\u5927\u5207\u3067\u3042\u308b\u3002","\u3010\u6e96\u5099\u3011\u4f55\u304b\u3092\u70ba\u3059\u305f\u3081\u306e\u7528\u610f\u3092\u3059\u308b\u4e00\u5e55\u3002\u60c5\u5831\u53ce\u96c6\u3001\u8cb7\u7269\u9060\u5f81\u3001\u3084\u308b\u3079\u304d\u3053\u3068\u306f\u4e00\u676f\u3060\u3002","\u3010\u8da3\u5473\u3011\u81ea\u5206\u306e\u6642\u9593\u3092\u3001\u6709\u52b9\u6d3b\u7528\u3057\u3066\u3044\u308b\u4e00\u5e55\u3002\u5fc5\u8981\u306b\u8ffd\u308f\u308c\u3066\u3044\u306a\u3044\u5206\u3001\u5fc3\u306f\u8efd\u304f\u6674\u308c\u3084\u304b\u3060\u3002","\u3010\u55ab\u8336\u3011\u4e00\u606f\u5165\u308c\u3001\u55dc\u597d\u54c1\u3092\u55dc\u3080\u6642\u306e\u4e00\u5e55\u3002\u7a4f\u3084\u304b\u306a\u7a7a\u6c17\u306f\u3001\u3060\u304c\u3001\u5f80\u3005\u306b\u3057\u3066\u5909\u308f\u308a\u3084\u3059\u3044\u3002","\u3010\u935b\u932c\u3011\u4f53\u3092\u935b\u3048\u3001\u5fc3\u3092\u990a\u3046\u4fee\u7df4\u306e\u4e00\u5e55\u3002\u5df1\u3055\u3048\u826f\u3051\u308c\u3070\u3001\u305d\u306e\u65b9\u6cd5\u3082\u4f55\u3060\u3063\u3066\u826f\u3044\u3002","\u3010\u8077\u52d9\u3011\u5f79\u5272\u306e\u5143\u3001\u4ed5\u4e8b\u306b\u7cbe\u3092\u51fa\u3059\u6642\u306e\u4e00\u5e55\u3002\u76ee\u7684\u304c\u4f55\u3067\u3042\u308c\u3001\u70ba\u3059\u3079\u304d\u3053\u3068\u306b\u5909\u308f\u308a\u306f\u306a\u3044\u3002"]],[B(4,6,!1),["\u3010\u79fb\u52d5\u3011\u4f55\u51e6\u304b\u304b\u3089\u4f55\u51e6\u304b\u3078\u3068\u5411\u304b\u3046\u4e00\u5e55\u3002\u9032\u3093\u3067\u3044\u308b\u306a\u3089\u3001\u624b\u6bb5\u3082\u76ee\u7684\u5730\u3082\u95a2\u4fc2\u3042\u308b\u307e\u3044\u3002","\u3010\u5893\u524d\u3011\u6545\u4eba\u304c\u7720\u308b\u5834\u6240\u3078\u3068\u8d74\u304f\u4e00\u5e55\u3002\u5171\u306b\u7720\u308b\u3053\u3068\u3060\u3051\u306f\u7121\u3044\u3088\u3046\u306b\u3002","\u3010\u64cd\u4f5c\u3011\u4f55\u304b\u3092\u64cd\u308a\u3001\u671b\u307f\u3092\u679c\u305f\u3057\u3066\u3044\u308b\u4e00\u5e55\u3002\u904b\u8ee2\u306b\u305b\u3088\u4f55\u306b\u305b\u3088\u3001\u8107\u898b\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3060\u3002","\u3010\u98df\u4e8b\u3011\u4f55\u304b\u3092\u7ce7\u3068\u3057\u3001\u5df1\u306e\u529b\u3092\u84c4\u3048\u308b\u4e00\u5e55\u3002\u884c\u52d5\u3059\u308c\u3070\u6d88\u8017\u3059\u308b\u3002\u8179\u304c\u6e1b\u3063\u3066\u306f\u4f55\u3068\u3084\u3089\u3060\u3002","\u3010\u4f11\u606f\u3011\u65e5\u3005\u306e\u5408\u9593\u306e\u3001\u61a9\u3044\u306e\u4e00\u5e55\u3002\u201c\u4f55\u3082\u3057\u306a\u3044\u201d\u3068\u3044\u3046\u306e\u3082\u3001\u7acb\u6d3e\u306a\u884c\u3044\u3067\u3042\u308b\u3002","\u3010\u5922\u5e7b\u3011\u73fe\u5b9f\u306b\u5b58\u5728\u3057\u306a\u3044\u4f55\u304b\u3078\u3068\u803d\u308b\u4e00\u5e55\u3002\u6642\u9593\u5e2f\u306b\u95a2\u308f\u3089\u305a\u3001\u4f55\u6642\u304b\u306f\u5fc5\u305a\u899a\u3081\u308b\u3060\u308d\u3046\u3002"]]])}),"transform_keys",[],"upcase".$to_proc()).$freeze()),t.const_set(d[0],"ALIAS",A(A(v(["SSi"],{SSi:"SceneSituation"}),"transform_keys",[],"upcase".$to_proc()),"transform_values",[],"upcase".$to_proc()).$freeze()),m.$register_prefix(S(d,"TABLES").$keys(),S(d,"ALIAS").$keys())}(Opal)},52148:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),r=Opal,f=r.nil,m=r.$$,p=r.klass,a=_=[],$=c=[(d=r.module)(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"IthaWenUa"),s=[u].concat(i),r.const_set(s[0],"ID","IthaWenUa"),r.const_set(s[0],"NAME","\u30a4\u30b5\u30fc\u30fb\u30a6\u30a7\u30f3\uff1d\u30a2\u30fc"),r.const_set(s[0],"SORT_KEY","\u3044\u3055\u3042\u3046\u3048\u3093\u3042\u3042"),r.const_set(s[0],"HELP_MESSAGE","1D100<=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb(01)\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb(00)\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n"),r.def(u,"$result_1d100",o=function(t,e,n,r){return n["$=="]("<=")?t["$%"](100)["$=="](1)?m(s,"Result").$critical("01 \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):t["$%"](100)["$=="](0)?m(s,"Result").$fumble("00 \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb"):r["$=="]("?")?m(s,"Result").$nothing():f:f},o.$$arity=4)},65208:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy;r=c,a=l=[m(c[0],"BCDice")].concat(r),$=s=[m(l[0],"GameSystem")].concat(a),o=d(s[0],f(s,"Base"),"JamesBond"),u=[o].concat($),t.const_set(u[0],"ID","JamesBond"),t.const_set(u[0],"NAME","\u30b8\u30a7\u30fc\u30e0\u30ba\u30fb\u30dc\u30f3\u30c9007"),t.const_set(u[0],"SORT_KEY","\u3057\u3048\u3048\u3080\u3059\u307b\u3093\u3068007"),t.const_set(u[0],"HELP_MESSAGE","\u30fb1D100\u306e\u76ee\u6a19\u5024\u5224\u5b9a\u3067\u3001\u52b9\u679c\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30921\uff5e4\u3067\u81ea\u52d5\u5224\u5b9a\u3002\n\u3000\u4f8b\uff091D100<=50\n\u3000\u3000\u3000JamesBond : (1D100<=50) \uff1e 20 \uff1e \u52b9\u679c3\uff08\u826f\uff09\n"),t.def(o,"$result_1d100",i=function(t,r,a,$){var i,o=_;return $["$=="]("?")?f(u,"Result").$nothing():a["$=="]("<=")?(o=function(t,e){return"number"==typeof t?t/10:t["$/"](10)}((i=$,"number"==typeof i?i+9:i["$+"](9))).$floor(),p(function(t,e){return"number"==typeof t?t>=100:t["$>="](100)}(t))?f(u,"Result").$failure("\u5931\u6557"):p(e(t,o))?f(u,"Result").$success("\u52b9\u679c1\uff08\u5b8c\u74a7\uff09"):p(e(t,n(o,2)))?f(u,"Result").$success("\u52b9\u679c2\uff08\u304b\u306a\u308a\u826f\u3044\uff09"):p(e(t,n(o,5)))?f(u,"Result").$success("\u52b9\u679c3\uff08\u826f\uff09"):p(e(t,$))?f(u,"Result").$success("\u52b9\u679c4\uff08\u307e\u3042\u307e\u3042\uff09"):f(u,"Result").$failure("\u5931\u6557")):_},i.$$arity=4)}(Opal)},75816:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S=[],D=t.nil,g=t.$$$,E=t.$$,R=t.module,A=t.klass,v=t.send2,B=t.truthy,x=t.hash2;n=S,r=h=[R(S[0],"BCDice")].concat(n),a=T=[R(h[0],"GameSystem")].concat(r),b=A(T[0],E(T,"Base"),"Kamigakari"),y=[b].concat(a),b.$$prototype.randomizer=D,t.const_set(y[0],"ID","Kamigakari"),t.const_set(y[0],"NAME","\u795e\u6211\u72e9"),t.const_set(y[0],"SORT_KEY","\u304b\u307f\u304b\u304b\u308a"),t.const_set(y[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n \u30fb\u611f\u60c5\u8868(ET)\n \u30fb\u970a\u7d0b\u6d88\u8cbb\u306e\u4ee3\u511f\u8868(RT)\n \u30fb\u4f1d\u5947\u540d\u5b57\u30fb\u540d\u524d\u6c7a\u5b9a\u8868(NT)\n \u30fb\u9b54\u5883\u81e8\u754c\u8868(KT)\n \u30fb\u7372\u5f97\u7d20\u6750\u30c1\u30e3\u30fc\u30c8(MTx x\u306f\uff3b\u6cd5\u5247\u969c\u5bb3\uff3d\u306e\uff3b\u5f37\u5ea6\uff3d\u3002\u7701\u7565\u6642\u306f\uff11)\n\u3000\u3000\u4f8b\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(b,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),v(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=g(E(y,"D66SortType"),"NO_SORT")},$.$$arity=1),t.def(b,"$eval_game_system_specific_command",i=function(e){var n,r,a,$=this,i=D,o=D,u=D,s=D,l=D;return i="",o="",$.$debug("eval_game_system_specific_command command",e),a=e.$upcase(),/^MT(\d*)$/["$==="](a)?(u=E(y,"Regexp").$last_match(1),u=(u=B(s=u)?s:1).$to_i(),r=$.$getGetMaterialTableResult(u),i=null==(n=t.to_ary(r))[0]?D:n[0],l=null==n[2]?D:n[2],B((o=null==n[1]?D:n[1])["$empty?"]())?"":i+"("+l+") \uff1e "+o):$.$roll_tables(e,g($.$class(),"TABLES"))},i.$$arity=1),t.def(b,"$getGetMaterialTableResult",o=function(n){var r,a,$,i,o,u=this,s=D,l=D,c=D;return $=u.$translate("Kamigakari.MT.name"),i=u.$translate("Kamigakari.MT.items"),a=u.$get_table_by_d66(i),s=null==(r=t.to_ary(a))[0]?D:r[0],l=null==r[1]?D:r[1],a=u.$getMaterialEffect(n),l=l+","+(null==(r=t.to_ary(a))[1]?D:r[1]),c=u.$getPrice(o=null==r[0]?D:r[0]),s=u.$translate("Kamigakari.MT.result_format",x(["material","effect"],{material:s,effect:o})),B(c["$nil?"]())||(s=e(s,"\uff1a"+c)),[$,s,l]},o.$$arity=1),t.def(b,"$getMaterialEffect",u=function(e){var n,r,a,$=this,i=D,o=D,u=D,s=D;return i=$.randomizer.$roll_once(6),o="",u="",B("number"==typeof(a=i)?a<6:a["$<"](6))?(r=$.$getMaterialEffectNomal(e),o=null==(n=t.to_ary(r))[0]?D:n[0],s=null==n[1]?D:n[1],u=$.$translate("Kamigakari.MT.common_material.name")):(r=$.$getMaterialEffectRare(),o=null==(n=t.to_ary(r))[0]?D:n[0],s=null==n[1]?D:n[1],u=$.$translate("Kamigakari.MT.rare_material.name")),[o=u+"\uff1a"+o,i=i+","+s]},u.$$arity=1),t.def(b,"$getMaterialEffectNomal",s=function(e){var n,r,a,$=this,i=D,o=D,u=D;return a=$.$translate("Kamigakari.MT.common_material.items"),i=$.randomizer.$roll_d66(g(E(y,"D66SortType"),"NO_SORT")),o=$.$get_table_by_number(i,a),$.$debug("getMaterialEffectNomal result",o),B(o["$=~"](/\+n/))&&(r=$.$getMaterialEffectPower(e),u=null==(n=t.to_ary(r))[1]?D:n[1],o=o.$sub(/\+n/,"+"+(null==n[0]?D:n[0])),i=i+","+u),[o,i]},s.$$arity=1),t.def(b,"$getMaterialEffectPower",l=function(e){var n,r,a,$,i;return a=[[4,[1,1,1,2,2,3]],[8,[1,1,2,2,3,3]],[9,[1,2,3,3,4,5]]],B("number"==typeof(i=e)?i>9:i["$>"](9))&&(e=9),$=this.$get_table_by_number(e,a),r=this.$get_table_by_1d6($),[null==(n=t.to_ary(r))[0]?D:n[0],null==n[1]?D:n[1]]},l.$$arity=1),t.def(b,"$getMaterialEffectRare",c=function(){var n,r,a,$=this,i=D,o=D,u=D;return a=[[3,e("**",$.$translate("Kamigakari.MT.rare_material.give_attribute"))],[5,e("**",$.$translate("Kamigakari.MT.rare_material.halve_damage"))],[6,$.$translate("Kamigakari.MT.rare_material.optional_by_GM")]],i=$.randomizer.$roll_once(6),o=$.$get_table_by_number(i,a),$.$debug("getMaterialEffectRare result",o),B(o["$include?"]("**"))&&(r=$.$getAttribute(),u=null==(n=t.to_ary(r))[1]?D:n[1],o=o.$sub("**",(null==n[0]?D:n[0]).$to_s()),i=i+","+u),[o,i]},c.$$arity=0),t.def(b,"$getAttribute",_=function(){var t,e,n=this;return t=n.$translate("Kamigakari.MT.attribute"),e=n.randomizer.$roll_d66(g(E(y,"D66SortType"),"NO_SORT")),[n.$get_table_by_number(e,t),e]},_.$$arity=0),t.def(b,"$getPrice",f=function(t){var e,n=this,r=D;return e=B(r=t.$match(/\+(\d+)/))?r["$[]"](1).$to_i():B(t["$include?"](n.$translate("Kamigakari.MT.rare_material.give_attribute")))?3:B(t["$include?"](n.$translate("Kamigakari.MT.rare_material.halve_damage")))?4:0,[D,"500G("+n.$translate("Kamigakari.MT.effect_power")+":1)","1000G("+n.$translate("Kamigakari.MT.effect_power")+":2)","1500G("+n.$translate("Kamigakari.MT.effect_power")+":3)","2000G("+n.$translate("Kamigakari.MT.effect_power")+":4)","3000G("+n.$translate("Kamigakari.MT.effect_power")+":5)"]["$[]"](e)},f.$$arity=1),m=t.get_singleton_class(b),p=[m].concat(y),m.$private(),t.def(m,"$translate_tables",d=function(t){return x(["RT","ET","KT","NT"],{RT:g(E(p,"DiceTable"),"Table").$from_i18n("Kamigakari.table.RT",t),ET:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.ET",t),KT:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.KT",t),NT:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.NT",t)})},d.$$arity=1),t.const_set(y[0],"TABLES",b.$translate_tables("ja_jp")),b.$register_prefix("MT",E(y,"TABLES").$keys())}(Opal)},57630:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/Kamigakari"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S=[],D=t.nil,g=t.$$$,E=t.$$,R=t.module,A=t.klass,v=t.send2,B=t.truthy,x=t.hash2;return n=S,r=h=[R(S[0],"BCDice")].concat(n),a=T=[R(h[0],"GameSystem")].concat(r),b=A(T[0],E(T,"Base"),"Kamigakari"),y=[b].concat(a),b.$$prototype.randomizer=D,t.const_set(y[0],"ID","Kamigakari"),t.const_set(y[0],"NAME","\u795e\u6211\u72e9"),t.const_set(y[0],"SORT_KEY","\u304b\u307f\u304b\u304b\u308a"),t.const_set(y[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n \u30fb\u611f\u60c5\u8868(ET)\n \u30fb\u970a\u7d0b\u6d88\u8cbb\u306e\u4ee3\u511f\u8868(RT)\n \u30fb\u4f1d\u5947\u540d\u5b57\u30fb\u540d\u524d\u6c7a\u5b9a\u8868(NT)\n \u30fb\u9b54\u5883\u81e8\u754c\u8868(KT)\n \u30fb\u7372\u5f97\u7d20\u6750\u30c1\u30e3\u30fc\u30c8(MTx x\u306f\uff3b\u6cd5\u5247\u969c\u5bb3\uff3d\u306e\uff3b\u5f37\u5ea6\uff3d\u3002\u7701\u7565\u6642\u306f\uff11)\n\u3000\u3000\u4f8b\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),t.def(b,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),v(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=g(E(y,"D66SortType"),"NO_SORT")},$.$$arity=1),t.def(b,"$eval_game_system_specific_command",i=function(e){var n,r,a,$=this,i=D,o=D,u=D,s=D,l=D;return i="",o="",$.$debug("eval_game_system_specific_command command",e),a=e.$upcase(),/^MT(\d*)$/["$==="](a)?(u=E(y,"Regexp").$last_match(1),u=(u=B(s=u)?s:1).$to_i(),r=$.$getGetMaterialTableResult(u),i=null==(n=t.to_ary(r))[0]?D:n[0],l=null==n[2]?D:n[2],B((o=null==n[1]?D:n[1])["$empty?"]())?"":i+"("+l+") \uff1e "+o):$.$roll_tables(e,g($.$class(),"TABLES"))},i.$$arity=1),t.def(b,"$getGetMaterialTableResult",o=function(n){var r,a,$,i,o,u=this,s=D,l=D,c=D;return $=u.$translate("Kamigakari.MT.name"),i=u.$translate("Kamigakari.MT.items"),a=u.$get_table_by_d66(i),s=null==(r=t.to_ary(a))[0]?D:r[0],l=null==r[1]?D:r[1],a=u.$getMaterialEffect(n),l=l+","+(null==(r=t.to_ary(a))[1]?D:r[1]),c=u.$getPrice(o=null==r[0]?D:r[0]),s=u.$translate("Kamigakari.MT.result_format",x(["material","effect"],{material:s,effect:o})),B(c["$nil?"]())||(s=e(s,"\uff1a"+c)),[$,s,l]},o.$$arity=1),t.def(b,"$getMaterialEffect",u=function(e){var n,r,a=this,$=D,i=D,o=D,u=D;return $=a.randomizer.$roll_once(6),i="",o="",B(function(t,e){return"number"==typeof t?t<6:t["$<"](6)}($))?(r=a.$getMaterialEffectNomal(e),i=null==(n=t.to_ary(r))[0]?D:n[0],u=null==n[1]?D:n[1],o=a.$translate("Kamigakari.MT.common_material.name")):(r=a.$getMaterialEffectRare(),i=null==(n=t.to_ary(r))[0]?D:n[0],u=null==n[1]?D:n[1],o=a.$translate("Kamigakari.MT.rare_material.name")),[i=o+"\uff1a"+i,$=$+","+u]},u.$$arity=1),t.def(b,"$getMaterialEffectNomal",s=function(e){var n,r,a,$=this,i=D,o=D,u=D;return a=$.$translate("Kamigakari.MT.common_material.items"),i=$.randomizer.$roll_d66(g(E(y,"D66SortType"),"NO_SORT")),o=$.$get_table_by_number(i,a),$.$debug("getMaterialEffectNomal result",o),B(o["$=~"](/\+n/))&&(r=$.$getMaterialEffectPower(e),u=null==(n=t.to_ary(r))[1]?D:n[1],o=o.$sub(/\+n/,"+"+(null==n[0]?D:n[0])),i=i+","+u),[o,i]},s.$$arity=1),t.def(b,"$getMaterialEffectPower",l=function(e){var n,r,a,$;return a=[[4,[1,1,1,2,2,3]],[8,[1,1,2,2,3,3]],[9,[1,2,3,3,4,5]]],B(function(t,e){return"number"==typeof t?t>9:t["$>"](9)}(e))&&(e=9),$=this.$get_table_by_number(e,a),r=this.$get_table_by_1d6($),[null==(n=t.to_ary(r))[0]?D:n[0],null==n[1]?D:n[1]]},l.$$arity=1),t.def(b,"$getMaterialEffectRare",c=function(){var n,r,a,$=this,i=D,o=D,u=D;return a=[[3,e("**",$.$translate("Kamigakari.MT.rare_material.give_attribute"))],[5,e("**",$.$translate("Kamigakari.MT.rare_material.halve_damage"))],[6,$.$translate("Kamigakari.MT.rare_material.optional_by_GM")]],i=$.randomizer.$roll_once(6),o=$.$get_table_by_number(i,a),$.$debug("getMaterialEffectRare result",o),B(o["$include?"]("**"))&&(r=$.$getAttribute(),u=null==(n=t.to_ary(r))[1]?D:n[1],o=o.$sub("**",(null==n[0]?D:n[0]).$to_s()),i=i+","+u),[o,i]},c.$$arity=0),t.def(b,"$getAttribute",_=function(){var t,e,n=this;return t=n.$translate("Kamigakari.MT.attribute"),e=n.randomizer.$roll_d66(g(E(y,"D66SortType"),"NO_SORT")),[n.$get_table_by_number(e,t),e]},_.$$arity=0),t.def(b,"$getPrice",f=function(t){var e,n=this,r=D;return e=B(r=t.$match(/\+(\d+)/))?r["$[]"](1).$to_i():B(t["$include?"](n.$translate("Kamigakari.MT.rare_material.give_attribute")))?3:B(t["$include?"](n.$translate("Kamigakari.MT.rare_material.halve_damage")))?4:0,[D,"500G("+n.$translate("Kamigakari.MT.effect_power")+":1)","1000G("+n.$translate("Kamigakari.MT.effect_power")+":2)","1500G("+n.$translate("Kamigakari.MT.effect_power")+":3)","2000G("+n.$translate("Kamigakari.MT.effect_power")+":4)","3000G("+n.$translate("Kamigakari.MT.effect_power")+":5)"]["$[]"](e)},f.$$arity=1),m=t.get_singleton_class(b),p=[m].concat(y),m.$private(),t.def(m,"$translate_tables",d=function(t){return x(["RT","ET","KT","NT"],{RT:g(E(p,"DiceTable"),"Table").$from_i18n("Kamigakari.table.RT",t),ET:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.ET",t),KT:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.KT",t),NT:g(E(p,"DiceTable"),"D66Table").$from_i18n("Kamigakari.table.NT",t)})},d.$$arity=1),t.const_set(y[0],"TABLES",b.$translate_tables("ja_jp")),void b.$register_prefix("MT",E(y,"TABLES").$keys())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/Kamigakari"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Kamigakari"),"Kamigakari_Korean")].concat(i),r.const_set(s[0],"ID","Kamigakari:Korean"),r.const_set(s[0],"NAME","\uce74\ubbf8\uac00\uce74\ub9ac"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uce74\ubbf8\uac00\uce74\ub9ac"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\uac01\uc885\ud45c\n \u30fb\uac10\uc815\ud45c(ET)\n \u30fb\uc601\ubb38\uc18c\ube44\uc758 \ub313\uac00\ud45c(RT)\n \u30fb\uc804\uae30 \uc131\uc528\u30fb\uc774\ub984 \uacb0\uc815\ud45c(NT)\n \u30fb\ub9c8\uacbd\uc784\uacc4\ud45c(KT)\n \u30fb\ud68d\ub4dd \uc18c\uc7ac \ucc28\ud2b8(MTx x\ub294\uff3b\ubc95\uce59\uc7a5\ud574\uff3d\uc758\uff3b\uac15\ub3c4\uff3d.\uc0dd\ub7b5\ud560 \ub54c\ub294\uff11)\n\u3000\u3000\uc608\uff09 MT\u3000MT3\u3000MT9\n\u30fbD66\uc8fc\uc0ac\uc704 \uac00\ub2a5\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr").$freeze())},83864:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$$,b=t.$$,y=t.module,T=t.klass,h=t.hash2,S=t.truthy,D=t.send;$=m,i=f=[y(m[0],"BCDice")].concat($),o=_=[y(f[0],"GameSystem")].concat(i),l=T(_[0],b(_,"Base"),"Karukami"),c=[l].concat(o),l.$$prototype.round_type=l.$$prototype.randomizer=d,t.const_set(c[0],"ID","Karukami"),t.const_set(c[0],"NAME","\u30ab\u30eb\u30ab\u30df"),t.const_set(c[0],"SORT_KEY","\u304b\u308b\u304b\u307f"),t.const_set(c[0],"HELP_MESSAGE","\u25a0 \u884c\u70ba\u5224\u5b9a\u3001\u30c0\u30e1\u30fc\u30b8\u7b97\u51fa (xUB+y@c>=t)\n  6\u9762\u30c0\u30a4\u30b9\u3092x\u500b\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3057\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u4ee5\u4e0a\u306e\u51fa\u76ee\u304c\u51fa\u305f\u3089\u632f\u308a\u8db3\u3057\u3066\u5408\u8a08\u5024\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002\n  x: \u30c0\u30a4\u30b9\u6570\n  y: \u4fee\u6b63\u5024\uff08\u7701\u7565\u53ef\uff09\n  c: \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\uff08\u7701\u7565\u53ef\uff09\n  t: \u76ee\u6a19\u5024\u5024\uff08\u7701\u7565\u53ef\uff09\n  \u4f8b\uff092UB, 2UB>=7, 3UB+1@5, 3UB+1@5<10\n"),l.$register_prefix("\\d+UB"),t.def(l,"$eval_game_system_specific_command",u=function(t){return this.$roll_ub(t)},u.$$arity=1),t.def(l,"$roll_ub",s=function($){var i,o,u,s,l,_=this,f=d,m=d,y=d,T=d,g=d,E=d,R=d,A=d;if(f=p(b(c,"Command"),"Parser").$new("UB",h(["round_type"],{round_type:_.round_type})).$has_prefix_number().$enable_critical().$parse($),!S(f))return d;if(u=S(s=f.$critical())?s:6,S("number"==typeof(l=u)?l<=1:l["$<="](1)))return"("+f+") \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\u306f2\u4ee5\u4e0a\u3068\u3057\u3066\u304f\u3060\u3055\u3044";for(m=[],y=0,T=f.$prefix_number();S(e(T,0));)g=_.randomizer.$roll_barabara(T,6),m.$push(g),y=r(y,T=D(g,"count",[],((i=function(t){return null==t&&(t=d),n(t,u)}).$$s=_,i.$$arity=1,i)));return E=r(m.$flatten().$sum(),f.$modify_number()),R=S(m.$first()["$all?"](1))?(E=0,b(c,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb")):S(f.$cmp_op()["$nil?"]())?b(c,"Result").$new():S(E.$send(f.$cmp_op(),f.$target_number()))?b(c,"Result").$success("\u6210\u529f"):b(c,"Result").$failure("\u5931\u6557"),A=[e(y,0)],D(R,"critical=",t.to_a(A)),a(A.length,1),A=[["("+f+")"].concat(t.to_a(D(m,"map",[],(o=function(t){return null==t&&(t=d),"["+t.$join(",")+"]"},o.$$s=_,o.$$arity=1,o)))).concat([E,S(R["$critical?"]())?y+"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb":d,R.$text()]).$compact().$join(" \uff1e ")],D(R,"text=",t.to_a(A)),a(A.length,1),R},s.$$arity=1)}(Opal)},88335:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b;n(93683),r=Opal,f=r.$$$,m=r.$$,p=r.klass,b=r.send2,a=_=[],$=c=[(d=r.module)(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"LostRecord"),s=[u].concat(i),r.const_set(s[0],"ID","LostRecord"),r.const_set(s[0],"NAME","\u30ed\u30b9\u30c8\u30ec\u30b3\u30fc\u30c9"),r.const_set(s[0],"SORT_KEY","\u308d\u3059\u3068\u308c\u3053\u304a\u3068"),r.const_set(s[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\nD66\u3092\u632f\u3063\u305f\u6642\u3001\u5c0f\u3055\u3044\u76ee\u304c\u5341\u306e\u4f4d\u306b\u306a\u308a\u307e\u3059\u3002\n"),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),b(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.d66_sort_type=f(m(s,"D66SortType"),"ASC")},o.$$arity=1)},16490:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D=[],g=t.nil,E=t.$$$,R=t.$$,A=t.module,v=t.klass,B=t.send2,x=t.send,C=t.range,M=t.truthy;a=D,$=S=[A(D[0],"BCDice")].concat(a),i=h=[A(S[0],"GameSystem")].concat($),y=v(h[0],R(h,"Base"),"LostRoyal"),T=[y].concat(i),y.$$prototype.randomizer=g,t.const_set(T[0],"ID","LostRoyal"),t.const_set(T[0],"NAME","\u30ed\u30b9\u30c8\u30ed\u30a4\u30e4\u30eb"),t.const_set(T[0],"SORT_KEY","\u308d\u3059\u3068\u308d\u3044\u3084\u308b"),t.const_set(T[0],"HELP_MESSAGE","\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n\n\u884c\u70ba\u5224\u5b9a\n\u3000LR[x,x,x,x,x,x]\n\u3000\u3000x \u306e\u4e26\u3073\u306b\u306f\u3010\u5224\u5b9a\u8868\u3011\u306e\u6570\u5024\u3092\u9806\u756a\u306b\u5165\u529b\u3059\u308b\u3002\n\u3000\u3000\uff08\u4f8b\uff1a LR[1,3,0,1,2,3] \uff09\n\n\u30d5\u30a1\u30f3\u30d6\u30eb\u8868\n\u3000FC\n\n\u98a8\u529b\u6c7a\u5b9a\u8868\n\u3000WPC\n\n\u611f\u60c5\u6c7a\u5b9a\u8868\n\u3000EC\n\n\u5e0c\u671b\u70b9\u306e\u6c7a\u5b9a\n\u3000HRx\n\u3000\u3000x \u306b\u306f\u30c0\u30a4\u30b9\u306e\u6570\uff08 1 - 2 \uff09\u3092\u6307\u5b9a\n"),y.$register_prefix("LR\\[[0-5],[0-5],[0-5],[0-5],[0-5],[0-5]\\]","FC","WPC","EC","HR[1-2]"),t.def(y,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),B(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=E(R(T,"D66SortType"),"NO_SORT")},o.$$arity=1),t.def(y,"$eval_game_system_specific_command",u=function(t){var e,n=this;return/LR\[([0-5]),([0-5]),([0-5]),([0-5]),([0-5]),([0-5])\]/i["$==="](e=t)?n.$check_lostroyal([R(T,"Regexp").$last_match(1).$to_i(),R(T,"Regexp").$last_match(2).$to_i(),R(T,"Regexp").$last_match(3).$to_i(),R(T,"Regexp").$last_match(4).$to_i(),R(T,"Regexp").$last_match(5).$to_i(),R(T,"Regexp").$last_match(6).$to_i()]):/FC/["$==="](e)?n.$roll_fumble_chart():/WPC/["$==="](e)?n.$roll_wind_power_chart():/EC/["$==="](e)?n.$roll_emotion_chart():/HR([1-2])/["$==="](e)?n.$roll_hope(R(T,"Regexp").$last_match(1).$to_i()):g},u.$$arity=1),t.def(y,"$check_lostroyal",s=function(t){var a,$,i,o,u=this,s=g,l=g,c=g,_=g,f=g;return s=[],x(C(0,3,!0),"each",[],((a=function(t){var e,n=null==a.$$s?this:a.$$s;return null==n.randomizer&&(n.randomizer=g),null==t&&(t=g),e=n.randomizer.$roll_once(6),s["$<<"](e)}).$$s=u,a.$$arity=1,a)),i=(l=x(s,"map",[],($=function(n){return null==n&&(n=g),t["$[]"](e(n,1))},$.$$s=u,$.$$arity=1,$)).$to_a()).$inject("+"),c=u.$find_sequence(s),_="3D6 => ["+s.$join(",")+"] => ("+l.$join("+")+") => "+i,M(M(o=c["$nil?"]())?o:c["$empty?"]())||(f=M(u["$fumble_?"](s,c))?3:c.$size(),_=n(_," | "+c.$size()+" chain! ("+c.$join(",")+") => "+n(i,f)),M(r(c.$size(),3))&&(_=n(_," [\u30b9\u30da\u30b7\u30e3\u30eb]")),M(u["$fumble_?"](s,c))&&(_=n(_," [\u30d5\u30a1\u30f3\u30d6\u30eb]"))),_},s.$$arity=1),t.def(y,"$find_sequence",l=function(t){var e,n,r,a,$=this;return t=t.$sort(),a=x(C(1,6,!0),"map",[],((e=function(n){return null==n&&(n=g),(null==e.$$s?this:e.$$s).$find_sequence_from_start_key(t,n)}).$$s=$,e.$$arity=1,e)),x(x(a,"select",[],((n=function(t){return null==t&&(t=g),"number"==typeof(e=t.$size())?e>1:e["$>"](1);var e}).$$s=$,n.$$arity=1,n)),"max",[],((r=function(t,e){return null==t&&(t=g),null==e&&(e=g),t.$size()["$<=>"](e.$size())}).$$s=$,r.$$arity=2,r))},l.$$arity=1),t.def(y,"$find_sequence_from_start_key",c=function(t,r){var a,$=g,i=g;for($=[],i=r;M(t["$include?"](i));)$["$<<"](i),i=n(i,1);if(M(M(a=$["$empty?"]()["$!"]())?$["$[]"](0)["$=="](1):a))for(i=6;M(t["$include?"](i));)$.$unshift(i),i=e(i,1);return $},c.$$arity=2),t.def(y,"$fumble_?",_=function(e,n){try{var a;return x(n,"each",[],((a=function(n){if(null==n&&(n=g),!M(r(e.$count(n),2)))return g;t.ret(!0)}).$$s=this,a.$$arity=1,a)),!1}catch($){if($===t.returner)return $.$v;throw $}},_.$$arity=2),t.def(y,"$roll_fumble_chart",f=function(){var t;return"1D6 => ["+(t=this.randomizer.$roll_once(6))+"] "+["\u4f55\u304b\u306e\u554f\u984c\u3067\u8a00\u3044\u4e89\u3044\u3001\u4e3b\u541b\u306b\u7121\u793c\u3092\u50cd\u3044\u3066\u3057\u307e\u3046\u3002\u3042\u306a\u305f\u306f\u4e3b\u541b\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u3010\u6642\u9593\u3011\u3092\uff11\u70b9\u6d88\u8cbb\u3057\u3066\u548c\u89e3\u306e\u8a71\u3057\u5408\u3044\u3092\u6301\u3064\u304b\u9078\u3079\u308b\u3002","\u898b\u904e\u3054\u305b\u3070\u4eba\u3005\u3092\u4e0d\u5e78\u306b\u3059\u308b\u5371\u967a\u306b\u906d\u9047\u3059\u308b\u3002\u3042\u306a\u305f\u306f\u9003\u3052\u51fa\u3057\u3066\u5192\u967a\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u3053\u308c\u306b\u7acb\u3061\u5411\u304b\u3044\u3010\u547d\u6570\u3011\u3092\uff12\u70b9\u6e1b\u3089\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u3042\u306a\u305f\u304c\u60f9\u304b\u308c\u305f\u306e\u306f\u597d\u610f\u306b\u4ed8\u3051\u8fbc\u3080\u4eba\u3060\u3063\u305f\u3002\u3042\u306a\u305f\u306f\u305d\u306e\u5834\u3092\u53bb\u3063\u3066\u604b\u6155\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3010\u6b63\u7fa9\u3011\u3092\uff11\u70b9\u6e1b\u3089\u3057\u3066\u793c\u3092\u5c3d\u304f\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u91d1\u92ad\u7684\u306a\u554f\u984c\u3067\u3001\u751f\u547d\u3068\u9b42\u306e\u82e6\u3057\u307f\u3092\u80cc\u8ca0\u3046\u4eba\u306b\u51fa\u4f1a\u3046\u3002\u3042\u306a\u305f\u306f\u5e87\u8b77\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u51fa\u8cbb\u3092\uff13\u70b9\u5897\u3084\u3059\u304b\u3092\u9078\u3079\u308b\u3002","\u8972\u6483\u3092\u53d7\u3051\u308b\u3002\u82e6\u3082\u306a\u304f\u53e9\u304d\u4f0f\u305b\u308b\u3068\u3001\u5351\u5c48\u306a\u614b\u5ea6\u3067\u547d\u4e5e\u3044\u3092\u3057\u3066\u304d\u305f\u3002\u5bb9\u8d66\u306a\u304f\u547d\u3092\u596a\u3044\u5bdb\u5bb9\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u5931\u3046\u304b\u3001\u5bc6\u544a\u306b\u3088\u3063\u3066\u3010\u8840\u8def\u3011\u304c\uff11\uff24\uff16\u70b9\u5897\u3048\u308b\u304b\u3092\u9078\u3076\u3053\u3068\u304c\u3067\u304d\u308b\u3002","\u98a8\u805e\u306b\u3088\u308a\u3001\u53cb\u304c\u60aa\u306b\u8eab\u3092\u8cb6\u3081\u305f\u3068\u77e5\u308b\u3002\u5171\u306b\u4e26\u3093\u3060\u6226\u5834\u304c\u8272\u892a\u305b\u308b\u60f3\u3044\u3060\u3002\u6226\u53cb\u306e\u540d\u8a89\u70b9\u3092\uff11\u70b9\u6e1b\u3089\u3059\u304b\u3001\u3010\u9152\u3068\u6b4c\u3011\u3059\u3079\u3066\u3092\u5931\u3046\u304b\u3092\u9078\u3079\u308b\u3002"]["$[]"](e(t,1))},f.$$arity=0),t.def(y,"$roll_wind_power_chart",m=function(){try{var r,a=g,$=g,i=g;return a=0,$=0,i="",x(this,"loop",[],((r=function(){var o,u,s,l,c=null==r.$$s?this:r.$$s,_=g;if(null==c.randomizer&&(c.randomizer=g),s=c.randomizer.$roll_once(6),a=n(a,s),u=[[!0,0,"\u307b\u307c\u51ea\uff08\u632f\u308a\u8db3\u3057\uff09"],[!0,0,"\u5f31\u3044\u98a8\uff08\u632f\u308a\u8db3\u3057\uff09"],[!1,0,"\u3086\u308b\u3084\u304b\u306a\u98a8"],[!1,0,"\u3086\u308b\u3084\u304b\u306a\u98a8"],[!1,1,"\u3084\u3084\u5f37\u3044\u98a8\uff08\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff11\uff09"],[!1,2,"\u5f37\u3044\u98a8\uff08\u9f8d\u3092\u5e7b\u8996\u3001\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff12\uff09"],[!1,3,"\u4f53\u304c\u63fa\u3089\u3050\u307b\u3069\u306e\u98a8\uff08\u9f8d\u3092\u5e7b\u8996\u3001\u5100\u5f0f\u70b9\u30d7\u30e9\u30b9\uff13\uff09"]]["$[]"](e([a,7].$min(),1)),l=null==(o=t.to_ary(u))[0]?g:o[0],_=null==o[2]?g:o[2],$=n($,null==o[1]?g:o[1]),_=M(a["$!="](s))?"1D6["+s+"]+"+e(a,s)+" "+_:"1D6["+s+"] "+_,i=M(i["$empty?"]())?_:i+" => "+_,M(l))return g;i=n(i," [\u5408\u8a08\uff1a\u5100\u5f0f\u70b9 +"+$+" ]"),t.ret(i)}).$$s=this,r.$$arity=0,r))}catch(o){if(o===t.returner)return o.$v;throw o}},m.$$arity=0),t.def(y,"$roll_emotion_chart",d=function(){var t;return"1D6 => ["+(t=this.randomizer.$roll_once(6))+"] "+["\u611b\u60c5\uff0f\u6bba\u610f","\u53cb\u60c5\uff0f\u8ca0\u76ee","\u5d07\u62dd\uff0f\u5acc\u60aa","\u8208\u5473\uff0f\u4fae\u8511","\u4fe1\u983c\uff0f\u5ac9\u59ac","\u5b88\u8b77\uff0f\u6b32\u60c5"]["$[]"](e(t,1))},d.$$arity=0),t.def(y,"$roll_hope",p=function(e){try{var a,$=g,i=g;return $=0,i="",x(this,"loop",[],((a=function(){var o,u,s=null==a.$$s?this:a.$$s,l=g;if(null==s.randomizer&&(s.randomizer=g),o=s.randomizer.$roll_once(6),l=0,M(r(e,2))&&(l=s.randomizer.$roll_once(6)),$=n($,n(o,l)),i=e["$=="](2)?n(i,"2D6["+o+","+l+"]"):n(i,"1D6["+o+"]"),M(M(u=s.$is_1or2(o))?u:s.$is_1or2(l)))return i=n(i," \uff08\u632f\u308a\u8db3\u3057\uff09 => ");i=n(i," => \u5408\u8a08 "+$),t.ret(i)}).$$s=this,a.$$arity=0,a))}catch(o){if(o===t.returner)return o.$v;throw o}},p.$$arity=1),t.def(y,"$is_1or2",b=function(t){return[1,2]["$include?"](t)},b.$$arity=1)}(Opal)},51346:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$,g=t.module,E=t.klass,R=t.truthy,A=t.send;$=h,i=T=[g(h[0],"BCDice")].concat($),o=y=[g(T[0],"GameSystem")].concat(i),p=E(y[0],D(y,"Base"),"NSSQ"),b=[p].concat(o),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","NSSQ"),t.const_set(b[0],"NAME","SRS\u3058\u3083\u306a\u3044\u4e16\u754c\u6a39\u306e\u8ff7\u5baeTRPG"),t.const_set(b[0],"SORT_KEY","\u3048\u3059\u3042\u3042\u308b\u3048\u3059\u3057\u3084\u306a\u3044\u305b\u304b\u3044\u3057\u3086\u306e\u3081\u3044\u304d\u3086\u3046TRPG"),t.const_set(b[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a (xSQ\xb1y)\n  xD6\u306e\u5224\u5b9a\u30023\u3064\u4ee5\u4e0a\u632f\u3063\u305f\u3068\u304d\u3001\u51fa\u76ee\u306e\u9ad8\u30442\u3064\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3082\u8a08\u7b97\u3057\u307e\u3059\u3002\n  \xb1y: y\u306b\u4fee\u6b63\u5024\u3092\u5165\u529b\u3002\xb1\u306e\u8a08\u7b97\u306b\u5bfe\u5fdc\u3002\u7701\u7565\u53ef\u80fd\u3002\n\n\u25a0 \u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb (xDR(C)(+)y)\n  xD6\u306e\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002C\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30a2\u30c3\u30d7\u72b6\u614b\u3067\u8a08\u7b97\u3067\u304d\u307e\u3059\u3002+\u3092\u4ed8\u3051\u308b\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6642\u306e\u30c0\u30a4\u30b9\u304c8\u500b\u306b\u306a\u308a\u307e\u3059\u3002\n  x: x\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n  y: y\u306b\u8010\u6027\u3092\u5165\u529b\u3002\n  \u4f8b) 5DR3 5DRC4 5DRC+4\n\n\u25a0 \u56de\u5fa9\u30ed\u30fc\u30eb (xHRy)\n  xD6\u306e\u56de\u5fa9\u30ed\u30fc\u30eb\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304c\u767a\u751f\u3057\u307e\u305b\u3093\u3002\n  x: x\u306b\u632f\u308b\u30c0\u30a4\u30b9\u6570\u3092\u5165\u529b\u3002\n  y: y\u306b\u8010\u6027\u3092\u5165\u529b\u3002\u7701\u7565\u3057\u305f\u5834\u54083\u3002\n  \u4f8b) 2HR 10HR2\n\n\u25a0 \u63a1\u53d6\u30ed\u30fc\u30eb (TC\xb1z,SC\xb1z,GC\xb1z)\n  \u3061\u3087\u3063\u3068(T)\u3001\u305d\u3053\u305d\u3053(S)\u3001\u304c\u3063\u3064\u308a(G)\u63a1\u53d6\u63a1\u6398\u4f10\u63a1\u3092\u884c\u3046\u3002\n  z: z\u306b\u8ffd\u52a0\u3067\u30ed\u30fc\u30eb\u3059\u308b\u56de\u6570\u3092\u5165\u529b\u3002\u7701\u7565\u53ef\u80fd\u3002\n  \u4f8b) TC SC+1 GC-1\n"),p.$register_prefix("\\d+SQ[\\+\\-\\d]*","\\d+DR(C)?(\\+)?\\d+","[TSG]C","\\d+HR\\d*"),t.def(p,"$eval_game_system_specific_command",u=function(t){var e,n,r,a=this;return R(e=R(n=R(r=a.$roll_sq(t))?r:a.$damage_roll(t))?n:a.$heal_roll(t))?e:a.$collecting_roll(t)},u.$$arity=1),p.$private(),t.def(p,"$roll_sq",s=function(t){var n=S,r=S,a=S,$=S,i=S,o=S,u=S;return n=/(\d+)SQ([+\-\d]+)?/i.$match(t),R(n)?(r=n["$[]"](1).$to_i(),a=D(b,"ArithmeticEvaluator").$eval(n["$[]"](2)),o=e((i=($=this.randomizer.$roll_barabara(r,6)).$sort().$reverse().$take(2)).$sum(),a),u=i["$=="]([6,6])?" \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01":i["$=="]([1,1])?" \u30d5\u30a1\u30f3\u30d6\u30eb\uff01":S,["("+t+")","["+$.$join(",")+"]"+D(b,"Format").$modifier(a),o+"["+i.$join(",")+"]"+u].$join(" \uff1e ")):S},s.$$arity=1),t.def(p,"$damage_roll",l=function(t){var r=this,a=S,$=S,i=S,o=S,u=S,s=S,l=S,c=S;return a=/(\d+)DR(C)?(\+)?(\d+)/i.$match(t),R(a)?($=a["$[]"](1).$to_i(),i=a["$[]"](2)["$nil?"]()["$!"](),o=a["$[]"](3)["$nil?"]()["$!"](),u=a["$[]"](4).$to_i(),l="("+t+") \uff1e ["+(s=r.randomizer.$roll_barabara($,6)).$join(",")+"]"+u+" \uff1e "+r.$damage(s,u)+"\u30c0\u30e1\u30fc\u30b8",c=R(i)?1:2,R(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(n(s.$count(6),s.$count(1)),c))&&(l=e(l," \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01\n"),l=e(l,r.$additional_damage_roll(o,u))),l):S},l.$$arity=1),t.def(p,"$additional_damage_roll",c=function(t,e){var n,r=S;return"("+(n=R(t)?8:4)+"DR"+e+") \uff1e ["+(r=this.randomizer.$roll_barabara(n,6)).$join(",")+"]"+e+" \uff1e "+this.$damage(r,e)+"\u30c0\u30e1\u30fc\u30b8"},c.$$arity=2),t.def(p,"$heal_roll",_=function(t){var e,n=S,r=S,a=S,$=S,i=S;return n=/^(\d+)HR(\d+)?$/i.$match(t),R(n)?(r=n["$[]"](1).$to_i(),a=R($=(e=n["$[]"](2))===S||null==e?S:A(e,"to_i",[]))?$:3,"("+t+") \uff1e ["+(i=this.randomizer.$roll_barabara(r,6)).$join(",")+"]"+a+" \uff1e "+this.$damage(i,a)+"\u56de\u5fa9"):S},_.$$arity=1),t.def(p,"$damage",f=function(t,e){var n;return A(t,"count",[],((n=function(t){return null==t&&(t=S),r(t,e)}).$$s=this,n.$$arity=1,n))},f.$$arity=2),t.def(p,"$collecting_roll",m=function(t){var r,$=S,i=S,o=S,u=S,s=S,l=S;return $=/([TSG])C([+\-\d]+)?/i.$match(t),!R($)||(i=$["$[]"](1),o=D(b,"ArithmeticEvaluator").$eval($["$[]"](2)),l=e(n(u="T"["$==="](s=i)?3:"S"["$==="](s)?4:"G"["$==="](s)?5:S,2),o),R(a(l,0)))?S:A(D(b,"Array"),"new",[l],((r=function(e){var n,a=null==r.$$s?this:r.$$s,$=S;return null==a.randomizer&&(a.randomizer=S),null==e&&(e=S),n=($=a.randomizer.$roll_barabara(2,6)).$sum(),"("+t+") \uff1e "+n+"["+$.$join(",")+"]: "+a.$result_collecting(e,n,u)}).$$s=this,r.$$arity=1,r)).$join("\n")},m.$$arity=1),t.def(p,"$result_collecting",d=function(t,e,$){var i;return R(R(i=a(e,$))?r(n($,2),t):i)?"\uff01\u3042\u3042\u3063\u3068\uff01":R(a(n($,2),t))?"\u6210\u529f\uff08\u8ffd\u52a0\u5206\uff09":"\u6210\u529f"},d.$$arity=3)}(Opal)},16497:function(t,e,n){n(93683),Opal.modules["bcdice/dice_table/table"]=function(t){var e,n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.hash2,y=t.truthy;return e=_,n=c=[d(_[0],"BCDice")].concat(e),r=l=[d(c[0],"DiceTable")].concat(n),u=p(l[0],null,"Table"),s=[u].concat(r),u.$$prototype.times=u.$$prototype.sides=u.$$prototype.name=u.$$prototype.items=f,t.defs(u,"$from_i18n",a=function(t,e){var n=f;return n=m(s,"I18n").$t(t,b(["locale"],{locale:e})),this.$new(n["$[]"]("name"),n["$[]"]("type"),n["$[]"]("items"))},a.$$arity=2),t.def(u,"$initialize",$=function(t,e,n){var r=this,a=f;return r.name=t,r.items=n.$freeze(),a=/(\d+)D(\d+)/i.$match(e),y(a)||r.$raise(m(s,"ArgumentError"),"Unexpected table type: "+e),r.times=a["$[]"](1).$to_i(),r.sides=a["$[]"](2).$to_i()},$.$$arity=3),t.def(u,"$roll",i=function(t){var e,n=this;return e=t.$roll_sum(n.times,n.sides),n.$choice(e)},i.$$arity=1),void t.def(u,"$choice",o=function(t){var e,n=this;return e=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,n.times),m(s,"RollResult").$new(n.name,t,n.items["$[]"](e))},o.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g=[],E=t.nil,R=t.$$$,A=t.$$,v=t.module,B=t.klass,x=t.send2,C=t.truthy,M=t.send,z=t.hash2;t.top.$require("bcdice/dice_table/table"),i=g,o=D=[v(g[0],"BCDice")].concat(i),u=S=[v(D[0],"GameSystem")].concat(o),T=B(S[0],A(S,"Base"),"Nechronica"),h=[T].concat(u),T.$$prototype.randomizer=E,t.const_set(h[0],"ID","Nechronica"),t.const_set(h[0],"NAME","\u30cd\u30af\u30ed\u30cb\u30ab"),t.const_set(h[0],"SORT_KEY","\u306d\u304f\u308d\u306b\u304b"),t.const_set(h[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000(nNC+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000(nNA+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u653b\u6483\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u547d\u4e2d\u90e8\u4f4d\u3068\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),t.def(T,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),x(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.default_target_number=6},s.$$arity=1),t.def(T,"$eval_game_system_specific_command",l=function(t){var e,n=this;return C(e=n.$roll_tables(t,R(n.$class(),"TABLES")))?e:n.$nechronica_check(t)},l.$$arity=1),t.def(T,"$result_nd10",c=function(t,e,n,r,a){var $,i,o;return C(C($=C(i=C(o=n.$count()["$!="](1))?o:r["$!="](">="))?i:a["$nil?"]())?$:a["$=="]("?"))?E:this.$result_nechronica([t],a)},c.$$arity=5),T.$private(),t.def(T,"$result_nechronica",_=function(t,a){var $,i=this,o=E,u=E;return C(e(t.$max(),a))?C(e(t.$max(),11))?A(h,"Result").$critical(i.$translate("Nechronica.critical")):A(h,"Result").$success(i.$translate("success")):M(t,"count",[],($=function(t){return null==t&&(t=E),n(t,1)},$.$$s=i,$.$$arity=1,$))["$=="](0)?A(h,"Result").$failure(i.$translate("failure")):C(r(t.$size(),1))?(o=i.$translate("Nechronica.break_all_parts"),u=i.$translate("Nechronica.fumble"),A(h,"Result").$fumble(u+" \uff1e "+o)):A(h,"Result").$fumble(i.$translate("Nechronica.fumble"))},_.$$arity=2),t.def(T,"$r_backward_compatibility",f=function(t){var e=E;return e=t.$match(/^(\d)?R10([+\-\d]+)?(\[(\d+)\])?$/),C(e)?e["$[]"](4)["$=="]("1")?e["$[]"](1)+"NA"+e["$[]"](2):e["$[]"](1)+"NC"+e["$[]"](2):t},f.$$arity=1),t.def(T,"$nechronica_check",m=function(e){var n,r=this,i=E,o=E,u=E,s=E,l=E,c=E,_=E,f=E,m=E,d=E;return e=r.$r_backward_compatibility(e),i=R(A(h,"Command"),"Parser").$new(/N[CA](10)?/,z(["round_type"],{round_type:r.$round_type()})).$enable_prefix_number().$parse(e),C(i)?(o=[1,i.$prefix_number().$to_i()].$max(),u=C(s=i.$modify_number())?s:0,l=r.randomizer.$roll_barabara(o,10).$sort(),_=(c=M(l,"map",[],((n=function(t){return null==t&&(t=E),a(t,u)}).$$s=r,n.$$arity=1,n))).$max(),C(i.$command()["$start_with?"]("NA"))&&(f=r.$get_hit_location(_)),m=r.$result_nechronica(c,6),d=[["("+i+")","["+l.$join(",")+"]"+A(h,"Format").$modifier(u),_+"["+c.$join(",")+"]",m.$text(),f].$compact().$join(" \uff1e ")],M(m,"text=",t.to_a(d)),$(d.length,1),m):E},m.$$arity=1),t.def(T,"$get_hit_location",d=function(t){var e=E;return C(n(t,5))?E:(e=this.$translate("Nechronica.hit_location.table")["$[]"]($(t,6).$clamp(0,5)),C(r(t,10))?a(e,this.$translate("Nechronica.hit_location.additional_damage",z(["damage"],{damage:$(t,10)}))):e)},d.$$arity=1),p=t.get_singleton_class(T),y=[p].concat(h),p.$private(),t.def(p,"$translate_tables",b=function(t){return z(["NM","NMN","NME"],{NM:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NM",t),NMN:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NMN",t),NME:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NME",t)})},b.$$arity=1),t.const_set(h[0],"TABLES",T.$translate_tables("ja_jp")),T.$register_prefix("\\d?NC","\\d?NA","\\dR10",A(h,"TABLES").$keys())}(Opal)},32190:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/dice_table/table"]=function(t){var e,n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.hash2,y=t.truthy;return e=_,n=c=[d(_[0],"BCDice")].concat(e),r=l=[d(c[0],"DiceTable")].concat(n),u=p(l[0],null,"Table"),s=[u].concat(r),u.$$prototype.times=u.$$prototype.sides=u.$$prototype.name=u.$$prototype.items=f,t.defs(u,"$from_i18n",a=function(t,e){var n=f;return n=m(s,"I18n").$t(t,b(["locale"],{locale:e})),this.$new(n["$[]"]("name"),n["$[]"]("type"),n["$[]"]("items"))},a.$$arity=2),t.def(u,"$initialize",$=function(t,e,n){var r=this,a=f;return r.name=t,r.items=n.$freeze(),a=/(\d+)D(\d+)/i.$match(e),y(a)||r.$raise(m(s,"ArgumentError"),"Unexpected table type: "+e),r.times=a["$[]"](1).$to_i(),r.sides=a["$[]"](2).$to_i()},$.$$arity=3),t.def(u,"$roll",i=function(t){var e,n=this;return e=t.$roll_sum(n.times,n.sides),n.$choice(e)},i.$$arity=1),void t.def(u,"$choice",o=function(t){var e,n=this;return e=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,n.times),m(s,"RollResult").$new(n.name,t,n.items["$[]"](e))},o.$$arity=1)},Opal.modules["bcdice/game_system/Nechronica"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g=[],E=t.nil,R=t.$$$,A=t.$$,v=t.module,B=t.klass,x=t.send2,C=t.truthy,M=t.send,z=t.hash2;return t.top.$require("bcdice/dice_table/table"),i=g,o=D=[v(g[0],"BCDice")].concat(i),u=S=[v(D[0],"GameSystem")].concat(o),T=B(S[0],A(S,"Base"),"Nechronica"),h=[T].concat(u),T.$$prototype.randomizer=E,t.const_set(h[0],"ID","Nechronica"),t.const_set(h[0],"NAME","\u30cd\u30af\u30ed\u30cb\u30ab"),t.const_set(h[0],"SORT_KEY","\u306d\u304f\u308d\u306b\u304b"),t.const_set(h[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000(nNC+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\u30fb\u653b\u6483\u5224\u5b9a\u3000(nNA+m)\n\u3000\u30c0\u30a4\u30b9\u6570n\u3001\u4fee\u6b63\u5024m\u3067\u653b\u6483\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059(\u7701\u7565=1)\n\u3000\u547d\u4e2d\u90e8\u4f4d\u3068\u30c0\u30a4\u30b9\u6570\u304c2\u4ee5\u4e0a\u306e\u6642\u306e\u30d1\u30fc\u30c4\u7834\u640d\u6570\u3082\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),t.def(T,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),x(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.default_target_number=6},s.$$arity=1),t.def(T,"$eval_game_system_specific_command",l=function(t){var e,n=this;return C(e=n.$roll_tables(t,R(n.$class(),"TABLES")))?e:n.$nechronica_check(t)},l.$$arity=1),t.def(T,"$result_nd10",c=function(t,e,n,r,a){var $,i,o;return C(C($=C(i=C(o=n.$count()["$!="](1))?o:r["$!="](">="))?i:a["$nil?"]())?$:a["$=="]("?"))?E:this.$result_nechronica([t],a)},c.$$arity=5),T.$private(),t.def(T,"$result_nechronica",_=function(t,a){var $,i=this,o=E,u=E;return C(e(t.$max(),a))?C(e(t.$max(),11))?A(h,"Result").$critical(i.$translate("Nechronica.critical")):A(h,"Result").$success(i.$translate("success")):M(t,"count",[],($=function(t){return null==t&&(t=E),n(t,1)},$.$$s=i,$.$$arity=1,$))["$=="](0)?A(h,"Result").$failure(i.$translate("failure")):C(r(t.$size(),1))?(o=i.$translate("Nechronica.break_all_parts"),u=i.$translate("Nechronica.fumble"),A(h,"Result").$fumble(u+" \uff1e "+o)):A(h,"Result").$fumble(i.$translate("Nechronica.fumble"))},_.$$arity=2),t.def(T,"$r_backward_compatibility",f=function(t){var e=E;return e=t.$match(/^(\d)?R10([+\-\d]+)?(\[(\d+)\])?$/),C(e)?e["$[]"](4)["$=="]("1")?e["$[]"](1)+"NA"+e["$[]"](2):e["$[]"](1)+"NC"+e["$[]"](2):t},f.$$arity=1),t.def(T,"$nechronica_check",m=function(e){var n,r=this,i=E,o=E,u=E,s=E,l=E,c=E,_=E,f=E,m=E,d=E;return e=r.$r_backward_compatibility(e),i=R(A(h,"Command"),"Parser").$new(/N[CA](10)?/,z(["round_type"],{round_type:r.$round_type()})).$enable_prefix_number().$parse(e),C(i)?(o=[1,i.$prefix_number().$to_i()].$max(),u=C(s=i.$modify_number())?s:0,l=r.randomizer.$roll_barabara(o,10).$sort(),_=(c=M(l,"map",[],((n=function(t){return null==t&&(t=E),a(t,u)}).$$s=r,n.$$arity=1,n))).$max(),C(i.$command()["$start_with?"]("NA"))&&(f=r.$get_hit_location(_)),m=r.$result_nechronica(c,6),d=[["("+i+")","["+l.$join(",")+"]"+A(h,"Format").$modifier(u),_+"["+c.$join(",")+"]",m.$text(),f].$compact().$join(" \uff1e ")],M(m,"text=",t.to_a(d)),$(d.length,1),m):E},m.$$arity=1),t.def(T,"$get_hit_location",d=function(t){var e=E;return C(n(t,5))?E:(e=this.$translate("Nechronica.hit_location.table")["$[]"]($(t,6).$clamp(0,5)),C(r(t,10))?a(e,this.$translate("Nechronica.hit_location.additional_damage",z(["damage"],{damage:$(t,10)}))):e)},d.$$arity=1),p=t.get_singleton_class(T),y=[p].concat(h),p.$private(),t.def(p,"$translate_tables",b=function(t){return z(["NM","NMN","NME"],{NM:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NM",t),NMN:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NMN",t),NME:R(A(y,"DiceTable"),"Table").$from_i18n("Nechronica.table.NME",t)})},b.$$arity=1),t.const_set(h[0],"TABLES",T.$translate_tables("ja_jp")),void T.$register_prefix("\\d?NC","\\d?NA","\\dR10",A(h,"TABLES").$keys())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/Nechronica"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Nechronica"),"Nechronica_Korean")].concat(i),r.const_set(s[0],"ID","Nechronica:Korean"),r.const_set(s[0],"NAME","\ub124\ud06c\ub85c\ub2c8\uce74"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\ub124\ud06c\ub85c\ub2c8\uce74"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\ud310\uc815\u3000(nNC+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\u30fb\uacf5\uaca9\ud310\uc815\u3000(nNA+m)\n\u3000\uc8fc\uc0ac\uc704 \uc218n\u3001\uc218\uc815\uce58m\uc73c\ub85c \uacf5\uaca9\ud310\uc815\uad74\ub9bc\uc744 \ud589\ud569\ub2c8\ub2e4.\n\u3000\uba85\uc911\ubd80\uc704\uc640 \uc8fc\uc0ac\uc704 \uc218\uac00 2\uac1c \uc774\uc0c1\uc77c \ub54c\uc5d0 \ud30c\uce20\ud30c\uc190 \uc218\ub3c4 \ud45c\uc2dc\ud569\ub2c8\ub2e4.\n\n\u8868\n\u30fb\u59c9\u59b9\u3078\u306e\u672a\u7df4\u8868 nm\n\u30fb\u4e2d\u7acb\u8005\u3078\u306e\u672a\u7df4\u8868 nmn\n\u30fb\u6575\u3078\u306e\u672a\u7df4\u8868 nme\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr"))},71772:function(t,e,n){n(93683),Opal.modules["bcdice/format"]=function(t){var e,n,r,a,$,i,o,u=[],s=t.nil,l=t.$$,c=t.module,_=t.truthy;return e=u,n=o=[c(u[0],"BCDice")].concat(e),$=c(o[0],"Format"),i=[$].concat(n),$.$module_function(),t.def($,"$comparison_operator",r=function(t){var e;return"=="["$==="](e=t)?"=":"!="["$==="](e)?"<>":l(i,"Symbol")["$==="](e)?t.$to_s():s},r.$$arity=1),void t.def($,"$modifier",a=function(t){return _(t["$nil?"]())?s:t["$=="](0)?"":_("number"==typeof(e=t)?e>0:e["$>"](0))?"+"+t:t.$to_s();var e},a.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$$,g=t.$$,E=t.module,R=t.klass,A=t.send2,v=t.send,B=t.hash2,x=t.truthy;t.top.$require("bcdice/format"),i=h,o=T=[E(h[0],"BCDice")].concat(i),u=y=[E(T[0],"GameSystem")].concat(o),p=R(y[0],g(y,"Base"),"NightmareHunterDeep"),b=[p].concat(u),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","NightmareHunterDeep"),t.const_set(b[0],"NAME","\u30ca\u30a4\u30c8\u30e1\u30a2\u30cf\u30f3\u30bf\u30fc=\u30c7\u30a3\u30fc\u30d7"),t.const_set(b[0],"SORT_KEY","\u306a\u3044\u3068\u3081\u3042\u306f\u3093\u305f\u3042\u3066\u3044\u3044\u3075"),t.const_set(b[0],"HELP_MESSAGE","\u5224\u5b9a\uff08xD6+y>=a, xD6+y, xD6)\n  \u51fa\u76ee6\u306e\u500b\u6570\u3092\u30ab\u30a6\u30f3\u30c8\u3057\u3066\u3001\u305d\u306e4\u500d\u3092\u5408\u8a08\u5024\u306b\u52a0\u7b97\u3057\u307e\u3059\u3002\n  \u307e\u305f\u3001\u5bbf\u547d\u3092\u7372\u5f97\u3057\u305f\u304b\u8868\u793a\u3057\u307e\u3059\u3002\n\n  Lv\u76ee\u6a19\u5024 (xD6+y>=LVn, xD6+y>=NLn)\n    \u30ec\u30d9\u30eb\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n    LVn -> n*5+1, NLn -> n*5+5 \u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\n  \u76ee\u6a19\u5024'?' (xD6+y>=?)\n    \u76ee\u6a19\u5024\u3092 '?' \u306b\u3059\u308b\u3068\u4f55Lv\u6210\u529f\u304b\u3001\u4f55NL\u6210\u529f\u304b\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u203b\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u306f xD6 \u304b\u3089\u59cb\u307e\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u307e\u305f xD6 \u304c\u8907\u6570\u3042\u308b\u3068\u53cd\u5fdc\u3057\u307e\u305b\u3093\u3002\n"),p.$register_prefix("\\d+D6"),t.def(p,"$initialize",s=function(e){var n=this;return s.$$p&&(s.$$p=null),A(n,t.find_super_dispatcher(n,"initialize",s,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},s.$$arity=1),t.def(p,"$eval_game_system_specific_command",l=function(a){var $,i,o,u,s=this,l=S,c=S,_=S,f=S,m=S,d=S,p=S,y=S;return a=v(v(a,"sub",[/Lv(\d+)/i],(($=function(){return e(n(g(b,"Regexp").$last_match(1).$to_i(),5),1).$to_s()}).$$s=s,$.$$arity=0,$)),"sub",[/NL(\d+)/i],((i=function(){return r(n(g(b,"Regexp").$last_match(1).$to_i(),5),5).$to_s()}).$$s=s,i.$$arity=0,i)),l=D(g(b,"Command"),"Parser").$new(/\d+D6/,B(["round_type"],{round_type:s.$round_type()})).$restrict_cmp_op_to(S,">=").$enable_question_target().$parse(a),x(l)?(c=l.$command().$to_i(),m=r(f=(_=s.randomizer.$roll_barabara(c,6).$sort()).$sum(),l.$modify_number()),u=s.$dice_revision(_),d=null==(o=t.to_ary(u))[0]?S:o[0],m=r(m,null==o[1]?S:o[1]),p=x(l["$question_target?"]())?"?":l.$target_number(),y=s.$result_text(m,l.$cmp_op(),p),["("+l+")",s.$interim_expr(l,f,_),s.$expr_with_revision(r(f,l.$modify_number()),d),m,y,s.$fate(_)].$compact().$join(" \uff1e ")):S},l.$$arity=1),t.def(p,"$result_text",c=function(t,n,i){var o=S,u=S;return n["$=="](">=")?x(i["$!="]("?"))?x(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,i))?"\u6210\u529f":"\u5931\u6557":(o=a(r(t,1),5).$to_i(),u=a(e(t,5),5).$to_i(),x($(o,0))?"Lv"+o+"/NL"+u+"\u6210\u529f":"\u5931\u6557"):S},c.$$arity=3),t.def(p,"$fate",_=function(t){return x($(t.$count(1),0))?"\u5bbf\u547d\u7372\u5f97":S},_.$$arity=1),t.def(p,"$interim_expr",f=function(t,e,n){var r,a=S;return x(x(r=$(n.$size(),1))?r:t.$modify_number()["$!="](0))?(a=g(b,"Format").$modifier(t.$modify_number()),e+"["+n.$join(",")+"]"+a):S},f.$$arity=3),t.def(p,"$expr_with_revision",m=function(t,e){return x(e)?""+t+e:S},m.$$arity=2),t.def(p,"$dice_revision",d=function(t){var e;return e=t.$count(6),x($(e,0))?["+"+e+"*4",n(e,4)]:[S,0]},d.$$arity=1)}(Opal)},99231:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c=[],_=t.nil,f=t.$$,m=t.module,d=t.klass,p=t.truthy,b=t.send;n=c,r=l=[m(c[0],"BCDice")].concat(n),a=s=[m(l[0],"GameSystem")].concat(r),o=d(s[0],f(s,"Base"),"NjslyrBattle"),u=[o].concat(a),t.const_set(u[0],"ID","NjslyrBattle"),t.const_set(u[0],"NAME","NJSLYRBATTLE"),t.const_set(u[0],"SORT_KEY","\u306b\u3093\u3057\u3084\u3059\u308c\u3044\u3084\u3042\u306f\u3068\u308b"),t.const_set(u[0],"HELP_MESSAGE","\u30fb\u30ab\u30e9\u30c6\u30ed\u30fc\u30eb\n2d6<=(\u30ab\u30e9\u30c6\u70b9)\n\u4f8b\uff092d6<=5\n(2D6<=5) \uff1e 2[1,1] \uff1e 2 \uff1e \u6210\u529f \u91cd\u70b9 3 \u6e9c\u307e\u308b\n"),t.def(o,"$result_2d6",$=function(n,r,a,$,i){var o,s=_,l=_;return i["$=="]("?")?f(u,"Result").$nothing():p($["$!="]("<="))?_:(l=[e((s=p(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(n,i))?f(u,"Result").$success("\u6210\u529f"):f(u,"Result").$failure("\u5931\u6557")).$text(),this.$juuten(a))],b(s,"text=",t.to_a(l)),"number"==typeof(o=l.length)||o["$-"](1),s)},$.$$arity=5),o.$private(),t.def(o,"$juuten",i=function(t){var n,r=_;return r=e(t.$count(1),t.$count(6)),t["$[]"](0)["$=="](t["$[]"](1))&&(r=e(r,1)),p("number"==typeof(n=r)?n>0:n["$>"](0))?" \u91cd\u70b9 "+r+" \u6e9c\u307e\u308b":""},i.$$arity=1)}(Opal)},20191:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y;n(93683),r=Opal,f=r.nil,m=r.$$,p=r.klass,b=r.truthy,y=r.hash2,a=_=[],$=c=[(d=r.module)(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"Nuekagami"),s=[u].concat(i),r.const_set(s[0],"ID","Nuekagami"),r.const_set(s[0],"NAME","\u9d7a\u93e1"),r.const_set(s[0],"SORT_KEY","\u306c\u3048\u304b\u304b\u307f"),r.const_set(s[0],"HELP_MESSAGE","\u30fb\u55aa\u5931\u8868\uff08xL\uff09\n\u3000BL\uff1a\u8840\u8108\u3001LL\uff1a\u751f\u69d8\u3001SL\uff1a\u9b42\u9b44\u3001FL\uff1a\u56e0\u7e01\n\u30fbLR\uff1a\u55aa\u5931\u53d6\u623b\u8868\n\u30fb\u9580\u901a\u904e\u63cf\u5199\u8868\uff08xG\uff09\n\u3000HG\uff1a\u5730\u7344\u9580\u3001RG\uff1a\u7f85\u751f\u9580\u3001VG\uff1a\u6731\u96c0\u9580\u3001OG\uff1a\u5fdc\u5929\u9580\n"),r.def(u,"$eval_game_system_specific_command",o=function(t){var e,n,a=f,$=f,i=f,o=f,u=f,l=f;return a=m(s,"TABLES")["$[]"](t.$upcase()),b(a["$nil?"]())||($=a["$[]"]("name"),i=a["$[]"]("type"),o=a["$[]"]("table"),n="1D20"["$==="](i)?this.$get_table_by_nDx(o,1,20):f,l=null==(e=r.to_ary(n))[1]?f:e[1],b((u=null==e[0]?f:e[0])["$nil?"]()))?f:$+"("+l+") \uff1e "+u},o.$$arity=1),r.const_set(s[0],"TABLES",y(["LR","BL","LL","SL","FL","HG","RG","VG","OG"],{LR:y(["name","type","table"],{name:"\u55aa\u5931\u53d6\u623b\u8868",type:"1D20",table:["\u9b3c\u5316\u3002\u5984\u57f7\u304b\u304f\u3057\u3066\u9b3c\u3068\u7d50\u5b9f\u3059\u3002\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u3059\u3067\u306b\u306a\u3057\u3002\u3042\u3084\u304b\u3057\u3001\u5df1\u306e\u6b20\u3051\u305f\u308b\u3092\u8db3\u305b\u308a\u3002\u3059\u306a\u308f\u3061\u305d\u306e\u8eab\u3001\u4eba\u306a\u3089\u305a\u3002","\u5984\u60f3\u3002\u3068\u304f\u3068\u898b\u3088\u3002\u4f55\u3082\u5931\u3063\u3066\u306a\u3069\u304a\u3089\u306c\u3002\u3053\u306e\u8089\u3053\u306e\u9b42\u3053\u306e\u8eab\u4e0a\u3001\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u305e\u306a\u3057\u3002\u6b20\u3051\u3057\u5922\u3092\u898b\u3057\u306e\u307f\u3002\u5168\u3066\u5922\u306a\u308a\u3002","\u9d7a\u578b\u3002\u8089\u306b\u5185\u306b\u6697\u96f2\u3086\u3089\u3081\u304f\u3002\u6b20\u3051\u305f\u308b\u3068\u3053\u308d\u6f02\u3046\u305d\u308c\u306f\u3001\u9db4\u304c\u6b20\u7247\u3002\u6696\u6627\u306e\u5883\u754c\u306a\u308c\u3070\u3001\u5931\u3044\u3057\u3082\u306e\u307e\u305f\u623b\u308a\u305f\u308b\u304c\u5982\u304f\u3002","\u8ae6\u89b3\u3002\u5df1\u304c\u8eab\u3092\u77e5\u308b\u3002\u671b\u3080\u611a\u304b\u3092\u77e5\u308b\u3002\u8db3\u63bb\u304f\u611a\u304b\u3092\u77e5\u308b\u3002\u5fc3\u306f\u6298\u308c\u308a\u3002\u671b\u307f\u306f\u7d76\u3048\u308a\u3002\u8ae6\u3081\u308b\u3053\u3068\u3067\u8db3\u308b\u3082\u306e\u3082\u3042\u308b\u77e5\u3089\u3080\u3002","\u5c4d\u6f01\u3002\u3082\u306f\u3084\u3044\u304b\u306a\u6240\u696d\u3082\u3044\u3068\u308f\u305a\u3002\u3055\u308c\u3070\u6570\u591a\u306e\u9ab8\u3092\u6f01\u308a\u3001\u3064\u3044\u306b\u6b20\u3051\u305f\u308b\u3092\u6e80\u305f\u305b\u308a\u3002\u4ee3\u308f\u308a\u306b\u6b20\u3051\u305f\u308b\u5fc3\u3001\u77e5\u308b\u3053\u3068\u305e\u306a\u3057\u3002","\u546a\u523b\u3002\u3042\u307e\u306d\u304f\u546a\u306f\u3070\u3001\u5df1\u3082\u56da\u308f\u308b\u3002\u5df1\u3092\u9a19\u308b\u546a\u3044\u3001\u5df1\u3092\u6355\u3089\u3048\u7d61\u3081\u308c\u3070\u3001\u6b20\u3051\u305f\u308b\u3082\u307e\u305f\u6e80\u3061\u3066\u898b\u3086\u308b\u3002","\u5f97\u5fc3\u3002\u3059\u3079\u3066\u306f\u5df1\u306e\u884c\u3044\u306e\u7d50\u679c\u306a\u308c\u3070\u3001\u56e0\u679c\u5fdc\u5831\u3002\u305d\u308c\u306a\u304d\u306f\u4e0d\u5177\u5408\u306a\u308c\u3069\u3001\u5f97\u5fc3\u305b\u308a\u3002\u3082\u306f\u3084\u60a9\u3081\u3069\u305b\u3093\u306a\u304d\u3053\u3068\u306a\u308a\u3084\u3002","\u596a\u53d6\u3002\u7121\u3051\u308c\u3070\u3001\u596a\u3048\u3002\u3042\u306a\u59ac\u307e\u3057\u3068\u601d\u308f\u3070\u596a\u3048\u3002\u596a\u3044\u3066\u5df1\u304c\u3082\u306e\u3068\u305b\u3088\u3002\u3055\u3059\u308c\u3070\u305f\u3061\u307e\u3061\u3001\u6b32\u3059\u308b\u3068\u3053\u308d\u623b\u308c\u308a\u3002","\u7f6a\u4fa1\u3002\u5df1\u304c\u7f6a\u3092\u77e5\u308c\u308a\u3002\u304b\u304f\u3042\u3055\u307e\u3057\u304d\u7f6a\u696d\u306b\u6bd4\u3076\u308c\u3070\u3001\u5df1\u304c\u5931\u3044\u3057\u3082\u306e\u3001\u306a\u3093\u3068\u8efd\u304d\u3053\u3068\u304b\u3002\u3055\u3042\u308c\u3070\u3001\u60a9\u3080\u308b\u306b\u80fd\u306f\u305a\u3002","\u4ee3\u66ff\u3002\u5931\u3078\u308b\u3082\u306e\u3001\u672a\u3060\u5931\u308f\u308c\u308a\u3002\u3055\u308c\u3069\u3001\u4ee3\u308f\u308b\u3082\u306e\u3092\u5f97\u305f\u308a\u3002\u4e8c\u5ea6\u3068\u306f\u5931\u3046\u308f\u3058\u3002\u5931\u308f\u3070\u305d\u306e\u75db\u307f\u306b\u72c2\u3044\u679c\u3066\u3080\u3002","\u53d7\u5bb9\u3002\u7d0d\u5f97\u306f\u306a\u3057\u3002\u8ae6\u89b3\u306f\u306a\u3057\u3002\u3055\u308c\u3069\u53d7\u3051\u5165\u308c\u308a\u3002\u6b20\u3051\u305f\u308b\u3082\u307e\u305f\u5df1\u306a\u308c\u3070\u3001\u6b20\u3051\u308b\u3068\u3053\u308d\u3082\u3066\u6e80\u305f\u3055\u3070\u3001\u305d\u308c\u5df1\u306a\u3089\u305a\u3084\u3002","\u4ee3\u884c\u3002\u304b\u304b\u308b\u8eab\u306b\u305d\u308c\u306a\u304f\u3068\u3082\u662f\u3002\u304b\u304f\u884c\u3044\u70ba\u3059\u306f\u3001\u5df1\u304c\u7b46\u306a\u3089\u305a\u3002\u4ee3\u308f\u308a\u3066\u70ba\u3059\u8005\u3001\u4fe1\u305a\u3079\u304d\u3042\u3089\u3070\u3053\u305d\u3002","\u9069\u5fdc\u3002\u5fc3\u75db\u3080\u308b\u6642\u591a\u3051\u308c\u3069\u3001\u6b20\u3051\u305f\u308b\u306b\u3082\u99b4\u308c\u305f\u308a\u3002\u3082\u306f\u3084\u6b20\u3051\u308b\u306b\u4e0d\u81ea\u7531\u306a\u3057\u3002\u3055\u308c\u3070\u305d\u308c\u3059\u306a\u308f\u3061\u3001\u6b20\u3051\u305f\u308b\u306b\u975e\u305a","\u5996\u8cde\u3002\u5927\u5996\u306b\u9047\u3072\u3066\u3001\u9957\u5fdc\u3059\u3002\u5f7c\u306e\u5996\u3001\u5927\u3044\u306b\u6176\u3073\u3066\u305d\u306e\u8eab\u306b\u6b20\u3051\u305f\u308b\u3092\u4e0e\u3078\u3080\u3002\u305d\u308c\u7570\u69d8\u306a\u308c\u3069\u3001\u7528\u306f\u8db3\u308c\u308a\u3002","\u596a\u9084\u3002\u3064\u3072\u306b\u596a\u308f\u308c\u3057\u3082\u306e\u3001\u596a\u3044\u8fd4\u305b\u308a\uff01\u53d6\u308a\u623b\u305b\u3057\u305d\u308c\u3001\u518d\u3073\u624b\u306e\u5185\u306b\u53ce\u307e\u308a\u3066\u8f1d\u3051\u308a\u3002\u3051\u3057\u3066\u307e\u305f\u624b\u653e\u3059\u3053\u3068\u3042\u3089\u3058\u3002","\u672c\u61d0\u3002\u5df1\u306e\u6c42\u3080\u308b\u3092\u3001\u3064\u3044\u306b\u70ba\u3057\u9042\u3052\u308a\u3002\u3082\u306f\u3084\u5df1\u304c\u529b\u3001\u5df1\u304c\u6280\u3001\u7591\u3046\u3068\u3053\u308d\u306a\u3057\u3002\u5df1\u304c\u6709\u69d8\u306b\u306a\u3093\u305e\u8db3\u3089\u3056\u308b\u3042\u308b\u3079\u304d\u3084\u3002","\u53d6\u5f97\u3002\u8271\u96e3\u8f9b\u82e6\u305e\u3042\u308a\u3084\u3002\u3064\u3044\u305e\u679c\u3066\u306b\u5931\u3044\u3057\u305d\u308c\u3001\u8eab\u306b\u4fee\u3081\u3093\u3002\u305f\u3060\u53d6\u308a\u623b\u305b\u3057\u3082\u306e\u306b\u3042\u3089\u3058\u3002\u65b0\u305f\u306b\u5f97\u305f\u308a\u3057\u3084\u3002","\u8cdc\u7269\u3002\u305d\u306e\u6b20\u3051\u308b\u69d8\u3001\u5f7c\u306e\u4eba\u3042\u306f\u308c\u306b\u601d\u3044\u3066\u3001\u304b\u304f\u306a\u308b\u3092\u4e0e\u3048\u8cdc\u308a\u3002\u4ee5\u3066\u3001\u6e80\u3061\u305f\u308b\u5df1\u3001\u5f7c\u306e\u4eba\u306b\u307e\u305f\u4ed5\u3048\u3080\u3002","\u5927\u609f\u3002\u8db3\u63bb\u3051\u308c\u3069\u8db3\u63bb\u3051\u308c\u3069\u3001\u6e80\u3061\u308b\u3053\u3068\u306a\u3057\u3002\u8db3\u308a\u3056\u308b\u306f\u81ea\u7136\u3002\u5df1\u306e\u59ff\u3092\u53d7\u3051\u5165\u308c\u3080\u3002\u3055\u308c\u3070\u6b20\u3051\u305f\u308b\u306b\u3001\u60a9\u307e\u3055\u308b\u308b\u3082\u306a\u3057\u3002","\u671b\u6708\u3002\u6b20\u3051\u305f\u308b\u6708\u304c\u6e80\u3061\u308b\u304c\u5982\u304f\u3002\u6b20\u3051\u305f\u308b\u306f\u7a81\u7136\u306b\u623b\u308c\u308a\u3002\u3044\u304b\u306a\u308b\u8aa0\u3001\u3044\u304b\u306a\u308b\u5370\u304b\u3001\u77e5\u308b\u3082\u306e\u306f\u3042\u3089\u305a\u3002"]}),BL:y(["name","type","table"],{name:"\u8840\u8108\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u9aea\u306e\u8272\u3002\u4e00\u591c\u306b\u3057\u3066\u3042\u306a\u305f\u306e\u9aea\u306f\u767d\u304f\u306a\u3063\u305f\u3002","\u8996\u529b\u3002\u5468\u56f2\u304c\u307c\u3093\u3084\u308a\u3068\u3057\u304b\u898b\u3048\u306a\u3044\u3002","\u6240\u4f5c\u3002\u4f53\u306e\u4e00\u90e8\u304c\u307e\u3068\u3082\u306b\u52d5\u304b\u305b\u306a\u3044\u3002","\u75db\u307f\u3002\u4f53\u304c\u75db\u307f\u3092\u611f\u3058\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3063\u305f\u3002","\u5bb9\u8c8c\u3002\u9854\u306b\u5927\u304d\u306a\u50b7\u3084\u706b\u50b7\u3092\u8ca0\u3063\u305f\u3002","\u8840\u306e\u6c17\u3002\u3042\u306a\u305f\u306e\u808c\u306f\u8840\u306e\u6c17\u3092\u5931\u3063\u305f\u307e\u307e\u3060\u3002","\u8d64\u3044\u8840\u3002\u4f53\u3092\u6d41\u308c\u308b\u8840\u304c\u7570\u69d8\u306a\u8272\u3068\u306a\u3063\u305f\u3002","\u5b50\u3092\u4f5c\u308b\u529b\u3002\u5b50\u3092\u4f5c\u308b\u529b\u3092\u5931\u3063\u305f\u3002","\u5668\u7528\u3055\u3002\u4f53\u304c\u5e38\u306b\u5c0f\u3055\u304f\u9707\u3048\u3066\u3044\u308b\u3002","\u5065\u5eb7\u3002\u75c5\u3092\u60a3\u3063\u305f\u2026\u2026\u4f53\u304c\u8870\u5f31\u3057\u3066\u3044\u308b\u3002","\u5bff\u547d\u3002\u3042\u306a\u305f\u306e\u5bff\u547d\u306f\u6b8b\u308a\u308f\u305a\u304b\u3068\u306a\u3063\u305f\u3002","\u306c\u304f\u3082\u308a\u3002\u305d\u306e\u4f53\u306f\u5e38\u306b\u51b7\u305f\u3044\u2026\u2026\u3002","\u7247\u76ee\u3002\u7247\u76ee\u3092\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u2026\u2026\u3002","\u7247\u811a\u3002\u7247\u811a\u3092\u5207\u308a\u843d\u3068\u3055\u308c\u305f\uff01","\u7247\u8155\u3002\u7247\u8155\u3092\u5207\u308a\u843d\u3068\u3055\u308c\u305f\uff01","\u751f\u547d\u3002\u3042\u306a\u305f\u306e\u9f13\u52d5\u306f\u6b62\u307e\u3063\u3066\u4e45\u3057\u3044\u3002","\u771f\u306e\u529b\u3002\u672c\u6765\u306e\u529b\u304c\u307b\u3068\u3093\u3069\u767a\u63ee\u3067\u304d\u306a\u3044\u3002","\u8089\u3002\u7570\u69d8\u306b\u75e9\u305b\u305f\u304b\u3001\u4f53\u306e\u4e00\u90e8\u304c\u767d\u9aa8\u5316\u3057\u3066\u3044\u308b\u3002","\u4eba\u306e\u4f53\u3002\u4f53\u304c\u6b6a\u307f\u5909\u308f\u308a\u3001\u7570\u5f62\u3068\u5316\u3057\u305f\u3002","\u5df1\u306e\u4f53\u3002\u4eca\u306f\u4ed6\u4eba\u306e\u4f53\u3092\u501f\u308a\u3066\u3044\u308b\u3002"]}),LL:y(["name","type","table"],{name:"\u751f\u69d8\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u4e3b\u541b\u306e\u5bf5\u611b\u3002\u4e0d\u8208\u3092\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3002","\u5e2b\u5320\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u9762\u5b50\u3002\u5927\u3044\u306b\u6065\u3092\u304b\u3044\u305f\u3002\u3053\u306e\u307e\u307e\u306b\u3057\u3066\u304a\u3051\u306a\u3044\u3002","\u6642\u9593\u3002\u4eca\u307e\u3067\u7cbe\u9b42\u3092\u50be\u3051\u3066\u6765\u305f\u3082\u306e\u306f\u7121\u99c4\u3060\u3063\u305f\u3002","\u8840\u7e01\u3002\u4fe1\u3058\u3066\u3044\u305f\u751f\u307e\u308c\u3067\u306f\u306a\u304b\u3063\u305f\u2026\u2026\u3002","\u5bb6\u5b9d\u3002\u5bb6\u306e\u5b9d\u3001\u3042\u308b\u3044\u306f\u5f62\u898b\u3092\u596a\u308f\u308c\u3066\u3057\u307e\u3063\u305f\u3002","\u604b\u4eba\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u596a\u308f\u308c\u305f\u3002","\u904b\u3002\u4f55\u3092\u3084\u3063\u3066\u3082\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u3002","\u8ca1\u7523\u3002\u9a19\u3057\u53d6\u3089\u308c\u305f\u304b\u2026\u2026\u3002\u3042\u308b\u3044\u306f\u4f7f\u3044\u679c\u305f\u3057\u305f\u3002","\u540d\u58f0\u3002\u3042\u306a\u305f\u306e\u540d\u58f0\u306f\u5730\u306b\u843d\u3061\u3066\u3044\u308b\u2026\u2026\u3002","\u5c45\u5834\u6240\u3002\u5c45\u308b\u3079\u304d\u5834\u6240\u3001\u8eab\u5206\u3092\u5931\u3063\u3066\u3057\u307e\u3063\u305f\u2026\u2026\u3002","\u5730\u4f4d\u3002\u304b\u3064\u3066\u306e\u5730\u4f4d\u306f\u5931\u308f\u308c\u305f\u306e\u3060\u3002","\u65e5\u5e38\u3002\u3053\u3093\u306a\u4e16\u306e\u4e2d\u3067\u3082\u5e73\u548c\u306b\u66ae\u3089\u3057\u3066\u3044\u305f\u306e\u306b\u3002","\u76f8\u68d2\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u88cf\u5207\u3089\u308c\u305f\u3002","\u4ed5\u3048\u308b\u4eba\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u4eba\u671b\u3002\u304b\u3064\u3066\u3042\u306a\u305f\u3092\u8b83\u3048\u305f\u4eba\u304c\u3001\u4eca\u3084\u3042\u306a\u305f\u3092\u7f75\u308b\u3002","\u5bb6\u65cf\u3002\u6b7b\u3093\u3060\u304b\u3001\u3042\u308b\u3044\u306f\u3042\u306a\u305f\u304c\u6368\u3066\u3089\u308c\u305f\u3002","\u6545\u90f7\u3002\u4f55\u8005\u304b\u306b\u6ec5\u307c\u3055\u308c\u305f\u304b\u3001\u3042\u308b\u3044\u306f\u81ea\u6ec5\u3057\u305f\u3002","\u5b88\u308b\u3079\u304d\u4eba\u3002\u5b88\u308b\u3079\u304d\u4eba\u3092\u5b88\u308c\u306a\u304b\u3063\u305f\u2026\u2026\u3002","\u81ea\u7531\u3002\u8105\u3055\u308c\u7e1b\u3089\u308c\u3001\u8ab0\u304b\u306e\u547d\u4ee4\u3092\u805e\u304f\u3057\u304b\u3067\u304d\u306a\u3044\u3002"]}),SL:y(["name","type","table"],{name:"\u9b42\u9b44\u306e\u55aa\u5931\u8868",type:"1D20",table:["\u8a87\u308a\u3002\u8a87\u308a\u306a\u3069\u6b8b\u3063\u3066\u306f\u3044\u306a\u3044\u3002","\u5fc3\u306e\u4f59\u88d5\u3002\u4eca\u3092\u751f\u304d\u308b\u3060\u3051\u3067\u7cbe\u4e00\u676f\u3002","\u656c\u3046\u5fc3\u3002\u5df1\u3053\u305d\u304c\u5168\u3066\u3060\u3002","\u6c17\u529b\u3002\u4f55\u3082\u3084\u308b\u6c17\u304c\u304a\u304d\u306a\u3044\u2026\u2026\u3002","\u5b89\u7720\u3002\u591c\u6bce\u306e\u60aa\u5922\u306b\u3001\u307e\u3068\u3082\u306b\u7720\u308c\u306a\u3044\u3002","\u4fe1\u3058\u308b\u5fc3\u3002\u4e8c\u5ea6\u3068\u4eba\u306a\u3069\u4fe1\u3058\u308b\u3082\u306e\u304b\u3002","\u611b\u3002\u3082\u306f\u3084\u8ab0\u304b\u3092\u611b\u3059\u308b\u3053\u3068\u306a\u3069\u306a\u3044\u3002","\u5922\u3002\u524d\u306b\u898b\u3048\u3066\u3044\u305f\u5149\u3001\u76ee\u6a19\u3002\u4eca\u306f\u95c7\u306e\u4e2d\u3060\u3002","\u4e00\u7dda\u3002\u5df1\u306e\u4e2d\u306e\u8d85\u3048\u3066\u306f\u306a\u3089\u306c\u7dda\u3092\u8e0f\u307f\u8d8a\u3048\u305f\u3002","\u4fe1\u3058\u305f\u3082\u306e\u3002\u304b\u3064\u3066\u4fe1\u3058\u305f\u306e\u306f\u307e\u3084\u304b\u3057\u3060\u3063\u305f\u3002","\u4eba\u306e\u5fc3\u3002\u3053\u306e\u4e16\u3067\u4eba\u306e\u5fc3\u304c\u4f55\u306e\u5f79\u306b\u7acb\u3064\uff1f","\u77b3\u306e\u5149\u3002\u5168\u3066\u865a\u3057\u3044\u3082\u306e\u3068\u3057\u304b\u898b\u3048\u306a\u3044\u3002","\u5e0c\u671b\u3002\u3053\u306e\u4e16\u306b\u4f55\u3092\u671b\u3080\u3068\u3044\u3046\u306e\u3060\u308d\u3046\uff1f","\u81ea\u5236\u5fc3\u3002\u5df1\u3092\u6291\u3048\u3066\u4f55\u3068\u3059\u308b\uff1f","\u6d99\u3002\u305d\u306e\u76ee\u304c\u6d99\u3092\u6d41\u3059\u3053\u3068\u306f\u306a\u3044\u3002","\u7b11\u9854\u3002\u4e8c\u5ea6\u3068\u7b11\u3044\u306a\u3069\u3057\u306a\u3044\u3060\u308d\u3046\u3002","\u5927\u5207\u306a\u8a18\u61b6\u3002\u3069\u3046\u3057\u3066\u304b\u2026\u2026\u8a18\u61b6\u3092\u5931\u3063\u3066\u3044\u308b\u3002","\u672c\u5f53\u306e\u81ea\u5206\u3002\u5df1\u3092\u507d\u308a\u3059\u304e\u3066\u3001\u672c\u6765\u306e\u5df1\u3092\u5fd8\u308c\u305f\u3002","\u6b63\u6c17\u3002\u4eca\u306e\u3042\u306a\u305f\u306f\u72c2\u6c17\u306e\u6c99\u6c70\u3060\uff01","\u5df1\u306e\u610f\u5fd7\u3002\u3042\u306a\u305f\u306f\u8ab0\u304b\u306e\u4eba\u5f62\u3002\u9053\u5177\u306b\u904e\u304e\u306a\u3044\u3002"]}),FL:y(["name","type","table"],{name:"\u56e0\u7e01\u8868",type:"1D20",table:["\u4ec7\u6575\u3002\u5974\u306f\u6575\u3060\u3002\u3042\u306a\u305f\u306e\u6575\u3060\u3002","\u6bba\u610f\u3002\u6bba\u3057\u3066\u3084\u308a\u305f\u3044\u3002","\u8511\u8996\u3002\u53e3\u307b\u3069\u306b\u3082\u306a\u3044\u5b58\u5728\u3060\u3002","\u5ac9\u59ac\u3002\u306a\u305c\u30a2\u30a4\u30c4\u3060\u3051\u304c\u2026\u2026\u3002","\u6050\u6016\u3002\u6050\u308d\u3057\u3044\u3002\u3042\u308c\u3092\u6012\u3089\u305b\u3066\u306f\u3044\u3051\u306a\u3044\u3002","\u76ee\u969c\u308a\u3002\u90aa\u9b54\u3060\u3002\u6c17\u306b\u5165\u3089\u306a\u3044\u3002","\u5229\u7528\u3002\u5f79\u306b\u7acb\u3063\u3066\u304f\u308c\u305d\u3046\u3060\u306a\u3002","\u73a9\u5177\u3002\u305b\u3044\u305c\u3044\u697d\u3057\u307e\u305b\u3066\u3082\u3089\u304a\u3046\u3002","\u4f9d\u5b58\u3002\u3042\u306e\u4eba\u304c\u3044\u306a\u3051\u308c\u3070\u3044\u3051\u306a\u3044\u306e\u3060\u3002","\u6b32\u671b\u3002\u304a\u524d\u304c\u6b32\u3057\u3044\u2026\u2026\u3002","\u597d\u6575\u3002\u306a\u304b\u306a\u304b\u3084\u308b\u3058\u3083\u306a\u3044\u304b\u3002","\u6190\u618e\u3002\u54c0\u308c\u306a\u2026\u2026\u3002","\u60aa\u53cb\u3002\u8150\u308c\u7e01\u3002\u4fe1\u7528\u3067\u304d\u306a\u3044\u304c\u5999\u306b\u5fc3\u5730\u3044\u3044\u3002","\u754f\u6016\u3002\u3042\u306e\u4eba\u306b\u306f\u9006\u3089\u3048\u306a\u3044\u3002","\u6069\u7fa9\u3002\u6069\u304c\u3042\u308b\u2026\u2026\u8fd4\u3055\u306a\u3051\u308c\u3070\u3002","\u89aa\u53cb\u3002\u5fc3\u304b\u3089\u4fe1\u3058\u3089\u308c\u308b\u53cb\u3060\u3002","\u5c0a\u656c\u3002\u3042\u306e\u4eba\u306e\u3088\u3046\u306b\u306a\u308a\u305f\u3044\u3002","\u76f8\u68d2\u3002\u8a00\u8449\u306f\u306a\u304f\u3068\u3082\u5168\u3066\u304c\u901a\u3058\u5408\u3046\u3002","\u601d\u6155\u3002\u604b\u3092\u3057\u3066\u3057\u307e\u3063\u305f\u3002","\u4e3b\u541b\u3002\u5fc3\u306e\u4e3b\u541b\u3002\u8eab\u547d\u3092\u8ced\u3057\u3066\u5b88\u308a\u4ed5\u3048\u308b\u3002"]}),HG:y(["name","type","table"],{name:"\u5730\u7344\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u80cc\u5f8c\u898b\u308c\u3070\u3001\u5730\u7344\u306e\u9580\u3092\u3070\u5e7b\u8996\u305b\u308a\u3002\u5371\u3046\u304d\u6b21\u7b2c\u3092\u77e5\u308a\u305f\u308a\uff0e","\u5fc5\u6b7b\u306b\u6b69\u3081\u308a\u3002\u80cc\u5f8c\u306b\u7a42\u308c\u3057\u8840\u3068\u81d3\u8108\u3001\u3053\u307c\u3057\u305f\u308b\u304c\u5fc3\u5730\u306a\u308c\u3069\u3002","\u80cc\u5f8c\u306e\u5730\u306b\u6df1\u304d\u722a\u75d5\u3042\u308a\u3002\u5df1\u3092\u6355\u3089\u3078\u3080\u3068\u305b\u308b\u9b3c\u306e\u722a\u8de1\u304b\u3068\u601d\u3075\u3002","\u52ab\u706b\u306b\u713c\u304b\u308b\u308b\u5df1\u3092\u5e7b\u8996\u3059\u3002\u6c57\u306b\u307e\u307f\u308c\u899a\u3081\u308c\u3070\u3001\u5df1\u304c\u6240\u696d\u6094\u609f\u305b\u308a\u3002","\u6c34\u93e1\u306b\u6620\u308b\u5df1\u3092\u898b\u3066\u76ee\u3092\u899a\u307e\u3059\u3002\u5f7c\u306e\u307e\u307e\u306a\u308c\u3070\u5730\u7344\u306b\u5815\u3064\u308b\u3068\u3002","\u5929\u306b\u9db4\u9a12\u304e\u305f\u308a\u3002\u5fa1\u8eab\u304c\u9b42\u6669\u53d6\u308a\u9003\u304c\u3057\u305f\u308a\u3068\u5403\u308b\u304c\u5982\u304f\u3002","\u8db3\u304c\u6ce5\u6df3\u306b\u56da\u308f\u308b\u308b\u5e7b\u8996\u3002\u5f15\u304d\u305a\u308a\u8fbc\u3080\u4ea1\u8005\u3002\u5fc5\u6b7b\u306b\u9003\u308c\u81f3\u308c\u308a\u3002","\u9670\u306b\u8822\u304f\u9913\u9b3c\u3092\u898b\u3086\uff65\u660e\u65e5\u306f\u5df1\u305e\u3068\u601d\u3078\u3070\u3001\u80cc\u3082\u9707\u3048\u305f\u308a\u3002","\u55aa\u5931\u306e\u82e6\u3057\u307f\u3001\u3044\u304f\u3070\u304f\u304b\u4f11\u3081\u308a\u3002\u4ed6\u3092\u601d\u3046\u5fc3\u5730\u305e\u751f\u307e\u308c\u308a\u3002","\u3044\u307f\u3058\u3046\u60a9\u307f\u82e6\u3057\u3051\u308c\u3069\u3001\u3084\u304c\u3066\u305d\u308c\u3082\u99b4\u308c\u308a\u3002\u4eca\u3084\u82e6\u3057\u307f\u306a\u3089\u305a\u3002","\u3057\u305a\u3051\u304d\u96e8\u964d\u3089\u3070\u3001\u5df1\u304c\u6240\u696d\u6d17\u3044\u6d41\u3055\u308b\u308b\u3068\u3082\u3001\u601d\u3078\u305f\u308a\u3002","\u6c5a\u6ce5\u304c\u5982\u304f\u7d61\u307f\u3057\u904e\u304e\u305f\u308b\u65e5\u3005\u3001\u308f\u305a\u304b\u306b\u96e2\u308c\u305f\u308b\u5fc3\u5730\u305e\u3059\u308b\u3002","\u80cc\u8ca0\u3044\u3057\u6028\u5ff5\u3089\u9000\u304d\u8584\u308c\u3080\u3002\u3053\u308c\u306a\u308b\u306f\u7e01\u304c\u3086\u3078\u304b\u3001\u5fc3\u5730\u3086\u3078\u304b\u3002","\u5185\u306b\u5b55\u3080\u308b\u7d76\u671b\u3078\u3001\u9023\u7406\u305f\u308c\u3068\u5e0c\u671b\u306e\u82bd\u3001\u840c\u3086\u308b\u3002","\u751f\u6e29\u304b\u304d\u98a8\u3068\u5171\u306b\u3001\u5927\u7c92\u306e\u96e8\u964d\u308c\u308a\u3002\u3059\u308f\u8840\u306e\u96e8\u304b\u3068\u3082\u601d\u3078\u308a\u3002","\u4eba\u3068\u95a2\u308f\u308a\u3066\u7e01\u3092\u898b\u3086\u3002\u62b1\u3075\u308b\u3082\u306e\u3001\u3044\u304f\u3089\u304b\u5c11\u306a\u304f\u306a\u308a\u304d\u3002","\u5922\u6795\u3001\u3042\u308b\u3044\u306f\u767d\u663c\u5922\u306a\u308b\u304b\u3002\u795e\u4ecf\u73fe\u308b\u308b\u306b\u3059\u304c\u308a\u305f\u308a\u3002","\u52ab\u706b\u306e\u4e2d\u3001\u767d\u304d\u624b\u304c\u5df1\u3092\u5f15\u3051\u308a\u3068\u5e7b\u8996\u3059\u3002\u3042\u308b\u3072\u306f\u904e\u53bb\u306e\u7e01\u304b\u3002","\u86d9\u5451\u3080\u86c7\u3092\u898b\u305f\u308a\u3002\u3042\u3055\u307e\u3057\u304d\u696d\u306b\u3001\u5df1\u3092\u3075\u3068\u9867\u307f\u306c\u3002","\u5fc3\u4e2d\u306b\u3066\u3001\u304b\u305d\u3051\u304d\u5e0c\u671b\u306e\u7cf8\u898b\u3078\u308a\u3002\u614e\u91cd\u306b\u305f\u3050\u308a\u3066\u767b\u3089\u3080\u3068\u3059\u3002"]}),RG:y(["name","type","table"],{name:"\u7f85\u751f\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u3080\u3054\u304d\u6240\u696d\u3001\u76ee\u306b\u305b\u308a\u3002\u5fc3\u5f37\u5f35\u308a\u3066\u3001\u5e38\u306e\u69d8\u306b\u3066\u3042\u308c\u305a\uff0e","\u4eba\u306e\u76ee\u306b\u3001\u5df1\u3092\u55e4\u3075\u6c17\u914d\u611f\u3058\u305f\u308a\u3002\u6012\u308a\u3001\u6094\u307f\u3001\u6065\u305e\u899a\u3048\u3080\u3002","\u9b3c\u306e\u8155\u3088\u308a\u3001\u3064\u3044\u306b\u9003\u308b\u308b\u304b\uff0e\u304a\u305e\u307e\u3057\u304d\u9707\u3078\u305e\u3001\u6cbb\u307e\u308a\u304d\u3002","\u8fbb\u5439\u304f\u98a8\u306b\u3001\u4eba\u9aa8\u6563\u308c\u308a\u3002\u305f\u3061\u307e\u3061\u7121\u5e38\u306e\u611f\u3001\u8d77\u3053\u308a\u3066\u5fc3\u6539\u3081\u305f\u308a\u3002","\u611b\u618e\u6069\u666e\u3001\u3044\u3088\u3044\u3088\u72c2\u307b\u3057\u304f\u3002\u731b\u308b\u307e\u307e\u3001\u305f\u3060\u305f\u3060\u524d\u3078\u3068\u9032\u3081\u308a\u3002","\u98e2\u3048\u305f\u308b\u72ac\u306e\u5982\u3057\u3002\u6ce5\u6c34\u3059\u3059\u308a\u3066\u3082\u524d\u306b\u9032\u307f\u3001\u60f3\u3044\u679c\u305f\u3055\u3080\u3002","\u55aa\u5931\u3001\u53d6\u308a\u623b\u3059\u306f\u8fd1\u3057\u3002\u601d\u306f\u305a\u3001\u3042\u3055\u307e\u3057\u304d\u7b11\u307f\u305e\u6d6e\u304b\u3079\u308a\u3002","\u3044\u3084\u3057\u304d\u8005\u3069\u3082\u3001\u3042\u3055\u307e\u3057\u304d\u76ee\u3092\u5411\u304f\u308b\u3002\u8511\u307f\u3066\u307e\u304b\u308a\u901a\u3089\u3080\u3002","\u55aa\u5931\u306e\u5922\u7e70\u308a\u8fd4\u3059\u3053\u3068\u3044\u304f\u305f\u3073\u304b\u3002\u3082\u306f\u3084\u696d\u82e6\u306e\u708e\u51b7\u3081\u3001\u5e38\u65e5\u9803\u306e\u5982\u3057\u3002","\u3042\u308b\u3072\u306f\u5df1\u306e\u5185\u3088\u308a\u304b\u3002\u3042\u3084\u3057\u304d\u58f0\u3042\u308c\u3070\u6b32\u5fc3\u307e\u305f\u6602\u3076\u3089\u3080\u3002","\u6b7b\u4eba\u3092\u898b\u3001\u6210\u4ecf\u3092\u7948\u308c\u308a\u3002\u5fc3\u3042\u3089\u3070\u3001\u5df1\u304c\u5185\u306b\u3066\u4ecf\u3082\u5bbf\u3089\u3080\u3002","\u305f\u3060\u305f\u3060\u4e16\u306e\u7121\u5e38\u3092\u77e5\u308c\u3070\u3001\u54c0\u6101\u306e\u60c5\u3042\u3075\u308c\u611f\u3058\u3080\u3002","\u8def\u5730\u306b\u5c0f\u3055\u304d\u82b1\u54b2\u304f\u3092\u898b\u3086\u3002\u6211\u57f7\u306e\u5fc3\u6674\u308c\u305f\u308b\u5fc3\u5730\u305b\u308a\u3002","\u51b7\u305f\u304d\u98a8\u3042\u3089\u3070\u3001\u60c5\u52d5\u308f\u305a\u304b\u306b\u6cbb\u307e\u308a\u3066\u3001\u843d\u3061\u7740\u304d\u305f\u308a\u3051\u308a\u3002","\u9152\u3092\u98f2\u3081\u308a\u3002\u9154\u3072\u305f\u308b\u5fc3\u5730\u306e\u5185\u306b\u3001\u696d\u82e6\u3082\u66d6\u6627\u3068\u306a\u3089\u3080\u3002","\u898b\u3048\u3056\u308b\u5927\u9580\u6f5c\u308a\u3057\u304b\u3002\u5883\u76ee\u8d85\u3048\u305f\u308b\u3092\u611f\u305a\u308b\u3002\u3044\u3056\u3001\u77e5\u3089\u305a\u306e\u5730\u5e73\u3078\u3002","\u4e5e\u98df\u574a\u4e3b\u306b\u9022\u3072\u3066\u3001\u6075\u3080\u3002\u3053\u308c\u3082\u307e\u305f\u3044\u304f\u3070\u304f\u306e\u529f\u5fb3\u306a\u308a\u304d\u3084\u3002","\u5b50\u4f9b\u3089\u904a\u3076\u3092\u898b\u3086\u3002\u5df1\u304c\u53e4\u304d\u3092\u601d\u3078\u3070\u3001\u601d\u306f\u305a\u9854\u307b\u3053\u308d\u3073\u306c\u3002","\u6697\u96f2\u306b\u5305\u307e\u308c\u3057\u90fd\u306a\u308c\u3069\u4eca\u305d\u306e\u8eab\u306b\u3001\u3044\u304f\u3070\u304f\u304b\u306e\u5149\u5dee\u3057\u7167\u3089\u3057\u3051\u308a\u3002","\u795e\u4ecf\u306e\u4f3c\u59ff\u3001\u5e7b\u8996\u3059\u3002\u3055\u308c\u3070\u3001\u3044\u304b\u306a\u8eab\u306b\u3082\u4fe1\u5fc3\u306e\u3044\u304f\u3070\u304f\u304b\u8d77\u3053\u308c\u308a\u3002"]}),VG:y(["name","type","table"],{name:"\u6731\u96c0\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u96f7\u97ff\u304d\u3066\u3001\u6697\u970a\u3044\u3088\u3044\u3088\u6fc3\u3086\u3057\u3002\u5df1\u304c\u5148\u3092\u898b\u305b\u308b\u308b\u304c\u5982\u3057\u3002","\u4eca\u4e00\u3064\u53d6\u308a\u623b\u3059\u306f\u53ca\u3070\u306c\u53e3\u60dc\u3057\u304d\u306b\u3001\u9b3c\u304c\u5982\u304f\u5538\u308a\u3057\u3002","\u6c42\u3081\u3057\u624b\u3001\u5c4a\u304b\u305a\u3082\u7d76\u671b\u3059\u308c\u3069\u518d\u3073\u3001\u3075\u3089\u3075\u3089\u3068\u6b69\u307f\u51fa\u3055\u3080\u3002","\u304b\u305f\u3068\u304d\u306e\u798f\u306a\u308b\u304b\u3002\u72d0\u306b\u5316\u304b\u3055\u308b\u308b\u304c\u5982\u304f\u3001\u9e7f\u306a\u308b\u6ce1\u6cab\u306e\u5922\u3002","\u6d41\u308b\u308b\u8840\u3002\u6731\u306b\u67d3\u307e\u308b\u8996\u754c\u3002\u3055\u308c\u3069\u3001\u67d3\u307e\u3089\u3056\u308b\u4e2d\u306b\u5149\u3042\u308a\u3002","\u5df1\u304c\u81d3\u8151\u6289\u308b\u304c\u5982\u304f\u3002\u5df1\u304c\u696d\u3001\u6289\u308a\u6368\u3066\u9032\u307e\u3093\u3002","\u5148\u306b\u72d0\u306e\u5f71\u898b\u3086\u3002\u3042\u3084\u3057\u3051\u308c\u3069\u3001\u8ff7\u3072\u306a\u304c\u3089\u3001\u72d0\u3092\u8ffd\u3078\u308a\u3002","\u5927\u3044\u306a\u308b\u5883\u3092\u8d8a\u3048\u305f\u308b\u304b\u3068\u601d\u3048\u308a\u3002\u672a\u3060\u9053\u534a\u3070\u306a\u308c\u3070\u6cb9\u65ad\u8a31\u3055\u305a\u3002","\u6697\u96f2\u306b\u767d\u9dfa\u7fd4\u3051\u308b\u3092\u898b\u3086\u3002\u745e\u5146\u306a\u308c\u3070\u5e0c\u671b\u3082\u307e\u305f\u6e67\u304d\u306c\u3002","\u5185\u3088\u308a\u7ffc\u306e\u51fa\u308b\u304c\u5fc3\u5730\u305b\u308a\u3002\u3044\u3056\u601d\u3044\u5207\u308a\u3066\u3001\u7fd4\u3070\u3080\u3002","\u5272\u308c\u305f\u676f\u3088\u308a\u6f0f\u308c\u305f\u308b\u3082\u3001\u91cd\u306d\u305f\u308b\u676f\u306b\u3002\u5408\u4e00\u305b\u3070\u4f59\u3055\u305a\u53d7\u3051\u308a\u3002","\u5fc3\u6fc0\u3057\u304f\u3057\u3066\u9b5a\u8df3\u306d\u308b\u304c\u5982\u304f\u3002\u305d\u306e\u5b9f\u3082\u6697\u304d\u6c34\u9762\u3088\u308a\u8df3\u306d\u51fa\u305f\u308a\u3002","\u8cb4\u304d\u725b\u8eca\u3068\u884c\u304d\u9022\u306f\u3080\u3002\u5e7d\u304b\u306a\u9999\u306b\u3001\u76ee\u305e\u899a\u3081\u305f\u308b\u601d\u3044\u305b\u308a\u3002","\u3075\u3068\u53e3\u3092\u3064\u3044\u3066\u6b4c\u8a60\u3081\u308a\u3002\u4f55\u8005\u304b\u4e0b\u306e\u53e5\u7d99\u304e\u3066\u3001\u5fc3\u5408\u308f\u305b\u3080\u3002","\u77e5\u3089\u305a\u306e\u4eba\u3088\u308a\u3001\u9001\u3089\u308c\u3057\u6b4c\u3042\u308a\u3002\u8fd4\u6b4c\u3044\u304b\u304c\u305b\u3080\u304b\u3068\u601d\u3072\u305f\u308a\u3002","\u9ce5\u306e\u5de3\u7acb\u3064\u3092\u898b\u305f\u308a\u3002\u5df1\u3082\u307e\u305f\u3001\u65b0\u305f\u306a\u9053\u6b69\u3080\u3079\u304d\u305e\u3068\u5fc3\u305b\u308a\u3002","\u6697\u96f2\u8cab\u304d\u3066\u3001\u7a7a\u306b\u6708\u3042\u308a\u3002\u5929\u3088\u308a\u898b\u3089\u308b\u308b\u5fc3\u5730\u3057\u3066\u3001\u884c\u3044\u6b63\u305b\u308a\u3002","\u76ee\u7684\u8fd1\u3065\u3051\u3069\u3001\u5fc3\u91cd\u3057\u3002\u80f8\u75db\u307f\u3066\u3001\u3044\u307f\u3058\u3046\u54c0\u3057\u3002","\u4e0d\u610f\u306b\u4ecf\u5fc3\u8d77\u3053\u308a\u3066\u3001\u4e07\u7269\u6148\u307f\u306e\u5ff5\u304a\u307c\u3048\u305f\u308a\u3002","\u982d\u4e0a\u3088\u308a\u4f55\u8005\u304b\u306e\u697d\u306e\u97f3\u3001\u9957\u3051\u308a\u3002\u305d\u306e\u8eab\u3001\u795d\u306f\u308b\u308b\u5fc3\u5730\u305b\u308a\u3002"]}),OG:y(["name","type","table"],{name:"\u5fdc\u5929\u9580\u901a\u904e\u63cf\u5199\u8868",type:"1D20",table:["\u5149\u6355\u3089\u3078\u3069\u6697\u3057\u3002\u65b0\u305f\u306a\u308b\u5730\u7344\u306e\u9580\u306b\u843d\u3064\u308b\u5df1\u3092\u77e5\u308a\u305f\u308a\u3002","\u6c42\u3081\u3057\u3082\u306e\u5f97\u305f\u308a\u3002\u3055\u308c\u3069\u3001\u306a\u306b\u3082\u306e\u304b\u5931\u3044\u3057\u5fc3\u5730\u305e\u305b\u308b\u2026\u2026\u3002","\u72d0\u9d2b\u304d\u3066\u81ea\u899a\u3080\u308b\u3002\u5168\u3066\u4e00\u591c\u306e\u5922\u306e\u5982\u3057\u3002\u75db\u307f\u3082\u307e\u305f\u3057\u304b\u308a\u3002","\u306a\u306b\u3086\u3078\u304b\u3001\u6d99\u3053\u307c\u308b\u308b\u3002\u305f\u3060\u6d99\u3053\u307c\u308c\u3001\u696d\u82e6\u3082\u307e\u305f\u6d41\u308c\u3080\u3002","\u4eba\u60f3\u3072\u3066\u3001\u672a\u7df4\u751f\u307e\u308b\u308b\u3002\u5df1\u304c\u5e78\u6c42\u3081\u308c\u3070\u3001\u6b7b\u3092\u754f\u308c\u3080\u3002","\u6253\u3061\u8fd4\u3059\u6ce2\u306e\u97f3\u805e\u304f\u3002\u9065\u304b\u9060\u304f\u3001\u65c5\u7acb\u3061\u305f\u3080\u3068\u5ff5\u3001\u751f\u3058\u305f\u308a\u3002","\u5b9f\u308b\u7a32\u7530\u3092\u5e7b\u8996\u3059\u3002\u3082\u306f\u3084\u90fd\u306e\u6709\u69d8\u3001\u4eba\u4f4f\u3080\u5730\u306b\u975e\u305a\u3068\u601d\u3078\u308a\u3002","\u53d6\u308a\u623b\u3057\u305f\u308b\u306b\u3001\u305f\u3060\u305f\u3060\u6b53\u559c\u3059\u3002\u3082\u306f\u3084\u5468\u308a\u306e\u69d8\u3082\u611f\u305c\u305a\u3002","\u3042\u307e\u305f\u306e\u4eba\u306e\u76ee\u3001\u5fa1\u8eab\u898b\u3066\u3056\u308f\u3081\u304f\u3092\u611f\u305a\u3002\u512a\u8d8a\u306e\u5fc3\u5730\u3042\u308a\u3002","\u304b\u3051\u304c\u3078\u306a\u304d\u3082\u306e\u3001\u898b\u3064\u3051\u305f\u308a\u3002\u4eca\u306f\u305f\u3060\u3001\u305d\u3092\u559c\u3076\u306e\u307f\u306a\u308c\u3070\u3002","\u5929\u76e4\u306b\u3066\u661f\u5de1\u308a\u3001\u6642\u6e80\u3061\u3066\u3001\u65b9\u5408\u3078\u308a\u3002\u306a\u308c\u3070\u305d\u306e\u8eab\u306b\u3082\u5e78\u3042\u308a\u3080\u3002","\u5e7e\u5e74\u6708\u305e\u3001\u5265\u90a3\u306e\u5982\u3057\u3002\u601d\u3075\u308c\u3070\u56da\u308f\u308b\u6abb\u3082\u3001\u7121\u304d\u304b\u3068\u898b\u3086\u3002","\u5929\u3088\u308a\u9d7a\u9000\u304d\u3066\u3001\u65e5\u306e\u5149\u5dee\u3059\u3002\u6d74\u3073\u308b\u4e2d\u3001\u9b42\u9b44\u307e\u305f\u306c\u304f\u3082\u308a\u3092\u899a\u3048\u308a\u3002","\u98a8\u6d41\u3001\u89e3\u3059\u308b\u5fc3\u3042\u3089\u3070\u5929\u5730\u81ea\u7136\u3082\u307e\u305f\u4e26\u3073\u3001\u81ea\u3089\u305d\u306e\u5185\u306b\u5408\u4e00\u305b\u3080\u3002","\u3044\u304b\u306b\u305b\u3067\u3001\u5df1\u306e\u5728\u308a\u69d8\u3092\u8cac\u3080\u308b\u3084\u3002\u5df1\u306f\u5df1\u306a\u308c\u304c\u3001\u6c17\u306b\u8ca0\u3046\u306b\u5024\u305b\u305a\u3002","\u3042\u307e\u306d\u304f\u4e16\u306e\u3053\u3068\u3069\u3082\u3001\u9060\u304f\u920d\u304f\u601d\u3072\u3066\u5fc3\u5b89\u3089\u304b\u306a\u308b\u5883\u5730\u306b\u81f3\u308c\u308a\u3002","\u5929\u9060\u304f\u5149\u5dee\u305b\u3070\u3001\u6de1\u304d\u8679\u3082\u6d6e\u304b\u3079\u308a\u3002\u4f55\u51e6\u304b\u3078\u6e21\u3059\u6a4b\u3068\u3082\u898b\u3086\u3002","\u5929\u3088\u308a\u4e00\u8f2a\u306e\u82b1\u821e\u3044\u964d\u308a\u3066\u3001\u5fa1\u8eab\u306e\u624b\u306b\u843d\u3064\u3002\u5fc3\u307e\u305f\u82b1\u54b2\u3051\u308a\u3002","\u9d7a\u306e\u5185\u306b\u7adc\u795e\u821e\u3078\u308a\u3002\u98a8\u96e8\u6fc0\u3057\u304f\u3001\u8eab\u6fe1\u3089\u305b\u3069\u3001\u5fc3\u6e05\u3005\u3057\u3002","\u90fd\u306e\u6697\u96f2\u3001\u6674\u308c\u305f\u308b\u65e5\u3082\u7a00\u306b\u3042\u308a\u3002\u306a\u3093\u305e\u9b42\u9b44\u6674\u308b\u308b\u65e5\u306a\u3057\u3084\u3002"]})}).$freeze()),u.$register_prefix(m(s,"TABLES").$keys())},47741:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S;n(93683),r=Opal,d=r.nil,p=r.$$,y=r.klass,T=r.send2,h=r.truthy,S=r.send,a=m=[],$=f=[(b=r.module)(m[0],"BCDice")].concat(a),i=_=[b(f[0],"GameSystem")].concat($),c=[l=y(_[0],p(_,"Base"),"OrgaRain")].concat(i),l.$$prototype.randomizer=d,r.const_set(c[0],"ID","OrgaRain"),r.const_set(c[0],"NAME","\u5728\u308a\u3066\u904d\u304f\u30aa\u30eb\u30ac\u30ec\u30a4\u30f3"),r.const_set(c[0],"SORT_KEY","\u3042\u308a\u3066\u3042\u307e\u306d\u304f\u304a\u308b\u304b\u308c\u3044\u3093"),r.const_set(c[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[n]OR(count)\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n(count)\u3067\u547d\u6570\u3092\u6307\u5b9a\u3002\u300c3111\u300d\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3002\u6700\u59276\u3064\u3002\u9806\u4e0d\u540c\u53ef\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fb5OR6042 \u2192 5d\u3067\u547d\u6570\u300c0,2,4,6\u300d\u306e\u5224\u5b9a\n\u30fb6OR33333 \u2192 6d\u3067\u547d\u6570\u300c3,3,3,3,3\u300d\u306e\u5224\u5b9a\u3002\n"),r.def(l,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),T(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0},o.$$arity=1),l.$register_prefix("(\\d+)?OR(\\d{0,6})?"),r.def(l,"$eval_game_system_specific_command",u=function(t){var e=d,n=d,r=d,a=d,$=d;return e=t.$match(/(\d+)?OR(\d{0,6})$/i),h(e)?(n=(h(r=e["$[]"](1))?r:1).$to_i(),a=S((h($=e["$[]"](2))?$:"").$each_char(),"map",[],"to_i".$to_proc()).$sort(),this.$check_roll(n,a)):d},u.$$arity=1),r.def(l,"$check_roll",s=function(t,e){var n,r,a,$=this,i=d,o=d,u=d;return a=(i=$.randomizer.$roll_barabara(t,10).$sort()).$join(","),o=[],u=0,S(S(i,"map",[],((n=function(t){return null==t&&(t=d),t["$=="](10)?0:t}).$$s=$,n.$$arity=1,n)),"each",[],((r=function(t){var n,r;return null==t&&(t=d),n=e.$count(t),h("number"==typeof(r=n)?r>0:r["$>"](0))?(o.$push(t+"(x"+n+")"),u=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(u,n)):o.$push("\xd7")}).$$s=$,r.$$arity=1,r)),t+"D10(\u547d\u6570\uff1a"+e.$join(",")+") \uff1e "+a+" \uff1e "+o.$join(",")+" \uff1e \u6210\u529f\u6570\uff1a"+u},s.$$arity=2)},20941:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h;n(93683),r=Opal,m=r.nil,d=r.$$$,p=r.$$,y=r.klass,T=r.send,h=r.hash2,a=f=[],$=_=[(b=r.module)(f[0],"BCDice")].concat(a),i=c=[b(_[0],"GameSystem")].concat($),s=y(c[0],p(c,"Base"),"Oukahoushin3rd"),l=[s].concat(i),r.const_set(l[0],"ID","Oukahoushin3rd"),r.const_set(l[0],"NAME","\u592e\u83ef\u5c01\u795eRPG \u7b2c\u4e09\u7248"),r.const_set(l[0],"SORT_KEY","\u304a\u3046\u304b\u307b\u3046\u3057\u3093RPG3"),r.const_set(l[0],"HELP_MESSAGE","\u30fb\u5404\u7a2e\u8868\n\u3000\u30fb\u80fd\u529b\u5024\u5224\u5b9a\u88cf\u6210\u529f\u8868\uff08NHT\uff09\n\u3000\u30fb\u6b66\u5668\u653b\u6483\u88cf\u6210\u529f\u8868\uff08BKT\uff09\n\u3000\u30fb\u53d7\u3051\u30fb\u56de\u907f\u88cf\u6210\u529f\u8868\uff08UKT\uff09\n\u3000\u30fb\u4ed9\u8853\u884c\u4f7f\u88cf\u6210\u529f\u8868\uff08SKT\uff09\n\u3000\u30fb\u4ed9\u8853\u62b5\u6297\u88cf\u6210\u529f\u8868\uff08STT\uff09\n\u3000\u30fb\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u60aa\u5f71\u97ff\u8868\uff08SDT\uff09\n\u3000\u30fb\u72c2\u6c17\u8868\uff08KKT\uff09\n"),r.def(s,"$eval_game_system_specific_command",o=function(t){var e;return e=this.$roll_tables(t,p(l,"TABLES")),this.$replace_dice_notation(e)},o.$$arity=1),s.$private(),r.def(s,"$replace_dice_notation",u=function(t){var e,n;return(e=t)===m||null==e?m:T(e,"gsub",[/(\d+)D(\d+)/],((n=function(t){var e,a,$=null==n.$$s?this:n.$$s;return null==$.randomizer&&($.randomizer=m),null==t&&(t=m),a=T(t.$split("D"),"map",[],"to_i".$to_proc()),e=r.to_ary(a),t+"(=>"+$.randomizer.$roll_sum(null==e[0]?m:e[0],null==e[1]?m:e[1])+")"}).$$s=this,n.$$arity=1,n))},u.$$arity=1),r.const_set(l[0],"TABLES",h(["BKT","KKT","NHT","SDT","SKT","STT","UKT"],{BKT:d(p(l,"DiceTable"),"Table").$new("\u6b66\u5668\u653b\u6483\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u9023\u7d9a\u653b\u6483\u304c\u884c\u3048\u308b\u3002\u3053\u306e\u5834\u5408\u306e\u9023\u7d9a\u653b\u6483\u306b\u304a\u3044\u3066\u306f\u3001\u547d\u4e2d\u5224\u5b9a\u306e\u30b5\u30a4\u30b3\u30ed\u306f\u5e38\u306b\u3072\u3063\u304f\u308a\u8fd4\u3057\u3066\u7528\u3044\u308b\u304c\u30012\u6483\u76ee\u4ee5\u964d\u306f\u3053\u306e\u8868\u306f\u4f7f\u308f\u306a\u3044\u3002","\u6575\u306b\u53e9\u304d\u3064\u3051\u308b\u3068\u540c\u6642\u306b\u6b66\u5668\u304c\u7834\u640d\u3002\u7d20\u624b\u3084\u8eab\u4f53\u306b\u5099\u308f\u3063\u305f\u6b66\u5668\uff08\u722a\u3001\u7259\u306a\u3069\uff09\u3067\u653b\u6483\u3092\u3057\u3066\u3044\u305f\u5834\u5408\u306b\u306f\u3001\u81ea\u8eab\u306b\u30821D6\uff08\u306e\u307f\uff09\u30c0\u30e1\u30fc\u30b8\u3002","\u52b9\u679c\u7684\u547d\u4e2d\u3002\u30c0\u30e1\u30fc\u30b8\u306b1D6\u52a0\u7b97\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4e0d\u5b8c\u5168\u306a\u547d\u4e2d\u3001\u30c0\u30e1\u30fc\u30b8\u306f\u534a\u5206\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u547d\u4e2d\u3002","\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4f53\u529b\u307e\u305f\u306f\u6a5f\u654f\uff08\u653b\u6483\u3092\u884c\u3063\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),KKT:d(p(l,"DiceTable"),"Table").$new("\u72c2\u6c17\u8868","2D6",["\u5fc3\u795e\u55aa\u5931\u3001\u751f\u3051\u308b\u5c4d\u3002","\u88ab\u5bb3\u5984\u60f3\u3002\u4ef2\u9593\u3082\u542b\u3081\u3001\u4ed6\u8005\u306f\u5168\u3066\u81ea\u5206\u3092\u50b7\u3064\u3051\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3068\u601d\u3044\u3053\u3080\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u7ba1\u7406\u3002","\u91cd\u5ea6\u306e\u4e0d\u5b89\u75c7\u3002\u5931\u6557\u3092\u6050\u308c\u308b\u3042\u307e\u308a\u3001\u6b21\u30e9\u30a6\u30f3\u30c9\u306f\u884c\u52d5\u4e0d\u53ef\u3002\u305d\u308c\u4ee5\u964d\u3082\u30012\u30e9\u30a6\u30f3\u30c9\u306b1\u56de\u3057\u304b\u884c\u52d5\u3067\u304d\u306a\u3044\uff08\u81ea\u52d5\u6b66\u5668\u3084\u4f7f\u5f79\u7363\u3078\u306e\u547d\u4ee4\u306a\u3069\u3082\uff09\u3002\\n\u300c\u6b21\u306e\u30e9\u30a6\u30f3\u30c9\u306b\u884c\u52d5\u3067\u304d\u306a\u3044\u300d\u72b6\u614b\u3067\u306f\u3001\u300c\u5272\u308a\u8fbc\u307f\u300d\u306f\u884c\u3048\u306a\u3044\u3002","\u91cd\u5ea6\u306e\u4f9d\u5b58\u75c7\u3002\u81ea\u5206\u3067\u884c\u52d5\u3092\u6c7a\u3081\u3089\u308c\u305a\u3001\u4ef2\u9593\u306b\u6c7a\u3081\u3066\u3082\u3089\u308f\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002","\u4e8c\u91cd\u4eba\u683c\u3002\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u306f\u72c2\u6c17\u3002\u65b0\u305f\u306b\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff08\u518d\u5ea6\u4e8c\u91cd\u4eba\u683c\u304c\u51fa\u305f\u5834\u5408\u306f\u3001\u632f\u308a\u306a\u304a\u3059\uff09\u3002\u72c2\u6c17\u8868\u3092\u4f7f\u3063\u305f\u76f4\u5f8c\u306f\u3001\u3053\u306e\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u3002\\n1\u65e5\u4ee5\u4e0a\u3001\u4e8c\u91cd\u4eba\u683c\u304c\u6301\u7d9a\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u9593\u306b\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u305f\u3073\u306b\u3001\u305d\u306e\u76f4\u5f8c\u306b1D\u3092\u632f\u3089\u306d\u3070\u306a\u3089\u306a\u3044\u30021\u304c\u51fa\u305f\u3089\u3053\u306e\u72c2\u6c17\u304c\u9854\u3092\u51fa\u3059\u3002\\n\u4e8c\u3064\u76ee\u306e\u4eba\u683c\u304c\u9854\u3092\u51fa\u3057\u3066\u3044\u308b\u6642\u9593\u306f\u30011D\u3067\u6c7a\u5b9a\u3059\u308b\uff081\uff5e3\uff1a\u77ed\u6642\u9593\u30014\uff5e5\uff1a\u534a\u65e5\u30016\uff1a1\u65e5\uff09\u3002","\u8efd\u5ea6\u306e\u4f9d\u5b58\u75c7\u3002\u4ef2\u9593\u306e\u627f\u8a8d\u304c\u306a\u3051\u308c\u3070\u3001\u601d\u3044\u3064\u3044\u305f\u884c\u52d5\u3092\u5b9f\u884c\u3067\u304d\u306a\u3044\u3002","\u8efd\u5ea6\u306e\u504f\u57f7\u72c2\u3002\u3042\u308b\u884c\u70ba\u3084\u7269\u54c1\u306a\u3069\u306b\u7570\u5e38\u306a\u57f7\u7740\u3092\u793a\u3059\u3002\u305f\u3060\u3057\u3001\u884c\u52d5\u306b\u5927\u304d\u306a\u5f71\u97ff\u306f\u4e0e\u3048\u306a\u3044\u3002\u5177\u4f53\u7684\u306a\u5185\u5bb9\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u3068\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u76f8\u8ac7\u3067\u6c7a\u5b9a\u3002","\u91cd\u5ea6\u306e\u504f\u57f7\u72c2\u3002\u884c\u52d5\u306b\u91cd\u5927\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3002\u5177\u4f53\u7684\u5185\u5bb9\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u6c7a\u5b9a\u3002","\u6050\u6016\u75c7\u3002\u3042\u308b\u3082\u306e\u306b\u5bfe\u3057\u3066\u6050\u6016\u3002\u5bfe\u8c61\u304b\u3089\u306f\u3001\u3072\u305f\u3059\u3089\u9003\u4ea1\u3057\u3088\u3046\u3068\u3059\u308b\u3002\u307e\u305f\u3001\u5bfe\u8c61\u306b\u906d\u9047\u3059\u308b\u305f\u3073\u306b\u3001\u96e3\u6613\u5ea610\u3067\u610f\u5fd7\u306e\u80fd\u529b\u5024\u5224\u5b9a\u3092\u884c\u308f\u306d\u3070\u306a\u3089\u305a\u3001\u5931\u6557\u3057\u305f\u30891D\u306e\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\u6050\u6016\u306e\u5bfe\u8c61\u306f\u3001\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u6c7a\u5b9a\u3002","\u72c2\u66b4\u5316\u3002\u4ef2\u9593\u3082\u542b\u3081\u3001\u4ed6\u8005\u306f\u3059\u3079\u3066\u6575\u3068\u307f\u306a\u3057\u3001\u50b7\u3064\u3051\u3088\u3046\u3068\u3059\u308b\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u7ba1\u7406\u3002","\u932f\u4e71\u3002\u884c\u52d5\u306f\u30b2\u30fc\u30e0\u30de\u30b9\u30bf\u30fc\u304c\u300c\u306a\u308b\u3079\u304f\u3067\u305f\u3089\u3081\u306b\u306a\u308b\u3088\u3046\u306b\u300d\u6c7a\u5b9a\u3059\u308b\u3002"]),NHT:d(p(l,"DiceTable"),"Table").$new("\u80fd\u529b\u5024\u5224\u5b9a\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u5909\u306a\u7656\u304c\u8eab\u306b\u3064\u3044\u3066\u3057\u307e\u3046\u3002","\u3084\u308a\u3059\u304e\u3002\u904e\u5270\u306a\u6210\u529f\u3092\u3057\u305f\u308a\u3001\u3088\u3051\u3044\u306a\u3053\u3068\u307e\u3067\u3057\u3066\u707d\u3044\u304c\u8d77\u3053\u308a\u3046\u308b\u3002","\u300c\u6c17\u300d\u306e\u7206\u767a\u3002\u5927\u6210\u529f\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u6210\u529f\u3001\u6570\u5024\u7684\u52b9\u679c\u306f\u534a\u5206\u307b\u3069\u306b\u898b\u7a4d\u3082\u308b\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4f7f\u7528\u3057\u305f\u80fd\u529b\u5024\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),SDT:d(p(l,"DiceTable"),"Table").$new("\u7cbe\u795e\u5024\u30c0\u30e1\u30fc\u30b8\u60aa\u5f71\u97ff\u8868","1D6",["\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u4e00\u77ac\u306e\u653e\u5fc3\u3002\u76f4\u5f8c\u306e\u5224\u5b9a\u306f\u81ea\u52d5\u7684\u306b\u5931\u6557\u3002\u7cbe\u795e\u5024\u30921D6\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u653e\u5fc3\u72b6\u614b\u3002\u5f37\u5236\u3055\u308c\u3001\u81ea\u52d5\u5931\u6557\u3059\u308b\u307e\u3067\u3001\u81ea\u767a\u7684\u884c\u52d5\u4e0d\u53ef\u3002\u7cbe\u795e\u5024\u3092\uff081D6+2\uff09\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u7cbe\u795e\u7570\u5e38\uff08\u5177\u4f53\u7684\u5185\u5bb9\u306f\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff09\u3002\u77ed\u6642\u9593\u306e\u307f\u3002\u7cbe\u795e\u5024\u3092\uff081D6+4\uff09\xd7\u6700\u5927\u5024\u306e10\uff05\u56de\u5fa9\u3002","\u7cbe\u795e\u7570\u5e38\uff08\u5177\u4f53\u7684\u5185\u5bb9\u306f\u72c2\u6c17\u8868\uff08KKT\uff09\u3067\u6c7a\u5b9a\uff09\u3002\u671f\u9593\u306f1D6\u3092\u632f\u3063\u3066\u6c7a\u5b9a\uff081\uff5e3\uff1a1\u65e5\u30014\uff5e5\uff1a99\u65e5\u9593\u30016\uff1a\u6c38\u9060\uff09\u3002\u7cbe\u795e\u5024\u3092\u6700\u5927\u5024\u307e\u3067\u56de\u5fa9\u3002"]),SKT:d(p(l,"DiceTable"),"Table").$new("\u4ed9\u8853\u884c\u4f7f\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u30021\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3002","\u8853\u306e\u52b9\u679c\u306f\u8853\u8005\u306b\u3082\u89e3\u9664\u4e0d\u80fd\u306b\u306a\u308b\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u300c\u6c17\u300d\u306e\u66b4\u8d70\u3002\u52b9\u679c3\u500d\u3002\u305f\u3060\u3057\u6975\u5ea6\u306b\u75b2\u52b4\u3059\u308b\u305f\u3081\u3001\u7cbe\u795e\u5024\u306b1D6\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\uff082\u30be\u30ed\uff09\u8853\u8005\u306f1D6\u65e5\u9593\u3001\u4ed9\u8853\u304c\u4f7f\u7528\u4e0d\u80fd\u306b\u306a\u308b\u30021\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3002","\u8853\u304c\u6575\u306b\u304b\u3051\u305f\u3082\u306e\u306e\u5834\u5408\u3001\u4ef2\u9593\u306e1\u4eba\u3092\u5dfb\u304d\u3053\u3080\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4e0d\u5b8c\u5168\u306a\u6210\u529f\u3001\u52b9\u679c\u534a\u5206\u3002\uff083\u30be\u30ed\uff09\u6301\u7d9a\u6642\u9593\u306e\u3042\u308b\u8853\u306e\u5834\u5408\u3001\u8853\u8005\u304c\u3072\u305f\u3059\u3089\u7cbe\u795e\u96c6\u4e2d\u3057\u3066\u3044\u306a\u3044\u9650\u308a\u3001\u8853\u306f\u3059\u3050\u306b\u89e3\u9664\u3055\u308c\u308b\u3002","\u3075\u3064\u3046\u306e\u6210\u529f\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\uff084\u30be\u30ed\uff09\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002","\u8853\u304c\u5473\u65b9\u3082\u3057\u304f\u306f\u81ea\u5206\u306b\u304b\u3051\u305f\u3082\u306e\u306e\u5834\u5408\u3001\u6575\u306e1\u4eba\u306b\u3082\u540c\u3058\u3088\u3046\u306b\u304b\u304b\u308b\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","1D3\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","1D6\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4ed9\u9aa8\u4ee5\u5916\u306e\u3044\u305a\u308c\u304b\u306e\u80fd\u529b\u5024\uff08\u8853\u8005\u9078\u629e\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),STT:d(p(l,"DiceTable"),"Table").$new("\u4ed9\u8853\u62b5\u6297\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","\u305d\u3089\u3055\u308c\u305f\u8853\u306e\u52b9\u679c\u304c\u5473\u65b9\u306b\u53ca\u3076\u3002\u5473\u65b9\u306e\u8ab0\u306b\u305d\u3089\u3055\u308c\u305f\u304b\u306f\u3001\u3053\u306e\u8868\u3092\u4f7f\u3063\u305f\u3082\u306e\u304c\u9078\u3076\u3002\u96c6\u56e3\u653b\u6483\u4ed9\u8853\u306e\u5834\u5408\u3001\u62b5\u6297\u306b\u6210\u529f\u3057\u305f\u3082\u306e\u306e\u4e2d\u304b\u3089\u9078\u3076\u3053\u3068\u3002\u307b\u304b\u306e\u8ab0\u3082\u6210\u529f\u306b\u62b5\u6297\u3057\u3066\u3044\u306a\u304b\u3063\u305f\u3068\u304d\u306f\u3001\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3068\u3057\u3066\u6271\u3046\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u4ed9\u8853\u3092\u304b\u3051\u305f\u6575\u306b\u305d\u306e\u52b9\u679c\u304c\u53ca\u307c\u3055\u308c\u308b\u3002\u6575\u81ea\u8eab\u306f\u305d\u308c\u306b\u5bfe\u3057\u3066\u3001\u62b5\u6297\u3092\u8a66\u307f\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u30021\u30dd\u30a4\u30f3\u30c8\u77e5\u899a\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u62b5\u6297\u3001\u3075\u3064\u3046\u306e\u534a\u5206\u306e\u52b9\u679c\u3092\u53d7\u3051\u308b\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u62b5\u6297\u6210\u529f\u3002","\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u4ed9\u9aa8\u307e\u305f\u306f\u77e5\u899a\uff08\u4ed9\u8853\u306b\u62b5\u6297\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"]),UKT:d(p(l,"DiceTable"),"Table").$new("\u53d7\u3051\u30fb\u56de\u907f\u88cf\u6210\u529f\u8868","2D6",["1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002","\u8ee2\u5012\u3059\u308b\uff08\u7a7a\u3092\u98db\u3093\u3067\u3044\u308b\u3082\u306e\u306f\u843d\u4e0b\u3002\u4e57\u9a0e\u306a\u3069\u306b\u4e57\u3063\u3066\u3044\u305f\u3089\u8ee2\u843d\uff09\u3002\u7cbe\u795e\u5024\u306b1\u70b9\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002","\u76f8\u624b\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u5d29\u3059\u306e\u306b\u6210\u529f\u3002\u653b\u6483\u3092\u884c\u3063\u305f\u6575\u304c\u8ee2\u5012\uff08\u7a7a\u3092\u98db\u3093\u3067\u3044\u308b\u3082\u306e\u306f\u843d\u4e0b\u3002\u4e57\u9a0e\u306a\u3069\u306b\u4e57\u3063\u3066\u3044\u305f\u3089\u8ee2\u843d\uff09\u3002\uff082\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4e0a\u6607\u3001\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u4e0d\u5b8c\u5168\u306a\u9632\u5fa1\u3001\u901a\u5e38\u306e\u534a\u5206\u306e\u30c0\u30e1\u30fc\u30b8\u3092\u53d7\u3051\u308b\u3002\u3057\u304b\u3057\u6575\u304c\u9023\u7d9a\u653b\u6483\u3092\u884c\u3046\u3053\u3068\u306f\u51fa\u6765\u306a\u3044\u3002\u653b\u6483\u8005\u304c\u88cf\u6210\u529f\u653b\u6483\u3067\u3042\u3063\u3066\u3082\u305d\u306e\u53cd\u52d5\u306f\u6c7a\u3081\u306a\u3044\u3002\uff083\u30be\u30ed\uff091\u30dd\u30a4\u30f3\u30c8\u4ed9\u9aa8\u304c\u4f4e\u4e0b\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002\uff084\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4e0a\u6607\u306f\u6c38\u9060\u3002","\u3075\u3064\u3046\u306e\u9632\u5fa1\u6210\u529f\u3002","\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1D6\u65e5\u9593\u30011\u30dd\u30a4\u30f3\u30c8\u4f4e\u4e0b\u3002\uff085\u30be\u30ed\uff09\u80fd\u529b\u5024\u306e\u4f4e\u4e0b\u306f\u6c38\u9060\u3002","\u547c\u5438\u3092\u4e71\u3059\u3001\u6570\u77ac\u9593\uff081D6\u30e9\u30a6\u30f3\u30c9\uff09\u306f\u4ed9\u8853\u3092\u4f7f\u7528\u3067\u304d\u306a\u3044\u3002","1\u30dd\u30a4\u30f3\u30c8\u6e05\u5fb3\u5024\u304c\u4f4e\u4e0b\u3002\u6a5f\u654f\u307e\u305f\u306f\u77e5\u899a\uff08\u653b\u6483\u3092\u9632\u5fa1\u3057\u305f\u8005\u304c\u9078\u629e\u3059\u308b\uff09\u304c1\u30dd\u30a4\u30f3\u30c8\u4e0a\u6607\u3002"])}).$freeze()),s.$register_prefix(p(l,"TABLES").$keys())},82215:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.send2,y=t.truthy;n=_,r=c=[d(_[0],"BCDice")].concat(n),a=l=[d(c[0],"GameSystem")].concat(r),s=[u=p(l[0],m(l,"Base"),"Paranoia")].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","Paranoia"),t.const_set(s[0],"NAME","\u30d1\u30e9\u30ce\u30a4\u30a2"),t.const_set(s[0],"SORT_KEY","\u306f\u3089\u306e\u3044\u3042"),t.const_set(s[0],"HELP_MESSAGE","\u203b\u300c\u30d1\u30e9\u30ce\u30a4\u30a2\u300d\u306f\u5b8c\u74a7\u306a\u30b2\u30fc\u30e0\u3067\u3042\u308b\u305f\u3081\u7279\u6b8a\u306a\u30c0\u30a4\u30b9\u30b3\u30de\u30f3\u30c9\u3092\u5fc5\u8981\u3068\u3057\u307e\u305b\u3093\u3002\n\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n"),u.$register_prefix("geta"),t.def(u,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),b(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.enabled_upcase_input=!1},$.$$arity=1),t.def(u,"$eval_game_system_specific_command",i=function(t){var e=f;return this.$debug("eval_game_system_specific_command command",t),e="",/geta/i["$==="](t)&&(e=this.$getaRoll()),y(e["$empty?"]())?f:t+" \uff1e "+e},i.$$arity=1),t.def(u,"$getaRoll",o=function(){var t,n,r=f,a=f;return r="",t=this.randomizer.$roll_once(2),r=e(r,"\u5e78\u798f\u3067\u3059\u304b\uff1f \uff1e "),a="",1["$==="](n=t)?a="\u5e78\u798f\u3067\u3059":2["$==="](n)&&(a="\u5e78\u798f\u3067\u306f\u3042\u308a\u307e\u305b\u3093"),e(r,a)},o.$$arity=0)}(Opal)},22072:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var a,$,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$,y=t.module,T=t.klass,h=t.send,S=t.truthy;a=d,$=m=[y(d[0],"BCDice")].concat(a),i=f=[y(m[0],"GameSystem")].concat($),_=[c=T(f[0],b(f,"Base"),"ParanoiaRebooted")].concat(i),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","ParanoiaRebooted"),t.const_set(_[0],"NAME","\u30d1\u30e9\u30ce\u30a4\u30a2 \u30ea\u30d6\u30fc\u30c6\u30c3\u30c9"),t.const_set(_[0],"SORT_KEY","\u306f\u3089\u306e\u3044\u3042\u308a\u3075\u3046\u3066\u3064\u3068"),t.const_set(_[0],"HELP_MESSAGE","\u203b\u30b3\u30de\u30f3\u30c9\u306f\u5165\u529b\u5185\u5bb9\u306e\u524d\u65b9\u4e00\u81f4\u3067\u691c\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u306e\u5224\u5b9a\u3000NDx\n\u3000x\uff1a\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u6570.\u30de\u30a4\u30ca\u30b9\u3082\u53ef.\n\u3000\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u7d76\u5bfe\u5024 + 1\u500b(\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30c0\u30a4\u30b9)\u306e\u30c0\u30a4\u30b9\u304c\u30ed\u30fc\u30eb\u3055\u308c\u308b.\n\u4f8b\uff09ND2\u3000ND-3\n\n\u30fb\u30df\u30e5\u30fc\u30bf\u30f3\u30c8\u30d1\u30ef\u30fc\u5224\u5b9a\u3000MPx\n  x\uff1a\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u6570.\n\u3000\u30ce\u30fc\u30c9\u30c0\u30a4\u30b9\u306e\u5024 + 1\u500b(\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30c0\u30a4\u30b9)\u306e\u30c0\u30a4\u30b9\u304c\u30ed\u30fc\u30eb\u3055\u308c\u308b.\n\u4f8b\uff09MP2\n"),c.$register_prefix("ND","MP"),t.def(c,"$eval_game_system_specific_command",o=function(t){var e;return/^ND/i["$==="](e=t)?this.$get_node_dice_roll(t):/^MP/i["$==="](e)?this.$get_mutant_power_roll(t):p},o.$$arity=1),c.$private(),t.def(c,"$generate_roll_results",u=function(n){var r=p,a=p,$=p;return r="",(a=n.$dup())["$[]"](-1).$to_i()["$=="](6)&&(h(a,"[]=",t.to_a($=[-1,"C"])),e($.length,1),r="(Computer)"),[a,r]},u.$$arity=1),t.def(c,"$get_node_dice_roll",s=function(a){var $,i,o,u,s=this,l=p,c=p,_=p,f=p,m=p,d=p,b=p;return s.$debug("eval_game_system_specific_command Begin"),l=/^ND((-)?\d+)/i.$match(a),S(l)?(s.$debug("command",a),_=n((c=l["$[]"](1).$to_i()).$abs(),1),f=s.randomizer.$roll_barabara(_,6),m=h(f,"count",[],(($=function(t){return null==t&&(t=p),"number"==typeof(e=t)?e>=5:e["$>="](5);var e}).$$s=s,$.$$arity=1,$)),S(r(c,0))&&(m=e(m,h(f,"count",[],((i=function(t){return null==t&&(t=p),r(t,5)}).$$s=s,i.$$arity=1,i)))),s.$debug(f),u=s.$generate_roll_results(f),d=null==(o=t.to_ary(u))[0]?p:o[0],b=null==o[1]?p:o[1],s.$debug("eval_game_system_specific_command result"),"("+a+") \uff1e ["+d.$join(", ")+"] \uff1e \u6210\u529f\u5ea6"+m+b):""},s.$$arity=1),t.def(c,"$get_mutant_power_roll",l=function(e){var r,a,$=this,i=p,o=p,u=p,s=p,l=p,c=p,_=p;return $.$debug("eval_game_system_specific_command Begin"),i=/^MP(\d+)/i.$match(e),S(i)?($.$debug("command",e),o=n(i["$[]"](1).$to_i().$abs(),1),l=(s=(u=$.randomizer.$roll_barabara(o,6)).$count(1))["$=="](0)?"\u6210\u529f":"\u5931\u6557("+s+")",a=$.$generate_roll_results(u),c=null==(r=t.to_ary(a))[0]?p:r[0],_=null==r[1]?p:r[1],$.$debug(u),$.$debug("eval_game_system_specific_command result"),"("+e+") \uff1e ["+c.$join(", ")+"] \uff1e "+l+_):""},l.$$arity=1)}(Opal)},23422:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f;n(93683),Opal.modules["bcdice/game_system/DungeonsAndDragons"]=function(t){var e,n,r,a,$,i,o=[],u=t.$$,s=t.module,l=t.klass;return e=o,n=i=[s(o[0],"BCDice")].concat(e),r=$=[s(i[0],"GameSystem")].concat(n),a=[l($[0],u($,"Base"),"DungeonsAndDragons")].concat(r),t.const_set(a[0],"ID","DungeonsAndDragons"),t.const_set(a[0],"NAME","\u30c0\u30f3\u30b8\u30e7\u30f3\u30ba\uff06\u30c9\u30e9\u30b4\u30f3\u30ba"),t.const_set(a[0],"SORT_KEY","\u305f\u3093\u3057\u3088\u3093\u3059\u3042\u3093\u3068\u3068\u3089\u3053\u3093\u3059"),void t.const_set(a[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")},l=[],c=(r=Opal).$$,_=r.module,f=r.klass,r.top.$require("bcdice/game_system/DungeonsAndDragons"),a=l,$=s=[_(l[0],"BCDice")].concat(a),i=u=[_(s[0],"GameSystem")].concat($),o=[f(u[0],c(u,"DungeonsAndDragons"),"Pathfinder")].concat(i),r.const_set(o[0],"ID","Pathfinder"),r.const_set(o[0],"NAME","Pathfinder"),r.const_set(o[0],"SORT_KEY","\u306f\u3059\u3075\u3042\u3044\u3093\u305f\u3042"),r.const_set(o[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")},1422:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b;n(93683),r=Opal,f=r.nil,m=r.$$,p=r.klass,b=r.truthy,a=_=[],$=c=[(d=r.module)(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"Pendragon"),s=[u].concat(i),r.const_set(s[0],"ID","Pendragon"),r.const_set(s[0],"NAME","\u30da\u30f3\u30c9\u30e9\u30b4\u30f3"),r.const_set(s[0],"SORT_KEY","\u3078\u3093\u3068\u3089\u3053\u3093"),r.const_set(s[0],"HELP_MESSAGE","\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u6210\u529f\u3001\u5931\u6557\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),r.def(u,"$result_1d20",o=function(t,e,n,r){var a=f;return r["$=="]("?")?m(s,"Result").$nothing():n["$=="]("<=")?b(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(t,r))?b(b(a=function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,function(t,e){return"number"==typeof e?40-e:40["$-"](e)}(0,r)))?a:t["$=="](r))?m(s,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):m(s,"Result").$success("\u6210\u529f"):t["$=="](20)?m(s,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):m(s,"Result").$failure("\u5931\u6557"):f},o.$$arity=4)},47235:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r,a,$,i,o,u,s,l,c,_,f=[],m=t.nil,d=t.$$,p=t.module,b=t.klass,y=t.truthy,T=t.send;r=f,a=_=[p(f[0],"BCDice")].concat(r),$=c=[p(_[0],"GameSystem")].concat(a),s=b(c[0],d(c,"Base"),"PersonaO"),l=[s].concat($),s.$$prototype.randomizer=m,t.const_set(l[0],"ID","PersonaO"),t.const_set(l[0],"NAME","\u30da\u30eb\u30bd\u30caTRPG-O"),t.const_set(l[0],"SORT_KEY","\u3078\u308b\u305d\u306aTRPGO"),t.const_set(l[0],"HELP_MESSAGE","\u30fb\u57fa\u672c\u5224\u5b9a\n\u3000PTx@y\u3000x\uff1a\u76ee\u6a19\u5024\u3001y\uff1a\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u5024\uff08\u7701\u7565\u6642\u306f5\uff09\n\u3000\u4f8b\uff09PT60\u3000PT90@10\n\n\u30fb\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\n\u3000nPD+(x+y*2)%(z-a)-b\u3000n\uff1a\u30c0\u30a4\u30b9\u500b\u6570\u3001x\uff1a\u30b9\u30ad\u30eb\u56fa\u5b9a\u5024\u3001y\uff1a\u30dc\u30fc\u30ca\u30b9\u3001z\uff1a\u30d0\u30d5\u500d\u7387\u3001a\uff1a\u8010\u6027\u3001b\uff1a\u6575\u9632\u5fa1\u529b\n\u3000nPD+(x+y*2)\u307e\u3067\u304c\u30b9\u30ad\u30eb\u306b\u3088\u308b\u7d20\u306e\u30c0\u30e1\u30fc\u30b8\u3001z\u304a\u3088\u3073a\u306f\u8a08\u7b97\u5f0f\u3092\u5165\u308c\u3066\u3088\u3044\u3002\n\u3000\n\u3000\u4f8b\uff09\u30bd\u30cb\u30c3\u30af\u30d1\u30f3\u30c1\u3001\u529bB2\u70b9\u3001\n\u3000\u3000\u3000\u30bf\u30eb\u30ab\u30b8\u30e3\u304c\u304b\u304b\u3063\u3066\u304a\u308a\u3001\u6253\u6483\u8010\u6027\u3042\u308a\u3001\n\u3000\u3000\u3000\u76ee\u6a19\u306e\u7269\u7406\u9632\u5fa1\u529b\u306f2\u70b9\n\u3000\u3000\u3000\n\u3000\u3000\u30002PD+(20+2*2)%(100+50-50)-2\n"),s.$register_prefix("PT","\\d+PD"),t.def(s,"$eval_game_system_specific_command",i=function(t){var e;return y(e=this.$roll_attack(t))?e:this.$roll_damage(t)},i.$$arity=1),s.$private(),t.def(s,"$roll_attack",o=function(r){var a,$=m,i=m,o=m,u=m,s=m,c=m,_=m;return $=/^PT(-?\d+)?(@(-?\d+))?$/i.$match(r),y($)?(_=["D100<="+(i=$["$[]"](1).$to_i())+"@"+(o=y(u=(a=$["$[]"](3))===m||null==a?m:T(a,"to_i",[]))?u:5)+" \uff1e "+(s=this.randomizer.$roll_once(100))+" \uff1e "+(c=y(e(s,o))?d(l,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):y(e(s,i))?d(l,"Result").$success("\u6210\u529f"):d(l,"Result").$failure("\u5931\u6557")).$text()],T(c,"text=",t.to_a(_)),n(_.length,1),c):m},o.$$arity=1),t.def(s,"$roll_damage",u=function(t){var e,r=m,a=m,$=m,i=m,o=m,u=m,s=m;return r=/^(\d+)PD\+(-?\d+)%(-?\d+)-(\d+)$/i.$match(t),y(r)?(a=r["$[]"](1).$to_i(),$=r["$[]"](2).$to_i(),i=r["$[]"](3).$to_i(),o=r["$[]"](4).$to_i(),s=n(function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}((u=this.randomizer.$roll_barabara(a,10)).$sum(),(e=function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}(i,$),"number"==typeof e?e/100:e["$/"](100)).$to_i()),o),a+"D10+"+$+"\uff0a"+i+"%-"+o+" \uff1e ["+u.$join(",")+"]+"+$+"\uff0a"+i+"%-"+o+" \uff1e "+s+" \u30c0\u30e1\u30fc\u30b8\uff01"):m},u.$$arity=1)}(Opal)},69908:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$,y=t.module,T=t.klass,h=t.truthy;o=d,u=m=[y(d[0],"BCDice")].concat(o),s=f=[y(m[0],"GameSystem")].concat(u),c=T(f[0],b(f,"Base"),"PhantasmAdventure"),_=[c].concat(s),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","PhantasmAdventure"),t.const_set(_[0],"NAME","\u30d5\u30a1\u30f3\u30bf\u30ba\u30e0\u30fb\u30a2\u30c9\u30d9\u30f3\u30c1\u30e3\u30fc"),t.const_set(_[0],"SORT_KEY","\u3075\u3042\u3093\u305f\u3059\u3080\u3042\u3068\u3078\u3093\u3061\u3084\u3042"),t.const_set(_[0],"HELP_MESSAGE","\u6210\u529f\u3001\u5931\u6557\u3001\u6c7a\u5b9a\u7684\u6210\u529f\u3001\u6c7a\u5b9a\u7684\u5931\u6557\u306e\u8868\u793a\u3068\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30fb\u30d5\u30a1\u30f3\u30d6\u30eb\u5024\u8a08\u7b97\u306e\u5b9f\u88c5\u3002\n"),t.def(c,"$result_1d20",l=function(t,o,u,s){var l,c=p,f=p,m=p,d=p,y=p,T=p,S=p,D=p,g=p;return s["$=="]("?")?b(_,"Result").$nothing():u["$=="]("<=")?(c=0,h(e(s,1))?c=n(s,1):h(r(s,20))&&(c=n(s,20)),f=a(20,c),h(r(f,20))&&(f=20),m=a(1,c),d=this.randomizer.$roll_once(20),h(h(y=$(t,f))?y:$(t,20))?(T=n(d,c),h(r(T,20))&&(T=20),h(e(T,1))&&(T=1),S=d.$to_s(),S=h(e(c,0))?a(S,"+"+("number"==typeof(l=c)?-1*l:l["$*"](-1))+"="+T):a(S,"-"+c+"="+T),b(_,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557("+S+")")):h(h(D=i(t,m))?D:i(t,1))?(g=a(d,c),h(r(g,20))&&(g=20),h(e(g,1))&&(g=1),h(e(c,0))?b(_,"Result").$success("\u6210\u529f"):b(_,"Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f("+d+"+"+c+"="+g+")")):h(i(t,s))?b(_,"Result").$success("\u6210\u529f"):b(_,"Result").$failure("\u5931\u6557")):p},l.$$arity=4)}(Opal)},57613:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b=[],y=t.nil,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.truthy,E=t.send;$=b,i=p=[h(b[0],"BCDice")].concat($),o=d=[h(p[0],"GameSystem")].concat(i),f=S(d[0],T(d,"Base"),"Postman"),m=[f].concat(o),f.$$prototype.randomizer=y,t.const_set(m[0],"ID","Postman"),t.const_set(m[0],"NAME","\u58ca\u308c\u305f\u4e16\u754c\u306e\u30dd\u30b9\u30c8\u30de\u30f3"),t.const_set(m[0],"SORT_KEY","\u3053\u308f\u308c\u305f\u305b\u304b\u3044\u306e\u307b\u3059\u3068\u307e\u3093"),t.const_set(m[0],"HELP_MESSAGE","\u25c6\u5224\u5b9a\uff1a[n]PO[+-a][> or >= or @X]\u3000\u3000[]\u5185\u7701\u7565\u53ef\u3002\n\n\u9054\u6210\u5024\u3068\u5224\u5b9a\u306e\u6210\u5426\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u3092\u7d50\u679c\u8868\u793a\u3057\u307e\u3059\u3002\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f2D\u3002\n\u300c+-a\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u3092\u6307\u5b9a\u3002\u300c+2+1-4\u300d\u306e\u3088\u3046\u306a\u8907\u6570\u56de\u6307\u5b9a\u53ef\u3002\n\u300c>X\u300d\u300c>=X\u300d\u300c@X\u300d\u3067\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u53ef\u3002\n\u300c>X\u300d\u306f\u9054\u6210\u5024>\u96e3\u6613\u5ea6\u3001\u300c>=X\u300d\u300c@X\u300d\u306f\u9054\u6210\u5024>=\u96e3\u6613\u5ea6\u3067\u5224\u5b9a\u3057\u307e\u3059\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n3PO+2-1 \u2192 3D\u3067\u9054\u6210\u5024\u4fee\u6b63+1\u306e\u5224\u5b9a\u3002\u9054\u6210\u5024\u306e\u307f\u8868\u793a\u3002\nPO@5+2 \u2192 2D\u3067\u76ee\u6a19\u50247\u306e\u5224\u5b9a\u3002\u5224\u5b9a\u306e\u6210\u5426\u3068\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n4PO-2+1>7+2 \u2192 4D\u3067\u9054\u6210\u5024\u4fee\u6b63-1\u3001\u76ee\u6a19\u50249\uff08\u540c\u5024\u306f\u5931\u6557\uff09\u306e\u5224\u5b9a\u3002\n\n\n\u25c6\u5929\u5019\u30c1\u30a7\u30c3\u30af\uff1aWEA[n]\u3000\u3000[]\u5185\u7701\u7565\u53ef\u3002\n\n\u5929\u5019\u30c1\u30a7\u30c3\u30af\u8868\u3092\u53c2\u7167\u3057\u307e\u3059\u3002\n\u300cn\u300d\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u6307\u5b9a\u3057\u305f\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\u3002\uff08\u3010\u5e78\u904b\u70b9\u3011\u4f7f\u7528\u6642\u7528\uff09\n\n\n\u25c6\u81ea\u7531\u884c\u52d5\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868\uff1aFRE\n"),f.$register_prefix("WEA","(\\d+)?PO","FRE"),t.def(f,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},u.$$arity=1),t.def(f,"$eval_game_system_specific_command",s=function(t){var r,a,$,i=this,o=y,u=y,s=y,l=y,c=y,_=y,f=y,d=y,p=y,b=y,h=y,S=y,D=y,R=y,A=y,v=y;return $=t.$upcase(),/(\d+)?PO(\d+)?(([+-]\d+)*)?((>|>=|@)(\d+)(([+-]\d+)*)?)?/i["$==="]($)?(o=(g(u=T(m,"Regexp").$last_match(1))?u:2).$to_i(),g(e(o,2))&&(o=2),s=(g(l=T(m,"Regexp").$last_match(2))?l:0).$to_i(),c=g(_=T(m,"Regexp").$last_match(3))?_:"",f=g(d=T(m,"Regexp").$last_match(6))?d:"",p=(g(b=T(m,"Regexp").$last_match(7))?b:0).$to_i(),h=g(S=T(m,"Regexp").$last_match(8))?S:"",D=c.$scan(/[+-]\d+/),E(D,"each",[],((r=function(t){return null==t&&(t=y),s=n(s,t.$to_i())}).$$s=i,r.$$arity=1,r)),g(p["$!="](0))&&(R=h.$scan(/[+-]\d+/),E(R,"each",[],((a=function(t){return null==t&&(t=y),p=n(p,t.$to_i())}).$$s=i,a.$$arity=1,a))),i.$checkRoll(o,s,f,p)):/WEA(\d+)?/i["$==="]($)?(A=(g(v=T(m,"Regexp").$last_match(1))?v:0).$to_i(),i.$get_weather_table(A)):"FRE"["$==="]($)?i.$get_free_situation_table():y},s.$$arity=1),t.def(f,"$checkRoll",l=function(t,e,$,i){var o,u,s,l,c,_=y,f=y,m=y,d=y,p=y,b=y;return f=(_=this.randomizer.$roll_barabara(t,6).$sort()).$sum(),o=_.$join(","),u=n(_["$[]"](-2),_["$[]"](-1)),s=_["$[]"](-2)+","+_["$[]"](-1),l=_.$count(6),g(e["$!="](0))&&(m="",g(r(e,0))&&(m="+"),m=n(m,e.$to_s())),c=n(u,e),g($["$!="](""))&&(d=" \u3010\u5931\u6557\u3011",p=">",$["$=="](">")?g(r(c,i))&&(d=" \u3010\u6210\u529f\u3011"):(p=n(p,"="),g(a(c,i))&&(d=" \u3010\u6210\u529f\u3011"))),g(a(l,2))?d=" \u3010\u6210\u529f\u3011\uff08\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff09":f["$=="](t)&&(d=" \u3010\u5931\u6557\u3011\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\uff09"),b=t+"D6("+o+")"+m+" \uff1e "+u+"("+s+")"+m+" = \u9054\u6210\u5024\uff1a"+c,g(r(i,0))&&(b=n(b,""+p+i+" ")),n(b,d.$to_s())},l.$$arity=4),t.def(f,"$get_weather_table",c=function(t){var n,a=y,$=y,i=y;return n=[[2,"\u5927\u96e8\u3068\u5f37\u98a8\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+4\u3002"],[3,"\u98a8\u304c\u5f37\u30441\u65e5\u306b\u306a\u308a\u305d\u3046\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[4,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[5,"\u591c\u306e\u9593\u306e\u96e8\u3067\u306c\u304b\u308b\u3080\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[6,"\u305d\u308c\u306a\u308a\u306e\u96e8\u8db3\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[7,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[8,"\u5929\u6c17\u306f\u5927\u8352\u308c\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+4\u3002"],[9,"\u5c0f\u96e8\u304c\u964d\u308b\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+1\u3002"],[10,"\u305d\u308c\u306a\u308a\u306e\u96e8\u8db3\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"],[11,"\u6674\u308c\u3002\u7279\u306b\u306a\u3057\u3002"],[12,"\u98a8\u304c\u5f37\u30441\u65e5\u306b\u306a\u308a\u305d\u3046\u3002\u63a2\u7d22\u5224\u5b9a\u306e\u96e3\u6613\u5ea6\u306b+2\u3002"]],t["$=="](0)?($=(a=this.randomizer.$roll_barabara(2,6)).$sum(),i=a.$join(",")):(g(e(t,2))&&(t=2),g(r(t,12))&&(t=12),$=t,i="Choice:"+t),"\u5929\u5019\u30c1\u30a7\u30c3\u30af("+i+") \uff1e "+$+"\uff1a"+this.$get_table_by_number($,n)},c.$$arity=1),t.def(f,"$get_free_situation_table",_=function(){var t,e,n=y;return t=[[2,"\u4f55\u3092\u3059\u308b\u3067\u3082\u306a\u304f\u3001\u971e\u304c\u304b\u3063\u305f\u3088\u3046\u306a\u591c\u7a7a\u3092\u898b\u4e0a\u3052\u308b\u3002\u3075\u3068\u96a3\u306b\u76ee\u3092\u5411\u3051\u308c\u3070\u3001\u5f7c/\u5f7c\u5973\u304c\u5c45\u305f\u3002\u5f7c/\u5f7c\u5973\u306f\u3001\u3053\u3046\u306a\u308b\u524d\u306e\u591c\u7a7a\u3092\u77e5\u3063\u3066\u3044\u308b\u306e\u3060\u308d\u3046\u304b\u3002"],[3,"\u5922\u3092\u898b\u305f\u3002\u5927\u6226\u306e\u6700\u4e2d\u3001\u8857\u304c\u3001\u4eba\u304c\u3001\u4e16\u754c\u304c\u713c\u3051\u3066\u3044\u304f\u60aa\u5922\u3092\u3002\u8ffd\u3044\u7acb\u3066\u3089\u308c\u308b\u3088\u3046\u306b\u3057\u3066\u76ee\u3092\u899a\u307e\u3059\u3068\u3001\u5f7c/\u5f7c\u5973\u304c\u541b\u3092\u898b\u3066\u3044\u305f\u3002\u3000\u2026\u2026\u3082\u3057\u304b\u3057\u3066\u3001\u81ea\u5206\u306f\u3088\u307b\u3069\u3046\u306a\u3055\u308c\u3066\u3044\u305f\u306e\u3060\u308d\u3046\u304b\u3002"],[4,"\u5468\u56f2\u3067\u898b\u3064\u3051\u305f\u30ac\u30e9\u30af\u30bf\u3092\u4f7f\u3063\u3066\u3001\u3061\u3087\u3063\u3068\u3057\u305f\u30d3\u30c3\u30af\u30ea\u73a9\u5177\u3092\u4f5c\u3063\u3066\u307f\u305f\u3002\u300c\u5f7c/ \u5f7c\u5973\u300d\u306b\u30b3\u30a4\u30c4\u3092\u3051\u3057\u304b\u3051\u305f\u3089\u3001\u3069\u3093\u306a\u53cd\u5fdc\u3092\u3059\u308b\u3060\u308d\u3046\u304b\uff1f"],[5,"\u4f7f\u3048\u305d\u3046\u306a\u3082\u306e\u304c\u306a\u3044\u304b\u63a2\u3057\u3066\u3044\u308b\u3068\u3001\u30ab\u30bf\u30f3\u3068\u7269\u97f3\u304c\u3057\u3066\u4f55\u304b\u304c\u843d\u3061\u305f\u3002\u62fe\u3044\u4e0a\u3052\u3066\u307f\u305f\u305d\u308c\u306f\u3001\u304b\u3064\u3066\u3053\u3053\u3067\u751f\u6d3b\u3057\u3066\u3044\u305f\u8ab0\u304b\u306e\u540d\u6b8b\uff08\u5199\u771f\u3001\u5bb6\u5177\u3001\u73a9\u5177\u7b49\uff09\u3060\u3063\u305f\u3002"],[6,"\u30c6\u30f3\u30c8\u306e\u4e2d\u3067\u591c\u3092\u904e\u3054\u3057\u3066\u3044\u308b\u3068\u3001\u3075\u3068\u5f7c/\u5f7c\u5973\u3068\u8a71\u3057\u305f\u304f\u3066\u305f\u307e\u3089\u306a\u3044\u6c17\u6301\u3061\u306b\u306a\u3063\u305f\u3002\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u591c\u306e\u9759\u3051\u3055\u306b\u5bc2\u3057\u3055\u3092\u899a\u3048\u3066\u3057\u307e\u3063\u305f\u306e\u3060\u3002"],[7,"\u3053\u3053\u307e\u3067\u306e\u914d\u9054\u306e\u8a18\u9332\u3092\u3064\u3051\u3066\u3044\u305f\u3089\u3001\u80cc\u5f8c\u304b\u3089\u8996\u7dda\u3092\u611f\u3058\u308b\u2026\u2026\uff01\u3000\u3082\u3057\u3084\u3001\u5f7c/\u5f7c\u5973\u306b\u8997\u304b\u308c\u3066\u3044\u308b\u2026\u2026\uff01\uff1f"],[8,"\u5468\u56f2\u3092\u63a2\u7d22\u3057\u3066\u3044\u308b\u3068\u3001\u541b\u4e00\u4eba\u3067\u306f\u624b\u306e\u5c4a\u304b\u306a\u3044\u3068\u3053\u308d\u306b\u91d1\u5c5e\u88fd\u306e\u7bb1\u304b\u4f55\u304b\u304c\u3042\u308b\u3053\u3068\u306b\u6c17\u3065\u3044\u305f\u3002\u5f7c/\u5f7c\u5973\u306b\u624b\u4f1d\u3063\u3066\u3082\u3089\u3048\u3070\u3001\u53d6\u308c\u308b\u3060\u308d\u3046\u304b\u2026\u2026\uff1f"],[9,"\u671d\u307e\u3067\u306f\u307e\u3060\u3057\u3070\u3089\u304f\u3042\u308b\u3068\u3044\u3046\u306e\u306b\u3001\u76ee\u304c\u899a\u3081\u3066\u3057\u307e\u3063\u305f\u3002\u4e8c\u5ea6\u5bdd\u3057\u3088\u3046\u306b\u3082\u5bdd\u4ed8\u3051\u305a\u306b\u5c45\u308b\u3068\u3001\u96a3\u3067\u3082\u305e\u3082\u305e\u3068\u52d5\u304f\u6c17\u914d\u304c\u3059\u308b\u3002\u5f7c/\u5f7c\u5973\u3082\u3001\u3069\u3046\u3084\u3089\u540c\u3058\u3089\u3057\u3044\u3002"],[10,"\u4ed6\u611b\u306e\u306a\u3044\u8a71\u3092\u3059\u308b\u3046\u3061\u306b\u3001\u541b\u306f\u5f7c/\u5f7c\u5973\u306b\u554f\u3044\u304b\u3051\u3066\u3044\u305f\u3002\u300c\u4f55\u6545\u3001\u30dd\u30b9\u30c8\u30de\u30f3\u306b\u306a\u308d\u3046\u3068\u601d\u3063\u305f\u306e\u304b\u300d\u3000\u2026\u2026\u305d\u3046\u3044\u3048\u3070\u3001\u541b\u81ea\u8eab\u306f\u3069\u3046\u3060\u3063\u305f\u308d\u3046\u304b\u3002"],[11,"\u4fdd\u5b58\u98df\u306b\u3042\u308a\u3064\u3053\u3046\u3068\u3057\u305f\u305d\u306e\u6642\u3001\u541b\u306f\u6c17\u3065\u3044\u305f\u3002\u4e00\u5339\u306e\u30cd\u30ba\u30df\u304c\u3001\u5f7c/\u5f7c\u5973\u306e\u8377\u7269\u306e\u4e2d\u306b\u6f5c\u308a\u8fbc\u3082\u3046\u3068\u3057\u3066\u3044\u308b\u3002\u5f7c/\u5f7c\u5973\u306f\u6c17\u3065\u3044\u3066\u3044\u306a\u3044\u304c\u3001\u3053\u306e\u307e\u307e\u3067\u306f\u98df\u6599\u304c\u5371\u306a\u3044\uff01"],[12,"\u30c6\u30f3\u30c8\u3092\u8a2d\u55b6\u3057\u3001\u843d\u3061\u7740\u3044\u305f\u9803\u306b\u3075\u3068\u6c17\u3065\u304f\u3002\u3000\u2026\u2026\u8eab\u4f53\u304c\u71b1\u3044\u3002\u5c11\u3057\u3001\u3060\u308b\u3055\u3082\u3042\u308b\u3088\u3046\u306a\u6c17\u3082\u3059\u308b\u3002\u5927\u3057\u305f\u3053\u3068\u306f\u306a\u3044\u3068\u601d\u3046\u304c\u3001\u5f7c/\u5f7c\u5973\u306b\u76f8\u8ac7\u3057\u3066\u304a\u3044\u305f\u65b9\u304c\u3044\u3044\u3060\u308d\u3046\u304b\u3002"]],e=(n=this.randomizer.$roll_barabara(2,6)).$sum(),"\u81ea\u7531\u884c\u52d5\u30b7\u30c1\u30e5\u30a8\u30fc\u30b7\u30e7\u30f3\u8868("+n.$join(",")+") \uff1e "+e+"\uff1a"+this.$get_table_by_number(e,t)},_.$$arity=0)}(Opal)},70674:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function o(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var u,s,l,c,_,f,m,d,p,b,y,T=[],h=t.nil,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send;u=T,s=y=[D(T[0],"BCDice")].concat(u),l=b=[D(y[0],"GameSystem")].concat(s),d=g(b[0],S(b,"Base"),"Raisondetre"),p=[d].concat(l),d.$$prototype.randomizer=h,t.const_set(p[0],"ID","Raisondetre"),t.const_set(p[0],"NAME","\u53db\u9006\u30ec\u30be\u30f3\u30c7\u30fc\u30c8\u30eb"),t.const_set(p[0],"SORT_KEY","\u306f\u3093\u304d\u3084\u304f\u308c\u305d\u3093\u3066\u3068\u304a\u308b"),t.const_set(p[0],"HELP_MESSAGE","\u5224\u5b9a\uff1a[\u5224\u5b9a\u5024]RD[\u6280\u80fd][@\u76ee\u6a19\u5024]\n\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\uff1a[\u30c0\u30a4\u30b9\u6570]DD[\u88c5\u7532]\n\n[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\n\u300c\u5224\u5b9a\u5024\u300d\u3067\u5224\u5b9a\u306b\u4f7f\u7528\u3059\u308b\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u30020\u4ee5\u4e0b\u3082\u6307\u5b9a\u53ef\u3002\n\u300c\u6280\u80fd\u300d\u3067\u6709\u52b9\u306a\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u300c1\u300d\u3002\n\u9054\u6210\u5024\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3092\u542b\u3081\u3066\u3001\u300c\u6700\u3082\u9ad8\u304f\u306a\u308b\u300d\u3088\u3046\u306b\u8a08\u7b97\u3057\u307e\u3059\u3002\n\u300c@\u76ee\u6a19\u5024\u300d\u6307\u5b9a\u3067\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8ffd\u52a0\u8868\u793a\u3057\u307e\u3059\u3002\n\n\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u306f[\u88c5\u7532]\u6307\u5b9a\u3067\u3001\u6709\u52b9\u306a\u30c0\u30a4\u30b9\u6570\u30680\u306e\u51fa\u76ee\u306e\u6570\u3092\u8868\u793a\u3057\u307e\u3059\u3002\n[\u88c5\u7532]\u7701\u7565\u6642\u306f\u3001\u30c0\u30a4\u30b9\u7d50\u679c\u306e\u307f\u8868\u793a\u3057\u307e\u3059\u3002\uff08\u8907\u6570\u306e\u5bfe\u8c61\u3078\u306e\u653b\u6483\u6642\u7528\uff09\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbRD \u2192 1D\u3067\u9054\u6210\u5024\u3092\u8868\u793a\u3002\n\u30fb2RD1@8 \u2192 2D\uff081\u500b\u9078\u629e\uff09\u3067\u76ee\u6a19\u50248\u306e\u5224\u5b9a\u3002\n\u30fb-3RD \u2192 1D\u3067\u30c0\u30a4\u30b9\u30da\u30ca\u30eb\u30c6\u30a3-4\u306e\u5224\u5b9a\u3002\n\u30fb4DD2 \u2192 4D\u3067\u88c5\u75322\u306e\u30c0\u30e1\u30fc\u30b8\u30ed\u30fc\u30eb\u3002\n"),t.def(d,"$initialize",c=function(e){var n=this;return c.$$p&&(c.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",c,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},c.$$arity=1),d.$register_prefix("(-)?(\\d+)?RD","(-)?(\\d+)?DD"),t.def(d,"$eval_game_system_specific_command",_=function(t){var $=h,i=h,o=h,u=h,s=h,l=h,c=h,_=h,f=h,m=h;return R(t["$=~"](/(-)?(\d+)?RD(\d+)?(@(\d+))?$/i))?($=(R(i=S(p,"Regexp").$last_match(2))?i:1).$to_i(),R(S(p,"Regexp").$last_match(1)["$nil?"]())||($=e($,-1)),o=(R(u=S(p,"Regexp").$last_match(3))?u:1).$to_i(),s=(R(l=S(p,"Regexp").$last_match(5))?l:0).$to_i(),this.$checkRoll($,o,s)):R(t["$=~"](/(-)?(\d+)?DD([1-9])?([+\-]\d+)?$/i))?($=(R(c=S(p,"Regexp").$last_match(2))?c:1).$to_i(),R(S(p,"Regexp").$last_match(1)["$nil?"]())||($=e($,-1)),_=(R(f=S(p,"Regexp").$last_match(3))?f:0).$to_i(),R(n(_,0))&&(_=r(_,(R(m=S(p,"Regexp").$last_match(4))?m:0).$to_i()),R(a(_,1))&&(_=1),R(n(_,9))&&(_=9)),this.$checkDamage($,_)):h},_.$$arity=1),t.def(d,"$checkRoll",f=function(u,s,l){var c,_,f,m,d,p,b=this,y=h,T=h,S=h,D=h,g=h,E=h,v=h,B=h,x=h,C=h;return R($(u,0))?(y=r(1,e(u,-1)),T=1):(y=0,T=u),m=(S=b.randomizer.$roll_barabara(T,10).$sort()).$join(","),A(S,"map!",[],((c=function(t){return null==t&&(t=h),t["$=="](10)?0:t}).$$s=b,c.$$arity=1,c)),A(S,"map!",[],((_=function(t){return null==t&&(t=h),i(t,y)}).$$s=b,_.$$arity=1,_)),d=S.$sort().$join(","),p=o(A(S,"select",[],((f=function(t){return null==t&&(t=h),$(t,1)}).$$s=b,f.$$arity=1,f)).$size(),T),D=0,g=0,R(p)||(v=e(E=S.$count(0),10),(B=S.$reverse()).$delete(0),x=(B=B.$slice(t.Range.$new(0,i(s,1),!1))).$join(","),g=r(D=B.$inject("+"),v)),C=T+"D10",R(n(y,0))&&(C=r(C,"-"+y)),C=r(C," \uff1e ["+m+"] \uff1e ["+d+"] \uff1e "),R(p)?C=r(C,"\u9054\u6210\u5024\uff1a0 (Funble)"):(C=r(C,D+"["+x+"]"),R(n(v,0))&&(C=r(C,"+"+v)),C=r(C,"=\u9054\u6210\u5024\uff1a"+g),R(n(v,0))&&(C=r(C," ("+E+"Critical)"))),R(n(l,0))&&(C=r(C,">="+l+" "),R(o(g,l))&&(C=r(C,"\u3010\u6210\u529f\u3011")),R(a(g,l))&&(C=r(C,"\u3010\u5931\u6557\u3011"))),C},f.$$arity=3),t.def(d,"$checkDamage",m=function(t,a){var u,s,l,c,_,f,m=this,d=h,p=h,b=h,y=h,T=h,S=h,D=h;return R($(t,0))?(d=r(1,e(t,-1)),p=1):(d=0,p=t),c=(b=m.randomizer.$roll_barabara(p,10).$sort()).$join(","),_=(y=A(b,"map",[],(u=function(t){return null==t&&(t=h),t["$=="](10)?0:t},u.$$s=m,u.$$arity=1,u)).$sort()).$count(0),A(y,"map!",[],((s=function(t){return null==t&&(t=h),i(t,d)}).$$s=m,s.$$arity=1,s)),f=y.$join(","),T=p+"D10",R(n(d,0))&&(T=r(T,"-"+d)),T=r(T," \uff1e ["+c+"] \uff1e ["+f+"]"),R(n(a,0))&&(S=[],D=0,A(y,"each",[],((l=function(t){return null==t&&(t=h),R(o(t,a))?(S.$push(t),D=r(D,1)):S.$push("\xd7")}).$$s=m,l.$$arity=1,l)),T=r(T," \uff1e ["+S.$join(",")+"]>="+a+" \u6709\u52b9\u6570\uff1a"+D)),r(T,"\u30000="+_+"\u500b")},m.$$arity=2)}(Opal)},98290:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var n,r,a,$,i,o,u,s,l=[],c=t.nil,_=t.$$$,f=t.$$,m=t.module,d=t.klass,p=t.hash2,b=t.truthy;n=l,r=s=[m(l[0],"BCDice")].concat(n),a=u=[m(s[0],"GameSystem")].concat(r),i=d(u[0],f(u,"Base"),"RecordOfLodossWar"),o=[i].concat(a),i.$$prototype.randomizer=c,t.const_set(o[0],"ID","RecordOfLodossWar"),t.const_set(o[0],"NAME","\u30ed\u30fc\u30c9\u30b9\u5cf6\u6226\u8a18RPG"),t.const_set(o[0],"SORT_KEY","\u308d\u304a\u3068\u3059\u3068\u3046\u305b\u3093\u304dRPG"),t.const_set(o[0],"HELP_MESSAGE","\u25cf\u5224\u5b9a\n\u3000LW<=(\u76ee\u6a19\u5024)\u3067\u5224\u5b9a\u3002\n\u3000\u9054\u6210\u5024\u304c\u76ee\u6a19\u5024\u306e1/10(\u7aef\u6570\u5207\u308a\u4e0a\u3052)\u4ee5\u4e0b\u3067\u3042\u308c\u3070\u5927\u6210\u529f\u30021\uff5e10\u3067\u3042\u308c\u3070\u81ea\u52d5\u6210\u529f\u3002\n\u300091\uff5e100\u3067\u3042\u308c\u3070\u81ea\u52d5\u5931\u6557\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u25cf\u56de\u907f\u5224\u5b9a\n\u3000LWD<=(\u76ee\u6a19\u5024)\u3067\u56de\u907f\u5224\u5b9a\u3002\u3053\u306e\u6642\u51fa\u76ee\u304c51\u4ee5\u4e0a\u3067\u81ea\u52d5\u5931\u6557\u3068\u306a\u308a\u307e\u3059\u3002\n\n\u3000\u5224\u5b9a\u3068\u56de\u907f\u5224\u5b9a\u306f\u3001\u3069\u3061\u3089\u3082\u30b3\u30de\u30f3\u30c9\u3060\u3051\u306e\u5834\u5408\u3001\u51fa\u76ee\u306e\u8868\u793a\u3068\u81ea\u52d5\u6210\u529f\u3068\u81ea\u52d5\u5931\u6557\u306e\u5224\u5b9a\u306e\u307f\u3092\u884c\u3044\u307e\u3059\u3002\n"),i.$register_prefix("LW"),t.def(i,"$eval_game_system_specific_command",$=function(t){var n,r,a=c,$=c,i=c,u=c,s=c;return a=_(f(o,"Command"),"Parser").$new("LWD","LW",p(["round_type"],{round_type:this.$round_type()})).$restrict_cmp_op_to(c,"<=").$parse(t),b(b(n=a["$nil?"]())?n:[c,"<="]["$include?"](a.$cmp_op())["$!"]())?c:($=a.$command()["$=="]("LWD")?51:91,i=(r=a.$target_number().$to_f(),"number"==typeof r?r/10:r["$/"](10)).$ceil(),u=this.randomizer.$roll_once(100),s=b(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(u,$))?"\u81ea\u52d5\u5931\u6557("+$+")":b(e(u,i))?"\u5927\u6210\u529f("+i+")":b(e(u,10))?"\u81ea\u52d5\u6210\u529f":b(a.$cmp_op())?b(e(u,a.$target_number()))?"\u6210\u529f":"\u5931\u6557":c,["(1D100"+a.$cmp_op()+a.$target_number()+")",u.$to_s(),s].$compact().$join(" \uff1e "))},$.$$arity=1)}(Opal)},5378:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var i,o,u,s,l,c,_,f,m,d,p,b,y,T=[],h=t.nil,S=t.$$,D=t.module,g=t.klass,E=t.truthy,R=t.send;i=T,o=y=[D(T[0],"BCDice")].concat(i),u=b=[D(y[0],"GameSystem")].concat(o),d=g(b[0],S(b,"Base"),"RecordOfSteam"),p=[d].concat(u),d.$$prototype.randomizer=h,t.const_set(p[0],"ID","RecordOfSteam"),t.const_set(p[0],"NAME","Record of Steam"),t.const_set(p[0],"SORT_KEY","\u308c\u3053\u304a\u3068\u304a\u3075\u3059\u3061\u3044\u3080"),t.const_set(p[0],"HELP_MESSAGE","2S2@1\nRecordOfSteam : (2S2@1) \uff1e 1,2,3,4 \uff1e 1\u56de\u8ee2 \uff1e \u6210\u529f\u65702\n\n4S3@2\nRecordOfSteam : (4S3@2) \uff1e 2,1,2,4,4,4,2,3,4,5,6,6 \uff1e 4\u56de\u8ee2 \uff1e \u6210\u529f\u65705\n"),d.$register_prefix("\\d+S\\d+"),t.def(d,"$eval_game_system_specific_command",s=function(n){var r,a,$=this,i=h,o=h,u=h,s=h,l=h,c=h,_=h,f=h,m=h,d=h;return E(/(\d+)[sS](\d+)(@(\d+))?/i["$=~"](n))?(i=S(p,"Regexp").$last_match(1).$to_i(),o=S(p,"Regexp").$last_match(2).$to_i(),u=S(p,"Regexp").$last_match(4),u=(u=E(s=u)?s:1).$to_i(),E(e(i,150))||E(e(u,3))?"(\u591a\u5206)\u7121\u9650\u500b\u306a\u306e\u3067\u632f\u308c\u307e\u305b\u3093\uff01 \u30e4\u30e1\u30c6\u30af\u30c0\u30b5\u30a4\u3001(\u30d7\u30ed\u30bb\u30b9\u304c)\u6b7b\u3093\u3067\u3057\u307e\u3044\u307e\u3059\u3063":(a=$.$getDiceRollResult(i,o,u,u),l=null==(r=t.to_ary(a))[1]?h:r[1],c=null==r[3]?h:r[3],_=null==r[4]?h:r[4],f="("+n+") \uff1e "+(null==r[0]?h:r[0]),m=$.$getRoundCountText(null==r[2]?h:r[2]),d=$.$getSuccessText(l),""+f+m+$.$getSpecialText(c)+d+$.$getFumbleText(_))):"1"},s.$$arity=1),t.def(d,"$getDiceRollResult",l=function(t,e,i,o){var u,s=this,l=h,c=h,_=h,f=h,m=h,d=h,p=h,b=h,y=h,T=h;for(l=0,c=0,_="",f=0,m=!1,d=0,p=!1;E(n(t,0));){if(y=(b=s.randomizer.$roll_barabara(t,6)).$join(","),E(_["$!="](""))&&(_=r(_,",")),_=r(_,y),E(E(T=b.$uniq().$length()["$=="](1))?c["$=="](0):T)&&(E(a(b.$uniq().$first(),o))?m=!0:b.$uniq().$first()["$=="](6)&&(p=!0)),s.$debug("diceList",b),E(m))return f=1,[_,l=$(t,3),c,f,d];if(E(p))return[_,l,c,f,d=1];t=0,R(b,"map",[],((u=function(n){var $=null==u.$$s?this:u.$$s;return null==n&&(n=h),$.$debug("diceValue",n),$.$debug("criticalValue",i),$.$debug("specialValue",o),E(a(n,i))&&(t=r(t,2),c=r(c,1)),E(a(n,e))?l=r(l,1):h}).$$s=s,u.$$arity=1,u))}return[_,l,c,f,d]},l.$$arity=4),t.def(d,"$getRoundCountText",c=function(t){return E(a(t,0))?"":" \uff1e "+t+"\u56de\u8ee2"},c.$$arity=1),t.def(d,"$getSuccessText",_=function(t){return E(n(t,0))?" \uff1e \u6210\u529f\u6570"+t:" \uff1e \u5931\u6557"},_.$$arity=1),t.def(d,"$getSpecialText",f=function(t){return t["$=="](1)?" \uff1e \u30b9\u30da\u30b7\u30e3\u30eb":h},f.$$arity=1),t.def(d,"$getFumbleText",m=function(t){return t["$=="](1)?" \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb":h},m.$$arity=1)}(Opal)},92997:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.truthy,R=t.send,A=t.hash2;$=y,i=b=[D(y[0],"BCDice")].concat($),o=p=[D(b[0],"GameSystem")].concat(i),m=g(p[0],S(p,"Base"),"Revulture"),d=[m].concat(o),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","Revulture"),t.const_set(d[0],"NAME","\u5149\u7815\u306e\u30ea\u30f4\u30a1\u30eb\u30c1\u30e3\u30fc"),t.const_set(d[0],"SORT_KEY","\u3053\u3046\u3055\u3044\u306e\u308a\u3046\u3042\u308b\u3061\u3084\u3042"),t.const_set(d[0],"HELP_MESSAGE","\u25a0\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\uff08 xAT, xATK, xATTACK \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\n\u4f8b\uff09 3AT, 4ATK, 5+6ATTACK, 15/2AT\n\n\u25a1\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\u3000\u76ee\u6a19\u5024\u3064\u304d\uff08 xAT<=y, xATK<=y, xATTACK<=y \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\ny: \u76ee\u6a19\u5024\uff08 1 \u4ee5\u4e0a 6 \u4ee5\u4e0b\u3002\u52a0\u7b97 + \u3092\u4f7f\u7528\u53ef\u80fd\uff09\n\u4f8b\uff09 3AT<=4, 3AT<=2+1\n\n\u25a1\u30a2\u30bf\u30c3\u30af\u5224\u5b9a\u3000\u76ee\u6a19\u5024\uff06\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3064\u304d\uff08 xAT<=y[>=a:+b], xATK<=y[>=a:+b], xATTACK<=y[z] \uff09\nx: \u30c0\u30a4\u30b9\u6570\uff08\u52a0\u7b97 + \u3068\u9664\u7b97 / \u3092\u4f7f\u7528\u53ef\u80fd\uff09\ny: \u76ee\u6a19\u5024\uff08 1 \u4ee5\u4e0a 6 \u4ee5\u4e0b\u3002\u52a0\u7b97 + \u3092\u4f7f\u7528\u53ef\u80fd\uff09\nz: \u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u306e\u898f\u5247\uff08\u8a73\u7d30\u306f\u5f8c\u8ff0\uff09\uff08\u203b\u8907\u6570\u540c\u6642\u306b\u6307\u5b9a\u53ef\u80fd\uff09\n\n\u25bd\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u306e\u898f\u5247 [a:+b]\na: \u30d2\u30c3\u30c8\u6570\u304c a \u306a\u3089\n\u3000=a\u3000\uff08\u30d2\u30c3\u30c8\u6570\u304c a \u306b\u7b49\u3057\u3044\uff09\n\u3000>=a\u3000\uff08\u30d2\u30c3\u30c8\u6570\u304c a \u4ee5\u4e0a\uff09\nb: \u30c0\u30e1\u30fc\u30b8\u3092 b \u70b9\u8ffd\u52a0\n\n\u4f8b\uff09 3AT<=4[>=2:+3] #\u30eb\u30fc\u30eb\u30d6\u30c3\u30afp056\u300c\u30b0\u30ec\u30f3\u30b0\u30e9\u30f3\u30c8AR\u300d\n\u4f8b\uff09 2AT<=4[=1:+5][>=2:+8] #\u30eb\u30fc\u30eb\u30d6\u30c3\u30afp067\u300c\u30d5\u30a1\u30fc\u30dc\u30eb\u30fb\u30c9\u30e9\u30b4\u30f3\u30d6\u30ec\u30b9\u300d\n"),t.const_set(d[0],"ATTACK_ROLL_REG",/^(\d+([+\/]\d+)*)?AT(TACK|K)?(<=([1-6](\+\d)*))?((\[>?=\d+:\+\d+\])+)?/i.$freeze()),m.$register_prefix("\\d+([+\\/]\\d+)*AT"),t.def(m,"$eval_game_system_specific_command",u=function(t){var e=T;return E(e=S(d,"ATTACK_ROLL_REG").$match(t))?this.$roll_attack(e["$[]"](1),e["$[]"](5),e["$[]"](7)):T},u.$$arity=1),m.$private(),t.def(m,"$roll_attack",s=function($,i,o){var u,s,l,c,_=this,f=T,m=T,p=T,b=T,y=T,D=T,g=T;return l=S(d,"Arithmetic").$eval($,h(S(d,"RoundType"),"FLOOR")),E(i)&&(f=S(d,"Arithmetic").$eval(i,h(S(d,"RoundType"),"FLOOR")).$clamp(1,6)),c=_.$make_command_text(l,f,o),E(e(l,0))?c+" \uff1e \u30c0\u30a4\u30b9\u6570\u304c 0 \u3067\u3059":E(E(m=f["$nil?"]())?o:m)?c+" \uff1e \u76ee\u6a19\u5024\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u8ffd\u52a0\u30c0\u30e1\u30fc\u30b8\u3092\u7b97\u51fa\u3067\u304d\u307e\u305b\u3093":(p=_.randomizer.$roll_barabara(l,6).$sort(),b=p.$count(1),E(f)&&(y=n(R(p,"count",[],((u=function(t){return null==t&&(t=T),e(t,f)}).$$s=_,u.$$arity=1,u)),b)),D=_.$calc_damage(y,o),(g=[])["$<<"](c),g["$<<"](p.$join(",")),E(r(b,0))&&g["$<<"]("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb "+b),E(y)&&g["$<<"]("\u30d2\u30c3\u30c8\u6570 "+y),E(D)&&g["$<<"]("\u30c0\u30e1\u30fc\u30b8 "+D),R(S(d,"Result").$new(g.$join(" \uff1e ")),"tap",[],((s=function(e){var n=T;return null==e&&(e=T),E(y)&&(n=[r(y,0)],R(e,"condition=",t.to_a(n)),a(n.length,1)),n=[r(b,0)],R(e,"critical=",t.to_a(n)),n[a(n.length,1)]}).$$s=_,s.$$arity=1,s)))},s.$$arity=3),t.def(m,"$make_command_text",l=function(t,e,r){var a=T;return a=t+"attack",E(e)&&(a=n(a,"<="+e)),E(r)&&(a=n(a,r)),"("+a+")"},l.$$arity=3),t.def(m,"$calc_damage",c=function(t,e){var r,a=T;return E(e)?(a=t,R(this.$parse_additional_damage_rules(e),"each",[],((r=function(e){return null==e&&(e=T),E(e["$[]"]("condition").$call(t))?a=n(a,e["$[]"]("additinal_damage")):T}).$$s=this,r.$$arity=1,r)),a):T},c.$$arity=2),t.def(m,"$parse_additional_damage_rules",_=function(t){var e;return R(t.$scan(/\[(>?=)(\d+):\+(\d+)\]/),"map",[],((e=function(t){return null==t&&(t=T),A(["condition","additinal_damage"],{condition:(null==e.$$s?this:e.$$s).$make_additional_damage_condition(t["$[]"](0),t["$[]"](1).$to_i()),additinal_damage:t["$[]"](2).$to_i()})}).$$s=this,e.$$arity=1,e))},_.$$arity=1),t.def(m,"$make_additional_damage_condition",f=function(t,e){var n,r=this;return"="["$==="](n=t)?R(r,"lambda",[],($$11=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return null==$$11.$$s||$$11,null==t&&(t=T),t["$=="](e)}),$$11.$$s=r,$$11.$$arity=1,$$11)):">="["$==="](n)?R(r,"lambda",[],($$12=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return null==$$12.$$s||$$12,null==t&&(t=T),function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,e)}),$$12.$$s=r,$$12.$$arity=1,$$12)):T},f.$$arity=2)}(Opal)},6369:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b=[],y=t.nil,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.send,E=t.truthy;$=b,i=p=[h(b[0],"BCDice")].concat($),o=d=[h(p[0],"GameSystem")].concat(i),f=S(d[0],T(d,"Base"),"RokumonSekai2"),m=[f].concat(o),f.$$prototype.randomizer=y,t.const_set(m[0],"ID","RokumonSekai2"),t.const_set(m[0],"NAME","\u516d\u9580\u4e16\u754cRPG \u30bb\u30ab\u30f3\u30c9\u30a8\u30c7\u30a3\u30b7\u30e7\u30f3"),t.const_set(m[0],"SORT_KEY","\u308d\u304f\u3082\u3093\u305b\u304b\u3044RPG2"),t.const_set(m[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\naRSm<=t\n\u80fd\u529b\u5024a,\u4fee\u6b63\u5024m,\u76ee\u6a19\u5024t\u3067\u5224\u5b9a\u30ed\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002\nR\u30b3\u30de\u30f3\u30c9(3R6m<=t[a])\u306b\u8aad\u307f\u66ff\u3048\u307e\u3059\u3002\n\u6210\u529f\u5ea6\u3001\u8a55\u4fa1\u3001\u30dc\u30fc\u30ca\u30b9\u30c0\u30a4\u30b9\u3092\u81ea\u52d5\u8868\u793a\u3057\u307e\u3059\u3002\n\u3000\u4f8b) 3RS+1<=9\u30003R6+1<=9[3]\n"),f.$register_prefix("\\d+RS","3R6"),t.def(f,"$initialize",u=function(e){var n=this;return u.$$p&&(u.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",u,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},u.$$arity=1),t.def(f,"$replace_text",s=function(t){var e,n;return t=g(t,"gsub",[/(\d+)RS([+\-][+\-\d]+)<=(\d+)/i],((e=function(){return"3R6"+T(m,"Regexp").$last_match(2)+"<="+T(m,"Regexp").$last_match(3)+"["+T(m,"Regexp").$last_match(1)+"]"}).$$s=this,e.$$arity=0,e)),g(t,"gsub",[/(\d+)RS<=(\d+)/i],((n=function(){return"3R6<="+T(m,"Regexp").$last_match(2)+"["+T(m,"Regexp").$last_match(1)+"]"}).$$s=this,n.$$arity=0,n))},s.$$arity=1),t.def(f,"$eval_game_system_specific_command",l=function(n){var r,a,$=this,i=y,o=y,u=y,s=y,l=y,c=y;return n=$.$replace_text(n),E(/3R6([+\-\d]*)<=(\d+)\[(\d+)\]/i["$=~"](n))?(i=T(m,"Regexp").$last_match(1),o=T(m,"Regexp").$last_match(2).$to_i(),u=T(m,"Regexp").$last_match(3).$to_i(),s=0,E(i)&&(s=T(m,"ArithmeticEvaluator").$eval(i)),a=$.$rokumon2_roll(s,o,u),c=(null==(r=t.to_ary(a))[2]?y:r[2])+"["+(null==r[0]?y:r[0])+"] \uff1e "+(l=null==r[1]?y:r[1])+" \uff1e \u8a55\u4fa1"+$.$rokumon2_suc_rank(l),E(l["$!="](0))&&(c=e(c,"(+"+l+"d6)")),c="("+n+") \uff1e "+c):y},l.$$arity=1),t.def(f,"$rokumon2_roll",c=function(t,$,i){var o,u,s,l=this,c=y,_=y,f=y,m=y,d=y;return c=0,s=(_=l.randomizer.$roll_barabara(e(3,t.$abs()),6).$sort()).$join(","),g(t.$abs(),"times",[],((o=function(e){return null==e&&(e=y),E(n(t,0))?_.$shift():_.$pop()}).$$s=l,o.$$arity=1,o)),f=0,m=0,d=0,g(_,"each",[],((u=function(t){return null==t&&(t=y),E(r(t,5))&&(f=e(f,1)),E(a(t,2))&&(m=e(m,1)),E(a(t,i))&&(c=e(c,1)),d=e(d,t)}).$$s=l,u.$$arity=1,u)),E(n(d,$))?c=e(c,2):d["$=="]($)&&(c=e(c,1)),E(r(f,3))&&(c=0),E(r(m,3))&&(c=5),[s,c,d]},c.$$arity=3),t.def(f,"$rokumon2_suc_rank",_=function(t){return["E","D","C","B","A","S"]["$[]"](t)},_.$$arity=1)}(Opal)},48326:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),f=(r=Opal).$$,d=r.klass,p=r.send2,a=_=[],$=c=[(m=r.module)(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Base"),"RoleMaster")].concat(i),r.const_set(s[0],"ID","RoleMaster"),r.const_set(s[0],"NAME","\u30ed\u30fc\u30eb\u30de\u30b9\u30bf\u30fc"),r.const_set(s[0],"SORT_KEY","\u308d\u304a\u308b\u307e\u3059\u305f\u3042"),r.const_set(s[0],"HELP_MESSAGE","\u4e0a\u65b9\u7121\u9650\u30ed\u30fc\u30eb(xUn)\u306e\u5883\u754c\u5024\u309296\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n"),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.upper_dice_reroll_threshold=96},o.$$arity=1)},13024:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.truthy;a=_,$=c=[d(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"RuneQuest"),s=[u].concat(i),t.const_set(s[0],"ID","RuneQuest"),t.const_set(s[0],"NAME","\u30eb\u30fc\u30f3\u30af\u30a8\u30b9\u30c8"),t.const_set(s[0],"SORT_KEY","\u308b\u3046\u3093\u304f\u3048\u3059\u3068"),t.const_set(s[0],"HELP_MESSAGE","\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30a8\u30d5\u30a7\u30af\u30c6\u30a3\u30d6(\u52b9\u679c\u7684\u6210\u529f)\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),t.def(u,"$result_1d100",o=function(t,a,$,i){var o=f,u=f;return i["$=="]("?")?m(s,"Result").$nothing():$["$=="]("<=")?(o=e(i.$to_f(),20).$round(),b(b(u=n(t,1))?u:n(t,o))?m(s,"Result").$critical("\u6c7a\u5b9a\u7684\u6210\u529f"):b(r(t,100))?m(s,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):b(n(t,e(i.$to_f(),5).$round()))?m(s,"Result").$success("\u52b9\u679c\u7684\u6210\u529f"):b(n(t,i))?m(s,"Result").$success("\u6210\u529f"):b(r(t,function(t,e){return"number"==typeof e?95+e:95["$+"](e)}(0,o)))?m(s,"Result").$fumble("\u81f4\u547d\u7684\u5931\u6557"):m(s,"Result").$failure("\u5931\u6557")):f},o.$$arity=4)}(Opal)},96334:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T;n(93683),Opal.modules["bcdice/dice_table/table"]=function(t){var e,n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.hash2,y=t.truthy;return e=_,n=c=[d(_[0],"BCDice")].concat(e),r=l=[d(c[0],"DiceTable")].concat(n),u=p(l[0],null,"Table"),s=[u].concat(r),u.$$prototype.times=u.$$prototype.sides=u.$$prototype.name=u.$$prototype.items=f,t.defs(u,"$from_i18n",a=function(t,e){var n=f;return n=m(s,"I18n").$t(t,b(["locale"],{locale:e})),this.$new(n["$[]"]("name"),n["$[]"]("type"),n["$[]"]("items"))},a.$$arity=2),t.def(u,"$initialize",$=function(t,e,n){var r=this,a=f;return r.name=t,r.items=n.$freeze(),a=/(\d+)D(\d+)/i.$match(e),y(a)||r.$raise(m(s,"ArgumentError"),"Unexpected table type: "+e),r.times=a["$[]"](1).$to_i(),r.sides=a["$[]"](2).$to_i()},$.$$arity=3),t.def(u,"$roll",i=function(t){var e,n=this;return e=t.$roll_sum(n.times,n.sides),n.$choice(e)},i.$$arity=1),void t.def(u,"$choice",o=function(t){var e,n=this;return e=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,n.times),m(s,"RollResult").$new(n.name,t,n.items["$[]"](e))},o.$$arity=1)},r=Opal,_=[],f=r.nil,m=r.$$$,d=r.$$,p=r.module,b=r.klass,y=r.truthy,T=r.hash2,r.top.$require("bcdice/dice_table/table"),a=_,$=c=[p(_[0],"BCDice")].concat(a),i=l=[p(c[0],"GameSystem")].concat($),u=b(l[0],d(l,"Base"),"RyuTuber"),s=[u].concat(i),r.const_set(s[0],"ID","RyuTuber"),r.const_set(s[0],"NAME","\u30ea\u30e5\u30fc\u30c1\u30e5\u30fc\u30d0\u30fc\u3068\u3061\u3044\u3055\u306a\u5947\u8de1"),r.const_set(s[0],"SORT_KEY","\u308a\u3086\u3046\u3061\u3086\u3046\u306f\u3042\u3068\u3061\u3044\u3055\u306a\u304d\u305b\u304d"),r.const_set(s[0],"HELP_MESSAGE","\u25c6\u5224\u5b9a\n\u3000\u30fb\u5224\u5b9a\u3000nB6<=1\n\u3000\u3000\u203b\u3000n:\u30b5\u30a4\u30b3\u30ed\u306e\u6570\u3000\u4f8b\uff0912B6<=1\u3000\u30b5\u30a4\u30b3\u30ed\u306e\u657012\u500b\u306e\u5834\u5408\n\u3000\u30fb\u5224\u5b9a\u30eb\u30fc\u30eb\u3092\u8868\u793a\u3059\u308b\u3000RTB\n\u25c6\u8077\u696d\u3000\uff08\u30ab\u30c3\u30b3\u5185\u306f\u4f7f\u3048\u305d\u3046\u306a\u6280\u80fd\uff09\n\u3000\u30fb\u8077\u696d\u8868\u3000JT\n\u3000\u30fb\u5b66\u751f\u8868\u3000JST\n\u3000\u30fb\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3000JTPT\n\u3000\u30fb\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3000JOST\n\u3000\u30fb\u30a8\u30f3\u30bf\u30e1\u8077\u8868\u3000JET\n\u25c6\u8da3\u5473\u3000\uff08\u30ab\u30c3\u30b3\u5185\u306f\u4f7f\u3048\u305d\u3046\u306a\u6280\u80fd\uff09\n\u3000\u30fb\u8da3\u5473\u8868\u3000HT\n\u3000\u30fb\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3000HGT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A\u3000HIAT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B\u3000HIBT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A\u3000HOAT\n\u3000\u30fb\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B\u3000HOBT\n\u25c6\u5947\u8de1\u306e\u6f14\u76ee\u3092\u8868\u793a\u3059\u308b\n\u3000\u30fb\u5e78\u904b\u306e\u98a8\u304c\u5439\u3044\u3066\u3044\u308b MPW\n\u3000\u30fb\u56f0\u3063\u305f\u6642\u306f\u304a\u4e92\u3044\u69d8 MPT\n\u3000\u30fb\u60aa\u3044\u4e88\u611f\u306f\u7684\u4e2d\u3059\u308b MPF\n\u3000\u30fb\u3064\u3044\u3066\u3044\u3044\u5618\u3082\u3042\u308b MPL\n\u3000\u30fb\u79c1\u306b\u306f\u661f\u304c\u898b\u3048\u3066\u3044\u308b MPS\n\u3000\u30fb\u5fc3\u306f\u7adc\u3068\u5171\u306b\u3042\u308a MPD\n\u3000\u30fb\u4eba\u306f\u77f3\u57a3\u3001\u4eba\u306f\u57ce MPH\n"),r.def(u,"$eval_game_system_specific_command",o=function(t){var e,n=f;return y(e=this.$roll_tables(t,d(s,"TABLES")))?e:y(n=d(s,"TEXTS")["$[]"](t))?n.$chomp():f},o.$$arity=1),r.const_set(s[0],"TEXTS",T(["RTB","MPW","MPT","MPF","MPL","MPS","MPD","MPH"],{RTB:"\u5224\u5b9a\u30eb\u30fc\u30eb\u8868\u793a\n\u2460\u67a0\u4e3b\u304c\u5224\u5b9a\u5185\u5bb9\u3092\u5ba3\u8a00\u3001\u5224\u5b9a\u53c2\u52a0\u8005\u304c\u884c\u52d5\u5ba3\u8a00\n\u2461\u30b5\u30a4\u30b3\u30ed\u306f\u7adc\u306e\u5deb\u5973\u306a\u30896\u500b\u3001\u6280\u80fd\u30ec\u30d9\u30eb\u304b\u6307\u5b9a\u9b45\u529b\u306e\u5024\u500b\u3001\u5947\u8de1\u306e\u6f14\u76ee\u30921\u3064\u4ee5\u4e0a\u30af\u30ea\u30a2\u3067+6\u500b\u3001\u30b9\u30d1\u306e\u6d88\u8cbb\u6570\u500b\n\u2462\u632f\u3063\u305f\u30b5\u30a4\u30b3\u30ed\u306e\u300c1\u306e\u76ee\u300d\u306e\u6570\u304c\u76ee\u6a19\u5024\u4ee5\u4e0a\u306a\u3089\u83ef\u9e97\u306b\u6210\u529f\u3001\u76ee\u6a19\u5024\u672a\u6e80\u306a\u3089\u3061\u3087\u3063\u3068\u6b8b\u5ff5\u306a\u7d50\u679c\n",MPW:"\u5e78\u904b\u306e\u98a8\u304c\u5439\u3044\u3066\u3044\u308b\n\u5947\u8de1\u3000\u4ee5\u964d\u30b2\u30fc\u30e0\u7d42\u4e86\u307e\u3067\u3001\u30b5\u30a4\u30b3\u30ed+1\n\u2460\u5065\u6c17\u306b\u9811\u5f35\u308b\u59ff\u3092\u898b\u305b\u308b\u3002\n\u2461\u5831\u308f\u308c\u308b\u3053\u3068\u306f\u306a\u304f\u3001\u3055\u3089\u306b\u6700\u60aa\u306e\u5c55\u958b\u306b\u3002\n\u2462\u305d\u308c\u3067\u3082\u5065\u6c17\u306a\u3068\u3053\u308d\u3092\u898b\u305b\u308b\u3002\n",MPT:"\u56f0\u3063\u305f\u6642\u306f\u304a\u4e92\u3044\u69d8\n\u5947\u8de1\u3000\u305d\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u5224\u5b9a\u30b5\u30a4\u30b3\u30ed\u30921\u56de\u632f\u308a\u76f4\u3057\u3067\u304d\u308b\n\u2460\u3051\u3061\u306a\u69d8\u5b50\u3092\u898b\u305b\u308b\u3002\n\u2461\u56f0\u3063\u3066\u3044\u308b\u4eba\u306b\u65bd\u3057\u3092\u3059\u308b\u59ff\u3092\u898b\u3089\u308c\u308b\u3002\n\u2462\u7aae\u5730\u306b\u9665\u308b\u3002\n",MPF:"\u60aa\u3044\u4e88\u611f\u306f\u7684\u4e2d\u3059\u308b\n\u5947\u8de1\u30001\u5224\u5b9a\u3060\u3051\u3001\u30b5\u30a4\u30b3\u30ed+3\n\u2460\u72a0\u7272\u8005\u304c\u60aa\u3044\u5642\u3092\u8033\u306b\u3059\u308b\u3002\n\u2461\u72a0\u7272\u8005\u304c\u60aa\u3044\u5197\u8ac7\u3092\u8a00\u3046\u3002\n\u2462\u72a0\u7272\u8005\u304c\u60aa\u3044\u4e88\u611f\u306b\u5fc3\u3055\u3056\u3081\u304d\u3001\u8ab0\u304b\u306b\u60aa\u3044\u4e88\u611f\u3092\u8a71\u3059\u3002\n",MPL:"\u3064\u3044\u3066\u3044\u3044\u5618\u3082\u3042\u308b\n\u5947\u8de1\u3000\u3064\u3044\u305f\uff08\u3055\u3055\u3084\u304b\u306a\uff09\u5618\u304c\u672c\u5f53\u306b\u306a\u308b\u3000\u67a0\u4e3b\u5224\u65ad\u3067\u3044\u3064\u304b\u767a\u52d5\u3059\u308b\u3002\n\u2460\u5618\u3092\u8a00\u3046\u3002\n\u2461\u5618\u306b\u3088\u3063\u3066\u7aae\u5730\u306b\u7acb\u3064\u3002\n\u2462\u5618\u3092\u5618\u306b\u3057\u306a\u3044\u305f\u3081\u306b\u3042\u304c\u304f\u3002\n",MPS:"\u79c1\u306b\u306f\u661f\u304c\u898b\u3048\u3066\u3044\u308b\n\u5947\u8de1\u3000\u6307\u5b9a\u3057\u305f\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u6b21\u306e\u884c\u52d5\u304c\u308f\u304b\u308b\n\u2460\u5c11\u3057\u5148\u306e\u3053\u3068\u3092\u8a00\u3044\u5f53\u3066\u308b\u3002\n\u2461\u6c17\u5473\u304c\u60aa\u3044\u3068\u5642\u306b\u306a\u308b\u3002\n\u2462\u8a00\u3044\u5f53\u3066\u308b\u529b\u3092\u4eba\u9593\u89b3\u5bdf\u306b\u7528\u3044\u308b\u3002\n",MPD:"\u5fc3\u306f\u7adc\u3068\u5171\u306b\u3042\u308a\n\u5947\u8de1\u3000\u8d77\u3053\u308a\u3046\u308b\u4e0d\u5e78\u3092\u963b\u6b62\u3059\u308b\n\u2460\u5fc3\u6e05\u3044\u3072\u3068\u306b\u52a9\u3051\u3089\u308c\u308b\u3002\n\u2461\u81ea\u5206\u306e\u6027\u6839\u60aa\u3055\u3092\u60b2\u3057\u3080\u3002\n\u2462\u81ea\u5206\u306a\u308a\u306e\u3084\u308a\u65b9\u3067\u5fc3\u6e05\u3044\u884c\u3044\u3092\u3059\u308b\u3002\n",MPH:"\u4eba\u306f\u77f3\u57a3\u3001\u4eba\u306f\u57ce\n\u5947\u8de1\u3000\u611f\u5316\u3055\u308c\u305f\u5468\u308a\u306e\u4eba\u304c\u624b\u4f1d\u3046\u3088\u3046\u306b\u306a\u308b\n\u2460\u4eba\u3005\u306e\u4e0d\u5e78\u3092\u898b\u3066\u3001\u89aa\u5207\u306b\u3057\u3066\u3057\u307e\u3046\u3002\n\u2461\u3051\u306a\u3052\u306b\u9811\u5f35\u308b\u59ff\u3092\u898b\u3089\u308c\u308b\u3002\n\u2462\u898b\u3066\u3044\u305f\u4eba\u3005\u304c\u96c6\u307e\u3063\u3066\u304f\u308b\u3002\n"}).$freeze()),r.const_set(s[0],"TABLES",T(["JT","JST","JTPT","JOST","JET","HT","HGT","HIAT","HIBT","HOAT","HOBT"],{JT:m(d(s,"DiceTable"),"Table").$new("\u8077\u696d\u8868","1D6",["\u5b66\u751f\u8868\u3078","\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3078","\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868\u3078","\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3078","\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868\u3078","\u30a8\u30f3\u30bf\u30e1\u8077\u8868\u3078"]),JST:m(d(s,"DiceTable"),"Table").$new("\u5b66\u751f\u8868","1D6",["\u4e2d\u5b66\u751f\u3000\uff08\u30b2\u30fc\u30e0\u3000\u904b\u52d5\u3059\u308b\uff09","\u9ad8\u6821\u751f\uff08\u6587\u7cfb\uff09\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u6587\u7ae0\u3092\u66f8\u304f\uff09","\u9ad8\u6821\u751f\uff08\u7406\u7cfb\uff09\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09","\u5c02\u9580\u5b66\u6821\u751f\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u5927\u5b66\u751f\uff08\u6587\u7cfb\uff09\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u5916\u56fd\u8a9e\uff09","\u5927\u5b66\u751f\uff08\u7406\u7cfb\uff09\u3000\uff08\u3059\u3054\u3044\u6280\u8853\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09"]),JTPT:m(d(s,"DiceTable"),"Table").$new("\u6280\u8853\u30fb\u5c02\u9580\u8077\u8868","2D6",["\u52dd\u8ca0\u5e2b\u30fb\u5c71\u5e2b\u3000\uff08\u6d1e\u5bdf\u529b\u3000\u7cbe\u795e\u529b\uff09","\u6f01\u5e2b/\u731f\u5e2b\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u6599\u7406\u3059\u308b\uff09","\u5efa\u7bc9\u5bb6\u3001\u5927\u5de5\u3000\uff08\u8a2d\u8a08\u3059\u308b\u3000\u904b\u8ee2\u3059\u308b\uff09","\u6599\u7406\u4eba\u3000\uff08\u6599\u7406\u3059\u308b\u3000\u3082\u306e\u3065\u304f\u308a\uff09","\u8077\u4eba\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u4e01\u5be7\uff09","\u8fb2\u5bb6\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u80b2\u3066\u308b\uff09","\u533b\u7642\u30fb\u798f\u7949\u95a2\u4fc2\uff08\u533b\u5e2b\u3001\u85ac\u5264\u5e2b\u3001\u4ecb\u8b77\u8077\uff09\u3000\uff08\u6cbb\u3059\u3000\u79d1\u5b66\u306e\u77e5\u8b58\uff09","\u7f8e\u5bb9\u3001\u30b9\u30bf\u30a4\u30ea\u30b9\u30c8\u3000\uff08\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09","\u30d7\u30ed\u30b0\u30e9\u30de\u30fc\u3000\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u58eb\u696d\uff08\u7a0e\u7406\u58eb\u3001\u5f01\u8b77\u58eb\u3001\u884c\u653f\u66f8\u58eb\u7b49\uff09\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u4e8b\u52d9\u4ed5\u4e8b\uff09","\u7814\u7a76\u8005\u3000\uff08\u6559\u3048\u308b\u3000\u3059\u3054\u3044\u6280\u8853\uff09"]),JOST:m(d(s,"DiceTable"),"Table").$new("\u4e8b\u52d9\u30fb\u30b5\u30fc\u30d3\u30b9\u8077\u8868","2D6",["\u5b97\u6559\u95a2\u4fc2\uff08\u5deb\u5973\u3001\u50e7\u4fb6\u306a\u3069\uff09\u3000\uff08\u304a\u7948\u308a\u3059\u308b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u89b3\u5149\u3001\u65c5\u884c\u3000\uff08\u5916\u56fd\u8a9e\u3000\u5730\u5143\u77e5\u8b58\uff09","\u6559\u5e2b\u3001\u4fdd\u80b2\u58eb\u3000\uff08\u6559\u3048\u308b\u3000\u80b2\u3066\u308b\uff09","\u904b\u8ee2\u624b\u3001\u914d\u9054\u54e1\u3000\uff08\u904b\u8ee2\u3059\u308b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u81ea\u5b85\u8b66\u5099\u54e1\u3000\uff08\u30b2\u30fc\u30e0\u3000\u60f3\u50cf\u529b\uff09","\u30b5\u30e9\u30ea\u30fc\u30de\u30f3\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09","\u5e97\u54e1\u3000\uff08\u4e01\u5be7\u3000\u5546\u54c1\u77e5\u8b58\uff09","\u516c\u52d9\u54e1\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u5730\u5143\u77e5\u8b58\uff09","\u8b66\u5bdf\u3001\u81ea\u885b\u968a\u3001\u6d88\u9632\u58eb\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u6226\u3046\uff09","\u6295\u8cc7\u5bb6\u3001\u91d1\u878d\u696d\u3001\u4e0d\u52d5\u7523\u3000\uff08\u30d7\u30ec\u30bc\u30f3\u3059\u308b\u3000\u4e8b\u52d9\u4ed5\u4e8b\uff09","\u7d4c\u55b6\u8005\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u4ef2\u826f\u304f\u3059\u308b\uff09"]),JET:m(d(s,"DiceTable"),"Table").$new("\u30a8\u30f3\u30bf\u30e1\u8077\u8868","2D6",["\u30b2\u30fc\u30e0\u5236\u4f5c\u3000\uff08\u30d7\u30ed\u30b0\u30e9\u30e0\u3000\u3082\u306e\u3065\u304f\u308a\uff09","\u5199\u771f\u5bb6\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u7d75\u3092\u63cf\u304f\uff09","\u30c7\u30b6\u30a4\u30ca\u30fc\u3000\uff08\u8a2d\u8a08\u3059\u308b \u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u30e9\u30a4\u30bf\u30fc\u3000\uff08\u6587\u7ae0\u3092\u66f8\u304f\u3000\u60f3\u50cf\u529b\uff09","\u30a4\u30e9\u30b9\u30c8\u30ec\u30fc\u30bf\u30fc\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u5c02\u696d\u914d\u4fe1\u8005\u3000\uff08\u30d7\u30ec\u30bc\u30f3\u3059\u308b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u58f0\u512a\u3000\uff08\u58f0\u3092\u51fa\u3059\u3000\u6f14\u6280\u3059\u308b\uff09","\u30df\u30e5\u30fc\u30b8\u30b7\u30e3\u30f3\u3000\uff08\u58f0\u3092\u51fa\u3059\u3000\u97f3\u697d\uff09","\u30a2\u30a4\u30c9\u30eb\u30fb\u82b8\u80fd\u4eba\u3000\uff08\u6f14\u6280\u3059\u308b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u30d7\u30ed\u30b2\u30fc\u30de\u30fc\u3000\uff08\u30b2\u30fc\u30e0\u3000\u6226\u3046\uff09","\u30d7\u30ed\u30b9\u30dd\u30fc\u30c4\u9078\u624b\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u7cbe\u795e\u529b\uff09"]),HT:m(d(s,"DiceTable"),"Table").$new("\u8da3\u5473\u8868","1D6",["\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3078","\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A\u3078","\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B\u3078"]),HGT:m(d(s,"DiceTable"),"Table").$new("\u591a\u4eba\u6570\u3067\u3067\u304d\u308b\u8da3\u5473\u8868","1D6",["\u5bb6\u65cf\u30b5\u30fc\u30d3\u30b9\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u80b2\u3066\u308b\uff09","\u91ce\u7403\u30fb\u30d5\u30c3\u30c8\u30b5\u30eb\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u904b\u52d5\u3059\u308b\uff09","\u30dc\u30fc\u30c9\u30b2\u30fc\u30e0\uff0f\uff34\uff32\uff30\uff27\uff0f\u56f2\u7881\uff0f\u5c06\u68cb\u3000\uff08\u30b2\u30fc\u30e0\u3000\u60f3\u50cf\u3059\u308b\uff09","\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u3000\uff08\u5fcd\u8010\u529b\u3000\u30ab\u30ea\u30b9\u30de\uff09","\u30b5\u30d0\u30a4\u30d0\u30eb\u30b2\u30fc\u30e0\u3000\uff08\u6226\u3046\u3000\u96a0\u308c\u308b\uff09","\u30d0\u30f3\u30c9\u3000\uff08\u97f3\u697d\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09"]),HIAT:m(d(s,"DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868A","1D6",["\u5de5\u82b8\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u60f3\u50cf\u529b\uff09","\u7de8\u307f\u7269\u3000\uff08\u4e01\u5be7\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u9676\u82b8\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u60f3\u50cf\u529b\uff09","\u30d7\u30e9\u30e2\u3000\uff08\u3082\u306e\u3065\u304f\u308a\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09","\u540c\u4eba\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u6587\u7ae0\u3092\u66f8\u304f\uff09","\u8aad\u66f8\u3000\uff08\u5916\u56fd\u8a9e\u3000\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\uff09"]),HIBT:m(d(s,"DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a4\u30f3\u30c9\u30a2\u8da3\u5473\u8868B","1D6",["\u4ed5\u4e8b\u3000\uff08\u4e8b\u52d9\u4ed5\u4e8b\u3000\u5fcd\u8010\u529b\uff09","\u8cc7\u683c\u96c6\u3081\u3000\uff08\u793e\u4f1a\u306e\u4ed5\u7d44\u307f\u3000\u5546\u54c1\u77e5\u8b58\uff09","\u304a\u7d75\u304b\u304d\u3000\uff08\u7d75\u3092\u63cf\u304f\u3000\u60f3\u50cf\u529b\uff09","\u6599\u7406\u3000\uff08\u6599\u7406\u3059\u308b\u3000\u8a2d\u8a08\u3059\u308b\uff09","\u7b4b\u30c8\u30ec\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u5fcd\u8010\u529b\uff09","\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u30b2\u30fc\u30e0\u3000\uff08\u30b2\u30fc\u30e0\u3000\u30d7\u30ed\u30b0\u30e9\u30e0\uff09"]),HOAT:m(d(s,"DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868A","1D6",["\u30b9\u30dd\u30fc\u30c4\u89b3\u6226\u3000\uff08\u5fcd\u8010\u529b\u3000\u304a\u7948\u308a\u3059\u308b\uff09","\u6c34\u6cf3\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u6cf3\u3050\uff09","\u65c5\u884c\uff0f\u9244\u9053\u3000\uff08\u79fb\u52d5\u3059\u308b\u3000\u5916\u56fd\u8a9e\uff09","\u5199\u771f\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u60f3\u50cf\u529b\uff09","\u30b8\u30b0\u30bd\u30fc\u30d1\u30ba\u30eb\u3000\uff08\u30b2\u30fc\u30e0\u3000\u5fcd\u8010\u529b\uff09","\u30de\u30e9\u30bd\u30f3\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u5fcd\u8010\u529b\uff09"]),HOBT:m(d(s,"DiceTable"),"Table").$new("\u4e00\u4eba\u3067\u3067\u304d\u308b\u30a2\u30a6\u30c8\u30c9\u30a2\u8da3\u5473\u8868B","1D6",["\u30b9\u30ad\u30fc\u30fb\u30b9\u30ce\u30fc\u30dc\u30fc\u30c9\u3000\uff08\u904b\u52d5\u3059\u308b\u3000\u81ea\u7136\u306e\u77e5\u8b58\uff09","\u81ea\u8ee2\u8eca\u3000\uff08\u79fb\u52d5\u3059\u308b\u3000\u904b\u52d5\u3059\u308b\uff09","\u76c6\u683d\u30fb\u751f\u82b1\u3000\uff08\u4e01\u5be7\u3000\u80b2\u3066\u308b\uff09","\u30ad\u30e3\u30f3\u30d7\u3000\uff08\u81ea\u7136\u306e\u77e5\u8b58\u3000\u7cbe\u795e\u529b\uff09","\u6620\u753b\u9451\u8cde\u3000\uff08\u6f14\u6280\u3059\u308b\u3000\u60f3\u50cf\u529b\uff09","\u604b\u611b\u3000\uff08\u4ef2\u826f\u304f\u3059\u308b\u3000\u898b\u305f\u76ee\u3092\u6574\u3048\u308b\uff09"])}).$freeze()),u.$register_prefix(function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(d(s,"TEXTS").$keys(),d(s,"TABLES").$keys()))},95439:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D=[],g=t.nil,E=t.$$,R=t.module,A=t.klass,v=t.send2,B=t.truthy;r=D,a=S=[R(D[0],"BCDice")].concat(r),$=h=[R(S[0],"GameSystem")].concat(a),y=A(h[0],E(h,"Base"),"Ryutama"),T=[y].concat($),y.$$prototype.validDiceTypes=y.$$prototype.randomizer=g,t.const_set(T[0],"ID","Ryutama"),t.const_set(T[0],"NAME","\u308a\u3085\u3046\u305f\u307e"),t.const_set(T[0],"SORT_KEY","\u308a\u3086\u3046\u305f\u307e"),t.const_set(T[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n\u3000Rx,y>=t\uff08x,y\uff1a\u4f7f\u7528\u3059\u308b\u80fd\u529b\u5024\u3001t\uff1a\u76ee\u6a19\u5024\uff09\n\u30001\u30be\u30ed\u3001\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3082\u542b\u3081\u3066\u5224\u5b9a\u7d50\u679c\u3092\u8868\u793a\u3057\u307e\u3059\n\u3000\u80fd\u529b\u5024\uff11\u3064\u3067\u306e\u5224\u5b9a\u306f Rx>=t \u3067\u884c\u3048\u307e\u3059\n\u4f8b\uff09R8,6>=13\n"),y.$register_prefix("R"),t.def(y,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),v(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.validDiceTypes=[20,12,10,8,6,4,2]},i.$$arity=1),t.def(y,"$eval_game_system_specific_command",o=function(n){var r,a,$=this,i=g,o=g,u=g,s=g,l=g,c=g,_=g,f=g,m=g,d=g,p=g,b=g,y=g;return $.$debug("eval_game_system_specific_command begin"),B(n["$=~"](/^R(\d+)(,(\d+))?([+\-\d]+)?(>=(\d+))?/))?($.$debug("matched"),i=E(T,"Regexp").$last_match(1).$to_i(),o=E(T,"Regexp").$last_match(3).$to_i(),u=E(T,"Regexp").$last_match(4),s=E(T,"Regexp").$last_match(6),a=$.$getDiceType(i,o),o=null==(r=t.to_ary(a))[1]?g:r[1],(i=null==r[0]?g:r[0])["$=="](0)?"":(u=B(l=u)?l:"",c=E(T,"ArithmeticEvaluator").$eval(u),s=$.$getDiffculty(s),m=e(e(_=$.$getRollValue(i),f=$.$getRollValue(o)),c),d=$.$getResultText(_,f,i,o,s,m),B(d["$empty?"]())||(d=" \uff1e "+d),p=_+"("+i+")",b=f["$=="](0)?"":"+"+f+"("+o+")",y=$.$getModifyString(c),"("+$.$getBaseText(i,o,c,s)+") \uff1e "+p+b+y+" \uff1e "+m+d)):($.$debug("unmatched!"),"")},o.$$arity=1),t.def(y,"$getDiceType",u=function(t,e){var r=this,a=g;return r.$debug("getDiceType begin"),B(e["$!="](0))?B(r.$isValidDiceOne(t))?[t,e]:[0,0]:B(r.$isValidDice(t,e))?[t,e]:(t=n(a=t,10).$to_i(),e=a["$%"](10),B(r.$isValidDice(t,e))?[t,e]:(t=n(a,100).$to_i(),e=a["$%"](100),B(r.$isValidDice(t,e))?[t,e]:B(r.$isValidDiceOne(a))?[a,0]:[0,0]))},u.$$arity=2),t.def(y,"$isValidDice",s=function(t,e){var n;return B(n=this.$isValidDiceOne(t))?this.$isValidDiceOne(e):n},s.$$arity=2),t.def(y,"$isValidDiceOne",l=function(t){return this.validDiceTypes["$include?"](t)},l.$$arity=1),t.def(y,"$getDiffculty",c=function(t){return B(t["$nil?"]())||(t=t.$to_i()),t},c.$$arity=1),t.def(y,"$getRollValue",_=function(t){return t["$=="](0)?0:this.randomizer.$roll_once(t)},_.$$arity=1),t.def(y,"$getResultText",f=function(t,e,n,r,a,$){return B(this.$isFamble(t,e))?"\uff11\u30be\u30ed\u3010\uff11\u30be\u30ed\u30dd\u30a4\u30f3\u30c8\uff0b\uff11\u3011":B(this.$isCritical(t,e,n,r))?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6210\u529f":B(a["$nil?"]())?"":B(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}($,a))?"\u6210\u529f":"\u5931\u6557"},f.$$arity=6),t.def(y,"$isFamble",m=function(t,e){var n;return B(n=t["$=="](1))?e["$=="](1):n},m.$$arity=2),t.def(y,"$isCritical",d=function(t,e,n,r){var a=g,$=g;return!(e["$=="](0)||!B(B(a=t["$=="](6))?e["$=="](6):a)&&!B(B($=t["$=="](n))?e["$=="](r):$))},d.$$arity=4),t.def(y,"$getBaseText",p=function(t,n,r,a){var $=g;return $="R"+t,B(n["$!="](0))&&($=e($,","+n)),$=e($,this.$getModifyString(r)),B(a["$nil?"]())||($=e($,">="+a)),$},p.$$arity=4),t.def(y,"$getModifyString",b=function(t){return B("number"==typeof(n=t)?n>0:n["$>"](0))?e("+",t.$to_s()):B(function(t,e){return"number"==typeof t?t<0:t["$<"](0)}(t))?t.$to_s():"";var n},b.$$arity=1)}(Opal)},83597:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),f=(r=Opal).$$,d=r.klass,p=r.send2,a=_=[],$=c=[(m=r.module)(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"Base"),"ShadowRun")].concat(i),r.const_set(s[0],"ID","ShadowRun"),r.const_set(s[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3"),r.const_set(s[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u3093"),r.const_set(s[0],"HELP_MESSAGE","\u4e0a\u65b9\u7121\u9650\u30ed\u30fc\u30eb(xUn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n"),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0,e.sort_barabara_dice=!0,e.upper_dice_reroll_threshold=6},o.$$arity=1)},50054:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T;n(93683),r=Opal,m=r.nil,d=r.$$,b=r.klass,y=r.send2,T=r.truthy,a=f=[],$=_=[(p=r.module)(f[0],"BCDice")].concat(a),i=c=[p(_[0],"GameSystem")].concat($),l=[s=b(c[0],d(c,"Base"),"ShadowRun4")].concat(i),r.const_set(l[0],"ID","ShadowRun4"),r.const_set(l[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 4th Edition"),r.const_set(l[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30934"),r.const_set(l[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),r.def(s,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),y(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0,e.sort_barabara_dice=!0,e.reroll_dice_reroll_threshold=6,e.default_cmp_op=">=",e.default_target_number=5},o.$$arity=1),r.def(s,"$grich_text",u=function(t,e,n){var r,a;return r="number"==typeof(a=function(t,e){return"number"==typeof e?1*e:1["$*"](e)}(0,e))?a/2:a["$/"](2),this.$debug("dice_cnt_total_half",r),T(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,r))?n["$=="](0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":m},u.$$arity=3)},74622:function(t,e,n){n(93683),Opal.modules["bcdice/game_system/ShadowRun4"]=function(t){var e,n,r,a,$,i,o,u,s,l=[],c=t.nil,_=t.$$,f=t.module,m=t.klass,d=t.send2,p=t.truthy;return e=l,n=s=[f(l[0],"BCDice")].concat(e),r=u=[f(s[0],"GameSystem")].concat(n),o=[i=m(u[0],_(u,"Base"),"ShadowRun4")].concat(r),t.const_set(o[0],"ID","ShadowRun4"),t.const_set(o[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 4th Edition"),t.const_set(o[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30934"),t.const_set(o[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),t.def(i,"$initialize",a=function(e){var n=this;return a.$$p&&(a.$$p=null),d(n,t.find_super_dispatcher(n,"initialize",a,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.reroll_dice_reroll_threshold=6,n.default_cmp_op=">=",n.default_target_number=5},a.$$arity=1),void t.def(i,"$grich_text",$=function(t,e,n){var r,a;return r="number"==typeof(a=function(t,e){return"number"==typeof e?1*e:1["$*"](e)}(0,e))?a/2:a["$/"](2),this.$debug("dice_cnt_total_half",r),p(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,r))?n["$=="](0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":c},$.$$arity=3)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$$,d=t.$$,p=t.module,b=t.klass,y=t.send2,T=t.truthy;t.top.$require("bcdice/game_system/ShadowRun4"),n=_,r=c=[p(_[0],"BCDice")].concat(n),a=l=[p(c[0],"GameSystem")].concat(r),u=b(l[0],d(l,"ShadowRun4"),"ShadowRun5"),s=[u].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","ShadowRun5"),t.const_set(s[0],"NAME","\u30b7\u30e3\u30c9\u30a6\u30e9\u30f3 5th Edition"),t.const_set(s[0],"SORT_KEY","\u3057\u3084\u3068\u3046\u3089\u30935"),t.const_set(s[0],"HELP_MESSAGE","\u500b\u6570\u632f\u308a\u8db3\u3057\u30ed\u30fc\u30eb(xRn)\u306e\u5883\u754c\u5024\u30926\u306b\u30bb\u30c3\u30c8\u3001\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u76ee\u6a19\u5024\u30925\u4ee5\u4e0a\u306b\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002\n\u30d0\u30e9\u30d0\u30e9\u30ed\u30fc\u30eb(xBn)\u306e\u307f\u3001\u30ea\u30df\u30c3\u30c8\u3092\u30bb\u30c3\u30c8\u3067\u304d\u307e\u3059\u3002\u30ea\u30df\u30c3\u30c8\u306e\u6307\u5b9a\u306f(xBn@l)\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\u3002(\u7701\u7565\u53ef)\nB\u30b3\u30de\u30f3\u30c9\u3068R\u30b3\u30de\u30f3\u30c9\u6642\u306b\u3001\u30b0\u30ea\u30c3\u30c1\u306e\u8868\u793a\u3092\u884c\u3044\u307e\u3059\u3002\n"),u.$register_prefix("(\\d+)B6@(\\d+)"),t.def(u,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),y(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.sort_barabara_dice=!0,n.reroll_dice_reroll_threshold=6,n.default_cmp_op=">=",n.default_target_number=5},$.$$arity=1),t.def(u,"$eval_game_system_specific_command",i=function(t){var n,r,a,$=this,i=f,o=f,u=f,l=f,c=f,_=f;return $.$debug("chatch limit prefix"),n=(i=/(\d+B6)@(\d+)/.$match(t))["$[]"](1),r=i["$[]"](2).$to_i(),u=o=m(m(d(s,"BCDice"),"CommonCommand"),"BarabaraDice").$eval(n,$,$.randomizer).$text(),a=(i=/\u6210\u529f\u6570(\d+)/.$match(o))["$[]"](1).$to_i(),T(e(a,r))&&(l=r,c=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(a,r),u=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(u=o.$gsub(/\u6210\u529f\u6570(\d+)/,"\u6210\u529f\u6570"+l),"(\u30ea\u30df\u30c3\u30c8\u8d85\u904e"+c+")")),_=(_=(_=u).$gsub("B","B6")).$gsub("6>=5","[6]Limit["+r+"]>=5"),$.$debug(_),_},i.$$arity=1),t.def(u,"$grich_text",o=function(t,n,r){var a,$;return a="number"==typeof($=n.$to_f())?$/2:$["$/"](2),this.$debug("dice_cnt_total_half",a),T(e(t,a))?r["$=="](0)?"\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b0\u30ea\u30c3\u30c1":"\u30b0\u30ea\u30c3\u30c1":f},o.$$arity=3)}(Opal)},62104:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y;n(93683),r=Opal,m=r.nil,d=r.$$,b=r.klass,y=r.truthy,a=f=[],$=_=[(p=r.module)(f[0],"BCDice")].concat(a),i=c=[p(_[0],"GameSystem")].concat($),s=b(c[0],d(c,"Base"),"SharedFantasia"),l=[s].concat(i),r.const_set(l[0],"ID","SharedFantasia"),r.const_set(l[0],"NAME","Shared\u2020Fantasia"),r.const_set(l[0],"SORT_KEY","\u3057\u3048\u3042\u3042\u3068\u3075\u3042\u3093\u305f\u3057\u3042"),r.const_set(l[0],"HELP_MESSAGE","2D6\u306e\u6210\u529f\u5224\u5b9a\u306b \u81ea\u52d5\u6210\u529f\u3001\u81ea\u52d5\u5931\u6557\u3001\u81f4\u547d\u7684\u5931\u6557\u3001\u5287\u7684\u6210\u529f \u306e\u5224\u5b9a\u304c\u3042\u308a\u307e\u3059\u3002\n\nSF/ST = 2D6\u306e\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\n\n\u4f8b) SF+4>=9 : 2D6\u3057\u30664\u3092\u8db3\u3057\u305f\u5024\u304c9\u4ee5\u4e0a\u306a\u3089\u6210\u529f\n"),s.$register_prefix("SF","ST"),r.def(s,"$change_text",o=function(t){return t.$gsub(/S[FT]/i,"2D6")},o.$$arity=1),r.def(s,"$result_2d6",u=function(t,e,n,r,a){var $=m,i=m,o=m;return a["$=="]("?")?d(l,"Result").$nothing():y([">=",">"]["$include?"](r))?($=!1,i=!1,e["$=="](12)?$=!0:e["$=="](2)&&(i=!0),o=r["$=="](">=")?1:0,y(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(t,o),a))?y($)?d(l,"Result").$critical("\u81ea\u52d5\u6210\u529f(\u5287\u7684\u6210\u529f)"):y(i)?d(l,"Result").$failure("\u81ea\u52d5\u5931\u6557"):d(l,"Result").$success("\u6210\u529f"):y($)?d(l,"Result").$success("\u81ea\u52d5\u6210\u529f"):y(i)?d(l,"Result").$fumble("\u81ea\u52d5\u5931\u6557(\u81f4\u547d\u7684\u5931\u6557)"):d(l,"Result").$failure("\u5931\u6557")):m},u.$$arity=5)},20348:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$,T=t.module,h=t.klass,S=t.truthy;r=p,a=d=[T(p[0],"BCDice")].concat(r),$=m=[T(d[0],"GameSystem")].concat(a),f=[_=h(m[0],y(m,"Base"),"ShinMegamiTenseiKakuseihen")].concat($),t.const_set(f[0],"ID","ShinMegamiTenseiKakuseihen"),t.const_set(f[0],"NAME","\u771f\u30fb\u5973\u795e\u8ee2\u751fTRPG \u899a\u9192\u7bc7"),t.const_set(f[0],"SORT_KEY","\u3057\u3093\u3081\u304b\u307f\u3066\u3093\u305b\u3044TRPG\u304b\u304f\u305b\u3044\u3078\u3093"),t.const_set(f[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\n1D100<=(\u76ee\u6a19\u5024) \u3067\u30b9\u30ef\u30c3\u30d7\u30fb\u901a\u5e38\u30fb\u9006\u30b9\u30ef\u30c3\u30d7\u5224\u5b9a\u3092\u5224\u5b9a\u3002\n\u5a01\u529b\u30c0\u30a4\u30b9\u306f nU6[6] (n\u306f\u30c0\u30a4\u30b9\u500b\u6570)\u3067\u30ed\u30fc\u30eb\u53ef\u80fd\u3067\u3059\u3002\n"),t.def(_,"$check_1D100",i=function(r,a,$,i){var o,u,s=this,l=b,c=b,_=b,f=b,m=b,d=b;return i["$=="]("?")||!$["$=="]("<=")?"":(u=s.$split_tens(a),c=null==(o=t.to_ary(u))[1]?b:o[1],_=e(n(l=null==o[0]?b:o[0],10),c),f=e(n(c,10),l),m=l["$=="](c),d=e(d=" \uff1e \u30b9\u30ef\u30c3\u30d7",s.$getCheckResultText(i,[_,f].$min(),m)),d=e(d,"\uff0f\u901a\u5e38"),d=e(d,s.$getCheckResultText(i,r["$%"](100),m)),d=e(d,"\uff0f\u9006\u30b9\u30ef\u30c3\u30d7"),d=e(d,s.$getCheckResultText(i,[_,f].$max(),m)))},i.$$arity=4),t.def(_,"$split_tens",o=function(t){return[(e=t=t["$%"](100),"number"==typeof e?e/10:e["$/"](10)).$to_i(),t["$%"](10)];var e},o.$$arity=1),t.def(_,"$getCheckResultText",u=function(t,n,r){var a;return a=this.$getCheckResult(t,n,r),e(this.$format("(%02d)",n),a)},u.$$arity=3),t.def(_,"$getCheckResult",s=function(t,e,n){return S(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,e))?this.$getSuccessResult(n):this.$getFailResult(n)},s.$$arity=3),t.def(_,"$getSuccessResult",l=function(t){return S(t)?"\u7d76\u5bfe\u6210\u529f":"\u6210\u529f"},l.$$arity=1),t.def(_,"$getFailResult",c=function(t){return S(t)?"\u7d76\u5bfe\u5931\u6557":"\u5931\u6557"},c.$$arity=1)}(Opal)},96196:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h=[],S=t.nil,D=t.$$$,g=t.$$,E=t.module,R=t.klass,A=t.hash2,v=t.send2,B=t.truthy,x=t.hash,C=t.send,M=t.range;r=h,a=T=[E(h[0],"BCDice")].concat(r),$=y=[E(T[0],"GameSystem")].concat(a),p=R(y[0],g(y,"Base"),"SkynautsBouken"),b=[p].concat($),p.$$prototype.randomizer=S,t.const_set(b[0],"ID","SkynautsBouken"),t.const_set(b[0],"NAME","\u6b6f\u8eca\u306e\u5854\u306e\u63a2\u7a7a\u58eb\uff08\u5192\u967a\u4f01\u753b\u5c40\uff09"),t.const_set(b[0],"SORT_KEY","\u306f\u304f\u308b\u307e\u306e\u3068\u3046\u306e\u3059\u304b\u3044\u306e\u304a\u30642"),t.const_set(b[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\uff08nSNt#f\uff09 n:\u30c0\u30a4\u30b9\u6570(\u7701\u7565\u66422)\u3001t:\u76ee\u6a19\u5024(\u7701\u7565\u66427)\u3001f:\u30d5\u30a1\u30f3\u30d6\u30eb\u5024(\u7701\u7565\u66421)\n    \u4f8b\uff09SN6#2\u30003SN\n\u30fb\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af (Dx/y@m) x:\u30c0\u30e1\u30fc\u30b8\u7bc4\u56f2\u3001y:\u653b\u6483\u56de\u6570\n\u3000\u3000m:\u300a\u5f3e\u9053\u5b66\u300b\uff08\u7701\u7565\u53ef\uff09\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\n\u3000\u3000\u4f8b\uff09 D/4\u3000D19/2\u3000D/3@8\u3000D[\u5927\u63fa\u308c]/2\n\u30fb\u56de\u907f(AVO@m\u30c0\u30e1\u30fc\u30b8)\n\u3000\u3000m:\u56de\u907f\u65b9\u5411\uff08\u4e0a:8\u3001\u4e0b:2\u3001\u5de6:4\u3001\u53f3:6\uff09\u3001\u30c0\u30e1\u30fc\u30b8\uff1a\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u7d50\u679c\n\u3000\u3000\u4f8b\uff09AVO@8[1,4],[2,6],[3,8]\u3000AVO@2[6,4],[2,6]\n\u30fbFT \u30d5\u30a1\u30f3\u30d6\u30eb\u8868(p76)\n\u30fbNV \u822a\u884c\u8868\n\n\u25a0 \u5224\u5b9a\u30bb\u30c3\u30c8\n\u30fb\u300a\u56de\u907f\u904b\u52d5\u300b\u5224\u5b9a+\u56de\u907f\uff08nSNt#f/AVO@\u30c0\u30e1\u30fc\u30b8\uff09\n\u3000\u3000nSNt#f \u2192 \u6210\u529f\u306a\u3089 AVO@m\n\u3000\u3000\u4f8b\uff09SN/AVO@8[1,4],[2,6],[3,8]\u30003SN#2/AVO@2[6,4],[2,6]\n\u30fb\u7832\u6483\u5224\u5b9a+\u30c0\u30e1\u30fc\u30b8\u30c1\u30a7\u30c3\u30af\u3000(nSNt#f/Dx/y@m)\n\u3000\u3000\u884c\u70ba\u5224\u5b9a\u306e\u51fa\u76ee\u5909\u66f4\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u9003\u3059\u306e\u3067\u8981GM\u306e\u8a31\u53ef\n\u3000\u3000nSNt#f \u2192 \u6210\u529f\u306a\u3089 Dx/y@m\n\u3000\u3000\u4f8b\uff09SN/D/4\u30003SN#2/D[\u5927\u63fa\u308c]/2\n"),t.const_set(b[0],"TABLES",A(["FT","NV"],{FT:D(g(b,"DiceTable"),"Table").$new("\u30d5\u30a1\u30f3\u30d6\u30eb\u8868","1D6",["\u306a\u3093\u3068\u304b\u5927\u4e8b\u306b\u306f\u3044\u305f\u3089\u306a\u304b\u3063\u305f\u3002\u901a\u5e38\u306e\u5931\u6557\u3068\u540c\u69d8\u306e\u51e6\u7406\u3092\u884c\u3046\u3053\u3068\u3002","\u8ee2\u3093\u3067\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306f[\u8ee2\u5012](p107)\u3059\u308b\u3002","\u5931\u6557\u306b\u30a4\u30e9\u30a4\u30e9\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306f\u7372\u5f97\u3057\u3066\u3044\u308b\u3010\u30ad\u30ba\u30ca\u30111\u3064\u306e\u300c\u652f\u63f4\u30c1\u30a7\u30c3\u30af\u300d\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u308b\u3002","\u81ea\u8eab\u306e\u3044\u308b\u30de\u30b9\u3092[\u7834\u640d](p104)\u3055\u305b\u308b\u3002\u3053\u306e[\u7834\u640d]\u306b\u3088\u3063\u3066\u3001\u30ad\u30df\u306e\u3010\u751f\u547d\u70b9\u3011\u306f\u6e1b\u5c11\u3057\u306a\u3044\u3002","\u982d\u3092\u3076\u3064\u3051\u3066\u3057\u307e\u3063\u305f\u3002\u30ad\u30df\u306e\u3010\u751f\u547d\u70b9\u3011\u3092\u300c1d6\u70b9\u300d\u6e1b\u5c11\u3059\u308b\u3002","\u5947\u8de1\u7684\u306a\u7d50\u679c\u3002 \u3053\u306e\u884c\u70ba\u5224\u5b9a\u306f\u6210\u529f\u3068\u306a\u308b\u3002"]),NV:D(g(b,"DiceTable"),"Table").$new("\u822a\u6d77\u8868","1d6",["\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c81\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c82\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c82\u3064\u5206\u9032\u3080","\u30b9\u30dd\u30c3\u30c83\u3064\u5206\u9032\u3080"])}).$freeze()),p.$register_prefix("D","\\d?SN","NV","FT","AVO"),t.def(p,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),v(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.round_type=D(g(b,"RoundType"),"FLOOR")},i.$$arity=1),t.def(p,"$eval_game_system_specific_command",o=function(t){var e,n,r,a,$,i=this;return B(e=B(n=B(r=B(a=B($=i.$command_sn(t))?$:i.$command_d(t))?a:i.$command_avo(t))?r:i.$command_snavo(t))?n:i.$command_snd(t))?e:i.$roll_tables(t,g(b,"TABLES"))},o.$$arity=1),p.$private(),t.const_set(b[0],"DIRECTION_INFOS",x(0,A(["name","position_diff"],{name:"",position_diff:[0,0]}),1,A(["name","position_diff"],{name:"\u5de6\u4e0b",position_diff:[-1,1]}),2,A(["name","position_diff"],{name:"\u4e0b",position_diff:[0,1]}),3,A(["name","position_diff"],{name:"\u53f3\u4e0b",position_diff:[1,1]}),4,A(["name","position_diff"],{name:"\u5de6",position_diff:[-1,0]}),5,A(["name","position_diff"],{name:"",position_diff:[0,0]}),6,A(["name","position_diff"],{name:"\u53f3",position_diff:[1,0]}),7,A(["name","position_diff"],{name:"\u5de6\u4e0a",position_diff:[-1,-1]}),8,A(["name","position_diff"],{name:"\u4e0a",position_diff:[0,-1]}),9,A(["name","position_diff"],{name:"\u53f3\u4e0a",position_diff:[1,-1]})).$freeze()),t.const_set(b[0],"D_REGEXP",/^D([1-46-9]{0,8})(\[.+\]|S|F|SF|FS)?\/(\d{1,2})(@([2468]))?$/.$freeze()),t.def(p,"$command_sn",u=function(r){var a,$,i=this,o=S,u=S,s=S,l=S,c=S,_=S,f=S,m=S;return i.$debug("SN",r),o=D(g(b,"Command"),"Parser").$new(/[1-9]?SN(\d{0,2})/,A(["round_type"],{round_type:i.$round_type()})).$restrict_cmp_op_to(S).$enable_fumble().$parse(r),B(o)?($=C(o.$command().$split("SN",2),"map",[],"to_i".$to_proc()),s=null==(a=t.to_ary($))[1]?S:a[1],(u=null==a[0]?S:a[0])["$=="](0)&&(u=2),s["$=="](0)&&(s=7),l=B(o.$fumble()["$nil?"]())?1:o.$fumble(),i.$debug("SN Parsed",u,s,l),f=(_=(c=i.randomizer.$roll_barabara(u,6)).$sort()["$[]"](M(-2,-1,!1)))["$=="]([6,6])?g(b,"Result").$critical("\u30b9\u30da\u30b7\u30e3\u30eb\uff08\u3010\u751f\u547d\u70b9\u30111d6\u56de\u5fa9\uff09"):B(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(c.$max(),l))?g(b,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb\uff08\u30d5\u30a1\u30f3\u30d6\u30eb\u8868FT\uff09"):B(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(_.$sum(),s))?g(b,"Result").$success("\u6210\u529f"):g(b,"Result").$failure("\u5931\u6557"),u["$=="](2)?(m=[["("+u+"SN"+s+"#"+l+")",_.$sum()+"["+c.$join(",")+"]",f.$text()].$compact().$join(" \uff1e ")],C(f,"text=",t.to_a(m)),e(m.length,1)):(m=[["("+u+"SN"+s+"#"+l+")",n(n("[",c.$join(",")),"]"),_.$sum()+"["+_.$join(",")+"]",f.$text()].$compact().$join(" \uff1e ")],C(f,"text=",t.to_a(m)),e(m.length,1)),f):S},u.$$arity=1),t.def(p,"$command_d",s=function(r){var a,$,i=this,o=S,u=S,s=S,l=S,c=S,_=S,f=S,m=S,d=S,p=S;return o=g(b,"D_REGEXP").$match(r),B(o)?(u=o["$[]"](3).$to_i(),s=o["$[]"](1).$to_s(),l=o["$[]"](5).$to_i(),c=i.$get_fire_points(u,s),_=["("+(r=r.$sub("SF/","[\u5927\u63fa\u308c,\u706b\u707d]/").$sub("FS/","[\u706b\u707d,\u5927\u63fa\u308c]/").$sub("F/","[\u706b\u707d]/").$sub("S/","[\u5927\u63fa\u308c]/"))+")",i.$get_points_text(c,0,0)],B(l["$!="](0))&&($=(f=g(b,"DIRECTION_INFOS")["$[]"](l))["$[]"]("position_diff"),m=null==(a=t.to_ary($))[0]?S:a[0],d=null==a[1]?S:a[1],p=[-1,n(_["$[]"](-1),"\n")],C(_,"[]=",t.to_a(p)),e(p.length,1),_["$<<"]("\u300a\u5f3e\u9053\u5b66\u300b"+f["$[]"]("name")),_["$<<"](i.$get_points_text(c,m,d))),_.$compact().$join(" \uff1e ")):S},s.$$arity=1),t.def(p,"$command_avo",l=function(e){var r,a,$,i=S,o=S,u=S,s=S;return this.$debug("AVO",e),i=e.$match(/^AVO@([2468])(.*?)$/),B(i)?(a=(o=g(b,"DIRECTION_INFOS")["$[]"](i["$[]"](1).$to_i()))["$[]"]("position_diff"),r=t.to_ary(a),u=null==r[0]?S:r[0],s=null==r[1]?S:r[1],n("\u300a\u56de\u907f\u904b\u52d5\u300b"+o["$[]"]("name")+" \uff1e ",C(i["$[]"](2),"gsub",[/\(?\[(\d),(\d{1,2})\]\)?/],(($=function(){var t,e,r=null==$.$$s?this:$.$$s;return t=n(g(b,"Regexp").$last_match(1).$to_i(),s),e=n(g(b,"Regexp").$last_match(2).$to_i(),u),r.$get_xy_text(e,t)}).$$s=this,$.$$arity=0,$)))):S},l.$$arity=1),t.def(p,"$command_snavo",c=function(r){var a,$,i,o,u,s=this,l=S,c=S;return $=r.$split(/\/?AVO/,2),a=t.to_ary($),s.$debug("SNAVO",i=null==a[0]?S:a[0],o=null==a[1]?S:a[1]),u=/^@([2468])(.*?)$/.$match(o),B(u)&&(l=s.$command_sn(i),B(l))?(B(l["$success?"]())&&(c=[n(l.$text(),n("\n \uff1e ",s.$command_avo(n("AVO",o))))],C(l,"text=",t.to_a(c)),e(c.length,1)),l):S},c.$$arity=1),t.def(p,"$command_snd",_=function(r){var a,$,i,o,u,s=this,l=S,c=S;return $=r.$split(/\/?D/,2),a=t.to_ary($),s.$debug("SND",i=null==a[0]?S:a[0],o=null==a[1]?S:a[1]),u=g(b,"D_REGEXP").$match("D"+o),B(u)&&(l=s.$command_sn(i),B(l))?(B(l["$success?"]())&&(c=[n(l.$text(),"\n \uff1e "+s.$command_d(n("D",o)))],C(l,"text=",t.to_a(c)),e(c.length,1)),l):S},_.$$arity=1),t.def(p,"$get_points_text",f=function(t,e,r){var a;return n("[\u7e26,\u6a2a]=",C(t,"map",[],(a=function(t){var $;return null==t&&(t=S),C(t,"map",[],($=function(t,a){return null==t&&(t=S),null==a&&(a=S),(null==$.$$s?this:$.$$s).$get_xy_text(n(t,e),n(a,r))},$.$$s=null==a.$$s?this:a.$$s,$.$$arity=2,$)).$join()},a.$$s=this,a.$$arity=1,a)).$join(","))},f.$$arity=3),t.def(p,"$get_xy_text",m=function(t,e){var n;return B(B(n=M(2,12,!1)["$include?"](t))?M(1,6,!1)["$include?"](e):n)?"["+e+","+t+"]":"(["+e+","+t+"])"},m.$$arity=2),t.def(p,"$get_fire_points",d=function(e,r){var a,$;return $=C(r.$chars(),"map",[],"to_i".$to_proc()),C(e.$times(),"map",[],((a=function(){var e,r,i,o=null==a.$$s?this:a.$$s;return null==o.randomizer&&(o.randomizer=S),r=o.randomizer.$roll_once(6),n([[i=o.randomizer.$roll_sum(2,6),r]],C($,"map",[],((e=function(e){var a,$,o;return null==e&&(e=S),$=g(b,"DIRECTION_INFOS")["$[]"](e)["$[]"]("position_diff"),o=null==(a=t.to_ary($))[1]?S:a[1],[n(i,null==a[0]?S:a[0]),n(r,o)]}).$$s=o,e.$$arity=1,e)))}).$$s=this,a.$$arity=0,a))},d.$$arity=2)}(Opal)},37332:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$$,T=t.$$,h=t.module,S=t.klass,D=t.send2,g=t.truthy,E=t.send;r=p,a=d=[h(p[0],"BCDice")].concat(r),$=m=[h(d[0],"GameSystem")].concat(a),_=S(m[0],T(m,"Base"),"StrangerOfSwordCity"),f=[_].concat($),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","StrangerOfSwordCity"),t.const_set(f[0],"NAME","\u5263\u306e\u8857\u306e\u7570\u90a6\u4ebaTRPG"),t.const_set(f[0],"SORT_KEY","\u3064\u308b\u304d\u306e\u307e\u3061\u306e\u3044\u307b\u3046\u3057\u3093TRPG"),t.const_set(f[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u3000xSR or xSRy or xSR+y or xSR-y or xSR+y>=z\n\u3000x=\u30c0\u30a4\u30b9\u6570\u3001y=\u4fee\u6b63\u5024(\u7701\u7565\u53ef\u3001\xb1\u7701\u7565\u6642\u306f\uff0b\u3068\u3057\u3066\u6271\u3046)\u3001z=\u96e3\u6613\u5ea6(\u7701\u7565\u53ef)\n\u3000\u5224\u5b9a\u6642\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u30fb\u901a\u5e38\u306enD6\u3067\u306f\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u30d5\u30a1\u30f3\u30d6\u30eb\u306e\u81ea\u52d5\u5224\u5b9a\u306f\u884c\u3044\u307e\u305b\u3093\u3002\n\u30fbD66\u30c0\u30a4\u30b9\u3042\u308a\n"),_.$register_prefix("\\d+SR"),t.def(_,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),D(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=y(T(f,"D66SortType"),"NO_SORT"),n.round_type=y(T(f,"RoundType"),"FLOOR")},i.$$arity=1),t.def(_,"$eval_game_system_specific_command",o=function(t){var e=b;return this.$debug("eval_game_system_specific_command command",t),t=t.$upcase(),e=this.$checkRoll(t),g(e["$empty?"]()),e},o.$$arity=1),t.def(_,"$checkRoll",u=function(t){var r=this,a=b,$=b,i=b,o=b,u=b,s=b,l=b,c=b,_=b;return r.$debug("checkRoll begin command",t),a="",g(t["$=~"](/^(\d+)SR([+\-]?\d+)?(>=(\d+))?$/i))?($=T(f,"Regexp").$last_match(1).$to_i(),i=T(f,"Regexp").$last_match(2).$to_i(),g(T(f,"Regexp").$last_match(4))&&(o=T(f,"Regexp").$last_match(4).$to_i()),l=e(s=(u=r.randomizer.$roll_barabara($,6).$sort()).$sum(),i),c=r.$getModifyText(i),a=e(a,"("+t+") \uff1e "+s+"["+u.$join(",")+"]"+c+" \uff1e "+l),_=r.$getCriticalResult(u),g(_["$nil?"]())?g(r.$isFumble(u,$))?a=e(a," \uff1e \u30d5\u30a1\u30f3\u30d6\u30eb"):(g(o["$nil?"]())||(a=e(a,g(n(l,o))?" \uff1e \u6210\u529f":" \uff1e \u5931\u6557")),a):a=e(a," \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb(+"+_+"D6)")):a},u.$$arity=1),t.def(_,"$getModifyText",s=function(t){return t["$=="](0)?"":g("number"==typeof(e=t)?e<0:e["$<"](0))?t.$to_s():"+"+t;var e},s.$$arity=1),t.def(_,"$getCriticalResult",l=function(t){var e,r=b;return r=E(t,"select",[],(e=function(t){return null==t&&(t=b),t["$=="](6)},e.$$s=this,e.$$arity=1,e)).$size(),g(n(r,2))?r.$to_s():b},l.$$arity=1),t.def(_,"$isFumble",c=function(t,e){var r;return n(E(t,"select",[],(r=function(t){return null==t&&(t=b),t["$=="](1)},r.$$s=this,r.$$arity=1,r)).$size(),e)},c.$$arity=2)}(Opal)},83599:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g,E,R,A;n(93683),r=Opal,T=r.nil,h=r.$$$,S=r.$$,g=r.klass,E=r.send2,R=r.truthy,A=r.hash2,a=y=[],$=b=[(D=r.module)(y[0],"BCDice")].concat(a),i=p=[D(b[0],"GameSystem")].concat($),m=g(p[0],S(p,"Base"),"StratoShout"),d=[m].concat(i),m.$$prototype.randomizer=T,r.const_set(d[0],"ID","StratoShout"),r.const_set(d[0],"NAME","\u30b9\u30c8\u30e9\u30c8\u30b7\u30e3\u30a6\u30c8"),r.const_set(d[0],"SORT_KEY","\u3059\u3068\u3089\u3068\u3057\u3084\u3046\u3068"),r.const_set(d[0],"HELP_MESSAGE","\nVOT, GUT, BAT, KEYT, DRT: (\u30dc\u30fc\u30ab\u30eb\u3001\u30ae\u30bf\u30fc\u3001\u30d9\u30fc\u30b9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30c9\u30e9\u30e0)\u30c8\u30e9\u30d6\u30eb\u8868\nEMO: \u611f\u60c5\u8868\nATn, RTTn: \u7279\u6280\u8868(n\uff1d\u5206\u91ce\u3002\u7a7a:\u30e9\u30f3\u30c0\u30e0 1:\u4e3b\u7fa9 2:\u8eab\u4f53 3:\u30e2\u30c1\u30fc\u30d5 4:\u30a8\u30e2\u30fc\u30b7\u30e7\u30f3 5:\u884c\u52d5 6:\u9006\u5883)\nRCT: \u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u8868\nSCENE, MACHI, GAKKO, BAND: (\u6c4e\u7528\u3001\u8857\u89d2\u3001\u5b66\u6821\u3001\u30d0\u30f3\u30c9)\u30b7\u30fc\u30f3\u8868 \u63a5\u8fd1\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\nTENKAI: \u30b7\u30fc\u30f3\u5c55\u958b\u8868 \u5954\u8d70\u30b7\u30fc\u30f3 \u7df4\u7fd2\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\n\nD66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),r.def(m,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),E(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.sort_add_dice=!0,e.d66_sort_type=h(S(d,"D66SortType"),"ASC")},o.$$arity=1),r.def(m,"$result_2d6",u=function(t,e,n,r,a){return r["$=="](">=")?R("number"==typeof($=e)?$<=2:$["$<="](2))?S(d,"Result").$fumble(this.$translate("StratoShout.fumble")):R(function(t,e){return"number"==typeof t?t>=12:t["$>="](12)}(e))?S(d,"Result").$critical(this.$translate("StratoShout.critical")):T:T;var $},u.$$arity=5),r.def(m,"$eval_game_system_specific_command",s=function(t){var e,n=this;return R(e=n.$roll_tables(t,h(n.$class(),"TABLES")))?e:h(n.$class(),"RTT").$roll_command(n.randomizer,t)},s.$$arity=1),l=r.get_singleton_class(m),f=[l].concat(d),l.$private(),r.def(l,"$translate_tables",c=function(t){return A(["VOT","GUT","BAT","KEYT","DRT","EMO","SCENE","MACHI","GAKKO","BAND","TENKAI"],{VOT:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.VOT",t),GUT:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.GUT",t),BAT:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.BAT",t),KEYT:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.KEYT",t),DRT:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.DRT",t),EMO:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.EMO",t),SCENE:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.SCENE",t),MACHI:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.MACHI",t),GAKKO:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.GAKKO",t),BAND:h(S(f,"DiceTable"),"Table").$from_i18n("StratoShout.table.BAND",t),TENKAI:h(S(f,"DiceTable"),"D66Table").$from_i18n("StratoShout.table.TENKAI",t)})},c.$$arity=1),r.def(l,"$translate_rtt",_=function(t){return h(S(f,"DiceTable"),"SaiFicSkillTable").$from_i18n("StratoShout.RTT",t,A(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},_.$$arity=1),r.const_set(d[0],"TABLES",m.$translate_tables("ja_jp")),r.const_set(d[0],"RTT",m.$translate_rtt("ja_jp")),m.$register_prefix(S(d,"TABLES").$keys(),S(d,"RTT").$prefixes())},64036:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),Opal.modules["bcdice/game_system/StratoShout"]=function(t){var e,n,r,a,$,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$$,y=t.$$,T=t.module,h=t.klass,S=t.send2,D=t.truthy,g=t.hash2;return e=d,n=m=[T(d[0],"BCDice")].concat(e),r=f=[T(m[0],"GameSystem")].concat(n),c=h(f[0],y(f,"Base"),"StratoShout"),_=[c].concat(r),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","StratoShout"),t.const_set(_[0],"NAME","\u30b9\u30c8\u30e9\u30c8\u30b7\u30e3\u30a6\u30c8"),t.const_set(_[0],"SORT_KEY","\u3059\u3068\u3089\u3068\u3057\u3084\u3046\u3068"),t.const_set(_[0],"HELP_MESSAGE","\nVOT, GUT, BAT, KEYT, DRT: (\u30dc\u30fc\u30ab\u30eb\u3001\u30ae\u30bf\u30fc\u3001\u30d9\u30fc\u30b9\u3001\u30ad\u30fc\u30dc\u30fc\u30c9\u3001\u30c9\u30e9\u30e0)\u30c8\u30e9\u30d6\u30eb\u8868\nEMO: \u611f\u60c5\u8868\nATn, RTTn: \u7279\u6280\u8868(n\uff1d\u5206\u91ce\u3002\u7a7a:\u30e9\u30f3\u30c0\u30e0 1:\u4e3b\u7fa9 2:\u8eab\u4f53 3:\u30e2\u30c1\u30fc\u30d5 4:\u30a8\u30e2\u30fc\u30b7\u30e7\u30f3 5:\u884c\u52d5 6:\u9006\u5883)\nRCT: \u5206\u91ce\u30e9\u30f3\u30c0\u30e0\u8868\nSCENE, MACHI, GAKKO, BAND: (\u6c4e\u7528\u3001\u8857\u89d2\u3001\u5b66\u6821\u3001\u30d0\u30f3\u30c9)\u30b7\u30fc\u30f3\u8868 \u63a5\u8fd1\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\nTENKAI: \u30b7\u30fc\u30f3\u5c55\u958b\u8868 \u5954\u8d70\u30b7\u30fc\u30f3 \u7df4\u7fd2\u30b7\u30fc\u30f3\u3067\u4f7f\u7528\n\nD66\u5165\u308c\u66ff\u3048\u3042\u308a\n"),t.def(c,"$initialize",a=function(e){var n=this;return a.$$p&&(a.$$p=null),S(n,t.find_super_dispatcher(n,"initialize",a,!1,!0),"initialize",[e],null),n.sort_add_dice=!0,n.d66_sort_type=b(y(_,"D66SortType"),"ASC")},a.$$arity=1),t.def(c,"$result_2d6",$=function(t,e,n,r,a){return r["$=="](">=")?D("number"==typeof($=e)?$<=2:$["$<="](2))?y(_,"Result").$fumble(this.$translate("StratoShout.fumble")):D(function(t,e){return"number"==typeof t?t>=12:t["$>="](12)}(e))?y(_,"Result").$critical(this.$translate("StratoShout.critical")):p:p;var $},$.$$arity=5),t.def(c,"$eval_game_system_specific_command",i=function(t){var e,n=this;return D(e=n.$roll_tables(t,b(n.$class(),"TABLES")))?e:b(n.$class(),"RTT").$roll_command(n.randomizer,t)},i.$$arity=1),o=t.get_singleton_class(c),l=[o].concat(_),o.$private(),t.def(o,"$translate_tables",u=function(t){return g(["VOT","GUT","BAT","KEYT","DRT","EMO","SCENE","MACHI","GAKKO","BAND","TENKAI"],{VOT:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.VOT",t),GUT:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.GUT",t),BAT:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.BAT",t),KEYT:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.KEYT",t),DRT:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.DRT",t),EMO:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.EMO",t),SCENE:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.SCENE",t),MACHI:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.MACHI",t),GAKKO:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.GAKKO",t),BAND:b(y(l,"DiceTable"),"Table").$from_i18n("StratoShout.table.BAND",t),TENKAI:b(y(l,"DiceTable"),"D66Table").$from_i18n("StratoShout.table.TENKAI",t)})},u.$$arity=1),t.def(o,"$translate_rtt",s=function(t){return b(y(l,"DiceTable"),"SaiFicSkillTable").$from_i18n("StratoShout.RTT",t,g(["rtt","rttn"],{rtt:"AT",rttn:["AT1","AT2","AT3","AT4","AT5","AT6"]}))},s.$$arity=1),t.const_set(_[0],"TABLES",c.$translate_tables("ja_jp")),t.const_set(_[0],"RTT",c.$translate_rtt("ja_jp")),void c.$register_prefix(y(_,"TABLES").$keys(),y(_,"RTT").$prefixes())},_=[],f=(r=Opal).$$,m=r.module,d=r.klass,p=r.send2,r.top.$require("bcdice/game_system/StratoShout"),a=_,$=c=[m(_[0],"BCDice")].concat(a),i=l=[m(c[0],"GameSystem")].concat($),s=[u=d(l[0],f(l,"StratoShout"),"StratoShout_Korean")].concat(i),r.const_set(s[0],"ID","StratoShout:Korean"),r.const_set(s[0],"NAME","\uc2a4\ud2b8\ub77c\ud1a0 \uc0e4\uc6b0\ud2b8"),r.const_set(s[0],"SORT_KEY","\u56fd\u969b\u5316:Korean:\uc2a4\ud2b8\ub77c\ud1a0 \uc0e4\uc6b0\ud2b8"),r.const_set(s[0],"HELP_MESSAGE","VOT, GUT, BAT, KEYT, DRT: (\ubcf4\uceec, \uae30\ud0c0, \ubca0\uc774\uc2a4, \ud0a4\ubcf4\ub4dc, \ub4dc\ub7fc)\ud2b8\ub7ec\ube14\ud45c\nEMO: \uac10\uc815\ud45c\nRTT[1-6], AT[1-6]: \ud2b9\uae30\ud45c(\uacf5\ubc31: \ub79c\ub364 1: \uc8fc\uc758 2: \uc2e0\uccb4 3: \ubaa8\ud2f0\ube0c 4: \uc774\ubaa8\uc158 5: \ud589\ub3d9 6: \uc5ed\uacbd)\nSCENE, MACHI, GAKKO, BAND: (\ubc94\uc6a9, \uac70\ub9ac, \ud559\uad50, \ubc34\ub4dc)\uc7a5\uba74\ud45c. \uc811\uadfc \uc7a5\uba74\uc5d0 \uc0ac\uc6a9\nTENKAI: \uc7a5\uba74 \uc804\uac1c\ud45c. \ubd84\uc8fc \uc7a5\uba74, \uc5f0\uc2b5 \uc7a5\uba74\uc5d0 \uc0ac\uc6a9\n[]\ub0b4\ub294 \uc0dd\ub7b5\uac00\ub2a5\u3000D66\ub294 \ubcc0\ub3d9\uc788\uc74c\n"),u.$register_prefix_from_super_class(),r.def(u,"$initialize",o=function(t){var e=this;return o.$$p&&(o.$$p=null),p(e,r.find_super_dispatcher(e,"initialize",o,!1,!0),"initialize",[t],null),e.locale="ko_kr"},o.$$arity=1),r.const_set(s[0],"TABLES",u.$translate_tables("ko_kr").$freeze()),r.const_set(s[0],"RTT",u.$translate_rtt("ko_kr"))},65348:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y,T=[],h=t.nil,S=t.$$,D=t.module,g=t.klass,E=t.send2,R=t.truthy,A=t.send;r=T,a=y=[D(T[0],"BCDice")].concat(r),$=b=[D(y[0],"GameSystem")].concat(a),d=g(b[0],S(b,"Base"),"Strave"),p=[d].concat($),d.$$prototype.randomizer=h,t.const_set(p[0],"ID","Strave"),t.const_set(p[0],"NAME","\u78a7\u7a7a\u306e\u30b9\u30c8\u30ec\u30a4\u30f4"),t.const_set(p[0],"SORT_KEY","\u3078\u304d\u304f\u3046\u306e\u3059\u3068\u308c\u3044\u3075"),t.const_set(p[0],"HELP_MESSAGE","\u30fb\u30e2\u30e9\u30c8\u30ea\u30a2\u30e0\u30d5\u30a7\u30a4\u30ba\u7528\u5224\u5b9a\uff1aMPm\n\u30fb\u547d\u4e2d\u5224\u5b9a\uff1anSTm*p\n\n\u300cn\u300d\u3067\u30c0\u30a4\u30b9\u6570\u3092\u6307\u5b9a\u3002\n\u300cm\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u306f\u51fa\u6765\u307e\u305b\u3093\u3002\n\u300cp\u300d\u3067\u653b\u6483\u529b\u3092\u6307\u5b9a\u3002\u300c*\u300d\u306f\u300cx\u300d\u3067\u3082\u53ef\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbMP6 \u2192 \u76ee\u6a19\u50246\u306e\u30e2\u30e9\u30c8\u30ea\u30a2\u30e0\u30d5\u30a7\u30a4\u30ba\u7528\u5224\u5b9a\u3002\n\u30fb5ST6*10 \u2192 5d10\u3067\u76ee\u6a19\u50246\u3001\u653b\u6483\u529b10\u306e\u547d\u4e2d\u5224\u5b9a\u3002\n\n\u3010\u5404\u7a2e\u8868\u3011\n\u30fb\u6240\u5c5e\u8868\uff1aAFF\u3000\u3000VN\u7248\uff1aAFV\n\u30fb\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1aIDT\u3000\u3000VN\u7248\uff1aIDV\n\n\u203b\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\u306f\u30a8\u30e9\u30c3\u30bf\u9069\u7528\u6e08\u3067\u3059\u3002\n"),d.$register_prefix("MP","\\d+ST","AFF","IDT","AFV","IDV"),t.def(d,"$initialize",i=function(e){var n=this;return i.$$p&&(i.$$p=null),E(n,t.find_super_dispatcher(n,"initialize",i,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},i.$$arity=1),t.def(d,"$eval_game_system_specific_command",o=function(t){var e,n=this,r=h,a=h,$=h,i=h;return e=t.$upcase(),/MP(\d+)$/i["$==="](e)?(r=2,a=S(p,"Regexp").$last_match(1).$to_i(),n.$checkRoll(r,a,h)):/(\d+)ST(\d+)(x|\*)(\d+)$/i["$==="](e)?(r=S(p,"Regexp").$last_match(1).$to_i(),a=S(p,"Regexp").$last_match(2).$to_i(),$=(R(i=S(p,"Regexp").$last_match(4))?i:0).$to_i(),n.$checkRoll(r,a,$)):"AFF"["$==="](e)?n.$get_affiliation_table():"IDT"["$==="](e)?n.$get_identity_table():"AFV"["$==="](e)?n.$get_affiliation_table2():"IDV"["$==="](e)?n.$get_identity_table2():h},o.$$arity=1),t.def(d,"$checkRoll",u=function(t,r,a){var $,i,o,u,s,l=h,c=h,_=h;return R("number"==typeof(s=r)?s<1:s["$<"](1))&&(r=1),R(e(r,10))&&(r=10),i=(l=this.randomizer.$roll_barabara(t,10).$sort()).$join(","),o=A(l,"find_all",[],($=function(t){return null==t&&(t=h),function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(t,r)},$.$$s=this,$.$$arity=1,$)).$size(),u=a["$nil?"]()["$!"](),R(u)?(c=function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}(o,a),_="("+t+"D10<="+r+") \uff1e "+i+" \uff1e Hits\uff1a"+o+"*"+a+" \uff1e "+c+"\u30c0\u30e1\u30fc\u30b8"):(_="("+t+"D10<="+r+") \uff1e "+i,_=R(e(o,0))?n(_," \uff1e \u3010\u6210\u529f\u3011"):n(_," \uff1e \u3010\u5931\u6557\u3011")),_},u.$$arity=3),t.def(d,"$get_affiliation_table",s=function(){return this.$get_strave_1d100_table_result("\u6240\u5c5e\u8868\uff1a\u57fa\u672c",[[1,"\u30a2\u30ea\u30a6\u30b9\u7ba1\u7406\u59d4\u54e1\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30a2\u30ea\u30a6\u30b9\u7ba1\u7406\u59d4\u54e1\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[2,"\u30aa\u30fc\u30f4\u30a1\u30fc\u30d6\u30eb\u30fc\uff1a\u3042\u306a\u305f\u306f\u30aa\u30fc\u30f4\u30a1\u30fc\u30d6\u30eb\u30fc\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[3,"\u30a6\u30a9\u30eb\u30b2\u30a4\u30c8\uff1a\u3042\u306a\u305f\u306f\u30a6\u30a9\u30eb\u30b2\u30a4\u30c8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[4,"\u6681\u90e8\u968a\uff1a\u3042\u306a\u305f\u306f\u304b\u3064\u3066\u3001\u53cd\u9006\u8005\u30fb\u6681\u5f25\u7434\u3068\u540c\u3058\u90e8\u968a\u306b\u6240\u5c5e\u3057\u3066\u3044\u305f\u3002"],[5,"\u5929\u6587\u90e8\uff1a\u3042\u306a\u305f\u306f\u5929\u6587\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[6,"\u5439\u594f\u697d\u90e8\uff1a\u3042\u306a\u305f\u306f\u5439\u594f\u697d\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[7,"\u5263\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u5263\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[8,"\u30dc\u30af\u30b7\u30f3\u30b0\u90e8\uff1a\u3042\u306a\u305f\u306f\u30dc\u30af\u30b7\u30f3\u30b0\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[9,"\u9678\u4e0a\u90e8\uff1a\u3042\u306a\u305f\u306f\u9678\u4e0a\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[10,"\u8336\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u8336\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[11,"\u30d1\u30bd\u30b3\u30f3\u90e8\uff1a\u3042\u306a\u305f\u306f\u30d1\u30bd\u30b3\u30f3\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[12,"\u65b0\u805e\u90e8\uff1a\u3042\u306a\u305f\u306f\u65b0\u805e\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[13,"\u5f13\u9053\u90e8\uff1a\u3042\u306a\u305f\u306f\u5f13\u9053\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[14,"\u7f8e\u8853\u90e8\uff1a\u3042\u306a\u305f\u306f\u7f8e\u8853\u90e8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[15,"\u30df\u30ea\u30bf\u30ea\u30fc\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30df\u30ea\u30bf\u30ea\u30fc\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[16,"\u6b74\u53f2\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u6b74\u53f2\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[17,"\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a\uff1a\u3042\u306a\u305f\u306f\u30ed\u30dc\u30c3\u30c8\u7814\u7a76\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[18,"\u56f3\u66f8\u59d4\u54e1\u4f1a\uff1a\u3042\u306a\u305f\u306f\u56f3\u66f8\u59d4\u54e1\u4f1a\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},s.$$arity=0),t.def(d,"$get_identity_table",l=function(){return this.$get_strave_1d100_table_result("\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1a\u57fa\u672c",[[1,"\u6226\u3044\uff1a\u6226\u3044\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[2,"\u5b88\u8b77\uff1a\u3042\u306a\u305f\u306b\u306f\u5b88\u308b\u3079\u304d\u3082\u306e\u304c\u3042\u308b\u3002"],[3,"\u5fa9\u8b90\uff1a\u3042\u306a\u305f\u306f\u5fa9\u8b90\u3092\u8a93\u3063\u3066\u3044\u308b\u3002\u4f55\u304b\u306b\u3001\u3042\u308b\u3044\u306f\u8ab0\u304b\u306b\u3002"],[4,"\u540d\u58f0\uff1a\u305d\u306e\u8eab\u306b\u6d74\u3073\u308b\u811a\u5149\u3092\u3001\u4f55\u3088\u308a\u3082\u8a89\u3068\u3057\u3066\u3044\u308b\u3002"],[5,"\u604b\u611b\uff1a\u3042\u306a\u305f\u306f\u305d\u306e\u8eab\u3092\u7126\u304c\u3059\u604b\u306b\u751f\u304d\u3066\u3044\u308b\u3002"],[6,"\u5bb6\u65cf\uff1a\u3042\u306a\u305f\u306b\u3068\u3063\u3066\u3001\u5bb6\u65cf\u306f\u304b\u3051\u304c\u3048\u306e\u7121\u3044\u3082\u306e\u3060\u3002"],[7,"\u53cb\u4eba\uff1a\u3042\u306a\u305f\u306f\u53cb\u306e\u305f\u3081\u306b\u6226\u3063\u3066\u3044\u308b\u3002"],[8,"\u90e8\u968a\uff1a\u5171\u306b\u6226\u3046\u90e8\u968a\u306e\u4ef2\u9593\u304c\u3001\u3042\u306a\u305f\u306b\u529b\u3092\u304f\u308c\u308b\u3002"],[9,"\u30b9\u30c8\u30ec\u30a4\u30f4\uff1a\u3042\u306a\u305f\u306f\u81ea\u8eab\u306e\u30b9\u30c8\u30ec\u30a4\u30f4\u3092\u8a87\u308a\u306b\u601d\u3063\u3066\u3044\u308b\u3002"],[10,"\u30b9\u30d5\u30a3\u30a2\u30d6\u30ec\u30a4\u30af\uff1a\u3042\u306a\u305f\u306f\u30b9\u30d5\u30a3\u30a2\u30d6\u30ec\u30a4\u30af\u3092\u71b1\u70c8\u306b\u76ee\u6307\u3057\u3066\u3044\u308b\u3002"],[11,"\u304a\u91d1\uff1a\u3042\u306a\u305f\u306f\u304a\u91d1\u3092\u6c42\u3081\u3066\u3044\u308b\u3002\u5831\u916c\u3053\u305d\u304c\u81ea\u5206\u306e\u4fa1\u5024\u3060\u3002"],[12,"\u5922\uff1a\u3042\u306a\u305f\u306b\u306f\u5922\u304c\u3042\u308b\u3002\u81ea\u5206\u3092\u7a81\u304d\u52d5\u304b\u3059\u5922\u304c\u3002"],[13,"\u5fe0\u8aa0\uff1a\u3042\u306a\u305f\u306f\u5fe0\u8aa0\u3092\u8a93\u3063\u3066\u3044\u308b\u3002\u4f55\u304b\u306b\u3001\u3042\u308b\u3044\u306f\u8ab0\u304b\u306b\u3002"],[14,"\u5171\u751f\uff1a\u3042\u306a\u305f\u306f\u3001\u30f4\u30a1\u30a4\u30a8\u30eb\u3068\u4eba\u985e\u3068\u306e\u5171\u751f\u3092\u671b\u3093\u3067\u3044\u308b\u3002"],[15,"\u5c45\u5834\u6240\uff1a\u81ea\u8eab\u306e\u5c45\u5834\u6240\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u306b\u529b\u3092\u304f\u308c\u308b\u3002"],[16,"\u5f37\u5236\uff1a\u3042\u306a\u305f\u306f\u4e0d\u672c\u610f\u306a\u304c\u3089\u4eca\u306e\u7acb\u5834\u306b\u3044\u308b\u3002"],[17,"\u78a7\u7a7a\uff1a\u898b\u4e0a\u3052\u305f\u9752\u7a7a\u304c\u3001\u3042\u306a\u305f\u3092\u5909\u3048\u305f\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},l.$$arity=0),t.def(d,"$get_affiliation_table2",c=function(){return this.$get_strave_1d100_table_result("\u6240\u5c5e\u8868\uff1a\u30f4\u30a1\u30ea\u30a2\u30f3\u30b9\u30cd\u30a4\u30f4\u30a1\u30fc",[[1,"\u30b7\u30e5\u30f4\u30a1\u30ec\u30fb\u30c8\u30ef\u30fc\u30eb\uff1a\u3042\u306a\u305f\u306f\u30b7\u30e5\u30f4\u30a1\u30ec\u30fb\u30c8\u30ef\u30fc\u30eb\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[2,"\u30c7\u30a3\u30fc\u30d7\u30b7\u30f3\u30ab\u30fc\uff1a\u3042\u306a\u305f\u306f\u30c7\u30a3\u30fc\u30d7\u30b7\u30f3\u30ab\u30fc\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[3,"\u30f4\u30a7\u30eb\u30af\u30b7\u30e5\u30bf\u30c3\u30c8\uff1a\u3042\u306a\u305f\u306f\u30f4\u30a7\u30eb\u30af\u30b7\u30e5\u30bf\u30c3\u30c8\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[4,"\u30a2\u30a6\u30b9\u30f4\u30a1\u30eb\uff1a\u3042\u306a\u305f\u306f\u30a2\u30a6\u30b9\u30f4\u30a1\u30eb\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[5,"\u7f8e\u8853\u79d1\uff1a\u3042\u306a\u305f\u306f\u7f8e\u8853\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[6,"\u54f2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u54f2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[7,"\u6570\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6570\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[8,"\u5730\u7406\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5730\u7406\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[9,"\u5de5\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5de5\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[10,"\u4f53\u80b2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u4f53\u80b2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[11,"\u8fb2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u8fb2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[12,"\u6b74\u53f2\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6b74\u53f2\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[13,"\u533b\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u533b\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[14,"\u60c5\u5831\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u60c5\u5831\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[15,"\u97f3\u697d\u79d1\uff1a\u3042\u306a\u305f\u306f\u97f3\u697d\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[16,"\u5fc3\u7406\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u5fc3\u7406\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[17,"\u6587\u5b66\u79d1\uff1a\u3042\u306a\u305f\u306f\u6587\u5b66\u79d1\u306b\u6240\u5c5e\u3057\u3066\u3044\u308b\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u6240\u5c5e\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3002"]])},c.$$arity=0),t.def(d,"$get_identity_table2",_=function(){return this.$get_strave_1d100_table_result("\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u8868\uff1a\u30f4\u30a1\u30ea\u30a2\u30f3\u30b9\u30cd\u30a4\u30f4\u30a1\u30fc",[[1,"\u6226\u3044\uff1a\u6226\u3044\u3078\u306e\u885d\u52d5\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[2,"\u5b88\u8b77\uff1a\u5b88\u308b\u3079\u304d\u3082\u306e\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[3,"\u5fa9\u8b90\uff1a\u5fa9\u8b90\u306e\u8a93\u3044\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[4,"\u540d\u58f0\uff1a\u4e0e\u3048\u3089\u308c\u305f\u540d\u8a89\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[5,"\u604b\u611b\uff1a\u611b\u3059\u308b\u8005\u3078\u306e\u60f3\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[6,"\u5bb6\u65cf\uff1a\u304b\u3051\u304c\u3048\u306e\u306a\u3044\u5bb6\u65cf\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[7,"\u53cb\u4eba\uff1a\u53cb\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[8,"\u90e8\u968a\uff1a\u90e8\u968a\u306e\u6226\u53cb\u3053\u305d\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[9,"\u30b9\u30c8\u30ec\u30a4\u30f4\uff1a\u30b9\u30c8\u30ec\u30a4\u30f4\u306e\u5b58\u5728\u304c\u3001\u3042\u306a\u305f\u306e\u5fc3\u3092\u4fdd\u3063\u3066\u3044\u308b\u3002"],[10,"\u5b87\u5b99\uff1a\u3084\u304c\u3066\u6765\u308b\u65c5\u7acb\u3061\u306e\u65e5\u307e\u3067\u3001\u3042\u306a\u305f\u306f\u3042\u306a\u305f\u3067\u3042\u308d\u3046\u3068\u3057\u3066\u3044\u308b\u3002"],[11,"\u304a\u91d1\uff1a\u4e0e\u3048\u3089\u308c\u308b\u5831\u916c\u306e\u305f\u3081\u3001\u3042\u306a\u305f\u306f\u3042\u306a\u305f\u3067\u3042\u308d\u3046\u3068\u3057\u3066\u3044\u308b\u3002"],[12,"\u5922\uff1a\u3042\u306a\u305f\u306b\u306f\u3001\u5df1\u306e\u5fc3\u306b\u8a93\u3063\u305f\u5922\u304c\u3042\u308b\u3002"],[13,"\u5fe0\u8aa0\uff1a\u305d\u306e\u5fc3\u3067\u3082\u3063\u3066\u3001\u8a93\u3063\u305f\u5fe0\u7fa9\u304c\u3042\u308b\u3002"],[14,"\u5171\u751f\uff1a\u3042\u306a\u305f\u306f\u3001\u30f4\u30a1\u30a4\u30a8\u30eb\u3068\u4eba\u985e\u3068\u306e\u5171\u751f\u3092\u671b\u3093\u3067\u3044\u308b\u3002"],[15,"\u5c45\u5834\u6240\uff1a\u81ea\u8eab\u306e\u5c45\u5834\u6240\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[16,"\u30f4\u30a1\u30a4\u30a8\u30eb\uff1a\u3042\u306a\u305f\u3068\u540c\u3058\u3067\u3042\u308a\u306a\u304c\u3089\u3001\u3042\u306a\u305f\u3068\u7570\u306a\u308b\u5b58\u5728\u3002\u5f7c\u3089\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[17,"\u30a8\u30b3\u30fc\u30eb\uff1a\u81ea\u8eab\u306e\u751f\u304d\u308b\u5834\u6240\u3078\u306e\u601d\u3044\u304c\u3001\u3042\u306a\u305f\u3092\u3042\u306a\u305f\u305f\u3089\u3057\u3081\u3066\u3044\u308b\u3002"],[18,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[19,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"],[20,"\u4efb\u610f\uff1a\u3042\u306a\u305f\u306e\u4efb\u610f\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u3092\u8a2d\u5b9a\u305b\u3088\u3002"]])},_.$$arity=0),t.def(d,"$get_strave_1d100_table_result",f=function(t,e){var r,a,$,i=this,o=h;return r=n(function(t,e){return"number"==typeof t?t/5:t["$/"](5)}(($=(o=i.randomizer.$roll_once(100)).$to_i(),"number"==typeof $?$-1:$["$-"](1))).$floor(),1),a=i.$get_table_by_number(r,e),i.$get_strave_table_result(t,o,a)},f.$$arity=2),t.def(d,"$get_strave_table_result",m=function(t,e,n){return t+"("+e+") \uff1e "+n},m.$$arity=3)}(Opal)},19377:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$$,d=t.$$,p=t.module,b=t.klass,y=t.hash2,T=t.truthy,h=t.send;n=_,r=c=[p(_[0],"BCDice")].concat(n),a=l=[p(c[0],"GameSystem")].concat(r),u=b(l[0],d(l,"Base"),"TalesFromTheLoop"),s=[u].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","TalesFromTheLoop"),t.const_set(s[0],"NAME","\u30b6\u30fb\u30eb\u30fc\u30d7TRPG"),t.const_set(s[0],"SORT_KEY","\u3055\u308b\u3046\u3075TRPG"),t.const_set(s[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nTFLx-x+x or nTFLx+x-x)\n  (\u5fc5\u8981\u6210\u529f\u6570)TFL(\u5224\u5b9a\u30c0\u30a4\u30b9\u6570)+/-(\u4fee\u6b63\u30c0\u30a4\u30b9\u6570)\n\n\u203b \u5fc5\u8981\u6210\u529f\u6570\u3068\u4fee\u6b63\u30c0\u30a4\u30b9\u6570\u306f\u7701\u7565\u53ef\u80fd\n\n\u4f8b1) \u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243\n      1TFL3\n\n\u4f8b2\uff09\u5fc5\u8981\u6210\u529f\u6570\u4e0d\u660e\u3001\u3042\u308b\u3044\u306f\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306e\u6210\u529f\u5224\u5b9a\u3092\u4f7f\u308f\u306a\u3044\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50243+\u6280\u80fd1\u30674\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      TFL4+1\n\n\u4f8b3\uff09\u5fc5\u8981\u6210\u529f\u65701\u3001\u5224\u5b9a\u30c0\u30a4\u30b9\u306f\u80fd\u529b\u50242+\u6280\u80fd1\u30673\u3001\u30b3\u30f3\u30c7\u30a3\u30b7\u30e7\u30f3\u306b\u30c1\u30a7\u30c3\u30af\u304c2\u3064\u3001\u30a2\u30a4\u30c6\u30e0\u306e\u4fee\u6b63+1\n      1TFL3-2+1\n     \u3042\u308b\u3044\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30ab\u30c3\u30b3\u66f8\u304d\u3067\u5185\u8a33\u3092\u8a73\u7d30\u306b\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002\n      1TFL(2+1)-(1+1)+1\n     \u4fee\u6b63\u30c0\u30a4\u30b9\u306e\u30d7\u30e9\u30b9\u3068\u30de\u30a4\u30ca\u30b9\u306f\u9006\u3067\u3082\u3088\u3044\u3002\n      1TFL(2+1)+1-(1+1)\n"),u.$register_prefix("(\\d+)?(TFL)"),t.def(u,"$eval_game_system_specific_command",$=function(e){var n,r,a,$=this,i=f,o=f,u=f;return i=m(d(s,"Command"),"Parser").$new(/\d*TFL\d+/,y(["round_type"],{round_type:$.$round_type()})).$parse(e),T(i)?(r=h(i.$command().$split("TFL",2),"map",[],"to_i".$to_proc()),o=null==(n=t.to_ary(r))[0]?f:n[0],u=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(u=null==n[1]?f:n[1],i.$modify_number()),T("number"==typeof(a=u)?a<=0:a["$<="](0))&&(u=1),r=$.$make_dice_roll(u),n=t.to_ary(r),$.$make_dice_roll_text(o,u,null==n[0]?f:n[0],null==n[1]?f:n[1])):f},$.$$arity=1),u.$private(),t.def(u,"$make_dice_roll_text",i=function(t,n,r,a){var $,i=f,o=f;return i="("+n+"D6) \uff1e "+r+" \u6210\u529f\u6570:"+a,$=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(n,a),T(e($,0))&&(i=i+" \u632f\u308a\u76f4\u3057\u53ef\u80fd:"+$,o="\n\u632f\u308a\u76f4\u3057\u30b3\u30de\u30f3\u30c9: TFL"+$),T(e(t,0))?T(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(a,t))?d(s,"Result").$success(i+" \u6210\u529f\uff01"+o):d(s,"Result").$failure(i+" \u5931\u6557\uff01"+o):""+i+o},i.$$arity=4),t.def(u,"$make_dice_roll",o=function(t){var e,n=f;return e=(n=this.randomizer.$roll_barabara(t,6)).$count(6),["["+n.$join(",")+"]",e]},o.$$arity=1)}(Opal)},82666:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.truthy,y=t.send;n=_,r=c=[d(_[0],"BCDice")].concat(n),a=l=[d(c[0],"GameSystem")].concat(r),u=p(l[0],m(l,"Base"),"TherapieSein"),s=[u].concat(a),u.$$prototype.randomizer=f,t.const_set(s[0],"ID","TherapieSein"),t.const_set(s[0],"NAME","\u30bb\u30e9\u30d5\u30a3\u30b6\u30a4\u30f3"),t.const_set(s[0],"SORT_KEY","\u305b\u3089\u3075\u3044\u3055\u3044\u3093"),t.const_set(s[0],"HELP_MESSAGE","\u30fb\u4e00\u822c\u5224\u5b9a\uff1aTS[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u7121\u3002\n\u30fb\u6226\u95d8\u5224\u5b9a\uff1aOP[n][\xb1m][@t]\u3000\u3000[]\u5185\u306e\u30b3\u30de\u30f3\u30c9\u306f\u7701\u7565\u53ef\u80fd\u3002\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u6709\u3002\n\n\u300cn\u300d\u3067\u80fd\u529b\u5024\u4fee\u6b63\u306a\u3069\u3092\u6307\u5b9a\u3002\n\u300c\xb1m\u300d\u3067\u9054\u6210\u5024\u3078\u306e\u4fee\u6b63\u5024\u3092\u8ffd\u52a0\u6307\u5b9a\u3002+5+1-3\u306e\u3088\u3046\u306b\u3001\u8907\u6570\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059\u3002\n\u300c@t\u300d\u3067\u76ee\u6a19\u5024\u3092\u6307\u5b9a\u3002\u7701\u7565\u6642\u306f\u9054\u6210\u5024\u306e\u307f\u8868\u793a\u3001\u6307\u5b9a\u6642\u306f\u5224\u5b9a\u306e\u6b63\u5426\u3092\u8ffd\u52a0\u8868\u793a\u3002\n\n\u3010\u66f8\u5f0f\u4f8b\u3011\n\u30fbTS \u2192 \u30c0\u30a4\u30b9\u306e\u5408\u8a08\u5024\u3092\u9054\u6210\u5024\u3068\u3057\u3066\u8868\u793a\u3002\n\u30fbTS4 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS4-1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4-1\uff08\u8a08+3\uff09\u3092\u9054\u6210\u5024\u8868\u793a\u3002\n\u30fbTS2+1@10 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+2+1\uff08\u8a08+3\uff09\u306e\u9054\u6210\u5024\u3068\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n\u30fbOP4+3+1 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+4+3+1\uff08\u8a08+8\uff09\u3092\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u8868\u793a\u3002\n\u30fbOP3@12 \u2192 \u30c0\u30a4\u30b9\u5408\u8a08+3\u306e\u9054\u6210\u5024\uff06\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u3001\u5224\u5b9a\u306e\u6210\u5426\u3092\u8868\u793a\u3002\n"),u.$register_prefix("TS","OP"),t.def(u,"$eval_game_system_specific_command",$=function(t){var n,r,a=f,$=f,i=f,o=f,u=f,l=f;return r=t.$upcase(),/(TS|OP)(\d+)?(([+\-]\d+)*)(@(\d+))?$/i["$==="](r)?(a=m(s,"Regexp").$last_match(1)["$=="]("OP"),$=(b(i=m(s,"Regexp").$last_match(6))?i:0).$to_i(),o=(b(u=m(s,"Regexp").$last_match(2))?u:0).$to_i(),l=m(s,"Regexp").$last_match(3).$scan(/[+\-]\d+/),y(l,"each",[],((n=function(t){return null==t&&(t=f),o=e(o,t.$to_i())}).$$s=this,n.$$arity=1,n)),this.$checkRoll(a,o,$)):f},$.$$arity=1),t.def(u,"$checkRoll",i=function(t,n,r){var a,$,i,o,u,s=f,l=f,c=f;return l=(s=this.randomizer.$roll_barabara(2,6)).$sum(),a=s.$join(","),$=e(l,n),c=e(c="(2D6"+(i=this.$getValueText(n))+(o=r["$=="](0)?"":">="+r)+")"," \uff1e "+l+"("+a+")"+i),b(b(u=t)?l["$=="](12):u)?c=e(c," \uff1e \u30af\u30ea\u30c6\u30a3\u30ab\u30eb\uff01"):(c=e(c," \uff1e "+$+o),r["$=="](0)||(c=b(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}($,r))?e(c," \uff1e \u3010\u6210\u529f\u3011"):e(c," \uff1e \u3010\u5931\u6557\u3011")),c)},i.$$arity=3),t.def(u,"$getValueText",o=function(t){return t["$=="](0)?"":b("number"==typeof(e=t)?e<0:e["$<"](0))?t.$to_s():"+"+t;var e},o.$$arity=1)}(Opal)},22346:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$$,b=t.$$,y=t.module,T=t.klass,h=t.send2,S=t.hash2,D=t.truthy,g=t.send;n=m,r=f=[y(m[0],"BCDice")].concat(n),a=_=[y(f[0],"GameSystem")].concat(r),l=T(_[0],b(_,"Base"),"TokumeiTenkousei"),c=[l].concat(a),l.$$prototype.randomizer=l.$$prototype.dice_list=d,t.const_set(c[0],"ID","TokumeiTenkousei"),t.const_set(c[0],"NAME","\u7279\u547d\u8ee2\u653b\u751f"),t.const_set(c[0],"SORT_KEY","\u3068\u304f\u3081\u3044\u3066\u3093\u3053\u3046\u305b\u3044"),t.const_set(c[0],"HELP_MESSAGE",'\u30fb\u5224\u5b9a (xD6+y>=n)\n\u3000\u30be\u30ed\u76ee\u3067\u306e\u81ea\u52d5\u632f\u308a\u8db3\u3057\n\u30001\u306e\u51fa\u76ee\u306b\u5fdc\u3058\u3066EPP\u306e\u7372\u5f97\u91cf\u3092\u8868\u793a\n\u3000\u76ee\u6a19\u5024 "?" \u306b\u306f\u672a\u5bfe\u5fdc\n'),t.def(l,"$initialize",$=function(e){var n=this;return $.$$p&&($.$$p=null),h(n,t.find_super_dispatcher(n,"initialize",$,!1,!0),"initialize",[e],null),n.sort_add_dice=!0},$.$$arity=1),l.$register_prefix("\\d+D6"),t.def(l,"$eval_game_system_specific_command",i=function(e){var n,r,a,$,i,o=this,u=d,s=d,l=d,_=d,f=d;if(u=p(b(c,"Command"),"Parser").$new(/\d+D6/,S(["round_type"],{round_type:o.$round_type()})).$parse(e),!D(u))return d;for(n=u.$command().$to_i(),s=o.randomizer.$roll_barabara(n,6).$sort(),o.dice_list=[s];D(o["$same_all_dice?"](s));)s=o.randomizer.$roll_barabara(n,6).$sort(),o.dice_list.$push(s);return r=(l=o.dice_list.$flatten()).$sum(),a=l.$count(1),_=function(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}(r,u.$modify_number()),f=D(u.$cmp_op())?D(_.$send(u.$cmp_op(),u.$target_number()))?b(c,"Result").$success("\u6210\u529f"):b(c,"Result").$failure("\u5931\u6557"):d,$=[["("+u+")",o.$interim_expr(u,r),_.$to_s(),f.$text(),o.$epp(a)].$compact().$join(" \uff1e ")],g(f,"text=",t.to_a($)),"number"==typeof(i=$.length)||i["$-"](1),f},i.$$arity=1),t.def(l,"$same_all_dice?",o=function(t){var n;return D(n=e(t.$size(),1))?t.$uniq().$size()["$=="](1):n},o.$$arity=1),t.def(l,"$interim_expr",u=function(t,e){var n,r,a=this,$=d,i=d;return D(D(r=a.dice_list.$flatten().$size()["$=="](1))?t.$modify_number()["$=="](0):r)?d:($=g(a.dice_list,"map",[],(n=function(t){return null==t&&(t=d),"["+t.$join(",")+"]"},n.$$s=a,n.$$arity=1,n)).$join(""),i=b(c,"Format").$modifier(t.$modify_number()),[e.$to_s(),$,i].$join(""))},u.$$arity=2),t.def(l,"$epp",s=function(t){return D(e(t,0))?("number"==typeof(n=t)?5*n:n["$*"](5))+"EPP\u7372\u5f97":d;var n},s.$$arity=1)}(Opal)},15890:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$,T=t.module,h=t.klass,S=t.truthy;n=p,r=d=[T(p[0],"BCDice")].concat(n),a=m=[T(d[0],"GameSystem")].concat(r),_=h(m[0],y(m,"Base"),"TokyoGhostResearch"),f=[_].concat(a),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","TokyoGhostResearch"),t.const_set(f[0],"NAME","\u6771\u4eac\u30b4\u30fc\u30b9\u30c8\u30ea\u30b5\u30fc\u30c1"),t.const_set(f[0],"SORT_KEY","\u3068\u3046\u304d\u3088\u3046\u3053\u304a\u3059\u3068\u308a\u3055\u3042\u3061"),t.const_set(f[0],"HELP_MESSAGE","\u5224\u5b9a\n\u30fb\u30bf\u30b9\u30af\u51e6\u7406\u306f\u76ee\u6a19\u5024\u4ee5\u4e0a\u306e\u5024\u3067\u6210\u529f\u3068\u306a\u308a\u307e\u3059\u3002\n  1d10>={\u76ee\u6a19\u5024}\n  \u4f8b\uff1a\u76ee\u6a19\u5024\u300c5\u300d\u306e\u5834\u5408\u30015\uff5e0\u3067\u6210\u529f\n\u5404\u7a2e\u8868\n  \u30fb\u5c0e\u5165\u8868  OP\n  \u30fb\u4e00\u822c\u30c8\u30e9\u30d6\u30eb\u8868  TB\n"),_.$register_prefix("OP","TB","TK?"),t.def(_,"$eval_game_system_specific_command",$=function(t){var e,n=this;return e=t.$upcase(),/TK/i["$==="](e)?n.$getCheckResult(t):"OP"["$==="](e)?n.$tgr_opening_table():"TB"["$==="](e)?n.$tgr_common_trouble_table():b},$.$$arity=1),t.def(_,"$getCheckResult",i=function(t){var n,r=b,a=b,$=b;return r="",a=0,S(/TK?<=(\d+)/i["$=~"](t))&&(a=y(f,"Regexp").$last_match(2).$to_i()),S("number"==typeof(n=a)?n>0:n["$>"](0))&&(r=e(r,"(1D10<="+a+")"),r=e(r,e(" \uff1e ",($=this.randomizer.$roll_once(10)).$to_s())),r=e(r,e(" \uff1e ",this.$getCheckResultText($,a)))),r},i.$$arity=1),t.def(_,"$getCheckResultText",o=function(t,e){return S(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,e))?"\u6210\u529f":"\u5931\u6557"},o.$$arity=2),t.def(_,"$tgr_opening_table",u=function(){return this.$get_1d10_table_result("\u5c0e\u5165\u8868",[[1,"\u3010\u75c5\u4f11\u4e2d\u65ad\u3011\u4f53\u8abf\u4e0d\u826f\u307e\u305f\u306f\u602a\u6211\u3067\u7642\u990a\u4e2d\u3060\u3063\u305f\u304c\u5f37\u5236\u53ec\u559a\u3055\u308c\u305f\u3002"],[2,"\u3010\u5fd9\u6bba\u4e2d\u3011\u5225\u306e\u696d\u52d9\u3067\u5fd9\u6bba\u4e2d\u3067\u3042\u3063\u305f\u3002"],[3,"\u3010\u51fa\u5f35\u5e30\u308a\u3011\u9060\u65b9\u3067\u306e\u4ed5\u4e8b\u304b\u3089\u623b\u3063\u305f\u3070\u304b\u308a\u3002"],[4,"\u3010\u4f11\u6687\u53d6\u308a\u6d88\u3057\u3011\u4f11\u6687\u4e2d\u3060\u3063\u305f\u304c\u547c\u3073\u623b\u3055\u308c\u305f\u3002"],[5,"\u3010\u5e73\u5e38\u904b\u8ee2\u3011\u3044\u3064\u3082\u3069\u304a\u308a\u306e\u4ed5\u4e8b\u4e2d\u3060\u3063\u305f\u3002"],[6,"\u3010\u4f11\u6687\u660e\u3051\u3011\u5341\u5206\u306b\u4f11\u990a\u3092\u3068\u3063\u305f\u3042\u3068\u3067\u3001\u5fc3\u8eab\u3068\u3082\u306b\u5145\u5b9f\u3057\u3066\u3044\u308b\u3002"],[7,"\u3010\u4eba\u751f\u306e\u5c90\u8def\u3011\u4eba\u751f\u306e\u5c90\u8def\u306b\u307e\u3055\u306b\u5dee\u3057\u639b\u304b\u3063\u305f\u3068\u3053\u308d\u3067\u3042\u3063\u305f\u3002"],[8,"\u3010\u540c\u7a93\u4f1a\u3011\u304b\u3064\u3066\u306e\u540c\u7d1a\u751f\u306b\u4f1a\u3044\u3001\u5dee\u3092\u5b9f\u611f\u3057\u305f\u3070\u304b\u308a\u3060\u3063\u305f\u3002"],[9,"\u3010\u8ee2\u8077\u6d3b\u52d5\u4e2d\u3011\u8ee2\u8077\u3092\u8003\u3048\u3066\u6c42\u4eba\u30b5\u30a4\u30c8\u3092\u898b\u3066\u3044\u308b\u3068\u3053\u308d\u3060\u3063\u305f\u3002"],[10,"\u3010\u30b5\u30dc\u30ea\u4e2d\u3011\u4ed5\u4e8b\u3092\u30b5\u30dc\u3063\u3066\u3044\u308b\u3068\u3053\u308d\u306b\u547c\u3073\u51fa\u3057\u304c\u3042\u3063\u305f\u3002"]])},u.$$arity=0),t.def(_,"$tgr_common_trouble_table",s=function(){return this.$get_1d10_table_result("\u4e00\u822c\u30c8\u30e9\u30d6\u30eb\u8868",[[1,"\u30c8\u30e9\u30d6\u30eb\u304c\u751f\u3058\u305f\u304c\u3001\u9593\u4e00\u9aea\u3001\u5371\u6a5f\u3092\u8131\u3057\u305f\u3002\u3010\u30c0\u30e1\u30fc\u30b8\u306a\u3057\u3011"],[2,"\u3069\u3046\u306b\u304b\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3057\u305f\u304c\u3001\u975e\u5e38\u306b\u75b2\u52b4\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[3,"\u30bf\u30b9\u30af\u51e6\u7406\u306e\u904e\u7a0b\u3067\u8ca0\u50b7\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[4,"\u6050\u6016\u3084\u6df7\u4e71\u3001\u30b9\u30c8\u30ec\u30b9\u306a\u3069\u3067\u7cbe\u795e\u306e\u5747\u8861\u3092\u5d29\u3057\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[5,"\u904e\u53bb\u306e\u30c8\u30e9\u30a6\u30de\u306a\u3069\u3092\u601d\u3044\u51fa\u3057\u3001\u6c17\u5206\u304c\u6c88\u3093\u3067\u3057\u307e\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[6,"\u81ea\u8eab\u306e\u4fe1\u7528\u3092\u30ad\u30ba\u3064\u3051\u305f\u308a\u3001\u6c5a\u540d\u3092\u80cc\u8ca0\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[7,"\u4f1a\u793e\u3084\u4e0a\u53f8\u306e\u4e0d\u8208\u3092\u8cb7\u3063\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[8,"\u75b2\u52b4\u56f0\u618a\u3067\u52d5\u304f\u3053\u3068\u3082\u307e\u307e\u306a\u3089\u306a\u3044\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[9,"\u8ca0\u50b7\u3057\u305f\u3046\u3048\u3001\u4f1a\u793e\u306b\u640d\u5bb3\u3092\u4e0e\u3048\u3066\u3057\u307e\u3063\u305f\u3002\u3010\u8089\u4f53\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"],[10,"\u4e0a\u53f8\u304b\u3089\u53b3\u3057\u304f\u53f1\u8cac\u3055\u308c\u3001\u307e\u305a\u3044\u7acb\u5834\u306b\u306a\u3063\u305f\u3002\u3010\u7cbe\u795e\u30c0\u30e1\u30fc\u30b81\u70b9\uff0b\u74b0\u5883\u30c0\u30e1\u30fc\u30b81\u70b9\u3011"]])},s.$$arity=0),t.def(_,"$get_1d10_table_result",l=function(t,e){var n,r,a=this;return n=a.randomizer.$roll_once(10),r=a.$get_table_by_number(n,e),a.$get_table_result(t,n,r)},l.$$arity=2),t.def(_,"$get_table_result",c=function(t,e,n){return t+"("+e+") \uff1e "+n},c.$$arity=3)}(Opal)},28618:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f;n(93683),c=(r=Opal).$$,f=r.klass,a=l=[],$=s=[(_=r.module)(l[0],"BCDice")].concat(a),i=u=[_(s[0],"GameSystem")].concat($),o=[f(u[0],c(u,"Base"),"TokyoNova")].concat(i),r.const_set(o[0],"ID","TokyoNova"),r.const_set(o[0],"NAME","\u30c8\u30fc\u30ad\u30e7\u30fcN\u25ceVA"),r.const_set(o[0],"SORT_KEY","\u3068\u304a\u304d\u3088\u304a\u306e\u306f"),r.const_set(o[0],"HELP_MESSAGE","\u203b\u3053\u306e\u30c0\u30a4\u30b9\u30dc\u30c3\u30c8\u306f\u90e8\u5c4b\u306e\u30b7\u30b9\u30c6\u30e0\u540d\u8868\u793a\u7528\u3068\u306a\u308a\u307e\u3059\u3002\n")},53689:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y,T,h,S,D,g,E,R,A,v=[],B=t.nil,x=t.$$,C=t.module,M=t.klass,z=t.send,k=t.truthy;$=v,i=A=[C(v[0],"BCDice")].concat($),o=R=[C(A[0],"GameSystem")].concat(i),g=M(R[0],x(R,"Base"),"Torg"),E=[g].concat(o),g.$$prototype.randomizer=B,t.const_set(E[0],"ID","Torg"),t.const_set(E[0],"NAME","\u30c8\u30fc\u30b0"),t.const_set(E[0],"SORT_KEY","\u3068\u304a\u304f"),t.const_set(E[0],"HELP_MESSAGE",'\u30fb\u5224\u5b9a\u3000(TGm)\n\u3000TORG\u5c02\u7528\u306e\u5224\u5b9a\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\n\u3000"TG(\u6280\u80fd\u57fa\u672c\u5024)"\u3067\u30ed\u30fc\u30eb\u3057\u307e\u3059\u3002R\u30b3\u30de\u30f3\u30c9\u306b\u8aad\u66ff\u3055\u308c\u307e\u3059\u3002\n\u3000\u632f\u308a\u8db3\u3057\u3092\u81ea\u52d5\u3067\u884c\u3044\u300120\u306e\u51fa\u76ee\u304c\u51fa\u305f\u3068\u304d\u306b\u306f\u6280\u80fd\u7121\u3057\u5024\u3082\u4e26\u8a18\u3057\u307e\u3059\u3002\n\u30fb\u5404\u7a2e\u8868\u3000"(\u8868\u30b3\u30de\u30f3\u30c9)(\u6570\u5024)"\u3067\u632f\u308a\u307e\u3059\u3002\n\u3000\u30fb\u4e00\u822c\u7d50\u679c\u8868 \u6210\u529f\u5ea6\u51fa\u529b\u300cRTx or RESULTx\u300d\n\u3000\u30fb\u5a01\u5727/\u5a01\u5687 \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cITx or INTIMIDATEx or TESTx\u300d\n\u3000\u30fb\u6311\u767a/\u30c8\u30ea\u30c3\u30af \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cTTx or TAUNTx or TRICKx or CTx\u300d\n\u3000\u30fb\u9593\u5408\u3044 \u5bfe\u4eba\u884c\u70ba\u7d50\u679c\u8868\u300cMTx or MANEUVERx\u300d\n\u3000\u30fb\u30aa\u30fc\u30ba\uff08\u4e00\u822c\u4eba\uff09\u30c0\u30e1\u30fc\u30b8\u3000\u300cODTx or ORDSx or ODAMAGEx\u300d\n\u3000\u30fb\u30dd\u30b7\u30d3\u30ea\u30c6\u30a3\u30fc\u80fd\u529b\u8005\u30c0\u30e1\u30fc\u30b8\u300cDTx or DAMAGEx\u300d\n\u3000\u30fb\u30dc\u30fc\u30ca\u30b9\u8868\u300cBTx+y or BONUSx+y or TOTALx+y\u300d x\u306f\u6570\u5024, y\u306f\u6280\u80fd\u57fa\u672c\u5024\n'),g.$register_prefix("TG","1R20","RT","Result","IT","Intimidate","Test","TT","Taunt","Trick","CT","MT","Maneuver","ODT","ords","odamage","DT","damage","BT","bonus","total"),t.def(g,"$replace_text",u=function(t){var e;return t=(t=(t=(t=(t=(t=(t=t.$gsub(/Result/i,"RT")).$gsub(/(Intimidate|Test)/i,"IT")).$gsub(/(Taunt|Trick|CT)/i,"TT")).$gsub(/Maneuver/i,"MT")).$gsub(/(ords|odamage)/i,"ODT")).$gsub(/damage/i,"DT")).$gsub(/(bonus|total)/i,"BT"),(t=z(t,"gsub",[/TG(\d+)/i],((e=function(){return"1R20+"+x(E,"Regexp").$last_match(1)}).$$s=this,e.$$arity=0,e))).$gsub(/TG/i,"1R20")},u.$$arity=1),t.def(g,"$torg_check",s=function(r){var a,$,i=this,o=B,u=B,s=B,l=B,c=B,_=B;return k(/(^|\s)S?(1R20([+-]\d+)*)(\s|$)/i["$=~"](r))?(r=x(E,"Regexp").$last_match(2),o=x(E,"Regexp").$last_match(3),i.$debug(o),k(o)&&(o=x(E,"ArithmeticEvaluator").$eval(o)),i.$debug(o),o=o.$to_i(),$=i.$torg_dice(),s=null==(a=t.to_ary($))[1]?B:a[1],l=null==a[2]?B:a[2],c=i.$get_torg_bonus(u=null==a[0]?B:a[0]),_=n(_=k(o)?k(e(o,0))?c+"["+l+"]+"+o:c+"["+l+"]"+o:c+"["+l+"]",n(" \uff1e ",n(c,o).$to_s())),k(u["$!="](s))&&(_=n(_,n(n("(\u6280\u80fd\u7121",n(i.$get_torg_bonus(s),o).$to_s()),")"))),_="("+r+") \uff1e "+_):B},s.$$arity=1),t.def(g,"$torg_dice",l=function(){var t=B,e=B,r=B,a=B,$=B,i=B;for(t=!0,e=!0,r=0,a=0,$="";k(t);)r=n(r,i=this.randomizer.$roll_once(20)),k(e)&&(a=n(a,i)),k($["$empty?"]())||($=n($,",")),$=n($,i.$to_s()),i["$=="](20)?e=!1:k(i["$!="](10))&&(t=!1,e=!1);return[r,a,$]},l.$$arity=0),t.def(g,"$eval_game_system_specific_command",c=function(e){var n,r,a,$=this,i=B,o=B,u=B,s=B,l=B,c=B,_=B;return i=e.$upcase(),i=$.$replace_text(i),k(a=$.$torg_check(i))?a:(o="1",u="",s=0,k(/([RITMDB]T)(\d+([+\-]\d+)*)/i["$=~"](i))?(l=x(E,"Regexp").$last_match(1),c=x(E,"Regexp").$last_match(2),"RT"["$==="](_=l)?(s=x(E,"ArithmeticEvaluator").$eval(c),o=$.$get_torg_success_level(s),u="\u4e00\u822c\u7d50\u679c"):"IT"["$==="](_)?(s=x(E,"ArithmeticEvaluator").$eval(c),o=$.$get_torg_interaction_result_intimidate_test(s),u="\u5a01\u5727/\u5a01\u5687"):"TT"["$==="](_)?(s=x(E,"ArithmeticEvaluator").$eval(c),o=$.$get_torg_interaction_result_taunt_trick(s),u="\u6311\u767a/\u30c8\u30ea\u30c3\u30af"):"MT"["$==="](_)?(s=x(E,"ArithmeticEvaluator").$eval(c),o=$.$get_torg_interaction_result_maneuver(s),u="\u9593\u5408\u3044"):"DT"["$==="](_)?(s=x(E,"ArithmeticEvaluator").$eval(c),k(i["$=~"](/ODT/i))?(o=$.$get_torg_damage_ords(s),u="\u30aa\u30fc\u30ba\u30c0\u30e1\u30fc\u30b8"):(o=$.$get_torg_damage_posibility(s),u="\u30dd\u30b7\u30d3\u30ea\u30c6\u30a3\u80fd\u529b\u8005\u30c0\u30e1\u30fc\u30b8")):"BT"["$==="](_)&&(r=$.$get_torg_bonus_text(c),o=null==(n=t.to_ary(r))[0]?B:n[0],s=null==n[1]?B:n[1],u="\u30dc\u30fc\u30ca\u30b9"),k(u["$!="](""))&&(o=u+"\u8868["+s+"] \uff1e "+o),o):B)},c.$$arity=1),t.def(g,"$get_torg_success_level",_=function(t){return this.$get_torg_table_result(t,[[0,"\u304e\u308a\u304e\u308a"],[1,"\u3075\u3064\u3046"],[3,"\u307e\u3042\u3088\u3044"],[7,"\u304b\u306a\u308a\u3088\u3044"],[12,"\u3059\u3054\u3044"]])},_.$$arity=1),t.def(g,"$get_torg_interaction_result_intimidate_test",f=function(t){return this.$get_torg_table_result(t,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u840e\u7e2e"],[10,"\u9006\u8ee2\u8ca0\u3051"],[15,"\u30e2\u30e9\u30eb\u5d29\u58ca"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},f.$$arity=1),t.def(g,"$get_torg_interaction_result_taunt_trick",m=function(t){return this.$get_torg_table_result(t,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u840e\u7e2e"],[10,"\u9006\u8ee2\u8ca0\u3051"],[15,"\u9ad8\u63da\uff0f\u9006\u8ee2\u8ca0\u3051"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},m.$$arity=1),t.def(g,"$get_torg_interaction_result_maneuver",d=function(t){return this.$get_torg_table_result(t,[[0,"\u6280\u80fd\u306a\u3057"],[5,"\u75b2\u52b4"],[10,"\u840e\u7e2e\uff0f\u75b2\u52b4"],[15,"\u9006\u8ee2\u8ca0\u3051\uff0f\u75b2\u52b4"],[17,"\u30d7\u30ec\u30a4\u30e4\u30fc\u30ba\u30b3\u30fc\u30eb"]])},d.$$arity=1),t.def(g,"$get_torg_table_result",p=function(n,r){var a,$=this,i=B;return i="1",function(){var o=t.new_brk();try{z(r,"each",[],((a=function(r){var a;return null==r&&(r=B),a=r["$[]"](0),k(e(a,n))&&t.brk(B,o),i=r["$[]"](1)}).$$s=$,a.$$brk=o,a.$$arity=1,a))}catch(u){if(u===o)return u.$v;throw u}}(),i},p.$$arity=2),t.def(g,"$get_torg_damage_ords",b=function(t){return this.$get_torg_damage(t,4,"\u30ec\u30d9\u30eb\u8ca0\u50b7  KO15",[[0,"1"],[1,"O1"],[2,"K1"],[3,"O2"],[4,"O3"],[5,"K3"],[6,"\u8ee2\u5012 K\uff0fO4"],[7,"\u8ee2\u5012 K\uff0fO5"],[8,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO7"],[9,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO9"],[10,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO10"],[11,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  K\uff0fO11"],[12,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  KO12"],[13,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO13"],[14,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO14"],[15,"4\u30ec\u30d9\u30eb\u8ca0\u50b7  KO15"]])},b.$$arity=1),t.def(g,"$get_torg_damage_posibility",y=function(t){return this.$get_torg_damage(t,3,"\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5",[[0,"1"],[1,"1"],[2,"O1"],[3,"K2"],[4,"2"],[5,"O2"],[6,"\u8ee2\u5012 O2"],[7,"\u8ee2\u5012 K2"],[8,"\u8ee2\u5012 K2"],[9,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K3"],[10,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K4"],[11,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  O4"],[12,"1\u30ec\u30d9\u30eb\u8ca0\u50b7  K5"],[13,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  O4"],[14,"2\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5"],[15,"3\u30ec\u30d9\u30eb\u8ca0\u50b7  KO5"]])},y.$$arity=1),t.def(g,"$get_torg_damage",T=function(t,e,$,i){var o,u=B;return k("number"==typeof(o=t)?o<0:o["$<"](0))?"1":(u=r(i.$length(),1),k(function(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}(t,u))?this.$get_torg_table_result(t,i):n(n("",n(a(r(t,u),2).$to_i(),e).$to_s()),$))},T.$$arity=4),t.def(g,"$get_torg_bonus_text",h=function(t){var e=this,n=B,r=B,a=B,$=B,i=B;return r=(n=t.$split(/\+/)).$shift().$to_i(),a=x(E,"ArithmeticEvaluator").$eval(n.$join("+")),$=e.$get_torg_bonus(r),e.$debug("TORG BT resultValue",$),e.$debug("TORG BT mod",a),a["$=="](0)?i=$.$to_s():(i=e.$getTorgBonusOutputTextWhenModDefined(r,$,a),r=r+"+"+a),[i,r]},h.$$arity=1),t.def(g,"$getTorgBonusOutputTextWhenModDefined",S=function(t,r,a){var $=this;return $.$debug("getTorgBonusOutputTextWhenModDefined value, mod",t,a),k(e(a,0))?r+"["+t+"]+"+a+" \uff1e "+n(r,a):($.$debug("resultValue",r),$.$debug("mod",a),r+"["+t+"]"+a+" \uff1e "+n(r,a))},S.$$arity=3),t.def(g,"$get_torg_bonus",D=function(t){var $=B,i=B;return $=this.$get_torg_table_result(t,[[1,-12],[2,-10],[3,-8],[5,-5],[7,-2],[9,-1],[11,0],[13,1],[15,2],[16,3],[17,4],[18,5],[19,6],[20,7]]),k(e(t,20))&&(i=n(a(r(t,21),5).$to_i(),1),$=n($,i)),$},D.$$arity=1)}(Opal)},62398:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var a,$,i,o,u,s,l,c,_,f,m,d=[],p=t.nil,b=t.$$$,y=t.$$,T=t.module,h=t.klass,S=t.hash2,D=t.truthy,g=t.send;a=d,$=m=[T(d[0],"BCDice")].concat(a),i=f=[T(m[0],"GameSystem")].concat($),c=h(f[0],y(f,"Base"),"ToshiakiHolyGrailWar"),_=[c].concat(i),c.$$prototype.randomizer=p,t.const_set(_[0],"ID","ToshiakiHolyGrailWar"),t.const_set(_[0],"NAME","\u3068\u3057\u3042\u304d\u306e\u8056\u676f\u6226\u4e89TRPG"),t.const_set(_[0],"SORT_KEY","\u3068\u3057\u3042\u304d\u306e\u305b\u3044\u306f\u3044\u305b\u3093\u305d\u3046TRPG"),t.const_set(_[0],"HELP_MESSAGE","\u25a0 \u5224\u5b9a (Fx+y-z@a>=t)\n  \u88dc\u6b63\u5024\u30da\u30ca\u30eb\u30c6\u30a3\u3092\u81ea\u52d5\u8a08\u7b97\u3057\u3066\u30c0\u30a4\u30b9\u306e\u9762\u6570\u3092\u6c7a\u5b9a\u3057\u30c0\u30a4\u30b9\u30ed\u30fc\u30eb\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\n  \u30c0\u30a4\u30b9\u9762\u6570\u306f2\u4ee5\u4e0a\u300110\u4ee5\u4e0b\u306e\u7bc4\u56f2\u306b\u5236\u9650\u3055\u308c\u307e\u3059\u3002\n  x: \u30b9\u30c6\u30fc\u30bf\u30b9\n  y: \u88dc\u6b63\u5024 (\u4efb\u610f)\n  z: \u30de\u30a4\u30ca\u30b9\u88dc\u6b63\u5024 (\u4efb\u610f)\n  a: \u30c0\u30a4\u30b9\u9762\u6570\u306e\u5897\u91cf (\u4efb\u610f)\n  t: \u76ee\u6a19\u5024 (\u4efb\u610f)\n  \u4f8b)\n    F8+11, F8+11-5, F8+11-5@1, F8+11+9-3-2@-1, F8+11-5>=50, F8\n"),c.$register_prefix("F"),t.def(c,"$eval_game_system_specific_command",o=function(t){return this.$roll_f(t)},o.$$arity=1),c.$private(),t.def(c,"$roll_f",u=function(r){var a=this,$=p,i=p,o=p,u=p,s=p,l=p,c=p,f=p,m=p,d=p,T=p,h=p,E=p;return $=b(y(_,"Command"),"Parser").$new(/F(\d+)(\+\d+)*(-\d+)*/,S(["round_type"],{round_type:b(y(_,"RoundType"),"CEIL")})).$disable_modifier().$enable_critical().$parse(r),D($)&&(i=$.$command().$match(/^F(\d+)((?:\+\d+)+)?((?:-\d+)+)?$/),D(i))?(o=i["$[]"](1).$to_i(),u=D(i["$[]"](2))?y(_,"Arithmetic").$eval(i["$[]"](2),b(y(_,"RoundType"),"CEIL")):0,s=D(i["$[]"](3))?y(_,"Arithmetic").$eval(i["$[]"](3),b(y(_,"RoundType"),"CEIL")):0,l=D(c=$.$critical())?c:0,f=[e(e(o,u),s),0].$max(),m=e(e(n(6,a.$positive_modifier_penalty(u)),a.$negative_modifier_bonus(s)),l).$clamp(2,10),T=(d=a.randomizer.$roll_barabara(f,m)).$sum(),h=D($.$cmp_op()["$nil?"]())?y(_,"Result").$new():D(T.$send($.$cmp_op(),$.$target_number()))?y(_,"Result").$success("\u6210\u529f"):y(_,"Result").$failure("\u5931\u6557"),E=[[$,"("+f+"D"+m+$.$cmp_op()+$.$target_number()+")",T+"["+d.$join(",")+"]",T,h.$text()].$compact().$join(" \uff1e ")],g(h,"text=",t.to_a(E)),n(E.length,1),h):p},u.$$arity=1),t.def(c,"$positive_modifier_penalty",s=function(t){return D(r(t,10))?0:(e=t,"number"==typeof e?e/10:e["$/"](10)).$to_i();var e},s.$$arity=1),t.def(c,"$negative_modifier_bonus",l=function(t){return D(r(t,-5))?1:0},l.$$arity=1)}(Opal)},51491:function(t,e,n){n(93683),Opal.modules["bcdice/dice_table/table"]=function(t){var e,n,r,a,$,i,o,u,s,l,c,_=[],f=t.nil,m=t.$$,d=t.module,p=t.klass,b=t.hash2,y=t.truthy;return e=_,n=c=[d(_[0],"BCDice")].concat(e),r=l=[d(c[0],"DiceTable")].concat(n),u=p(l[0],null,"Table"),s=[u].concat(r),u.$$prototype.times=u.$$prototype.sides=u.$$prototype.name=u.$$prototype.items=f,t.defs(u,"$from_i18n",a=function(t,e){var n=f;return n=m(s,"I18n").$t(t,b(["locale"],{locale:e})),this.$new(n["$[]"]("name"),n["$[]"]("type"),n["$[]"]("items"))},a.$$arity=2),t.def(u,"$initialize",$=function(t,e,n){var r=this,a=f;return r.name=t,r.items=n.$freeze(),a=/(\d+)D(\d+)/i.$match(e),y(a)||r.$raise(m(s,"ArgumentError"),"Unexpected table type: "+e),r.times=a["$[]"](1).$to_i(),r.sides=a["$[]"](2).$to_i()},$.$$arity=3),t.def(u,"$roll",i=function(t){var e,n=this;return e=t.$roll_sum(n.times,n.sides),n.$choice(e)},i.$$arity=1),void t.def(u,"$choice",o=function(t){var e,n=this;return e=function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}(t,n.times),m(s,"RollResult").$new(n.name,t,n.items["$[]"](e))},o.$$arity=1)},Opal.modules["bcdice/format"]=function(t){var e,n,r,a,$,i,o,u=[],s=t.nil,l=t.$$,c=t.module,_=t.truthy;return e=u,n=o=[c(u[0],"BCDice")].concat(e),$=c(o[0],"Format"),i=[$].concat(n),$.$module_function(),t.def($,"$comparison_operator",r=function(t){var e;return"=="["$==="](e=t)?"=":"!="["$==="](e)?"<>":l(i,"Symbol")["$==="](e)?t.$to_s():s},r.$$arity=1),void t.def($,"$modifier",a=function(t){return _(t["$nil?"]())?s:t["$=="](0)?"":_("number"==typeof(e=t)?e>0:e["$>"](0))?"+"+t:t.$to_s();var e},a.$$arity=1)},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y,T=t.top,h=[],S=t.nil,D=t.$$$,g=t.$$,E=t.module,R=t.klass,A=t.truthy,v=t.hash2,B=t.range,x=t.send;T.$require("bcdice/dice_table/table"),T.$require("bcdice/format"),$=h,i=y=[E(h[0],"BCDice")].concat($),o=b=[E(y[0],"GameSystem")].concat(i),d=R(b[0],g(b,"Base"),"TrinitySeven"),p=[d].concat(o),d.$$prototype.randomizer=S,t.const_set(p[0],"ID","TrinitySeven"),t.const_set(p[0],"NAME","\u30c8\u30ea\u30cb\u30c6\u30a3\u30bb\u30d6\u30f3RPG"),t.const_set(p[0],"SORT_KEY","\u3068\u308a\u306b\u3066\u3044\u305b\u3075\u3093RPG"),t.const_set(p[0],"HELP_MESSAGE",'\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u304c\u5909\u52d5\u3057\u305f\u547d\u4e2d\u53ca\u3073\u30017\u306e\u51fa\u76ee\u304c\u3042\u308b\u5834\u5408\u306e\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\u304c\u884c\u306a\u3048\u307e\u3059\u3002\n\u306a\u304a\u3001\u901a\u5e38\u306e\u5224\u5b9a\u3068\u3057\u3066\u3082\u5229\u7528\u3067\u304d\u307e\u3059\u3002\n\n\u30fb\u767a\u52d5/\u547d\u4e2d\u3000\uff3bTR(\xb1c*)<=(x)\xb1(y*) \u53c8\u306f TR<=(x) \u306a\u3069\uff3d*\u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u9805\u76ee\u3067\u3059\u3002\n"TR(\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u306e\u4fee\u6b63\u5024*)<=(\u767a\u52d5/\u547d\u4e2d)\xb1(\u767a\u52d5/\u547d\u4e2d\u306e\u4fee\u6b63\u5024*)"\n\u52a0\u7b97\u6e1b\u7b97\u306e\u307f\u4fee\u6b63\u5024\u3082\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002 \uff3b\u4fee\u6b63\u5024\uff3d\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\uff09TR<=50 TR<=60+20 TR7<=40 TR-7<=80 TR+10<=80+20\n\n\u30fb\u30c0\u30e1\u30fc\u30b8\u8a08\u7b97\u3000\uff3b(x)DM(c*)\xb1(y*) \u53c8\u306f (x)DM(c*) \u53c8\u306f (x)DM\xb1(y*)\uff3d*\u306f\u5fc5\u9808\u3067\u306f\u306a\u3044\u9805\u76ee\u3067\u3059\u3002\n"(\u30c0\u30a4\u30b9\u6570)DM(7\u306e\u51fa\u76ee\u306e\u6570*)+(\u4fee\u6b63*)"\n\u52a0\u7b97\u6e1b\u7b97\u306e\u307f\u4fee\u6b63\u5024\u3082\u4ed8\u3051\u3089\u308c\u307e\u3059\u3002 \uff3b7\u306e\u51fa\u76ee\u306e\u6570\uff3d\u304a\u3088\u3073\uff3b\u4fee\u6b63\u5024\uff3d\u306f\u5fc5\u9808\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n\u4f8b\uff096DM2+1 5DM2 4DM 3DM+3\n\u5f8c\u304b\u30897\u306e\u51fa\u76ee\u306b\u5909\u66f4\u3059\u308b\u5834\u5408\u306fC(7*6\uff0b5)\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u3066\u8a08\u7b97\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n\u30fb\u540d\u524d\u8868\u3000[TRNAME]\n\u540d\u5b57\u3068\u540d\u524d\u3092\u51fa\u3057\u307e\u3059\u3002PC\u3084\u7a81\u7136\u73fe\u308c\u305fNPC\u306e\u540d\u4ed8\u3051\u306b\u3069\u3046\u305e\u3002\n\n'),d.$register_prefix("\\d+DM","TR","TRNAME"),t.def(d,"$eval_game_system_specific_command",u=function(t){var e,n,r=this;return r.$debug("eval_game_system_specific_command command",t),A(e=A(n=r.$roll_hit(t))?n:r.$roll_damage(t))?e:r.$roll_name(t)},u.$$arity=1),t.def(d,"$roll_hit",s=function(r){var a=this,$=S,i=S,o=S,u=S,s=S,l=S,c=S;return $=D(g(p,"Command"),"Parser").$new(/TR\d*/,v(["round_type"],{round_type:a.$round_type()})).$restrict_cmp_op_to("<=").$parse(r),A($)?(i=e($.$command()["$[]"](B(2,-1,!1)).$to_i(),$.$modify_number()),o=e(7,i),u=$.$target_number(),s=a.randomizer.$roll_once(100),l=a.$get_hit_roll_result(s,u,o),x($,"command=",t.to_a(c=["TR"])),n(c.length,1),x($,"modify_number=",t.to_a(c=[i])),n(c.length,1),c=["("+$+") \uff1e "+s+" \uff1e "+l.$text()],x(l,"text=",t.to_a(c)),n(c.length,1),a.$debug("eval_game_system_specific_command result text",l.$text()),l):S},s.$$arity=1),t.def(d,"$get_hit_roll_result",l=function(t,e,n){return A(r(t,96))?g(p,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):A(a(t,n))?g(p,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):A(a(t,e))?g(p,"Result").$success("\u6210\u529f"):g(p,"Result").$failure("\u5931\u6557")},l.$$arity=3),t.def(d,"$roll_damage",c=function(e){var n,r,a=this,$=S,i=S,o=S,u=S,s=S,l=S,c=S,_=S;return $=D(g(p,"Command"),"Parser").$new(/\d+DM\d*/,v(["round_type"],{round_type:a.$round_type()})).$restrict_cmp_op_to(S).$parse(e),A($)?(r=x($.$command().$split("DM",2),"map",[],"to_i".$to_proc()),i=null==(n=t.to_ary(r))[0]?S:n[0],o=null==n[1]?S:n[1],u=$.$modify_number(),l=(s=a.randomizer.$roll_barabara(i,6).$sort()).$join(","),r=a.$get_roll_damage_result(i,o,s,u),c=null==(n=t.to_ary(r))[0]?S:n[0],"("+$+") \uff1e ["+l+"]"+(A((_=null==n[1]?S:n[1])["$nil?"]())?"":"\u2192["+_.$join(",")+"]")+g(p,"Format").$modifier(u)+" \uff1e "+c):S},c.$$arity=1),t.def(d,"$get_roll_damage_result",_=function(t,n,r,$){var i,o=S,u=S;return A(a(n,0))?[e(r.$sum(),$),S]:(o=r.$clone(),A(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(n,t))&&(n=t),x(n,"times",[],((i=function(){return o.$shift(),r.$shift(),r.$push(7)}).$$s=this,i.$$arity=0,i)),u=o.$pop(),A(u["$nil?"]())&&(u=1),[e(e(function(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}(u,7["$**"](n)),o.$sum()),$),r])},_.$$arity=4),t.def(d,"$result_1d100",f=function(t,e,n,$){return A(r(e,96))?g(p,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):A(a(e,7))?g(p,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):S},f.$$arity=4),t.def(d,"$roll_name",m=function(t){return t["$=="]("TRNAME")?g(p,"NAME1").$roll(this.randomizer).$last_body()+" , "+g(p,"NAME2").$roll(this.randomizer).$last_body():S},m.$$arity=1),t.const_set(p[0],"NAME1",D(g(p,"DiceTable"),"Table").$new("\u540d\u5b57\u8868","1D100",["\u6625\u65e5","\u6d45\u898b","\u98a8\u9593","\u795e\u7121\u6708","\u5009\u7530","\u4e0d\u52d5","\u5c71\u5948","\u30b7\u30e3\u30eb\u30ed\u30c3\u30af","\u9727\u96a0","\u679c\u5fc3","\u4eca\u4e95","\u9577\u702c","\u660e\u667a","\u98a8\u796d","\u5fd7\u8cab","\u4e00\u6587\u5b57","\u6708\u591c\u91ce","\u685c\u7530\u9580","\u679c\u702c","\u4e5d\u5341\u4e5d","\u901f\u6c34","\u7247\u6850","\u8449\u6708","\u30a6\u30a3\u30f3\u30b6\u30fc","\u6642\u96e8\u91cc","\u795e\u57ce","\u6c34\u969b","\u4e00\u30ce\u6c5f","\u4ec1\u85e4","\u5317\u5343\u4f4f","\u897f\u6751","\u8acf\u8a2a","\u85e4\u5bae","\u5fa1\u4ee3","\u6a58","\u9727\u751f","\u767d\u77f3","\u690e\u540d","\u7dbe\u5c0f\u8def","\u4e8c\u6761","\u5149\u660e\u5bfa","\u6625\u79cb","\u96ea\u898b","\u5200\u6761\u9662","\u30e9\u30f3\u30ab\u30b9\u30bf\u30fc","\u30cf\u30af\u30a2","\u30a8\u30eb\u30bf\u30cb\u30a2","\u30cf\u30fc\u30cd\u30b9","\u30a2\u30a6\u30b0\u30b9\u30c8\u30a5\u30b9","\u690e\u540d\u753a","\u9375\u5b88","\u831c\u30f6\u5d0e","\u93ae\u5bae","\u7f8e\u67f3","\u9396\u3005\u585a","\u6afb\u30ce\u675c","\u93e1\u30f6\u5b88","\u8f1d\u4e95","\u5357\u967d","\u96ea\u4e43\u57ce","\u516d\u89d2\u5c4b","\u9234\u3005","\u6771\u4e09\u6761","\u6731\u96c0\u9662","\u9752\u9f8d\u9662","\u767d\u864e\u9662","\u7384\u6b66\u9662","\u9e92\u9e9f\u9662","\u30ea\u30fc\u30b7\u30e5\u30bf\u30c3\u30c8","\u30b5\u30f3\u30af\u30c1\u30e5\u30a2\u30ea","\u516d\u5b9f","\u9808\u85e4","\u30df\u30ec\u30cb\u30a2\u30e0","\u4e03\u91cc","\u4e09\u679d","\u516b\u6bbf","\u85e4\u91cc","\u4e45\u5b9d","\u6771","\u8d64\u897f","\u795e\u30f6\u5d0e","\u30b0\u30e9\u30f3\u30b7\u30a2","\u30c0\u30fc\u30af\u30d6\u30fc\u30ec\u30fc\u30c9","\u5929\u5149\u5bfa","\u6708\u898b\u91cc","\u7483\u5bae","\u85e4\u898b\u6fa4","\u8d64\u8056","\u59eb\u5bae","\u83ef\u30ce\u5bae",'"\u5929\u624d"','"\u9054\u4eba"','"\u8ce2\u8005"','"\u75be\u98a8"','"\u6d77\u306e"','"\u6700\u5f37"','"\u51f6\u5668"','"\u707c\u71b1"','"\u4eba\u9593\u5175\u5668"','"\u9b54\u738b"'])),t.const_set(p[0],"NAME2",D(g(p,"DiceTable"),"Table").$new("\u540d\u5b57\u8868","1D100",["\u30a2\u30e9\u30bf/\u8056","\u30a2\u30d3\u30a3\u30b9/\u30ea\u30ea\u30b9","\u30eb\u30fc\u30b0/\u30ec\u30f4\u30a3","\u30e9\u30b9\u30c8/\u30a2\u30ea\u30f3","\u30bd\u30e9/\u30e6\u30a4","\u30a4\u30fc\u30ea\u30a2\u30b9/\u30a2\u30ad\u30aa","\u30a2\u30ab\u30fc\u30b7\u30e3/\u30df\u30e9","\u30a2\u30ea\u30a8\u30b9/\u30ea\u30fc\u30bc\u30ed\u30c3\u30c6","\u30e0\u30e9\u30b5\u30e1/\u30b7\u30e3\u30eb\u30e0","\u9f8d\u8cb4/\u7adc\u59eb","\u82f1\u6a39/\u6625\u83dc","\u6e96\u4e00/\u6e4a","\u6025\u53f8\u90ce/\u5149\u7406","\u5915\u4e5f/\u611b\u5948","\u6674\u5f66/\u30a2\u30ad","\u75be\u98a8/\u30e4\u30b7\u30ed","\u30ab\u30ac\u30ea/\u706f\u82b1","\u6b21\u90ce/\u512a\u90fd","\u6625\u592a\u90ce/\u9759\u7406","\u30b8\u30f3/\u6642\u96e8","\u30a4\u30aa\u30ea/\u4f0a\u7e54","\u30e6\u30a6\u30d2/\u512a\u59eb","\u30b5\u30c4\u30ad/\u7fe0\u540d","\u30b7\u30e5\u30e9\u30a4/\u30b5\u30af\u30e9","\u30df\u30ca\u30c5\u30ad/\u59eb\u4e43","\u30ab\u30a8\u30c7/\u512a\u6a39\u83dc","\u30cf\u30eb/\u30d5\u30e6","\u30c9\u30fc\u30eb/\u745e\u6c5f","\u30cb\u30c8\u30a5\u30ec\u30b9\u30c8/\u30ad\u30ea\u30ab","\u30b9\u30ab\u30fc/\u7dbe\u702c","\u771f\u590f/\u5c0f\u590f","\u5149\u4e00/\u306e\u306e\u304b","\u5f69/\u7fe0","\u30c8\u30a6\u30ab/\u67ca\u82b1","\u547d/\u30df\u30b3\u30c8","\u53f8/\u3064\u304b\u3055","\u3086\u3068\u308a/\u306a\u3054\u307f","\u51ac\u5f66/\u89b3\u6708","\u30ab\u30ec\u30f3/\u83ef\u604b","\u6e05\u6b21\u90ce/\u4e9c\u77e2","\u30b5\u30fc\u30c9/\u5922\u5b50","\u30dc\u30c3\u30af\u30b9/\u8a69\u5b50","\u30d8\u30ea\u30aa\u30b9/\u30ab\u30a8\u30c7","\u30b2\u30fc\u30c8/\u4eac\u9999","\u30aa\u30f3\u30ea\u30fc/\u30d1\u30c8\u30ea\u30b7\u30a2","\u30b6\u30c3\u30cf\u30fc\u30af/\u30a2\u30fc\u30ea","\u30e9\u30b9\u30bf\u30d0\u30f3/\u30e9\u30b9\u30c6\u30a3","\u685c\u82b1/\u71c1\u6f84","\u8a08\u90fd/\u30ea\u30f4\u30a3\u30a2","\u30ab\u30eb\u30f4\u30a1\u30ea\u30aa/\u9999\u591c","\u60a0\u4eba/\u591c\u3005\u5b50","\u592a\u5b50/\u7fbd\u83dc","\u5915\u7acb/\u5915\u51ea","\u30a2\u30eb\u30d5/\u611b\u7f8e","\u30d5\u30a1\u30ed\u30b9/\u706f\u5229","\u30b9\u30d7\u30fc\u30c8\u30cb\u30af/\u8a69\u59eb","\u30a2\u30fc\u30cd\u30b9\u30c8/\u7d2f","\u30ca\u30a4\u30f3/\u30ab\u30b0\u30e4","\u30af\u30ea\u30a2/\u30d2\u30de\u30ef\u30ea","\u30a6\u30a9\u30fc\u30ab\u30fc/\u30aa\u30ea\u30d3\u30a2","\u30c0\u30fc\u30af/\u30af\u30aa\u30f3","\u30a6\u30a7\u30a4\u30f4/\u51db","\u30eb\u30fc\u30f3/\u30de\u30ea\u30a8","\u30a8\u30f3\u30ae/\u30bb\u30a4\u30ae","\u30b7\u30e9\u30cc\u30a4/\u30df\u30e9\u30a4","\u30d6\u30e9\u30a4\u30f3/\u30ad\u30ba\u30ca","\u30af\u30ed\u30a6/\u30ab\u30ca\u30bf","\u30b9\u30ec\u30a4\u30e4\u30fc/\u30d2\u30ab\u30eb","\u30ec\u30b9/\u30df\u30ea\u30a2\u30ea\u30a2","\u30df\u30d5\u30e6/\u30b5\u30ea\u30a8\u30eb","\u9cf4\u592e/\u97f3\u592e","\u30e2\u30f3\u30b8/\u7406\u4e9c","\u30d1\u30eb\u30c7\u30e2\u30f3\u30c8\u30a5\u30e0/\u30b9\u30ca\u30aa","\u30df\u30b7\u30a7\u30eb/\u8a69\u7a42","\u30d5\u30ec\u30f3\u30ba/\u30b5\u30f3","\u30b5\u30c8\u30ea/\u8b58","\u30ed\u30fc\u30c9/\u552f\u82b1","\u30af\u30ed\u30ce\u30b9/\u4e45\u5b9d","\u30d5\u30a3\u30e9\u30c7\u30eb\u30d5\u30a3\u30a2/\u51ac\u6d77","\u30c6\u30a3\u30f3\u30c0\u30ed\u30b9/\u7f8e\u661f","\u52c7\u5f25/\u30e6\u30fc\u30ea\u30b9","\u30a8\u30a4\u30c8/\u30a2\u30f3\u30b8\u30a7\u30e9","\u30b5\u30bf\u30f3/\u30eb\u30b7\u30a8\u30eb","\u30a8\u30fc\u30b9/\u5c0f\u6ce2","\u30bb\u30fc\u30b8/\u80e1\u8776","\u5fcd/\u5343\u4e4b","\u91cd\u543e/\u30ad\u30ea\u30b3","\u30de\u30a4\u30b1\u30eb/\u30df\u30db\u30b7","\u30ab\u30ba\u30de/\u9db4\u9999","\u30e4\u30de\u30c8/\u30a8\u30ea\u30b7\u30a8\u30eb","\u6b74\u53f2\u4e0a\u306e\u4eba\u7269\u306e\u540d\u524d\uff08\u4fe1\u9577\u3001\u30b8\u30e3\u30f3\u30cc\u306a\u3069\uff09","\u30b9\u30dd\u30fc\u30c4\u9078\u624b\u306e\u540d\u524d\uff08\u30d9\u30c3\u30ab\u30e0\u3001\u6c99\u4fdd\u91cc\u306a\u3069\uff09","\u5b66\u8005\u306e\u540d\u524d\uff08\u30bd\u30af\u30e9\u30c6\u30b9\u3001\u30a8\u30ec\u30ca\u306a\u3069\uff09","\u30a2\u30a4\u30c9\u30eb\u306e\u540d\u524d\uff08\u30bf\u30af\u30e4\u3001\u8056\u5b50\u306a\u3069\uff09","\u571f\u5730\u3001\u56fd\u3001\u753a\u306e\u540d\u524d\uff08\u30a4\u30f3\u30b0\u30e9\u30f3\u30c9\u3001\u30ef\u30b7\u30f3\u30c8\u30f3\u306a\u3069\uff09","\u30e2\u30f3\u30b9\u30bf\u30fc\u306e\u540d\u524d\uff08\u30c9\u30e9\u30b4\u30f3\u3001\u30e9\u30df\u30a2\u306a\u3069\uff09","\u6b66\u5668\u9632\u5177\u306e\u540d\u524d\uff08\u30bd\u30fc\u30c9\u3001\u30e1\u30a4\u30eb\u306a\u3069\uff09","\u81ea\u7136\u73fe\u8c61\u306e\u540d\u524d\uff08\u30ab\u30b6\u30f3\u30cf\u30ea\u30b1\u30fc\u30f3\u306a\u3069\uff09","\u6a5f\u68b0\u306e\u540d\u524d\uff08\u6d17\u6fef\u6a5f\u3001\u30c6\u30ec\u30d3\u306a\u3069\uff09","\u76ee\u306b\u3064\u3044\u305f\u7269\u306e\u540d\u524d\uff08\u30b7\u30e3\u30fc\u30da\u30f3\u3001\u30e1\u30ac\u30cd\u306a\u3069\uff09"]))}(Opal)},25361:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.hash,E=t.truthy,R=t.send;r=y,a=b=[S(y[0],"BCDice")].concat(r),$=p=[S(b[0],"GameSystem")].concat(a),m=D(p[0],h(p,"Base"),"Utakaze"),d=[m].concat($),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","Utakaze"),t.const_set(d[0],"NAME","\u30a6\u30bf\u30ab\u30bc"),t.const_set(d[0],"SORT_KEY","\u3046\u305f\u304b\u305b"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK\uff09\n  n\u500b\u306e\u30b5\u30a4\u30b3\u30ed\u3067\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\u30be\u30ed\u76ee\u306e\u6700\u5927\u500b\u6570\u3092\u6210\u529f\u30ec\u30d9\u30eb\u3068\u3057\u3066\u8868\u793a\u3002n\u3092\u7701\u7565\u3059\u308b\u30682UK\u6271\u3044\u3002\n  \u4f8b\uff093UK \uff1a\u30b5\u30a4\u30b3\u30ed3\u500b\u3067\u884c\u70ba\u5224\u5b9a\n  \u4f8b\uff09UK  \uff1a\u30b5\u30a4\u30b3\u30ed2\u500b\u3067\u884c\u70ba\u5224\u5b9a\n\u30fb\u96e3\u6613\u5ea6\u4ed8\u304d\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK>=t\uff09\n  t\u306b\u96e3\u6613\u5ea6\u3092\u6307\u5b9a\u3057\u305f\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\n  \u6210\u529f\u30ec\u30d9\u30eb\u3068\u96e3\u6613\u5ea6t\u3092\u6bd4\u3079\u3066\u6210\u5426\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002\n  \u4f8b\uff096UK>=3 \uff1a\u30b5\u30a4\u30b3\u30ed6\u500b\u3067\u884c\u70ba\u5224\u5b9a\u3057\u3066\u3001\u6210\u529f\u30ec\u30d9\u30eb3\u304c\u51fa\u308c\u3070\u6210\u529f\u3002\n\u30fb\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u4ed8\u304d\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\uff08nUK@c or nUKc\uff09\n  c\u306b\u300c\u9f8d\u306e\u30c0\u30a4\u30b9\u76ee\u300d\u3092\u6307\u5b9a\u3057\u305f\u884c\u70ba\u5224\u5b9a\u30ed\u30fc\u30eb\u3002\n  \u30be\u30ed\u76ee\u3067\u306f\u306a\u304f\u3001c\u3068\u540c\u3058\u5024\u306e\u51fa\u76ee\u6570x2\u304c\u6210\u529f\u30ec\u30d9\u30eb\u3068\u306a\u308a\u307e\u3059\u3002\u96e3\u6613\u5ea6\u306e\u6307\u5b9a\u3082\u53ef\u80fd\u3067\u3059\u3002\n  \u4f8b\uff093UK@5 \uff1a\u9f8d\u306e\u30c0\u30a4\u30b9\u300c\u6708\u300d\u3067\u30af\u30ea\u30c6\u30a3\u30ab\u30eb\u30b3\u30fc\u30eb\u5ba3\u8a00\u3057\u305f\u30b5\u30a4\u30b3\u30ed3\u500b\u306e\u884c\u70ba\u5224\u5b9a\n"),m.$register_prefix("\\d*UK"),t.def(m,"$eval_game_system_specific_command",i=function(t){return this.$debug("eval_game_system_specific_command command",t),this.$check_roll(t)},i.$$arity=1),m.$private(),t.const_set(d[0],"DRAGON_DICE_NAME",g(1,"\u98a8",2,"\u96e8",3,"\u96f2",4,"\u5f71",5,"\u6708",6,"\u6b4c").$freeze()),t.def(m,"$check_roll",o=function(n){var r,a=this,$=T,i=T,o=T,u=T,s=T,l=T,c=T,_=T;return $=/^(\d+)?UK(@?(\d))?(>=(\d+))?$/i.$match(n),!E($)||(i=(E(o=$["$[]"](1))?o:2).$to_i(),u=$["$[]"](3).$to_i(),s=$["$[]"](5).$to_i(),i=a.$getValue(i),u=a.$getValue(u),E("number"==typeof(r=i)?r<1:r["$<"](1)))?T:(E(e(u,6))&&(u=6),l=a.randomizer.$roll_barabara(i,6).$sort(),c=a.$get_roll_result(l,u,s),_=[[n,"("+i+"D6)","["+l.$join(",")+"]",c.$text()].$join(" \uff1e ")],R(c,"text=",t.to_a(_)),function(t,e){"number"==typeof t||t["$-"](1)}(_.length),c)},o.$$arity=1),t.def(m,"$get_roll_result",u=function(e,r,a){var $,i,o,u,s,l=T;return i=this.$getSuccessInfo(e,r),o=null==($=t.to_ary(i))[0]?T:$[0],u=null==$[1]?T:$[1],s=null==$[2]?T:$[2],l=[],E(this.$isDragonDice(r))&&l.$push("\u9f8d\u306e\u30c0\u30a4\u30b9\u300c"+h(d,"DRAGON_DICE_NAME")["$[]"](r)+"\u300d("+r+")\u3092\u4f7f\u7528"),E(o)?(l.$push("\u6210\u529f\u30ec\u30d9\u30eb:"+u+" ("+s+"\u30bb\u30c3\u30c8)"),a["$=="](0)?h(d,"Result").$success(l.$join(" \uff1e ")):E(n(u,a))?(l.$push("\u6210\u529f"),h(d,"Result").$success(l.$join(" \uff1e "))):(l.$push("\u5931\u6557"),h(d,"Result").$failure(l.$join(" \uff1e ")))):(l.$push("\u5931\u6557"),h(d,"Result").$failure(l.$join(" \uff1e ")))},u.$$arity=3),t.def(m,"$getSuccessInfo",s=function(t,r){var a,$,i,o,u=this,s=T,l=T;return u.$debug("checkSuccess diceList, crit",t,r),$=u.$getDiceCountHash(t,r),u.$debug("diceCountHash",$),s=0,l=[],i=E(u.$isDragonDice(r))?1:2,R($,"each",[],((a=function(t,r){return null==t&&(t=T),null==r&&(r=T),E(e(r,s))&&(s=r),E(n(r,i))?l["$<<"](t):T}).$$s=u,a.$$arity=2,a)),u.$debug("successDiceList",l),E("number"==typeof(o=l.$size())?o<=0:o["$<="](0))?[!1,0,0]:(E(u.$isDragonDice(r))&&(s=function(t,e){return"number"==typeof t?2*t:t["$*"](2)}(s)),[!0,s,l.$size()])},s.$$arity=2),t.def(m,"$getDiceCountHash",l=function(t,e){var n;return R(R(R(t,"select",[],((n=function(t){var r;return null==t&&(t=T),E(r=(null==n.$$s?this:n.$$s).$isNomalDice(e))?r:t["$=="](e)}).$$s=this,n.$$arity=1,n)),"group_by",[],"itself".$to_proc()),"transform_values",[],"size".$to_proc())},l.$$arity=2),t.def(m,"$isNomalDice",c=function(t){return this.$isDragonDice(t)["$!"]()},c.$$arity=1),t.def(m,"$isDragonDice",_=function(t){return t["$!="](0)},_.$$arity=1),t.def(m,"$getValue",f=function(t){return E(e(t,100))?0:t},f.$$arity=1)}(Opal)},75732:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var a,$,i,o,u,s,l,c,_,f,m,d,p=[],b=t.nil,y=t.$$,T=t.module,h=t.klass,S=t.truthy,D=t.send;a=p,$=d=[T(p[0],"BCDice")].concat(a),i=m=[T(d[0],"GameSystem")].concat($),_=h(m[0],y(m,"Base"),"VampireTheMasquerade5th"),f=[_].concat(i),_.$$prototype.randomizer=b,t.const_set(f[0],"ID","VampireTheMasquerade5th"),t.const_set(f[0],"NAME","Vampire: The Masquerade 5th Edition"),t.const_set(f[0],"SORT_KEY","\u3046\u3042\u3093\u306f\u3044\u3042\u3055\u307e\u3059\u304b\u308c\u3048\u30685"),t.const_set(f[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nVMFx+x)\n  \u6ce8\u610f\uff1a\u96e3\u6613\u5ea6\u306f\u5fc5\u8981\u6210\u529f\u6570\u3092\u8868\u3059\n\n  \u96e3\u6613\u5ea6\u6307\u5b9a\uff1a\u5224\u5b9a\u6210\u529f\u3068\u5931\u6557\u3001Critical\u5224\u5b9a\u3001\n             \uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Messy Critical\u3068Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n  \u4f8b) (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      (\u96e3\u6613\u5ea6)VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea6\u7701\u7565\uff1a\u5224\u5b9a\u5931\u6557\u3001Critical\u3001\uff08Hunger\u30c0\u30a4\u30b9\u304c\u3042\u308b\u5834\u5408\uff09Bestial Failure\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\n              \u5224\u5b9a\u6210\u529f\u3001Messy Critical\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n  \u96e3\u6613\u5ea60\u6307\u5b9a\uff1a\u5168\u3066\u306e\u30c1\u30a7\u30c3\u30af\u3092\u884c\u308f\u306a\u3044\n  \u4f8b) 0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)+(Hunger\u30c0\u30a4\u30b9)\n      0VMF(\u30c0\u30a4\u30b9\u30d7\u30fc\u30eb)\n\n"),t.const_set(f[0],"DIFFICULTY_INDEX",1),t.const_set(f[0],"DICE_POOL_INDEX",3),t.const_set(f[0],"HUNGER_DICE_INDEX",5),t.const_set(f[0],"NOT_CHECK_SUCCESS",-1),_.$register_prefix("\\d*VMF"),t.def(_,"$eval_game_system_specific_command",o=function(a){var $,i,o,u,s=this,l=b,c=b,_=b,m=b,d=b,p=b,T=b,h=b,g=b,E=b,R=b,A=b;return l=/^(\d+)?(VMF)(\d+)(\+(\d+))?/.$match(a),S(l)?(c=l["$[]"](y(f,"DICE_POOL_INDEX")).$to_i(),i=s.$make_dice_roll(c),_=null==($=t.to_ary(i))[0]?b:$[0],m=null==$[1]?b:$[1],d=null==$[2]?b:$[2],p="("+c+"D10",T=($=l["$[]"](y(f,"HUNGER_DICE_INDEX")))===b||null==$?b:D($,"to_i",[]),S(T)?(o=s.$make_dice_roll(T),h=null==(i=t.to_ary(o))[0]?b:i[0],g=null==i[1]?b:i[1],R=null==i[3]?b:i[3],d=e(d,E=null==i[2]?b:i[2]),m=e(m,g),p=p+"+"+T+"D10) \uff1e ["+_+"]+["+h+"] "):(E=0,R=0,p=p+") \uff1e ["+_+"] "),m=e(m,s.$get_critical_success(d)),A=S(l["$[]"](y(f,"DIFFICULTY_INDEX")))?l["$[]"](y(f,"DIFFICULTY_INDEX")).$to_i():y(f,"NOT_CHECK_SUCCESS"),p=p+" \u6210\u529f\u6570="+m,S(n(A,0))?p=p+" \u96e3\u6613\u5ea6="+A+(S(r(m,A))?s.$get_success_result(r(d,2),E):s.$get_fail_result(R)):S("number"==typeof(u=A)?u<0:u["$<"](0))&&(p=""+p+(m["$=="](0)?s.$get_fail_result(R):"")),p):""},o.$$arity=1),t.def(_,"$get_critical_success",u=function(t){return function(t,e){return"number"==typeof t?2*t:t["$*"](2)}((e=t,"number"==typeof e?e/2:e["$/"](2)).$to_i());var e},u.$$arity=1),t.def(_,"$make_dice_roll",s=function(t){var e,n=b;return[(n=this.randomizer.$roll_barabara(t,10)).$join(","),D(n,"count",[],((e=function(t){return null==t&&(t=b),r(t,6)}).$$s=this,e.$$arity=1,e)),n.$count(10),n.$count(1)]},s.$$arity=1),t.def(_,"$get_success_result",l=function(t,e){var r,a;return r="\uff1a\u5224\u5b9a\u6210\u529f!",S(S(a=n(e,0))?t:a)?r+" [Messy Critical]":S(t)?r+" [Critical Win]":r},l.$$arity=2),t.def(_,"$get_fail_result",c=function(t){var e;return e="\uff1a\u5224\u5b9a\u5931\u6557!",S(n(t,0))?e+" [Bestial Failure]":e},c.$$arity=1)}(Opal)},52899:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var n,r,a,$,i,o,u,s,l=[],c=t.nil,_=t.$$,f=t.module,m=t.klass,d=t.truthy;n=l,r=s=[f(l[0],"BCDice")].concat(n),a=u=[f(s[0],"GameSystem")].concat(r),i=m(u[0],_(u,"Base"),"WARPS"),o=[i].concat(a),t.const_set(o[0],"ID","WARPS"),t.const_set(o[0],"NAME","\u30ef\u30fc\u30d7\u30b9"),t.const_set(o[0],"SORT_KEY","\u308f\u3042\u3075\u3059"),t.const_set(o[0],"HELP_MESSAGE","\u5931\u6557\u3001\u6210\u529f\u5ea6\u306e\u81ea\u52d5\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n"),t.def(i,"$result_2d6",$=function(t,n,r,a,$){return a["$=="]("<=")?d(e(n,2))?_(o,"Result").$critical("\u30af\u30ea\u30c6\u30a3\u30ab\u30eb"):d("number"==typeof(i=n)?i>=12:i["$>="](12))?_(o,"Result").$fumble("\u30d5\u30a1\u30f3\u30d6\u30eb"):$["$=="]("?")?_(o,"Result").$nothing():d(e(t,$))?_(o,"Result").$success(function(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}($,t)+"\u6210\u529f"):_(o,"Result").$failure("\u5931\u6557"):c;var i},$.$$arity=5)}(Opal)},88418:function(t,e,n){var r,a,$,i,o,u,s,l,c,_,f,m,d,p;n(93683),r=Opal,f=r.nil,m=r.$$,p=r.klass,a=_=[],$=c=[(d=r.module)(_[0],"BCDice")].concat(a),i=l=[d(c[0],"GameSystem")].concat($),u=p(l[0],m(l,"Base"),"WaresBlade"),s=[u].concat(i),r.const_set(s[0],"ID","WaresBlade"),r.const_set(s[0],"NAME","\u30ef\u30fc\u30b9\u30d6\u30ec\u30a4\u30c9"),r.const_set(s[0],"SORT_KEY","\u308f\u3042\u3059\u3075\u308c\u3044\u3068"),r.const_set(s[0],"HELP_MESSAGE","nD10>=m \u65b9\u5f0f\u306e\u5224\u5b9a\u3067\u6210\u5426\u3001\u5b8c\u5168\u6210\u529f\u3001\u5b8c\u5168\u5931\u6557\u3092\u81ea\u52d5\u5224\u5b9a\u3057\u307e\u3059\u3002\n"),r.def(u,"$result_nd10",o=function(t,e,n,r,a){return r["$=="](">=")?n.$count(10)["$=="](n.$size())?m(s,"Result").$critical("\u5b8c\u5168\u6210\u529f"):n.$count(1)["$=="](n.$size())?m(s,"Result").$fumble("\u7d76\u5bfe\u5931\u6557"):f:f},o.$$arity=5)},18882:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n,r,a,$,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$$,S=t.$$,D=t.module,g=t.klass,E=t.send,R=t.truthy;n=y,r=b=[D(y[0],"BCDice")].concat(n),a=p=[D(b[0],"GameSystem")].concat(r),m=g(p[0],S(p,"Base"),"WitchQuest"),d=[m].concat(a),m.$$prototype.randomizer=T,t.const_set(d[0],"ID","WitchQuest"),t.const_set(d[0],"NAME","\u30a6\u30a3\u30c3\u30c1\u30af\u30a8\u30b9\u30c8"),t.const_set(d[0],"SORT_KEY","\u3046\u3044\u3064\u3061\u304f\u3048\u3059\u3068"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u30c1\u30e3\u30ec\u30f3\u30b8(\u6210\u529f\u5224\u5b9a)(WQn)\n\u3000n\u56de2d6\u30c0\u30a4\u30b9\u3092\u632f\u3063\u3066\u5224\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\n\u3000\u4f8b\uff09WQ3\n\u30fbSET\uff08\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u30ab\u30fc\u30c9\u306e\u906d\u9047\u8868(SETn)\n\u3000\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u30ab\u30fc\u30c9\u306e\u756a\u53f7(n)\u306e\u906d\u9047\u8868\u7d50\u679c\u3092\u5f97\u307e\u3059\u3002\n\u3000\u4f8b\uff09SET1\u3000SET48\n"),m.$register_prefix("WQ","SET"),t.def(m,"$eval_game_system_specific_command",$=function(t){var e,n=T;return/WQ(\d+)/["$==="](e=t)?(n=S(d,"Regexp").$last_match(1).$to_i(),this.$challenge(n)):/SET(\d+)/["$==="](e)?(n=S(d,"Regexp").$last_match(1).$to_i(),this.$getStructureEncounter(n)):T},$.$$arity=1),t.def(m,"$challenge",i=function(t){var n,r=T,a=T;return r=0,a=[],E(t,"times",[],((n=function(){var t,$=null==n.$$s?this:n.$$s,i=T;return null==$.randomizer&&($.randomizer=T),i=$.randomizer.$roll_once(6),t=$.randomizer.$roll_once(6),i["$=="](t)&&(r=e(r,1)),a["$<<"](i+","+t)}).$$s=this,n.$$arity=0,n)),e("("+a.$join(" / ")+") \uff1e ",this.$getSuccessText(r))},i.$$arity=1),t.def(m,"$getSuccessText",o=function(t){var e=T;return R(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(t,(e=[[0,"\u5931\u6557"],[1,"\uff11\u30ec\u30d9\u30eb\u6210\u529f(\u6210\u529f)"],[2,"\uff12\u30ec\u30d9\u30eb\u6210\u529f(\u5927\u6210\u529f)"],[3,"\uff13\u30ec\u30d9\u30eb\u6210\u529f(\u5947\u8de1\u7684\u5927\u6210\u529f)"],[4,"\uff14\u30ec\u30d9\u30eb\u6210\u529f(\u6b74\u53f2\u7684\u5927\u6210\u529f)"],[5,"\uff15\u30ec\u30d9\u30eb\u6210\u529f(\u4f1d\u8aac\u7684\u5927\u6210\u529f)"],[6,"\uff16\u30ec\u30d9\u30eb\u6210\u529f(\u795e\u8a71\u7684\u5927\u6210\u529f)"]]).$last().$first()))?e.$last().$last():this.$get_table_by_number(t,e)},o.$$arity=1),t.def(m,"$getStructureEncounter",u=function(e){var n,r,a=this,$=T;return a.$debug("getStructureEncounter number",e),$=a.$get_table_by_number(e,[[1,["\u8239\u304b\u3089\u964d\u308a\u3066\u304d\u305f","\u9b5a\u3092\u58f2\u3063\u3066\u3044\u308b","\u4ed5\u4e8b\u3067\u5fd9\u3057\u305d\u3046\u306a","\u7570\u56fd\u304b\u3089\u6765\u305f","\u304a\u3082\u3057\u308d\u304a\u304b\u3057\u3044","\u6c57\u6c34\u6d41\u3057\u3066\u3044\u308b"]],[2,["\u304a\u304b\u3057\u306a\u683c\u597d\u3092\u3057\u305f","\u6b4c\u3092\u6b4c\u3063\u3066\u3044\u308b","\u30b9\u30c6\u30ad\u306a\u7b11\u9854\u3092\u3057\u305f","\u65e5\u306a\u305f\u307c\u3063\u3053\u3092\u3057\u3066\u3044\u308b","\u60a9\u3093\u3067\u3044\u308b","\u65c5\u3092\u3057\u3066\u3044\u308b"]],[3,["\u5f85\u3061\u307c\u3046\u3051\u3092\u3057\u3066\u3044\u308b","\u58c1\u306b\u767b\u3063\u3066\u3044\u308b","\u30bf\u30d0\u30b3\u3092\u5438\u3063\u3066\u3044\u308b","\u8e0a\u308a\u3092\u8e0a\u3063\u3066\u3044\u308b","\u5e78\u305b\u305d\u3046\u306a","\u5411\u3053\u3046\u304b\u3089\u8d70\u3063\u3066\u304f\u308b"]],[4,["\u898b\u5f35\u308a\u3092\u3057\u3066\u3044\u308b","\u3057\u3083\u3079\u308c\u306a\u3044","\u898b\u5f35\u308a\u3092\u3057\u3066\u3044\u308b","\u4e00\u8f2a\u8eca\u306b\u4e57\u3063\u305f","\u5143\u6c17\u3044\u3063\u3071\u3044\u306e","\u771f\u9762\u76ee\u306a"]],[5,["\u30a6\u30bd\u3064\u304d\u306a","\u8cb7\u3044\u7269\u3092\u3057\u3066\u3044\u308b","\u30ae\u30bf\u30fc\u3092\u5f3e\u3044\u3066\u3044\u308b","\u3042\u306a\u305f\u306e\u307b\u3046\u3092\u3058\u3063\u3068\u898b\u3066\u3044\u308b","\u30dd\u30c3\u30d7\u30b3\u30fc\u30f3\u3092\u58f2\u3063\u3066\u3044\u308b","\u5c4b\u53f0\u3092\u51fa\u3057\u3066\u3044\u308b"]],[6,["\u5b50\u4f9b\u3092\u63a2\u3057\u3066\u3044\u308b","\u6642\u8a08\u3092\u76f4\u3057\u3066\u3044\u308b","\u7269\u4e5e\u3044\u3092\u3057\u3066\u3044\u308b","\u6c17\u8c61\u5b9f\u9a13\u3092\u3057\u3066\u3044\u308b","\u98db\u3073\u964d\u308a\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6642\u9593\u3092\u304d\u306b\u3057\u3066\u3044\u308b"]],[7,["\u76ee\u306e\u898b\u3048\u306a\u3044","\u91d1\u6301\u3061\u305d\u3046\u306a","\u4e00\u4eba\u6b69\u304d\u3092\u3057\u305f\u3053\u3068\u304c\u306a\u3044","\u3075\u3089\u308c\u3066\u3057\u307e\u3063\u305f","\u5f85\u3061\u5408\u308f\u305b\u3092\u3057\u3066\u3044\u308b","\u9053\u306b\u8ff7\u3063\u305f"]],[8,["\u304a\u7948\u308a\u3092\u3057\u3066\u3044\u308b","\u30b9\u30b1\u30c3\u30c1\u3092\u3057\u3066\u3044\u308b","\u52c9\u5f37\u71b1\u5fc3\u306a","\u8a18\u5ff5\u7891\u3092\u58ca\u305d\u3046\u3068\u3057\u3066\u3044\u308b","\u5927\u304d\u306a\u58f0\u3067\u6587\u53e5\u3092\u3044\u3063\u3066\u3044\u308b","\u8a18\u5ff5\u64ae\u5f71\u3057\u3066\u3044\u308b"]],[9,["\u96a0\u308c\u3066\u3044\u308b","\u306f\u3057\u3054\u306b\u767b\u3063\u3066\u3044\u308b","\u9418\u3092\u9cf4\u3089\u3057\u3066\u3044\u308b","\u5171\u901a\u8a9e\u306e\u901a\u3058\u306a\u3044","\u8a18\u61b6\u3092\u5931\u3063\u305f","\u3042\u306a\u305f\u306e\u307b\u3046\u306b\u30d0\u30bf\u30c3\u3068\u5012\u308c\u305f"]],[10,["\u6687\u305d\u3046\u306a","\u7b11\u3063\u305f\u3053\u3068\u304c\u306a\u3044","\u3076\u304f\u3076\u304f\u3068\u592a\u3063\u305f","\u5f8c\u7d99\u8005\u3092\u63a2\u3057\u3066\u3044\u308b","\u738b\u69d8\u306b\u304a\u3064\u304b\u3048\u3057\u3066\u3044\u308b","\u611b\u56fd\u5fc3\u65fa\u76db\u306a"]],[11,["\u9589\u3058\u8fbc\u3081\u3089\u308c\u305f","\u60b2\u3057\u305d\u3046\u306a","\u6012\u3063\u3066\u3044\u308b","\u964d\u308a\u308c\u306a\u304f\u306a\u3063\u3066\u3044\u308b","\u3082\u306e\u6182\u3052\u306a","\u98db\u307c\u3046\u3068\u3057\u3066\u3044\u308b"]],[12,["\u91e3\u308a\u3092\u3057\u3066\u3044\u308b","\u6cf3\u3044\u3067\u3044\u308b","\u5ddd\u306b\u7269\u3092\u843d\u3068\u3057\u3066\u3057\u307e\u3063\u305f","\u7802\u91d1\u3092\u6398\u3063\u3066\u3044\u308b","\u5ddd\u306b\u30b4\u30df\u3092\u6368\u3066\u3066\u3044\u308b","\u30ab\u30a8\u30eb\u306b\u5316\u304b\u3055\u308c\u3066\u3057\u307e\u3063\u305f"]],[13,["\u4e16\u9593\u8a71\u3092\u3057\u3066\u3044\u308b","\u7d50\u5a5a\u3092\u85a6\u3081\u305f\u304c\u308b","\u3044\u3084\u3089\u3057\u3044\u8a71\u306e\u597d\u304d\u306a","\u9078\u629e\u3092\u3057\u3066\u3044\u308b","\u6c34\u3092\u6c72\u3093\u3067\u3044\u308b","\u4e95\u6238\u306b\u843d\u3061\u3066\u3057\u307e\u3063\u305f"]],[14,["\u4eba\u306b\u304a\u3054\u308a\u305f\u304c\u308b","\u8e0a\u308a\u5b50\u3092\u3057\u3066\u3044\u308b","\u8ced\u3051\u3092\u3057\u3066\u3044\u308b","\u6ce3\u304d\u4e0a\u6238\u306a","\u98f2\u307f\u6bd4\u3079\u3092\u3057\u3066\u3044\u308b","\u81ea\u6162\u8a71\u3092\u3057\u3066\u3044\u308b"]],[15,["\u7d20\u6734\u305d\u3046\u306a","\u7530\u820e\u8005\u306e","\u3042\u306a\u305f\u3092\u3060\u307e\u305d\u3046\u3068\u3057\u3066\u3044\u308b","\u30b1\u30f3\u30ab\u3092\u3057\u3066\u3044\u308b","\u6cca\u307e\u308b\u304a\u91d1\u306e\u306a\u3044","\u3042\u306a\u305f\u306b\u4f9d\u983c\u3092\u3057\u306b\u304d\u305f"]],[16,["\u60aa\u3044\u5360\u3044\u306e\u7d50\u679c\u3057\u304b\u8a00\u308f\u306a\u3044","\u3042\u306a\u305f\u306b\u5ac9\u59ac\u3057\u3066\u3044\u308b","\u9b45\u60d1\u7684\u306a","\u304a\u3057\u3064\u3051\u304c\u307e\u3057\u3044","\u3044\u3044\u304b\u3052\u3093\u306a\u5360\u3044\u3057\u304b\u3057\u306a\u3044","\u5909\u308f\u3063\u305f\u5360\u3044\u3092\u3057\u3066\u3044\u308b"]],[17,["\u304b\u304f\u308c\u3093\u307c\u3092\u3057\u3066\u3044\u308b","\u3042\u307e\u3084\u3069\u308a\u3092\u3057\u3066\u3044\u308b","(\u3053\u3053\u306b\u306f\u3060\u308c\u3082\u3044\u307e\u305b\u3093)","\u5bb6\u306e\u6383\u9664\u3092\u3057\u3066\u3044\u308b","\u53d6\u308a\u58ca\u3057\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6614\u3053\u3053\u306b\u4f4f\u3093\u3067\u3044\u305f"]],[18,["\u7551\u3092\u8015\u3057\u3066\u3044\u308b","\u7551\u3092\u8352\u3089\u3057\u3066\u3044\u308b","\u7551\u6ce5\u68d2\u306e","\u53ce\u7a6b\u3057\u3066\u3044\u308b","\u65e5\u713c\u3051\u3057\u3066\u771f\u3063\u9ed2\u306a","\u5ac1\u3044\u3067\u304d\u305f(\u5a7f\u306b\u304d\u305f)"]],[19,["\u7c89\u3092\u3072\u3044\u3066\u3044\u308b","\u99ac\u306b\u4e57\u3063\u3066\u98a8\u8eca\u306b\u7a81\u9032\u3057\u3066\u3044\u308b","\u98a8\u304c\u5439\u304b\u306a\u304f\u3066\u56f0\u3063\u3066\u3044\u308b","\u5bdd\u3066\u3044\u308b","\u7b4b\u9aa8\u308a\u3085\u3046\u308a\u3085\u3046\u306a","\u904a\u3093\u3067\u3044\u308b"]],[20,["\u30d1\u30fc\u30c6\u30a3\u30fc\u3092\u3057\u3066\u3044\u308b","\u9154\u3063\u6255\u3063\u3066\u3044\u308b","\u9152\u3092\u4ed5\u8fbc\u3093\u3067\u3044\u308b","\u5373\u58f2\u4f1a\u3092\u3057\u3066\u3044\u308b","\u7b11\u3063\u3066\u3044\u308b","\u592a\u3063\u305f"]],[21,["\u3072\u3068\u308a\u305f\u305f\u305a\u3080","\u82b1\u304b\u3089\u751f\u307e\u308c\u305f","\u82b1\u304c\u5927\u597d\u304d\u306a","\u82b1\u7c89\u75c7\u306e","\u82b1\u3092\u8cb7\u3044\u306b\u304d\u305f","\u30e9\u30b0\u30d3\u30fc\u3092\u3084\u3063\u3066\u82b1\u3092\u3042\u3089\u3057\u3066\u308b"]],[22,["\u51e0\u5e33\u9762\u306a","\u773c\u93e1\u3092\u304b\u3051\u305f","\u306a\u307e\u3044\u304d\u306a","\u306a\u308f\u3068\u3073\u3092\u3057\u3066\u3044\u308b","\u56f0\u3063\u3066\u3044\u308b","\u307e\u305b\u3066\u3044\u308b"]],[23,["\u672c\u3092\u8aad\u3093\u3067\u3044\u308b","\u4e16\u9593\u8a71\u3092\u3057\u305f\u304c\u308b","\u6d3e\u624b\u306a\u683c\u597d\u3092\u3057\u305f","\u52c9\u5f37\u71b1\u5fc3\u306a","\u3046\u308b\u3055\u3044","\u9b54\u5973\u306e\u3053\u3068\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u3044\u308b"]],[24,["\u795e\u7236\u3055\u3093\u306b\u76f8\u8ac7\u3092\u3057\u3066\u3044\u308b","\u7d50\u5a5a\u5f0f\u3092\u6319\u3052\u3066\u3044\u308b","\u7269\u9759\u304b\u306a","\u7247\u8db3\u306e\u7121\u3044","\u71b1\u3044\u8996\u7dda\u3092\u9001\u3063\u3066\u304f\u308b","\u6311\u767a\u3057\u3066\u304f\u308b"]],[25,["\u9811\u56fa\u306a","\u5200\u306e\u5207\u308c\u5473\u3092\u305f\u3081\u3057\u305f\u304c\u308b","\u3044\u3044\u304b\u3052\u3093\u306a\u6027\u683c\u306e","\u30b9\u30b0\u306b\u5f1f\u5b50\u306b\u3057\u305f\u304c\u308b","\u898b\u305b\u306e\u524d\u3067\u30a6\u30ed\u30a6\u30ed\u3057\u3066\u3044\u308b","\u9053\u3092\u5c0b\u306d\u3066\u3044\u308b"]],[26,["\u4e0d\u6a5f\u5acc\u306a","\u5ba2\u306e\u610f\u898b\u3092\u805e\u304b\u306a\u3044","\u7269\u3092\u58f2\u3089\u306a\u3044","\u4e0d\u5e78\u306a\u6c17\u524d\u306e\u3044\u3044","\u767a\u660e\u5bb6\u306e"]],[27,["\u604b\u4eba\u306b\u30d7\u30ec\u30bc\u30f3\u30c8\u3092\u63a2\u3057\u3066\u3044\u308b","\u9999\u308a\u4e2d\u6bd2\u306b\u306a\u3063\u305f","\u5ba2\u306b\u624b\u4f1d\u308f\u305b\u308b","\u304a\u307e\u3058\u306a\u3044\u306e\u597d\u304d\u306a","\u4eba\u597d\u304d\u306e\u3059\u308b","\u3044\u3058\u3081\u3063\u3053\u306a"]],[28,["\u9a12\u304c\u3057\u3044","\u304a\u83d3\u5b50\u3092\u98df\u3079\u3066\u6d99\u3092\u6d41\u3057\u3066\u3044\u308b","\u7b11\u3044\u306e\u6b62\u307e\u3089\u306a\u3044","\u7518\u3044\u7269\u306b\u76ee\u304c\u306a\u3044","\u5225\u308c\u8a71\u3092\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u304a\u8336\u306b\u8a98\u3046"]],[29,["\u30d5\u30e9\u30f3\u30b9\u30d1\u30f3\u3092\u76d7\u3093\u3067\u8d70\u308b","\u3057\u3089\u3051\u305f\u9854\u3092\u3057\u305f","\u5e97\u756a\u3092\u3059\u308b","\u3042\u306a\u305f\u3092\u30d0\u30a4\u30c8\u3067\u4f7f\u3044\u305f\u304c\u308b","\u5909\u306a\u30d1\u30f3\u3057\u304b\u4f5c\u3089\u306a\u3044","\u671d\u304c\u82e6\u624b\u306a"]],[30,["\u504f\u5c48\u306a","\u5a01\u52e2\u306e\u3044\u3044","\u30b1\u30f3\u30ab\u3063\u3071\u3084\u3044","\u91ce\u6b21\u99ac\u6839\u6027\u306e\u5f37\u3044","\u8089\u304c\u98df\u3079\u308c\u306a\u3044","\u5fc3\u512a\u3057\u304f\u6c17\u524d\u304c\u3044\u3044"]],[31,["\u592b\u5a66\u30b1\u30f3\u30ab\u3092\u3057\u3066\u3044\u308b","\u732b\u306b\u9b5a\u3092\u76d7\u3089\u308c\u305f","\u52a9\u3051\u3092\u6c42\u3081\u3066\u3044\u308b","\u9b5a\u306e\u7a2e\u985e\u304c\u308f\u304b\u3089\u306a\u3044","\u300e\u304a\u3044\u3057\u3044\u300f\u3068\u3057\u304b\u3044\u308f\u306a\u3044","\u3042\u3084\u3057\u3044"]],[32,["\u30e4\u30f3\u30ad\u30fc\u98a8\u306e","\u81ea\u5206\u304c\u304b\u3063\u3053\u3044\u3044\u3068\u601d\u3063\u3066\u3044\u308b","\u529b\u81ea\u6162\u306e","\u5143\u306f\u738b\u69d8\u3060\u3068\u3044\u3044\u306f\u308b","\u9b54\u5973\u306e\u30d5\u30a1\u30f3\u3060\u3068\u3044\u3046","\u5b50\u6ca2\u5c71\u306e"]],[33,["\u308f\u304c\u307e\u307e\u306a","\u304b\u3063\u3053\u3044\u3044","\u72ec\u308a\u8a00\u3092\u8a00\u3063\u3066\u3044\u308b","\u5909\u308f\u3063\u305f\u6599\u7406\u3057\u304b\u3060\u3055\u306a\u3044","\u76ee\u8336\u82e6\u8336\u8f9b\u3044\u6599\u7406\u3092\u98df\u3079\u3066\u3044\u308b","\u30c7\u30fc\u30c8\u3092\u3057\u3066\u3044\u308b"]],[34,["\u4eee\u75c5\u3092\u4f7f\u3063\u3066\u3044\u308b","\u4e0d\u6cbb\u306e\u75c5\u3092\u6301\u3063\u305f","\u201d\u304a\u3081\u3067\u305f\u201d\u306e","\u30d5\u30b1\u305f\u9854\u3057\u305f","\u9aea\u306e\u6bdb\u3092\u67d3\u3081\u305f","(\u5065\u5eb7\u3067\u3082)\u75c5\u540d\u3092\u3044\u3044\u305f\u304c\u308b"]],[35,["\u5b9f\u9a13\u3092\u3057\u305f\u304c\u308b","\u7cbe\u529b\u3092\u3064\u3051\u305f\u304c\u3063\u3066\u3044\u308b","\u60da\u308c\u85ac\u3092\u63a2\u3057\u3066\u3044\u308b","\u85ac\u3065\u3051\u306b\u306a\u3063\u3066\u3044\u308b","\u3053\u306e\u753a\u307e\u3067\u85ac\u3092\u58f2\u308a\u306b\u6765\u305f","\u7761\u7720\u85ac\u3067\u81ea\u6bba\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b"]],[36,["\u670d\u307e\u3067\u8cea\u306b\u5165\u308c\u305f","\u5024\u6bb5\u306b\u30b1\u30c1\u3092\u3064\u3051\u3066\u3044\u308b","\u75b2\u308c\u3066\u3044\u308b","\u5b50\u4f9b\u3092\u8cea\u306b\u5165\u308c\u3088\u3046\u3068\u3057\u3066\u3044\u308b","\u6d99\u3082\u308d\u3044","\u4eba\u9593\u4e0d\u4fe1\u306a"]],[37,["\u7740\u98fe\u3063\u305f","\u304a\u306d\u3060\u308a\u3057\u3066\u3044\u308b","\u9000\u5c48\u305d\u3046\u306a","\u898b\u6804\u3063\u3071\u308a\u306a","\u9ad8\u3044\u3082\u306e\u3092\u85a6\u3081\u308b","\u5b9d\u77f3\u306a\u3069\u8cb7\u3046\u3064\u3082\u308a\u306e\u306a\u3044"]],[38,["\u3060\u3060\u3092\u3053\u306d\u3066\u3044\u308b","\u306c\u3044\u3050\u308b\u307f\u3092\u62b1\u3044\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u4fb5\u7565\u8005\u3068\u8003\u3048\u3066\u3044\u308b","\u3042\u306a\u305f\u306e\u201d\u304a\u3057\u308a\u201d\u306b\u3055\u308f\u308b","\u5e78\u305b\u306e\u304a\u3082\u3061\u3083\u3092\u58f2\u3063\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u81ea\u5206\u306e\u5b50\u3068\u9593\u9055\u3048\u3066\u3044\u308b"]],[39,["\u4eba\u306e\u8a71\u3092\u805e\u304b\u306a\u3044","\u6c17\u5206\u5c4b\u306a","\u30ab\u30ea\u30a2\u30b2\u3057\u304b\u3067\u304d\u306a\u3044","\u3046\u308f\u3055\u8a71\u306e\u597d\u304d\u306a","\u81ea\u52d5\u8ca9\u58f2\u6a5f\u3092\u958b\u767a\u3057\u305f\u3068\u3044\u3046","\u304a\u305b\u3063\u304b\u3044\u306a"]],[40,["\u304a\u98a8\u5442\u3042\u304c\u308a\u306e","\u3053\u304d\u3064\u304b\u308f\u308c\u3066\u3044\u308b","\u30b7\u30a7\u30a4\u30d7\u30a2\u30c3\u30d7\u3057\u3066\u3044\u308b","\u4eba\u304b\u3089\u8ffd\u308f\u308c\u3066\u3044\u308b","\u4eba\u306e\u4f53\u3092\u3058\u308d\u3058\u308d\u3068\u898b\u308b","\u3053\u306e\u753a\u3092\u6848\u5185\u3057\u3066\u307b\u3057\u3044\u3068\u3044\u3046"]],[41,["\u30b5\u30f3\u30b0\u30e9\u30b9\u3092\u304b\u3051\u305f","\u307f\u3093\u306a\u81ea\u5206\u306e\u30d5\u30a1\u30f3\u3068\u601d\u3063\u3066\u3044\u308b","\u3042\u306a\u305f\u3092\u5f79\u8005\u3068\u52d8\u9055\u3044\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u306f\u30b9\u30bf\u30fc\u306b\u306a\u308c\u308b\u3068\u3044\u3046","\u624b\u54c1\u3092\u3057\u3066\u3044\u308b","\u300e\u3044\u305d\u304c\u3057\u3044\u300f\u3092\u3044\u3044\u7d9a\u3051\u3066\u3044\u308b"]],[42,["\u30ae\u30e3\u30f3\u30d6\u30eb\u3092\u3057\u3066\u3044\u308b","\u7af6\u6280\u306b\u51fa\u5834\u3057\u3066\u3044\u308b","\u5168\u8ca1\u7523\u3092\u8ced\u3051\u3066\u3044\u308b","\u52c7\u6562\u306a","\u53c2\u52a0\u8005\u3092\u52df\u3063\u3066\u3044\u308b","\u60c5\u3051\u306a\u3044\u7af6\u6280(\u95d8\u6280)\u3092\u3057\u3066\u308b"]],[43,["\u30c0\u30f3\u30b9\u3092\u8e0a\u3063\u3066\u3044\u308b","\u30d6\u30ec\u30a4\u30af\u30c0\u30f3\u30b9\u3092\u3057\u3066\u5834\u9055\u3044\u306a","\u5b50\u4f9b\u3092\u80cc\u4e2d\u306b\u304a\u3093\u3076\u3057\u3066\u3044\u308b","\u3042\u306a\u305f\u3068\u8e0a\u308a\u305f\u304c\u308b","\u8e0a\u3063\u305f\u3053\u3068\u306e\u306a\u3044","\u98df\u3079\u308b\u3053\u3068\u306b\u5922\u4e2d\u306a"]],[44,["\uff12\u968e\u304b\u3089\u304a\u91d1\u3092\u3070\u3089\u307e\u3044\u3066\u3044\u308b","\u7a93\u306e\u5965\u3067\u6d99\u3092\u306a\u304c\u3057\u3066\u3044\u308b","\u7a93\u304b\u3089\u5fcd\u3073\u3053\u3082\u3046","\u30d4\u30a2\u30ce\u3092\u5f3e\u3044\u3066\u3044\u308b","\u3053\u3053\u306b\u4f4f\u3093\u3067\u3044\u308b","\u5bb6\u306b\u62db\u5f85\u3057\u305f\u304c\u308b"]],[45,["\u99ac\u306b\u30d6\u30e9\u30b7\u3092\u304b\u3051\u3066\u3044\u308b","\u6c17\u6027\u306e\u6fc0\u3057\u3044","\u9a0e\u624b\u3092\u63a2\u3057\u3066\u3044\u308b","\u99ac\u3068\u8a71\u304c\u3067\u304d\u308b","\u99ac\u306e\u751f\u307e\u308c\u5909\u308f\u308a\u3068\u3044\u3046","\u99ac\u3092\u5b89\u697d\u6b7b\u3055\u305b\u3088\u3046\u304b\u8ff7\u3063\u3066\u3044\u308b"]],[46,["\u3044\u305f\u305a\u3089\u597d\u304d\u306a","\u30e9\u30a4\u30d0\u30eb\u610f\u8b58\u306e\u5f37\u3044","\u9b54\u6cd5\u306e\u4e0b\u624b\u306a","\u9b54\u6cd5\u3092\u4fe1\u3058\u306a\u3044","\u81ea\u5206\u3092\u795e\u3068\u601d\u3063\u3066\u3044\u308b","\u9b54\u6cd5\u3092\u4f7f\u3063\u3066\u4eba\u3092\u5316\u304b\u3057\u305f\u304c\u308b"]],[47,["\u50b7\u3060\u3089\u3051\u306a","\u4e21\u624b\u306b\u5b9d\u7269\u3092\u6301\u3063\u305f","\u304b\u308f\u3044\u3044","\u5730\u56f3\u3092\u898b\u306a\u304c\u3089\u51fa\u3066\u304d\u3066\u3044\u308b","\u5263\u3092\u6301\u3063\u305f","\u30c0\u30f3\u30b8\u30e7\u30f3\u306e\u4e3b\u3068\u3044\u308f\u308c\u308b"]],[48,["\u5893\u53c2\u308a\u3092\u3057\u3066\u3044\u308b","\u8033\u306e\u9060\u3044","\u6b7b\u3093\u3067\u3057\u307e\u3063\u305f","\u846c\u5f0f\u3092\u3057\u3066\u3044\u308b","\u304d\u3082\u3060\u3081\u3057\u3092\u3057\u3066\u3044\u308b","\u5893\u5b88\u3092\u3057\u3066\u3044\u308b"]]],T),R($["$nil?"]())?T:(r=a.$get_table_by_1d6($),"SET"+e+" \uff1e "+(null==(n=t.to_ary(r))[1]?T:n[1])+":"+(null==n[0]?T:n[0])+a.$getPersonTable1())},u.$$arity=1),t.def(m,"$getPersonTable1",s=function(){var t,n=this;return t=E(n,"lambda",[],($$7=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return e("\u8868\uff12\u3078",(null==$$7.$$s?this:$$7.$$s).$getPersonTable2())}),$$7.$$s=n,$$7.$$arity=0,$$7)),n.$getPersonTable([[11,"\u304a\u3058\u3055\u3093"],[12,"\u304a\u3070\u3055\u3093"],[13,"\u304a\u3058\u3044\u3055\u3093"],[14,"\u304a\u3070\u3042\u3055\u3093"],[15,"\u7537\u306e\u5b50"],[16,"\u5973\u306e\u5b50"],[22,"\u7f8e\u5c11\u5973"],[23,"\u7f8e\u5c11\u5e74"],[24,"\u9752\u5e74"],[25,"\u5c11\u5e74"],[26,"\u7537\u5973(\u30ab\u30c3\u30d7\u30eb)"],[33,"\u65b0\u5a5a\u3055\u3093"],[34,"\u304a\u5144\u3055\u3093"],[35,"\u304a\u59c9\u3055\u3093"],[36,"\u5e97\u4e3b(\u304a\u5e97\u306e\u4eba)"],[44,"\u738b\u69d8"],[45,"\u885b\u5175"],[46,"\u9b54\u5973"],[55,"\u304a\u59eb\u69d8"],[56,t],[66,t]])},s.$$arity=0),t.def(m,"$getPersonTable2",l=function(){var t,n=this;return t=E(n,"lambda",[],($$9=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return e("\u8868\uff13\u3078",(null==$$9.$$s?this:$$9.$$s).$getPersonTable3())}),$$9.$$s=n,$$9.$$arity=0,$$9)),n.$getPersonTable([[11,"\u9b54\u6cd5\u4f7f\u3044"],[12,"\u89b3\u5149\u5ba2"],[13,"\u5148\u751f"],[14,"\u63a2\u5075"],[15,"\u5237"],[16,"\u304a\u5b22\u69d8"],[22,"\u304a\u5b22\u69d8"],[23,"\u7d33\u58eb"],[24,"\u3054\u5a66\u4eba"],[25,"\u5973\u738b\u69d8"],[26,"\u8077\u4eba\u3055\u3093"],[33,"\u5973\u5b50\u9ad8\u751f"],[34,"\u5b66\u751f"],[35,"\u5263\u95d8\u58eb"],[36,"\u9ce5"],[44,"\u732b"],[45,"\u72ac"],[46,"\u30ab\u30a8\u30eb"],[55,"\u86c7"],[56,t],[66,t]])},l.$$arity=0),t.def(m,"$getPersonTable3",c=function(){var t,n=this;return t=E(n,"lambda",[],($$11=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return e("\u8868\uff14\u3078",(null==$$11.$$s?this:$$11.$$s).$getPersonTable4())}),$$11.$$s=n,$$11.$$arity=0,$$11)),n.$getPersonTable([[11,"\u8cb4\u65cf"],[12,"\u3044\u308b\u304b"],[13,"\u3060\u3044\u3053\u3093"],[14,"\u3058\u3083\u304c\u3044\u3082"],[15,"\u306b\u3093\u3058\u3093"],[16,"\u30c9\u30e9\u30b4\u30f3"],[22,"\u30be\u30f3\u30d3"],[23,"\u5e7d\u970a"],[24,"\u3046\u3055\u304e"],[25,"\u5929\u4f7f"],[26,"\u60aa\u9b54"],[33,"\u8d64\u3061\u3083\u3093"],[34,"\u99ac"],[35,"\u77f3"],[36,"\u304a\u6bcd\u3055\u3093"],[44,"\u5996\u7cbe"],[45,"\u5b88\u8b77\u970a"],[46,"\u732b\u795e\u69d8"],[55,"\u30ed\u30dc\u30c3\u30c8"],[56,"\u6050\u308d\u3057\u3044\u4eba"],[66,t]])},c.$$arity=0),t.def(m,"$getPersonTable4",_=function(){return this.$getPersonTable([[11,"\u9b54\u5973\u30a8\u30c7\u30a3\u30b9"],[12,"\u9b54\u5973\u30ec\u30fc\u30c7\u30eb\u30e9\u30f3"],[13,"\u9b54\u5973\u30ad\u30ea\u30eb"],[14,"\u5927\u9b54\u5973\u201d\u30ed\u30ed\u201d\u69d8"],[15,"\u30a8\u30c7\u30a3\u30b9\u306e\u304a\u6bcd\u3055\u3093\u201d\u30a8\u30ea\u30fc\u201d"],[16,"\u732b\u30c8\u30f3\u30ac\u30ea"],[22,"\u732b\u30d2\u30e5\u30fc\u30d9"],[23,"\u732b\u3086\u3046\u306e\u3059"],[24,"\u732b\u96c6\u4f1a\u306e\u96c6\u56e3\u306e\u4e00\u56e3"],[25,"\u5ca9"],[26,"PC\u306e\u6bcd"],[33,"PC\u306e\u7236"],[34,"PC\u306e\u5144"],[35,"PC\u306e\u59c9"],[36,"PC\u306e\u5f1f"],[44,"PC\u306e\u59b9"],[45,"PC\u306e\u9060\u3044\u89aa\u621a"],[46,"PC\u306e\u6b7b\u3093\u3060\u306f\u305a\u306e\u4e21\u89aa"],[55,"\u521d\u604b\u306e\u4eba"],[56,"\u5206\u304b\u308c\u305f\u5973(\u7537)\u3001\u4e0d\u502b\u4e2d\u306e\u76f8\u624b\u3001\u307e\u305f\u306f\u72ec\u8eabPC\u306e\u5834\u5408\u3001\u4e8c\u80a1\u3092\u304b\u3051\u3066\u3044\u308b\u4e8c\u4eba\u306e\u4e21\u65b9"],[66,"\u5b87\u5b99\u4eba"]])},_.$$arity=0),t.def(m,"$getPersonTable",f=function(t){var n,r=this;return n=r.randomizer.$roll_d66(h(S(d,"D66SortType"),"ASC")),r.$debug("getPersonTable number",n),e(" \uff1e "+n+":",r.$get_table_by_number(n,t))},f.$$arity=1)}(Opal)},71988:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var a,$,i,o,u,s,l,c,_,f,m=[],d=t.nil,p=t.$$,b=t.module,y=t.klass,T=t.send2,h=t.truthy,S=t.send;a=m,$=f=[b(m[0],"BCDice")].concat(a),i=_=[b(f[0],"GameSystem")].concat($),l=y(_[0],p(_,"Base"),"WorldOfDarkness"),c=[l].concat(i),t.const_set(c[0],"ID","WorldOfDarkness"),t.const_set(c[0],"NAME","\u30ef\u30fc\u30eb\u30c9\u30fb\u30aa\u30d6\u30fb\u30c0\u30fc\u30af\u30cd\u30b9"),t.const_set(c[0],"SORT_KEY","\u308f\u3042\u308b\u3068\u304a\u3075\u305f\u3042\u304f\u306d\u3059"),t.const_set(c[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(xSTn+y or xSTSn+y or xSTAn+y)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)ST(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f)\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STS(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u3067\u632f\u308a\u8db3\u3057\n\u3000(\u30c0\u30a4\u30b9\u500b\u6570)STA(\u96e3\u6613\u5ea6)+(\u81ea\u52d5\u6210\u529f) \u203b\u51fa\u76ee10\u306f2\u6210\u529f [20th\u30eb\u30fc\u30eb]\n\n\u3000\u96e3\u6613\u5ea6=\u7701\u7565\u66426\n\u3000\u81ea\u52d5\u6210\u529f=\u7701\u7565\u66420\n"),l.$register_prefix("\\d+ST"),t.def(l,"$initialize",o=function(e){var n=this;return o.$$p&&(o.$$p=null),T(n,t.find_super_dispatcher(n,"initialize",o,!1,!0),"initialize",[e],null),n.successDice=0,n.botchDice=0,n.rerollDice=0},o.$$arity=1),t.def(l,"$eval_game_system_specific_command",u=function(r){var a,$,i,o,u,s=d,l=d,c=d,_=d,f=d,m=d,p=d,b=d,y=d,T=d,S=d;if(s=6,l=0,c=!1,_=!1,m=(f=r.$match(/^(\d+)(ST[SA]?)(\d+)?([+-]\d+)?/))["$[]"](1).$to_i(),o=f["$[]"](2),"STS"["$==="](o)?c=!0:"STA"["$==="](o)&&(_=!0),h(f["$[]"](3))&&(s=f["$[]"](3).$to_i()),h(f["$[]"](4))&&(l=f["$[]"](4).$to_i()),h("number"==typeof(u=s)?u<2:u["$<"](2))&&(s=6),(p=[]).$push("DicePool="+m+", Difficulty="+s+", AutomaticSuccess="+l),h(e(s,10))&&(s=10),b=l,y=0,$=this.$roll_wod(m,s,!0,h(_)?2:1),T=null==(a=t.to_ary($))[1]?d:a[1],S=null==a[2]?d:a[2],l=null==a[3]?d:a[3],p.$push((null==a[0]?d:a[0]).$join(",")),b=n(b,T),y=n(y,S),h(c))for(;h(e(l,0));)i=this.$roll_wod(m=l,s,!1),T=null==($=t.to_ary(i))[1]?d:$[1],S=null==$[2]?d:$[2],l=null==$[3]?d:$[3],p.$push((null==$[0]?d:$[0]).$join(",")),b=n(b,T),y=n(y,S);return h(e(b,0))?p.$push("\u6210\u529f\u6570"+b):h(e(y,0))?p.$push("\u5927\u5931\u6557"):p.$push("\u5931\u6557"),p.$join(" \uff1e ")},u.$$arity=1),t.def(l,"$roll_wod",s=function(e,a,$,i){var o,u,s=d,l=d,_=d,f=d,m=d;return null==$&&($=!0),null==i&&(i=1),(s=S(p(c,"Array"),"new",[e],((o=function(){var t=null==o.$$s?this:o.$$s;return null==t.randomizer&&(t.randomizer=d),t.randomizer.$roll_once(10)}).$$s=this,o.$$arity=0,o)))["$sort!"](),l=0,_=0,f=0,S(s,"each",[],((u=function(e){var r;return null==e&&(e=d),10["$==="](r=e)?f=n(f,i):t.Range.$new(a,10,!1)["$==="](r)?l=n(l,1):1["$==="](r)&&h($)?_=n(_,1):d}).$$s=this,u.$$arity=1,u)),l=n(l,f),h($)&&(m=[l,_].$min(),l=r(l,m),_=r(_,m)),[s,l,_,f]},s.$$arity=-3)}(Opal)},98909:function(t,e,n){n(93683),function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function a(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}var $,i,o,u,s,l,c,_,f,m,d,p,b,y=[],T=t.nil,h=t.$$,S=t.module,D=t.klass,g=t.truthy;$=y,i=b=[S(y[0],"BCDice")].concat($),o=p=[S(b[0],"GameSystem")].concat(i),m=D(p[0],h(p,"Base"),"YearZeroEngine"),d=[m].concat(o),m.$$prototype.total_success_dice=m.$$prototype.total_botch_dice=m.$$prototype.base_botch_dice=m.$$prototype.push_dice=m.$$prototype.skill_botch_dice=m.$$prototype.gear_botch_dice=m.$$prototype.difficulty=m.$$prototype.randomizer=T,t.const_set(d[0],"ID","YearZeroEngine"),t.const_set(d[0],"NAME","YearZeroEngine"),t.const_set(d[0],"SORT_KEY","\u3044\u3084\u3042\u305b\u308d\u3048\u3093\u3057\u3093"),t.const_set(d[0],"HELP_MESSAGE","\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nYZEx+x+x)\n  (\u96e3\u6613\u5ea6)YZE(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)+(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (6\u306e\u307f\u3092\u6570\u3048\u308b)\n\n\u30fb\u5224\u5b9a\u30b3\u30de\u30f3\u30c9(nMYZx+x+x)\n  (\u96e3\u6613\u5ea6)MYZ(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)+(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (1\u30686\u3092\u6570\u3048\u3001\u30d7\u30c3\u30b7\u30e5\u53ef\u80fd\u6570\u3092\u8868\u793a)\n  (\u96e3\u6613\u5ea6)MYZ(\u80fd\u529b\u30c0\u30a4\u30b9\u6570)-(\u6280\u80fd\u30c0\u30a4\u30b9\u6570)+(\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570)  # (1\u30686\u3092\u6570\u3048\u3001\u30d7\u30c3\u30b7\u30e5\u53ef\u80fd\u6570\u3092\u8868\u793a\u3001\u6280\u80fd\u306e\u30de\u30a4\u30ca\u30b9\u6307\u5b9a)\n\n  \u203b \u96e3\u6613\u5ea6\u3068\u6280\u80fd\u3001\u30a2\u30a4\u30c6\u30e0\u30c0\u30a4\u30b9\u6570\u306f\u7701\u7565\u53ef\u80fd\n"),t.const_set(d[0],"DIFFICULTY_INDEX",1),t.const_set(d[0],"COMMAND_TYPE_INDEX",2),t.const_set(d[0],"ABILITY_INDEX",3),t.const_set(d[0],"SKILL_SIGNED_INDEX",5),t.const_set(d[0],"SKILL_INDEX",6),t.const_set(d[0],"GEAR_INDEX",8),m.$register_prefix("(\\d+)?(YZE|MYZ)"),t.def(m,"$dice_info_init",u=function(){var t=this;return t.total_success_dice=0,t.total_botch_dice=0,t.base_botch_dice=0,t.skill_botch_dice=0,t.gear_botch_dice=0,t.push_dice=0,t.difficulty=0},u.$$arity=0),t.def(m,"$eval_game_system_specific_command",s=function(r){var a,$,i,o=this,u=T,s=T,l=T,c=T,_=T,f=T,m=T,p=T,b=T,y=T,S=T,D=T;if(u=/^(\d+)?(YZE|MYZ)(\d+)((\+|-)(\d+))?(\+(\d+))?/.$match(r),!g(u))return"";if(o.$dice_info_init(),o.difficulty=u["$[]"](h(d,"DIFFICULTY_INDEX")).$to_i(),s=u["$[]"](h(d,"COMMAND_TYPE_INDEX")),o.total_success_dice=0,l=u["$[]"](h(d,"ABILITY_INDEX")).$to_i(),$=o.$make_dice_roll(l),i=null==(a=t.to_ary($))[0]?T:a[0],_=null==a[2]?T:a[2],o.total_success_dice=e(o.total_success_dice,c=null==a[1]?T:a[1]),o.total_botch_dice=e(o.total_botch_dice,_),o.base_botch_dice=e(o.base_botch_dice,_),o.push_dice=e(o.push_dice,n(l,e(c,_))),f="("+l+"D6)",m=i,g(u["$[]"](h(d,"SKILL_INDEX")))){if(l=u["$[]"](h(d,"SKILL_INDEX")).$to_i(),$=o.$make_dice_roll(l),p=null==(a=t.to_ary($))[0]?T:a[0],c=null==a[1]?T:a[1],_=null==a[2]?T:a[2],b=u["$[]"](h(d,"SKILL_SIGNED_INDEX")),g(g(y=s["$=="]("YZE"))?b["$=="]("-"):y))return"YZE\u30b3\u30de\u30f3\u30c9\u3067\u306f\u6280\u80fd\u30c0\u30a4\u30b9\u3092\u30de\u30a4\u30ca\u30b9\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002";o.total_success_dice=g(g(S=s["$=="]("MYZ"))?b["$=="]("-"):S)?n(o.total_success_dice,c):e(o.total_success_dice,c),o.total_botch_dice=e(o.total_botch_dice,_),o.skill_botch_dice=e(o.skill_botch_dice,_),o.push_dice=e(o.push_dice,n(l,c)),f=e(f,b+"("+l+"D6)"),m=e(m,""+b+p)}return g(u["$[]"](h(d,"GEAR_INDEX")))&&(l=u["$[]"](h(d,"GEAR_INDEX")).$to_i(),$=o.$make_dice_roll(l),D=null==(a=t.to_ary($))[0]?T:a[0],_=null==a[2]?T:a[2],o.total_success_dice=e(o.total_success_dice,c=null==a[1]?T:a[1]),o.total_botch_dice=e(o.total_botch_dice,_),o.gear_botch_dice=e(o.gear_botch_dice,_),o.push_dice=e(o.push_dice,n(l,e(c,_))),f=e(f,"+("+l+"D6)"),m=e(m,"+"+D)),o.$make_result_text(s,f,m)},s.$$arity=1),t.def(m,"$make_result_text",l=function(t,e,n){return t["$=="]("YZE")?this.$make_result_with_yze(e,n):t["$=="]("MYZ")?this.$make_result_with_myz(e,n):"Error"},l.$$arity=3),t.def(m,"$make_result_with_yze",c=function(t,e){var n,$=this;return n=t+" \uff1e "+e+" \u6210\u529f\u6570:"+$.total_success_dice,g(r($.difficulty,0))?g(a($.total_success_dice,$.difficulty))?h(d,"Result").$success(n+" \u96e3\u6613\u5ea6="+$.difficulty+":\u5224\u5b9a\u6210\u529f\uff01"):h(d,"Result").$failure(n+" \u96e3\u6613\u5ea6="+$.difficulty+":\u5224\u5b9a\u5931\u6557\uff01"):n},c.$$arity=2),t.def(m,"$make_result_with_myz",_=function(t,e){var n,$,i=this;return n=t+" \uff1e "+e+" \u6210\u529f\u6570:"+i.total_success_dice,$="\n\u51fa\u76ee1\uff1a[\u80fd\u529b\uff1a"+i.base_botch_dice+",\u6280\u80fd\uff1a"+i.skill_botch_dice+",\u30a2\u30a4\u30c6\u30e0\uff1a"+i.gear_botch_dice+") \u30d7\u30c3\u30b7\u30e5\u53ef\u80fd="+i.push_dice+"\u30c0\u30a4\u30b9",g(r(i.difficulty,0))?g(a(i.total_success_dice,i.difficulty))?h(d,"Result").$success(n+" \u96e3\u6613\u5ea6="+i.difficulty+":\u5224\u5b9a\u6210\u529f\uff01"+$):h(d,"Result").$failure(n+" \u96e3\u6613\u5ea6="+i.difficulty+":\u5224\u5b9a\u5931\u6557\uff01"+$):""+n+$},_.$$arity=2),t.def(m,"$make_dice_roll",f=function(t){var e,n,r=T;return e=(r=this.randomizer.$roll_barabara(t,6)).$count(6),n=r.$count(1),["["+r.$join(",")+"]",e,n]},f.$$arity=1)}(Opal)}}]);